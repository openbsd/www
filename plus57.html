<!doctype html>
<html lang=en id=plus>
<meta charset=utf-8>
<title>OpenBSD 5.7 Changelog</title>
<meta name="description" content="OpenBSD 5.7 changes">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="openbsd.css">
<link rel="canonical" href="https://www.openbsd.org/plus57.html">
<style>
strong {
	color: var(--red);
	font-weight: normal;
}

h3 {
	color: var(--blue);
}
</style>

<h2 id=OpenBSD>
<a href="index.html">
<i>Open</i><b>BSD</b></a>
5.7 Changelog
</h2>
<hr>

<p>
This selection is intended to include all important
and all user-visible changes.
For a complete record of all changes, please see the "source-changes"
mailing list, called "OpenBSD CVS"
in the <a href="mail.html#Archives">archives</a>,
or use <a href="anoncvs.html#CVS">CVS</a>.

<p>
Note: <strong>Problems for which patches exist are marked in red</strong>.

<p>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus25.html">2.5</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>,
<a href="plus35.html">3.5</a>,
<a href="plus36.html">3.6</a>,
<br>
<a href="plus37.html">3.7</a>,
<a href="plus38.html">3.8</a>,
<a href="plus39.html">3.9</a>,
<a href="plus40.html">4.0</a>,
<a href="plus41.html">4.1</a>,
<a href="plus42.html">4.2</a>,
<a href="plus43.html">4.3</a>,
<a href="plus44.html">4.4</a>,
<a href="plus45.html">4.5</a>,
<a href="plus46.html">4.6</a>,
<a href="plus47.html">4.7</a>,
<a href="plus48.html">4.8</a>,
<a href="plus49.html">4.9</a>,
<a href="plus50.html">5.0</a>,
<a href="plus51.html">5.1</a>,
<a href="plus52.html">5.2</a>,
<a href="plus53.html">5.3</a>,
<br>
<a href="plus54.html">5.4</a>,
<a href="plus55.html">5.5</a>,
<a href="plus56.html">5.6</a>,
<a href="plus58.html">5.8</a>,
<a href="plus59.html">5.9</a>,
<a href="plus60.html">6.0</a>,
<a href="plus61.html">6.1</a>,
<a href="plus62.html">6.2</a>,
<a href="plus63.html">6.3</a>,
<a href="plus64.html">6.4</a>,
<a href="plus65.html">6.5</a>,
<a href="plus.html">current</a>.
<br>

<p>
<h3>Changes made between OpenBSD 5.6 and 5.7</h3>
<p>

<ul>
<!-- 2014/11/18 -->
<li>Update <a href="https://man.openbsd.org/unbound.8">unbound(8)</a> to 1.5.0.
<li>In <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a>, make .Ao and .Aq renders as "&lt;&gt;" after .An, and as "\(la\(ra" elsewhere, just like groff.
<li>Fixed for <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> db for NAME_FIRST before its first use, NAME_FILE duplication and correct NAME_FILE mask for .so links.
<li>Delete KERN_VNODE <a href="https://man.openbsd.org/sysctl.3">sysctl(3)</a>.
<!-- 2014/11/18 -->
<li>Add support for exporting <a href="https://man.openbsd.org/relayd.8">relayd(8)</a> statistics via AgentX/<a href="https://man.openbsd.org/snmpd.8">snmpd(8)</a>.
<li>Add support for AgentX subagents in <a href="https://man.openbsd.org/snmpd.8">snmpd(8)</a>.
<li>Fix ssl memory leak with pkey in client key exchange.
<li>Bugfix for <a href="https://man.openbsd.org/grdc.6">grdc(6)</a> to run for the specified amount of seconds, not for a fixed amount of iterations. Makes a difference on slow terminals.
<li>Make <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> let escape sequences terminate high-level macro names, and when doing so, they are ignored.
<li>Make binutils recognize sahf/lahf for amd64 code, backported from 2.17.
<li>For newer <a href="https://man.openbsd.org/re.4">re(4)</a> chipsets, add support for stopping the operation within re_stop().
<li>Let <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> support the ".if v" conditional operater for groff compatibility.
<li>Sync <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> AES code to the one shipped with OpenSSL/LibreSSL.
<li>Make binutils recognize dcbzl for PPC code, backported from 2.17.
<li>Disable the page zeroing thread on MP mips64 kernels.
<li>Added support for sigwinch resizing in <a href="https://man.openbsd.org/grdc.6">grdc(6)</a>.
<li>Make <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> ignore invalid directories in man.conf and MANPATH, but complain about invalid directories given on the command line.
<li>Avoid iteration over end of string in <a href="https://man.openbsd.org/patch.1">patch(1)</a>.
<li>On ppc platforms, make pmap_zero_page MP-safe by using the directmap.
<!-- 2014/11/19 -->
<li>Enable GOST cipher in libcrypto.
<li>For <a href="https://man.openbsd.org/cas.4">cas(4)</a>, use pa_device to ensure each MAC address of a multi port board is unique.
<li>When running <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> in <a href="https://man.openbsd.org/man.1">man(1)</a> mode, set match order to file name over .Dt name over first .Nm entries over other NAME .Nm enties over SYNOPSIS .Nm entries. Re-run "makewhatis" to effectuate this change.
<li>Fix NULL pointer dereference in <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> key loading.
<li>Activate support in <a href="https://man.openbsd.org/pkg-config.1">pkg-config(1)</a> for "package != version" requests.
<li>Imported perl 5.20.1.
<li>Add Cammelia cipher to libcrypto.
<li>Make /var/tmp a symbolic link to /tmp. Move /tmp to the same 7-day expiration that /var/tmp had.
<li>Added new function to libc, <a href="https://man.openbsd.org/crypt_newhash.3">crypt_newhash(3)</a>.
<li>Add quirks for "Realtek ALC885" found on MacMini3.1, unmutes the internal speaker, line input and hp output.
<!-- 2014/11/17 -->
<li>Reduce <a href="https://man.openbsd.org/dhclient.8">dhclient(8)</a> risk by putting config file reading after forking the privilege separated child process but before getting hardware link.
<li>Sync kernel AES code to the one shipped with OpenSSL/LibreSSL.
<li>Make <a href="https://man.openbsd.org/usbdevs.8">usbdevs(8)</a> show super speed status in verbose output mode.
<li>In <a href="https://man.openbsd.org/ssh.1">ssh(1)</a>, fix KRL generation when multiple CAs are in use.
<li>Make <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> correctly handle whitespace-only lines in regard to vbl and vis variables.
<li>Two fixes to make Qemu and VMWare <a href="https://man.openbsd.org/xhci.4">xhci(4)</a> implementations work, always unmask the slow context for the Set Address command and use the right spl when wubmitting a transfer.
<!-- 2014/11/16 -->
<li>Allow <a href="https://man.openbsd.org/cas.4">cas(4)</a> to retrieve the MAC address from the rom for NS Saturn based boards.
<li>Reworked the sigwait() handling to fix ptrace() in some circumstances.
<li>Add <a href="https://man.openbsd.org/cas.4">cas(4)</a> devices to i386 and amd64 GENERIC kernels.
<li>Change librthread to not restart syscalls on SIGTHR.
<li>Fix in librthread to allow check for cancellation when a handled (but not waited for) signal occurs.
<li>Use newly imported siphash algorithm for in_pcb hashing.
<!-- 2014/11/15 -->
<li>In <a href="https://man.openbsd.org/dhclient.8">dhclient(8)</a>, make -q and -d mutually exclusive.
<li>Removed 'tcl' command from <a href="https://man.openbsd.org/vi.1">vi(1)</a>.
<li>On <a href="https://man.openbsd.org/ifconfig.8">ifconfig(8)</a>, move <a href="https://man.openbsd.org/trunk.4">trunk(4)</a> code outside #ifdef SMALL to allow trunk operation on RAMDISK kernels.
<!-- 2014/11/14 -->
<li>Implement atomic_* ops for the arm platform.
<li>In <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a>, remove harmful byte swapping on big endian architectures.
<!-- 2014/11/13 -->
<li>Fix reversed logic when selecting log level in <a href="https://man.openbsd.org/npppd.8">npppd(8)</a>.
<li>Fixed use after free in <a href="https://man.openbsd.org/npppd.8">npppd(8)</a> when pool addresses change.
<li>Add -b to splitw in <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> like in joinw.
<li>In the performance adjustment code, take a few more ticks before throttling down to handle situation where it is cpu intense but intermittenly idle.
<li>In <a href="https://man.openbsd.org/tmux.1">tmux(1)</a>, don't let force-width or force-height be less tha PANE_MINIMUM.
<!-- 2014/11/12 -->
<li>Store autoinstaller logfile in /mnt/var/log to be available after reboot.
<li>Updated time zone data to tzdata2014j.
<li>Do not hold the kernel lock when calling hardclock() and statclock().
<li>When exploring the usb buses, do not probe the ports which status hasn't changed. Saves a lot of I/O when attaching/detaching devices.
<li>Tweaked DHCPACK to DHCPINFORM log entries to more informative.
<li>Speedup in <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> in <a href="https://man.openbsd.org/man.1">man(1)</a> mode without -a, stop searching after the first manual tree that contained at least one match.
<li>Stop <a href="https://man.openbsd.org/athn.4">athn(4)</a> from attaching to AR9300 devices due to unresolveed bugs.
<li>For <a href="https://man.openbsd.org/httpd.8">httpd(8)</a>, allow the log directory be configurable in the config file, rather than having it fixed as /logs in the chroot.
<li>In <a href="https://man.openbsd.org/xhci.4">xhci(4)</a>, do not reset the base address of the control endpoints ring when the second Set Address command is issued.
<li>Make <a href="https://man.openbsd.org/pf.4">pf(4)</a> ask for ICMPv6 checksum recalculation in pf_route6 since the addresses may have been tweaked.
<li><a href="https://man.openbsd.org/bgpd.8">bgpd(8)</a> now outputs 32bit AS numbers in ASPLAIN format by default instead of AS_DOT+.
<!-- 2014/11/11 -->
<li>Socket closing fixes in the client <a href="https://man.openbsd.org/rpc.3">rpc(3)</a> code.
<li>Implemented -h in <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> for preformatted (cat) pages.
<li>Fix for <a href="https://man.openbsd.org/ix.4">ix(4)</a> SFP+ module detection when booting without the modules plugged in.
<li>Added support for USB 1.x devices below external hubs on <a href="https://man.openbsd.org/xhci.4">xhci(4)</a>.
<li>Make sure <a href="https://man.openbsd.org/httpd.8">httpd(8)</a> does't try to open log files when using syslog.
<li>Changed the <a href="https://man.openbsd.org/xhci.4">xhci(4)</a> attach logic to set the address of a device. Fixes issues seen on root hubs with some Low/Full speed devices.
<li>Plug an rtentry leak in route code.
<!-- 2014/11/10 -->
<li>Fix <a href="https://man.openbsd.org/pf.4">pf(4)</a> state linking used to implement transparent relays for connectionless protocols.
<li>Added GOST crypto algorithms to libcrypto. Not enabled yet.
<li>Make <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> expand formats in copy-pipe command.
<!-- 2014/11/09 -->
<li>When a <a href="https://man.openbsd.org/usb.4">usb(4)</a> pipe is closed, only clear the memory of the corresponding endpoint context. Fixes a panic.
<!-- 2014/11/08 -->
<li>Stopped <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> extending the line to full width on insert/delete character (leaves extra spaces when reflowing); only mark a line wrapped when the cursor actually goes off the end (not on newlines).
<li>If resuming from sleep (zzz/ZZZ) and the lid is still closed, go back to sleep. Prevents accidental lid flex from waking the machine up.
<!-- 2014/11/07 -->
<li>Libtool moved to the comp set.
<li>Enabled <a href="https://man.openbsd.org/xhci.4">xhci(4)</a> on i386 and amd64, for USB 3.0 support.
<li>Fixed problems with <a href="https://man.openbsd.org/iked.8">iked(8)</a> EAP state transition. Allows Win7 to establish the a tunnel again.
<li>Fixed a race (and panic) in <a href="https://man.openbsd.org/xhci.4">xhci(4)</a> when submitting a command by using the appropriate <a href="https://man.openbsd.org/spl.9">spl(9)</a> protection.
<li>Removed the SSLv2 option from <a href="https://man.openbsd.org/relayd.8">relayd(8)</a>; made "no sslv3" work as intended.
<!-- 2014/11/06 -->
<li>Added <a href="https://man.openbsd.org/bcd.6">bcd(6)</a> -l option to create "modern" 80 column cards.
<li>Made <a href="https://man.openbsd.org/malloc.9">malloc(9)</a> calculate correct size before doing the free checks, to fix recent panics.
<li>Enabled TLS extensions in <a href="https://man.openbsd.org/ssl.8">ssl(8)</a>.
<li>Fixed mac address selection with unnumbered carpdevs when using <a href="https://man.openbsd.org/carp.4">carp(4)</a>.
<li>When <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> copy mode is used for output, wrap the text.
<li>Removed old curses support from <a href="https://man.openbsd.org/vi.1">vi(1)</a>.
<li>Added V for <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> "select line" with <a href="https://man.openbsd.org/vi.1">vi(1)</a> keys.
<!-- 2014/11/05 -->
<li>In <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a>, stopped prepending the user ID in the local enqueuing "Received" line.
<li>Implemented workaround for <a href="https://man.openbsd.org/em.4">em(4)</a> i218 watchdog timeouts that are triggered by heavy traffic.
<!-- 2014/11/04 -->
<li>Fixed <a href="https://man.openbsd.org/sd.4">sd(4)</a> cards with rev C BeagleBone Blacks.
<li>Added <a href="https://man.openbsd.org/rgephy.4">rgephy(4)</a> for the RTL8211E phy in the LeMaker Banana Pi and Banana Pro.
<li>Added <a href="https://man.openbsd.org/atphy.4">atphy(4)</a> to armv7, for the Atheros AR8031 phys in the AM335x starter kit.
<!-- 2014/11/03 -->
<li>Introduced SipHash (https://131002.net/siphash/), useful when adding protection against hash bucket flooding attacks.
<li>Allow the five <a href="https://man.openbsd.org/man.7">man(7)</a> font macros to concatenate their line arguments. Removes bogus <br/> when font macros are used in -Thtml "no-fill" mode.
<li>Stopped <a href="https://man.openbsd.org/dhclient.8">dhclient(8)</a> leaking static leases when the "lease {}" parsing fails or when a static lease supersedes an earlier one.
<li>Fixed kernel stack overflow in <a href="https://man.openbsd.org/carp.4">carp(4)</a> by preventing carp_send_ad_all() from re-entrant calls.
<li>Stopped changing the gateway of local <a href="https://man.openbsd.org/route.4">route(4)</a> for p2p interfaces. Prevents a panic.
<!-- 2014/11/02 -->
<li>Updated to <a href="https://man.openbsd.org/xterm.1">xterm(1)</a> version 312.
<!-- 2014/11/01 -->
<li>Use the correct default MaxPacketSize for Full Speed <a href="https://man.openbsd.org/usb.4">usb(4)</a> devices and make them work with <a href="https://man.openbsd.org/xhci.4">xhci(4)</a>.
<li>In <a href="https://man.openbsd.org/passwd.1">passwd(1)</a>, removed support for all password cyphers except <a href="https://man.openbsd.org/blowfish.3">blowfish(3)</a>.
<!-- 2014/10/31 -->
<li>Removed ephemeral RSA key handling from <a href="https://man.openbsd.org/ssl.8">ssl(8)</a>.
<li>Add support for automatic DH ephemeral keys in <a href="https://man.openbsd.org/ssl.8">ssl(8)</a>, so DH keys can be generated based on the server key length; use automatic DH ephemeral parameters instead of fixed 512 bit.
<li>Removed <a href="https://man.openbsd.org/ssl.8">ssl(8)</a> support for ephemeral/temporary RSA private keys.
<li>Renamed libressl to libtls, to avoid confusion.
<!-- 2014/10/30 -->
<li>Major bugsquashing with respect to -offset and -width in <a href="https://man.openbsd.org/mdoc.7">mdoc(7)</a>.
<li>Do not enable interrupts before attaching <a href="https://man.openbsd.org/usb.4">usb(4)</a>. Fixes panic when an Express Card has <a href="https://man.openbsd.org/usb.4">usb(4)</a> devices.
<!-- 2014/10/29 -->
<li>Support utf-8 and iso-8859-1 input by integrating <a href="https://man.openbsd.org/preconv.1">preconv(1)</a> utility into <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a>.
<!-- 2014/10/28 -->
<li>In <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> -Tascii mode, only print "&lt;?>" for unicode escapes of unknown representation (not for character escapes with unknown names).
<li>Tightened <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> unicode escape name parsing.
<li>Fixed <a href="https://man.openbsd.org/pipex.4">pipex(4)</a> to return multicast packets to the caller so that <a href="https://man.openbsd.org/npppd.8">npppd(8)</a> can handle them.
<li>Fixed <a href="https://man.openbsd.org/pipex.4">pipex(4)</a> to initialise DF bit in IP header for L2TP message, so packets larger than minimum MTU aren't dropped.
<!-- 2014/10/27 -->
<li><strong>5.4, 5.5, 5.6 and -current SECURITY FIX: Fixed incorrect expansion of netmask for dynamic interfaces by <a href="https://man.openbsd.org/pfctl.8">pfctl(8)</a>. Stops potential elevation of access permissions for IPv6 traffic.</strong>.
<li>Removed execute permission from most pages in the kernel <a href="https://man.openbsd.org/pmap.9">pmap(9)</a> on powerpc.
<li>Stopped supporting <a href="https://man.openbsd.org/wsmoused.8">wsmoused(8)</a> and <a href="https://man.openbsd.org/X.7">X(7)</a> in parallel. Code is racy and known to break mice upon resume.
<li>Fixed regression in term.c r1.89: repaired handling of zero-width spaces (\&) in <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> utf-8 output.
<!-- 2014/10/26 -->
<li>Allow the current lease to expire without causing <a href="https://man.openbsd.org/dhclient.8">dhclient(8)</a> to seg fault when it tries to get a new one.
<li>Fixed possible infinite recursion in <a href="https://man.openbsd.org/perl.1">perl(1)</a> Data::Dumper (CVE-2014-4330).
<li>Improved <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> -Tascii output for unicode escape sequences: for the first 512 code points, provide ASCII approximations; provide approximations for some sequences above codepoint 512 via <a href="https://man.openbsd.org/mandoc_char.7">mandoc_char(7)</a> character table.
<li>When using the local enqueuer and the internal SMTP session fails, made <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> copy the original message to ~/dead.letter so it's not lost.
<li>On hppa, fixed "read section header string table <a href="https://man.openbsd.org/failed.0">failed(0)</a>" errors when attempting to boot lif.fs.
<!-- 2014/10/25 -->
<li>Fixed <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> so newaliases and makemap can parse multi-line aliases entries.
<li>Stopped <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> attempting to parse empty equations. Fixes a null pointer dereference.
<li>In <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a>, report arguments to .EQ if they have caused an error.
<li>Don't attempt to suspend/resume a partially attached <a href="https://man.openbsd.org/drm.4">drm(4)</a> driver. Fixes crash upon resume with ATI FireMV 2400 card.
<li>Stopped the page zeroing thread launching on m88k multiprocessor systems. Avoids a deadlock between reaper and zerothread.
<li>Added pane_input_off format to <a href="https://man.openbsd.org/tmux.1">tmux(1)</a>.
<!-- 2014/10/24 -->
<li>Retired <a href="https://man.openbsd.org/networks.5">networks(5)</a> support from <a href="https://man.openbsd.org/amd.8">amd(8)</a> and <a href="https://man.openbsd.org/getent.1">getent(1)</a>.
<!-- 2014/10/23 -->
<li>Extended features in <a href="https://man.openbsd.org/autoinstall.8">autoinstall(8)</a>.
<li>No longer limit physmem to 2GB on hppa.
<li>Removed <a href="https://man.openbsd.org/networks.5">networks(5)</a> support from <a href="https://man.openbsd.org/netstat.1">netstat(1)</a>.
<!-- 2014/10/22 -->
<li>Avoid an <a href="https://man.openbsd.org/ssl.8">ssl(8)</a> null pointer dereference that could be triggered by SSL3_RT_HANDSHAKE replays.
<li>Allow reliable IPv6 communication between <a href="https://man.openbsd.org/carp.4">carp(4)</a> master and backup across a shared IPv6 subnet.
<li>URL-decode the <a href="https://man.openbsd.org/httpd.8">httpd(8)</a> request path.
<!-- 2014/10/21 -->
<li>Only redraw the <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> pane when it has actually changed.
<li>Reworked <a href="https://man.openbsd.org/httpd.8">httpd(8)</a> error messages: do not send details of 40x errors, to avoid possibility of javascript injection attacks.
<li>Made <a href="https://man.openbsd.org/tftp.1">tftp(1)</a> cope with sending or receiving files beyond 65536 blocks in length.
<!-- 2014/10/20 -->
<li>Fixed <a href="https://man.openbsd.org/du.1">du(1)</a> regression, always report the size of files listed.
<li><strong>5.6 SECURITY FIX: disabled SSLv3 by default.</strong><br>A source code patch is available for <a href="errata56.html#005_nosslv3">5.6</a>.
<li>In <a href="https://man.openbsd.org/getent.1">getent(1)</a>, error out when hosts enumeration is requested.
<li>Made <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> correctly parse spacing around in-line equations.
<li>Removed the "interface" option from <a href="https://man.openbsd.org/relayd.8">relayd(8)</a> "transparent forward" directive.
<li>Fixed memory leak in <a href="https://man.openbsd.org/ssl.8">ssl(8)</a> d2i_SSL_SESSION.
<li>Backported fix for binutils bug 11867: ".quad" directive not assembled correctly.
<!-- 2014/10/19 -->
<li>Use sha512 instead of md5 for <a href="https://man.openbsd.org/tcp.4">tcp(4)</a> initial sequence number.
<li>In <a href="https://man.openbsd.org/ssl.8">ssl(8)</a> s_client, no longer call shutdown on a non-existent socket descriptor.
<li>In the random number generator, use sha512 to hash the entropy (instead of md5).
<li><strong>5.4, 5.5 and 5.6 RELIABILITY FIX: Stopped assuming <a href="https://man.openbsd.org/elf.5">elf(5)</a> ep_taddr and ep_daddr are page-aligned, to fix a panic.</strong><br>A source code patch is available for <a href="errata54.html#017_kernexec">5.4</a>, <a href="errata55.html#013_kernexec">5.5</a> and <a href="errata56.html#004_kernexec">5.6</a>.
<li>Update to xf86-video-mga 1.6.3
<li>Update to xf86-video-savage 2.3.7.
<li>More gracefully handle firmware loading errors in <a href="https://man.openbsd.org/ulpt.4">ulpt(4)</a>. Avoids potential kernel crash.
<li><strong>5.4 and 5.5 RELIABILITY FIX: Fixed two remotely triggerable memory leaks in <a href="https://man.openbsd.org/ssl.8">ssl(8)</a>.</strong><br>A source code patch is available for <a href="errata54.html#016_openssl">5.4</a> and <a href="errata55.html#012_openssl">5.5</a>.
<!-- 2014/10/18 -->
<li>Better POSIX compliance for <a href="https://man.openbsd.org/realpath.3">realpath(3)</a>.
<li>Made sure the <a href="https://man.openbsd.org/pmap.9">pmap(9)</a> direct map isn't executable on amd64. Mitigates some ret2dir attacks.
<!-- 2014/10/17 -->
<li>Correctly encode half line feed in the output stream for <a href="https://man.openbsd.org/col.1">col(1)</a> -f.
<li>Added the -d flag (limit display depth) to <a href="https://man.openbsd.org/du.1">du(1)</a>.
<li>Made the <a href="https://man.openbsd.org/mg.1">mg(1)</a> kill-paragraph and forward-paragraph commands stop once they can go no further.
<!-- 2014/10/16 -->
<li>Fixed resume from hibernate on AMD processors.
<li>Fixed <a href="https://man.openbsd.org/col.1">col(1)</a> segfault triggered by an input line containing two consecutive backspace characters beyond column MAX_SHRT.
<!-- 2014/10/15 -->
<li>Implemented in-line equations in <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a>, needed by Xenocara manuals.
<li>Allow empty headers in <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a>.
<li>Disabled SSLv3 by default in <a href="https://man.openbsd.org/ssl.8">ssl(8)</a>, <a href="https://man.openbsd.org/relayd.8">relayd(8)</a> and <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a>.
<li>Stopped <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> relaying a header that will be rewritten by the destination MX.
<li>Prevented sessions from sending a huge number of continuations to a single header and starving <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a>.
<li>Made <a href="https://man.openbsd.org/rcctl.8">rcctl(8)</a> properly access all <a href="https://man.openbsd.org/rc.d.8">rc.d(8)</a> scripts and ignore anything irrelevant in /etc/rc.d.
<li>Fixed memory leak in <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> error path.
<!-- 2014/10/14 -->
<li>Even if a table has zero columns, do not segfault in the <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> formatter.
<!-- 2014/10/13 -->
<li>Stricter syntax checking of unicode character names by <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a>; properly scale string length measurements for postscript and pdf output.
<!-- 2014/10/12 -->
<li>Improved error handling in the <a href="https://man.openbsd.org/eqn.7">eqn(7)</a> parser; do not parse quoted strings for tokens. Fixes <a href="https://man.openbsd.org/glFrustum.3">glFrustum(3)</a>.
<li>Fixed bug in <a href="https://man.openbsd.org/mg.1">mg(1)</a> backward-paragraph when pressing "M-{".
<li>Stopped <a href="https://man.openbsd.org/iked.8">iked(8)</a> segfaulting when connecting from Strongswan on Android
<li>Major upgrade to <a href="https://man.openbsd.org/eqn.7">eqn(7)</a> terminal output.
<li>Removed possibility of multiplicative integer overflow in <a href="https://man.openbsd.org/relayd.8">relayd(8)</a> and <a href="https://man.openbsd.org/snmpd.8">snmpd(8)</a>.
<!-- 2014/10/11 -->
<li>Moved CPU throttling into the kernel, enabled with <a href="https://man.openbsd.org/sysctl.8">sysctl(8)</a> hw.setperf=-1.
<li>Added <a href="https://man.openbsd.org/rcctl.8">rcctl(8)</a> "default" command.
<li>Allow <a href="https://man.openbsd.org/pkg_sign.1">pkg_sign(1)</a> signing to proceed when interrupted.
<!-- 2014/10/10 -->
<li>In <a href="https://man.openbsd.org/rcctl.8">rcctl(8)</a>, prevented "-e" in daemon_flags being fed as an argument to the built-in echo.
<li>Partial <a href="https://man.openbsd.org/eqn.7">eqn(7)</a> rewrite, to fix operator precedence.
<li>Let <a href="https://man.openbsd.org/rcs.1">rcs(1)</a> handle -l and -u combinations.
<!-- 2014/10/09 -->
<li>Parse and render "from" and "to" clauses in <a href="https://man.openbsd.org/eqn.7">eqn(7)</a>, and render matrices.
<li>More readable <a href="https://man.openbsd.org/eqn.7">eqn(7)</a> -Ttree output; initial bits of MathML rendering for <a href="https://man.openbsd.org/eqn.7">eqn(7)</a> -Thtml.
<li>Properly initialise secondary CPUs on 64 bit macppc machines.
<li>Allow kernel to be built without <a href="https://man.openbsd.org/ddb.4">ddb(4)</a>.
<li>Added <a href="https://man.openbsd.org/ddb.4">ddb(4)</a> support for DWARF line number decoding, so "trace" includes file and line numbers.
<!-- 2014/10/08 -->
<li>No more <a href="https://man.openbsd.org/modstat.8">modstat(8)</a>, <a href="https://man.openbsd.org/modload.8">modload(8)</a> or <a href="https://man.openbsd.org/lkm.4">lkm(4)</a>.
<li>Tweaked <a href="https://man.openbsd.org/ssh_config.5">ssh_config(5)</a> reparsing with host canonicalisation; added -G option to <a href="https://man.openbsd.org/ssh.1">ssh(1)</a>; don't ignore <a href="https://man.openbsd.org/ssh_config.5">ssh_config(5)</a> "Port" options (bz#2267 and bz#2286).
<li>Made <a href="https://man.openbsd.org/sndiod.8">sndiod(8)</a> check parameters returned by audio drivers, and report driver bugs rather than crashing.
<li>Made workq/taskq runner threads yield when they've hogged the CPU.
<li>Now that the cleaner yields the CPU, stopped <a href="https://man.openbsd.org/vfs.9">vfs(9)</a> checking to see if we are hogging the CPU.
<li>Restricted <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> address lookups to configured address families.
<!-- 2014/10/07 -->
<li>Fixed hardware lockup on <a href="https://man.openbsd.org/intel.4">intel(4)</a> with i845g.
<li>In <a href="https://man.openbsd.org/vi.1">vi(1)</a>, bumped max columns to 768 to accommodate bigger screens.
<li>Removed support for AOE (ata over ethernet).
<li>Fixed DDOS in <a href="https://man.openbsd.org/head.1">head(1)</a> by using the correct exit code on failure.
<li>Removed <a href="https://man.openbsd.org/gzsig.1">gzsig(1)</a>.
<li>Switched <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> HTML output to polyglot HTML5; have only one single -Thtml mode.
<li>If a <a href="https://man.openbsd.org/tbl.7">tbl(7)</a> layout contains unknown font modifiers, don't fail table, fallback to default font.
<!-- 2014/10/06 -->
<li>Removed <a href="https://man.openbsd.org/sdio.8">sdio(8)</a>.
<li>Made amd64 <a href="https://man.openbsd.org/pmap.9">pmap(9)</a> more efficient on multi-processor machines.
<li>When <a href="https://man.openbsd.org/chmod.1">chmod(1)</a> is called, do not silently ignore syntax errors in options, instead error out properly.
<li>When <a href="https://man.openbsd.org/ssl.8">ssl(8)</a> is verifying an IP address is in a certificate common Name, do not perform wildcard matching.
<li>If <a href="https://man.openbsd.org/ssl.8">ssl(8)</a> has to match against a wildcard in a cert, verify that it contains at least a domain label.
<li>Amended previous commit in <a href="https://man.openbsd.org/ftp.1">ftp(1)</a> fetch.c to un break ELS cert validation when using a proxy.
<!-- 2014/10/05 -->
<li>Check object allocation for success before using it in <a href="https://man.openbsd.org/ssl.8">ssl(8)</a> v3_cpols.c.
<li>In <a href="https://man.openbsd.org/ssl.8">ssl(8)</a>, fixed memory leaks in the error path of v2i_AUTHORITY_KEYID() and set_dist_point_name().
<li>Switched <a href="https://man.openbsd.org/syslogd.8">syslogd(8)</a> from using <a href="https://man.openbsd.org/poll.2">poll(2)</a> to libevent.
<li>Updated <a href="https://man.openbsd.org/xterm.1">xterm(1)</a> to version 311.
<li>Stopped <a href="https://man.openbsd.org/xhci.4">xhci(4)</a> Intel Series 7 controllers reporting illegal context state transition when detaching devices.
<!-- 2014/10/04 -->
<li>In <a href="https://man.openbsd.org/ftp.1">ftp(1)</a>, only pass the remote host name (not any ":portnumber" suffix) to ressl_connect_socket().
<li>Forced <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> to strip any empty BCC header in the DATA part of the SMTP transaction.
<!-- 2014/10/03 -->
<li>Cleaned up the reporting socket code in <a href="https://man.openbsd.org/syslogd.8">syslogd(8)</a>.
<li>Introduced a thread for zeroing <a href="https://man.openbsd.org/uvm.9">uvm(9)</a> pages without holding the kernel lock, to reduce latency.
<li>In <a href="https://man.openbsd.org/syslog_r.3">syslog_r(3)</a>, strip trailing newlines from syslog messages, to avoid empty lines when printing.
<li>Allow <a href="https://man.openbsd.org/ssl.8">ssl(8)</a> to disable hostname and certificate verification separately.
<li>Enabled automatic handling of ephemeral EC keys by <a href="https://man.openbsd.org/ssl.8">ssl(8)</a>.
<li>Allowed many code paths in <a href="https://man.openbsd.org/myx.4">myx(4)</a> to run without the kernel lock.
<!-- 2014/10/02 -->
<li>Now that <a href="https://man.openbsd.org/pool.9">pool(9)</a> are mpsafe, made the <a href="https://man.openbsd.org/mbuf.9">mbuf(9)</a> allocators on top of pools mpsafe too.
<li>Fixed a crash when there is text after a failed %Z conversion in <a href="https://man.openbsd.org/strptime.3">strptime(3)</a>.
<li>When no domain is specified in MAIL FROM or RCPT TO, <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> now assumes local user.
<li>Fixed <a href="https://man.openbsd.org/httpd.8">httpd(8)</a> endless event loop that could eat all CPU time.
<li>Added local subnet route (RFC 3442) support to <a href="https://man.openbsd.org/dhclient.8">dhclient(8)</a>.
<li>Enlarged columns for 4-byte ASN display with <a href="https://man.openbsd.org/bgpctl.8">bgpctl(8)</a> "show summary" output.
<li>Fixed <a href="https://man.openbsd.org/route.4">route(4)</a> so <a href="https://man.openbsd.org/arp.8">arp(8)</a> will no longer report an incomplete entry for lo0.
<li>Made <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> take account of window-status-separator when checking window position.
<li>Update status when a <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> pane is selected with a mouse.
<!-- 2014/10/01 -->
<li>Always call <a href="https://man.openbsd.org/waitpid.2">waitpid(2)</a> on SIGCHLD when client_attached is set in <a href="https://man.openbsd.org/tmux.1">tmux(1)</a>. Avoids potential zombie.
<li>Fixed some incorrect format specifiers in a debug <a href="https://man.openbsd.org/printf.9">printf(9)</a> in <a href="https://man.openbsd.org/apm.8">apm(8)</a>.
<li>Fixed loopback related breakage introduced by the conversion of in_ouraddr() to use the <a href="https://man.openbsd.org/route.4">route(4)</a> table.
<li>Map out-of-range facility values to LOG_USER to avoid array over-read in <a href="https://man.openbsd.org/syslogd.8">syslogd(8)</a>.
<li>No longer define default_bits in openssl.cnf. Allows the compiled-in default to take priority.
<li>Switched <a href="https://man.openbsd.org/openssl.1">openssl(1)</a> "req" command to using SHA256 (hashes) and AES256 (on-disk keys) by default.
<li><strong>5.6 RELIABILITY FIX: Fixed some <a href="https://man.openbsd.org/run.4">run(4)</a> devices working in 5.5 but not in 5.6-release.</strong>
<li>More optimisations of luna frame buffer. Makes 4bpp <a href="https://man.openbsd.org/wscons.4">wscons(4)</a> putchar ~8% faster on luna88k.
<li>Unhooked <a href="https://man.openbsd.org/sliplogin.8">sliplogin(8)</a>, <a href="https://man.openbsd.org/sl.4">sl(4)</a>, <a href="https://man.openbsd.org/slstats.8">slstats(8)</a> and <a href="https://man.openbsd.org/slattach.8">slattach(8)</a>.
<li>Check speed of a new device does not exceed parent's speed prior to calling usbd_new_device().
<!-- 2014/09/30 -->
<li><strong>5.4, 5.5 and 5.6 SECURITY FIX: Stopped nginx (in base) reusing cached <a href="https://man.openbsd.org/ssl.8">ssl(8)</a> sessions in unrelated contexts (CVE-2014-3616).</strong><br>A source code patch is available for <a href="errata54.html#055_nginx">5.4</a>, <a href="errata55.html#011_nginx">5.5</a> and <a href="errata56.html#003_nginx">5.6</a>.
<li>Added support for "physical devices" to <a href="https://man.openbsd.org/mfii.4">mfii(4)</a>.
<li>In <a href="https://man.openbsd.org/ssl.8">ssl(8)</a>, cleaned up EC cipher handling in ssl3_choose_cipher().
<li>Prevented <a href="https://man.openbsd.org/dmesg.8">dmesg(8)</a> spam from some windows-only keys (found on very new thinkpads).
<li>Do not use the global list of IPv4 addresses in icmp_reflect(), use the <a href="https://man.openbsd.org/route.4">route(4)</a> table.
<!-- 2014/09/29 -->
<li>Increased text segment size on arm to 32MB.
<li>When setting <a href="https://man.openbsd.org/env.1">env(1)</a> in an <a href="https://man.openbsd.org/at.1">at(1)</a> atrun script, use the "export foo=bar" form. Allows shell to catch variable names that are not valid shell identifiers.
<li>Fixed r1.12 of <a href="https://man.openbsd.org/ssl.8">ssl(8)</a> x509_att.c which had a NULL pointer dereference in the error path.
<li>Added option that allows any enabled <a href="https://man.openbsd.org/ssl.8">ssl(8)</a> protocols to be explicitly configured.
<li>Use raster operation (ROP) function on luna frame buffer. 4bpp <a href="https://man.openbsd.org/wscons.4">wscons(4)</a> putchar now ~20% faster.
<li><a href="https://man.openbsd.org/sparc64/vds.4">vds(4/sparc64)</a> now supports block devices.
<li>Reversion fixed in <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a>, which had broken table_passwd.
<!-- 2014/09/28 -->
<li>In <a href="https://man.openbsd.org/ssl.8">ssl(8)</a> check_cert(), reset ctx->current_crl to NULL before freeing it.
<li>In <a href="https://man.openbsd.org/ssl.8">ssl(8)</a> X509_NAME_get_text_by_OBJ(), made sure we do not pass a negative size to <a href="https://man.openbsd.org/memcpy.3">memcpy(3)</a>.
<li>In <a href="https://man.openbsd.org/wdc.4">wdc(4)</a> when doing <a href="https://man.openbsd.org/ioctl.2">ioctl(2)</a>, fixed leak by ensuring <a href="https://man.openbsd.org/scsi.4">scsi(4)</a> xfer free is done before ata xfer free.
<li>Properly serialise closing vnode on sparc64. Fixes occasional panic during reboot or when restarting <a href="https://man.openbsd.org/ldomd.8">ldomd(8)</a>.
<li>Updated to: xtrans 1.3.5; libXext 1.3.3, libXi 1.7.4, inputproto 2.3.1 and xrandr 1.4.3.
<li>Provided a ressl config function that explicitly clears keys.
<li>New API function SSL_CTX_use_certificate_chain(). Allows reading PEM-encoded certificate chain from memory instead of a file.
<li>Remove a limitation that ignored IPv6 link-local addresses (eg fe80::2%carp0) on <a href="https://man.openbsd.org/carp.4">carp(4)</a>.
<li>Reverted r1.142 of netstart.
<li>In <a href="https://man.openbsd.org/ssl.8">ssl(8)</a> X509v3_add_ext() error path, do not free memory that was not allocated.
<li>In <a href="https://man.openbsd.org/ssl.8">ssl(8)</a> X509_TRUST_add(), check X509_TRUST_get0() return value before dereferencing it; fixed memory leak.
<li>In <a href="https://man.openbsd.org/pool_destroy.9">pool_destroy(9)</a>, enter and leave <a href="https://man.openbsd.org/mutex.9">mutex(9)</a> as necessary to satisfy assertions.
<!-- 2014/09/27 -->
<li>Updated to: xf86-video-vmware 13.0.2, fontsproto 2.1.3, libXfont 1.5.0 and xserver 1.16.1.
<li>Disabled WRITE events when closing file descriptor of the I/O bufferevent. Fixes potential event flood in <a href="https://man.openbsd.org/httpd.8">httpd(8)</a>.
<li>In <a href="https://man.openbsd.org/ssl.8">ssl(8)</a>, check that the specified curve is one of the client preferences.
<!-- 2014/09/26 -->
<li>In <a href="https://man.openbsd.org/ssl.8">ssl(8)</a> X509_STORE_get1_certs() and X509_STORE_get1_crls(), check the result of allocations.
<li>Fixed memory leaks in <a href="https://man.openbsd.org/ssl.8">ssl(8)</a> X509_issuer_and_serial_hash() and X509_STORE_new().
<li>Use correct format specifiers in various loongson machine dependent code.
<li>Push <a href="https://man.openbsd.org/sdhc.4">sdhc(4)</a> ricoh controllers into "old slow mode" at resume time.
<li>Reverted part of r1.98 if_run.c which caused a regression on older <a href="https://man.openbsd.org/run.4">run(4)</a> devices.
<li>Reworked piglet and pig memory allocation for more robust hibernation.
<li>Now that <a href="https://man.openbsd.org/sysctl.8">sysctl(8)</a> mp setperf is fixed, activated aggressive <a href="https://man.openbsd.org/apmd.8">apmd(8)</a> throttling again.
<!-- 2014/09/25 -->
<li>Fixed the calculation of the number of items to prime the <a href="https://man.openbsd.org/pool.9">pool(9)</a> with in <a href="https://man.openbsd.org/pool_setlowat.9">pool_setlowat(9)</a>.
<li>Restored r1.249 of sys/dev/acpi/acpi.c. Upon resume, CPU now runs at speed requested by <a href="https://man.openbsd.org/apm.8">apm(8)</a>.
<li>Support using pane id as part of session or window specifier and window id as part of session in <a href="https://man.openbsd.org/tmux.1">tmux(1)</a>.
<li>Support ! for last pane in <a href="https://man.openbsd.org/tmux.1">tmux(1)</a>.
<!-- 2014/09/24 -->
<li>Fixed the build when DRMDEBUG is defined.
<!-- 2014/09/22 -->
<li>Enabled MSI support in <a href="https://man.openbsd.org/msk.4">msk(4)</a>.
<li>Release the <a href="https://man.openbsd.org/acpi.4">acpi(4)</a> lock when calling wsdisplay_suspend() and wsdisplay_resume(). For better resume.
<li>Fixed high capacity (> 2GB) eMMC support in <a href="https://man.openbsd.org/sdmmc.4">sdmmc(4)</a>.
<li>Hide unused, duplicate and/or misleading fields from <a href="https://man.openbsd.org/audioctl.1">audioctl(1)</a>.
<!-- 2014/09/22 -->
<li>In <a href="https://man.openbsd.org/ssl.8">ssl(8)</a>, check the result from final_finish_mac() against finish_mac_length in ssl3_send_finished().
<li>In <a href="https://man.openbsd.org/ssl.8">ssl(8)</a>, don't record a match with the "finish MAC" if "SSL finished" has a zero-byte payload.
<li>Implemented atomic_{cas,swap}_{uint,ulong,ptr} and atomic_{add,sub}_{int,long}_nv on hppa.
<li>On macppc, enabled power saving modes for IBM PowerPC 970 CPUs.
<!-- 2014/09/21 -->
<li>Reworked <a href="https://man.openbsd.org/pool.9">pool(9)</a> code to make it mpsafe (can be called without the kernel biglock being held).
<li>Made <a href="https://man.openbsd.org/packages.7">packages(7)</a> rsync-friendly. Reduces bandwidth usage by mirrors.
<!-- 2014/09/20 -->
<li>Fixed an invalid escape sequence in <a href="https://man.openbsd.org/cu.1">cu(1)</a>.
<li>Allow <a href="https://man.openbsd.org/agp.4">agp(4)</a> to map a single page without sleeping. Fixes <a href="https://man.openbsd.org/intel.4">intel(4)</a> <a href="https://man.openbsd.org/drm.4">drm(4)</a> panic on i386.
<!-- 2014/09/19 -->
<li>Added CHACHA20 to <a href="https://man.openbsd.org/ssl.8">ssl(8)</a> as a cipher symmetric encryption alias.
<li>Moved <a href="https://man.openbsd.org/rc.conf.8">rc.conf(8)</a> from the etc to the base set (any local changes will be overwritten at next upgrade).
<li><strong>5.5 and 5.6 SECURITY FIX: <a href="https://man.openbsd.org/ssl.8">ssl(8)</a> session reuse vulnerability (CVE-2014-3616).</strong>
<!-- 2014/09/18 -->
<li>Introduce <a href="https://man.openbsd.org/config_suspend_all.9">config_suspend_all(9)</a>, to invoke <a href="https://man.openbsd.org/config_suspend.9">config_suspend(9)</a> in appropriate order. Fixes problems with unflushed disk caches on machines where <a href="https://man.openbsd.org/mpath.4">mpath(4)</a> takes control of some of your disks.
<li>Stopped <a href="https://man.openbsd.org/sd.4">sd(4)</a> spinning back up while attempting to spin down some drives.
<!-- 2014/09/17 -->
<li>Increased number of <a href="https://man.openbsd.org/blowfish.3">blowfish(3)</a> rounds to 8 by default (when not specified in <a href="https://man.openbsd.org/login.conf.5">login.conf(5)</a>).
<li>Updated to <a href="https://man.openbsd.org/xkeyboard-config.7">xkeyboard-config(7)</a> version 2.12.
<li>Changed screen <a href="https://man.openbsd.org/terminfo.5">terminfo(5)</a> entry to have kbs=\177. Fixes problems with "le" editor.
<!-- 2014/09/16 -->
<li>If there are more than 8 CPUs, <a href="https://man.openbsd.org/top.1">top(1)</a> now defaults to combined CPU stats.
<li>Disabled taking the <a href="https://man.openbsd.org/mutex.9">mutex(9)</a> to read <a href="https://man.openbsd.org/pool.9">pool(9)</a> stats. Eliminates code paths that try to <a href="https://man.openbsd.org/mtx_enter.9">mtx_enter(9)</a> twice.
<!-- 2014/09/15 -->
<li>Unlinked sendmail from the build.
<li>Support <a href="https://man.openbsd.org/ppb.4">ppb(4)</a> bridges subtractive decoding. Fixes issues with <a href="https://man.openbsd.org/pcmcia.4">pcmcia(4)</a> behind a ATI SB400 PCI bridge.
<li>Marked the <a href="https://man.openbsd.org/mpi.4">mpi(4)</a> and <a href="https://man.openbsd.org/mpii.4">mpii(4)</a> interrupt handlers mpsafe.
<li>In <a href="https://man.openbsd.org/httpd.8">httpd(8)</a> and <a href="https://man.openbsd.org/relayd.8">relayd(8)</a>, made the HTTP version mandatory and abort if it is missing in the request.
<!-- 2014/09/14 -->
<li>Made <a href="https://man.openbsd.org/dd.1">dd(1)</a> error out when negative values are given for sizes on the command line.
<li>In <a href="https://man.openbsd.org/man.cgi.8">man.cgi(8)</a>, support backslash-escaping of white space in the query expression, similar to <a href="https://man.openbsd.org/apropos.1">apropos(1)</a>.
<li>Made the new <a href="https://man.openbsd.org/isp.4">isp(4)</a> drivers match at a higher priority than old drivers.
<!-- 2014/09/13 -->
<li>In <a href="https://man.openbsd.org/sysmerge.8">sysmerge(8)</a> PKG mode, cope with non-default PREFIX (e.g. /var/www/...).
<!-- 2014/09/12 -->
<li>Provided a sparc64 version of <a href="https://man.openbsd.org/sqrtl.3">sqrtl(3)</a> for quad-precision floating point.
<li>Remove cached 802.11 nodes in IEEE80211_STA_CACHE state. Stops them showing with <a href="https://man.openbsd.org/ifconfig.8">ifconfig(8)</a> scan.
<li>On i386/amd64, stopped attempts to synchronise P-state transitions between CPUs. Fixes hangs and suspend/resume when running <a href="https://man.openbsd.org/amd64/apmd.8">apmd(8/amd64)</a>.
<!-- 2014/09/11 -->
<li>Inspired by <a href="https://man.openbsd.org/mdoclint.1">mdoclint(1)</a>, made <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> warn about botched .Xr ordering and punctuation below SEE ALSO; warn about commas in function arguments.
<li>Implemented <a href="https://man.openbsd.org/membar.9">membar(9)</a> API for i386.
<li>Install files that moved from etc to base during "make build" to unbreak updating from src.
<!-- 2014/09/10 -->
<li>Let <a href="https://man.openbsd.org/httpd.8">httpd(8)</a> handle variations of the "Host" header (eg www.example.com:80, [2001:db8::1], [2001:db8::1]:80).
<!-- 2014/09/09 -->
<li>If a manpath directory does not exist, <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> will now silently skip it.
<li>Fixed scans with various <a href="https://man.openbsd.org/iwn.4">iwn(4)</a> devices.
<li>If <a href="https://man.openbsd.org/pkg_add.1">pkg_add(1)</a> not running as root, dismiss user id and groups, replace with root/bin. For FAKE_AS_ROOT=No.
<li>Made the cleaner, syncer, pagedaemon and aiodone daemons all yield() if CPU is marked SHOULDYIELD.
<!-- 2014/09/08 -->
<li>Marked the <a href="https://man.openbsd.org/mfi.4">mfi(4)</a> interrupt handler mpsafe; give up biglock in the <a href="https://man.openbsd.org/scsi.4">scsi(4)</a> cmd submission paths.
<li>Fixed interrupt storm on 2009 Mac minis with WOL enabled on <a href="https://man.openbsd.org/nfe.4">nfe(4)</a> interfaces.
<li>Stopped <a href="https://man.openbsd.org/uvm.9">uvm(9)</a> sleeping on allocation of hash table entries. Fixes crashes with tmpfs.
<li>Stopped <a href="https://man.openbsd.org/pflog.4">pflog(4)</a> counting bad packets multiple times.
<li>Added window_last_flag and window_zoomed_flag to <a href="https://man.openbsd.org/tmux.1">tmux(1)</a>.
<li><strong>5.6 and -current RELIABILITY FIX: Prevent addition of redundant IPv6 autoconf (SLAAC) addresses.</strong>
<!-- 2014/09/07 -->
<li>Fix a <a href="https://man.openbsd.org/syslogd.8">syslogd(8)</a> regression when specifying all 20 additional log paths.
<li>Implemented membar API for amd64.
<li>Deleted procfs (always suffered from race conditions and is now unused).
<li><strong>5.4 RELIABILITY FIX: Added a one second receive timeout. Avoids stall of receive queue in <a href="https://man.openbsd.org/vio.4">vio(4)</a>.</strong>
<li><strong>5.4 and 5.5 RELIABILITY FIX: Removed race condition. Stops occasional network hangs in in <a href="https://man.openbsd.org/vio.4">vio(4)</a>.</strong>
<li>Updated to mesa version 10.2.7.
<li>Removed SSL_kDHr, SSL_kDHd and SSL_aDH from <a href="https://man.openbsd.org/ssl.8">ssl(8)</a>. No supported ciphersuites use them.
<li>Use shell substitution instead of dirname in <a href="https://man.openbsd.org/sysmerge.8">sysmerge(8)</a>; fixed installing pkg @sample when target directory is missing; fixed output when a file fails to install.
<!-- 2014/09/06 -->
<li><strong>5.6 RELIABILITY FIX: Stopped incorrect RX ring computation, which led to panics under load with <a href="https://man.openbsd.org/bge.4">bge(4)</a>, <a href="https://man.openbsd.org/em.4">em(4)</a> and <a href="https://man.openbsd.org/ix.4">ix(4)</a>.</strong><br>A source code patch is available for <a href="errata56.html#001_rxr">5.6</a>.
<li>Let <a href="https://man.openbsd.org/roff.7">roff(7)</a> accept .ll in the prologue; parse and ignore the .pl (page length) request.
<!-- 2014/09/05 -->
<li>Upgraded inodesc.id_entryno in <a href="https://man.openbsd.org/fsck_ffs.8">fsck_ffs(8)</a> to u_int64_t, to handle larger file sizes with FFS2; fixed check for allocated fragments marked free in the bitmap.
<li>Fixed FastCGI-based WebDAV and CalDAV (calendar) servers with <a href="https://man.openbsd.org/httpd.8">httpd(8)</a>.
<li><a href="https://man.openbsd.org/httpd.8">httpd(8)</a> server name specification changed to name+address+port. Allows using same server name for multiple servers with different addresses.
<li>Removed /etc/{hosts,myname} from etc.tgz; made the installer create the /etc/hosts template.
<li>In <a href="https://man.openbsd.org/perl.1">perl(1)</a>, updated libnet to version 1.27.
<!-- 2014/09/03 -->
<li>Reworked how <a href="https://man.openbsd.org/pool.9">pool(9)</a> with large pages (>PAGE_SIZE) are implemented.
<li>Added *.gz support to <a href="https://man.openbsd.org/apropos.1">apropos(1)</a> -a, <a href="https://man.openbsd.org/man.1">man(1)</a>, and <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a>.
<li>In <a href="https://man.openbsd.org/ssh.1">ssh(1)</a>, tightened permissions on <a href="https://man.openbsd.org/pty.4">pty(4)</a> when the "tty" group does not exist.
<li>Be coherent in the way <a href="https://man.openbsd.org/arp.8">arp(8)</a> and <a href="https://man.openbsd.org/ndp.8">ndp(8)</a> display local entries, use "l" flag to distinguish them; skip broadcast entries (are not real <a href="https://man.openbsd.org/arp.4">arp(4)</a> entries).
<li>Make sure broadcast entries won't be freed by the <a href="https://man.openbsd.org/arp.4">arp(4)</a> timer so we can use them for address lookups.
<li>Treat broadcast entries like local ones and give them the highest <a href="https://man.openbsd.org/route.4">route(4)</a> priority.
<li>Sync amd64 and i386 GENERIC.MP with other arches by enabling MP_LOCKDEBUG option.
<li>If <a href="https://man.openbsd.org/crypt.3">crypt(3)</a> fails, <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> will now return an authentication error.
<!-- 2014/09/02 -->
<li>Implemented traditional -h option for <a href="https://man.openbsd.org/man.1">man(1)</a>: show the SYNOPSIS only.
<li>Initial <a href="https://man.openbsd.org/httpd.8">httpd(8)</a> support for persistent FastCGI connections via chunked Transfer-Encoding.
<li>Added Jumbo support for BCM5714/5780/5717/5719/5720/57765/57766 <a href="https://man.openbsd.org/bge.4">bge(4)</a> chipsets.
<!-- 2014/09/01 -->
<li>Fixed <a href="https://man.openbsd.org/makewhatis.8">makewhatis(8)</a> bug so <a href="https://man.openbsd.org/apropos.1">apropos(1)</a> and <a href="https://man.openbsd.org/man.1">man(1)</a> can find Xenocara manuals via .so links.
<li>In <a href="https://man.openbsd.org/man.1">man(1)</a> mode, change to the right directory before starting the parser. Finds more Xenocara manuals.
<li>Wake up any waiting clients with the <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> "wait-for" command when the server exits.
<li><a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> queue_api.c code will now close the file descriptor if <a href="https://man.openbsd.org/fdopen.3">fdopen(3)</a> fails.
<li>Prevented a null dereference of the <a href="https://man.openbsd.org/urtw.4">urtw(4)</a> configuration descriptor.
<li>Improved option usage output for <a href="https://man.openbsd.org/ssl.8">ssl(8)</a>; converted <a href="https://man.openbsd.org/ssl.8">ssl(8)</a> ecparam to new option/usage handling.
<li>Applied fix from upstream <a href="https://man.openbsd.org/perl.1">perl(1)</a> to harden the close() function (RT 37700).
<!-- 2014/08/31 -->
<li>Replaced the "least recently used" bufcache in <a href="https://man.openbsd.org/vfs_cache.9">vfs_cache(9)</a> with one based on 2Q, for scan resistance.
<li>On amd64, added implementations of atomic_{inc,dec,add,sub}_{int,long}(9) and atomic_{add,sub}_{int,long}<a href="https://man.openbsd.org/_nv.9">_nv(9)</a>.
<li>Correctly made <a href="https://man.openbsd.org/accept4.2">accept4(2)</a> a cancellation point as per <a href="https://man.openbsd.org/pthread_testcancel.3">pthread_testcancel(3)</a>.
<li>Backported @file support from binutils-2.17.
<li>Added <a href="https://man.openbsd.org/uuid.3">uuid(3)</a> support routines to libc.
<li>Made <a href="https://man.openbsd.org/sysmerge.8">sysmerge(8)</a> completely silent by default when no file is modified.
<li>In <a href="https://man.openbsd.org/sysmerge.8">sysmerge(8)</a> pkg mode, warn if the directory we want to copy an @sample into doesn't exist or is not an @sample.
<!-- 2014/08/30 -->
<li>In sparc64 <a href="https://man.openbsd.org/ld.so.1">ld.so(1)</a>, made the handling of PLT entries above the 32k mark thread-safe.
<li>When a service is not available, made <a href="https://man.openbsd.org/rcctl.8">rcctl(8)</a> return ENOENT.
<li>Introduced a <a href="https://man.openbsd.org/man.1">man(1)</a> -l option as an alias for <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> -a.
<li>Converted the <a href="https://man.openbsd.org/openssl.1">openssl(1)</a> "version" command to new option/usage handling.
<li>On <a href="https://man.openbsd.org/lii.4">lii(4)</a>, set the MRU to a full size frame instead of basing it on the MTU.
<li>Let the MRU always be what the <a href="https://man.openbsd.org/oce.4">oce(4)</a> chip can do, not what the MTU implies.
<li>Fixed 2 macppc panics.
<li>Allow new devices to get an address for <a href="https://man.openbsd.org/xhci.4">xhci(4)</a> when XHCI_DEBUG is defined.
<!-- 2014/08/29 -->
<li>Fixed checking sync for old synaptics touchpad (ver 5.9) in <a href="https://man.openbsd.org/pckbc.4">pckbc(4)</a>.
<li>Allow multiple <a href="https://man.openbsd.org/relayd.8">relayd(8)</a> instances to be configured to forward traffic to the same host.
<!-- 2014/08/28 -->
<li>Major <a href="https://man.openbsd.org/sysmerge.8">sysmerge(8)</a> cleanup now that both etc and xetc sets are part of base (-S -s and -x options gone).
<li>Moved the xetc set into xbase (like etc was moved into base).
<li>Added <a href="https://man.openbsd.org/openssl.8">openssl(8)</a> option handling for input/output formats, ordered flags, and for argument processing.
<!-- 2014/08/27 -->
<li>Added <a href="https://man.openbsd.org/mdoc.7">mdoc(7)</a> support for .St -susv1 and .St -susv4.
<li>Made <a href="https://man.openbsd.org/diff.1">diff(1)</a> -uw produce valid output even when one file doesn't end with a newline.
<li>Implemented table-driven <a href="https://man.openbsd.org/ssl.8">ssl(8)</a> option parsing. Allows an application to specify valid options and where to store them.
<li>Ported <a href="https://man.openbsd.org/openssl.1">openssl(1)</a> rand application to the new option parsing and usage.
<li>Nuked <a href="https://man.openbsd.org/sysctl.8">sysctl(8)</a> net.inet6.icmp6.rediraccept and allow redirects on interfaces with autoconf enabled.
<li>In <a href="https://man.openbsd.org/newsyslog.conf.5">newsyslog.conf(5)</a>, added <a href="https://man.openbsd.org/httpd.8">httpd(8)</a> default log files to the rotation.
<li>Added <a href="https://man.openbsd.org/ssl.8">ssl(8)</a> API function ressl_config_set_ecdhcurve to set or disable a non-standard ECDH curve.
<li>Added support for Curve25519 to <a href="https://man.openbsd.org/iked.8">iked(8)</a>.
<li>Write all data before closing the <a href="https://man.openbsd.org/httpd.8">httpd(8)</a> server socket if the output buffer is not empty.
<li>Added missing capability to handle new $2b version of <a href="https://man.openbsd.org/blowfish.3">blowfish(3)</a> password encryption for <a href="https://man.openbsd.org/usermod.8">usermod(8)</a> and friends.
<!-- 2014/08/26 -->
<li>Added an implementation of <a href="https://man.openbsd.org/man.1">man(1)</a> into the /usr/bin/mandoc binary; unify command line options for <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a>, <a href="https://man.openbsd.org/man.1">man(1)</a>, <a href="https://man.openbsd.org/apropos.1">apropos(1)</a>, and <a href="https://man.openbsd.org/whatis.1">whatis(1)</a>.
<li>Create etc set during "make build", now embedded it in base set.
<li>Removed nginx from the base system in favour of OpenBSD's homegrown <a href="https://man.openbsd.org/httpd.8">httpd(8)</a>.
<li>Moved <a href="https://man.openbsd.org/openssl.1">openssl(1)</a> from /usr/sbin/openssl to /usr/bin/openssl.
<!-- 2014/08/25 -->
<li>Unlinked <a href="https://man.openbsd.org/xfs.1">xfs(1)</a> from the build.
<li>Added the ability to restrict <a href="https://man.openbsd.org/syslogd.8">syslogd(8)</a> to an <a href="https://man.openbsd.org/ip.4">ip(4)</a> or <a href="https://man.openbsd.org/ip6.4">ip6(4)</a> protocol family.
<li>Added <a href="https://man.openbsd.org/iked.8">iked(8)</a> support for DH groups 27-30 using the Brainpool curves as in <a href="https://man.openbsd.org/ssl.8">ssl(8)</a>.
<li><a href="https://man.openbsd.org/httpd.8">httpd(8)</a> now supports both mime.types flavours (nginx- or apache-style).
<li>Added generic system-wide /usr/share/misc/mime.types file, usable by <a href="https://man.openbsd.org/httpd.conf.5">httpd.conf(5)</a>.
<li>Moved sending of router solicitations to the kernel. Makes <a href="https://man.openbsd.org/rtsol.8">rtsol(8)</a> and <a href="https://man.openbsd.org/rtsold.8">rtsold(8)</a> unnecessary.
<li>Don't allow pasting into input-disabled <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> panes.
<li>Implemented _NET_WM_STATE_STICKY in <a href="https://man.openbsd.org/cwm.1">cwm(1)</a>. Allows client to "stick" to all desktops or groups.
<li>When using a proxy, made <a href="https://man.openbsd.org/ftp.1">ftp(1)</a> validate the cert hostname against the target hostname, not the proxy hostname.
<li>Delete secret or secret-derived data in many base utilities with <a href="https://man.openbsd.org/explicit_bzero.3">explicit_bzero(3)</a>.
<!-- 2014/08/24 -->
<li>Implementation of bold italic font support for postscript and pdf output in <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a>.
<li>Start all <a href="https://man.openbsd.org/rcctl.8">rcctl(8)</a> error messages with "rcctl: " so it is clear where they come from.
<li>In debug mode, only print the flags relevant to the <a href="https://man.openbsd.org/rc.d.8">rc.d(8)</a> we are calling instead of all flags; make it clear when we are using the default flags when none are set.
<li>Make it possible for <a href="https://man.openbsd.org/rcctl.8">rcctl(8)</a> to pass '-d' and '-f' to the <a href="https://man.openbsd.org/rc.d.8">rc.d(8)</a> script.
<!-- 2014/08/23 -->
<li>Removed non-standard GOST cipher suites (which are not compiled in currently) from <a href="https://man.openbsd.org/ssl.8">ssl(8)</a>.
<!-- 2014/08/22 -->
<li><a href="https://man.openbsd.org/pfctl.8">pfctl(8)</a> now makes sure rules have been defined when you specify queues in a rule.
<li>Switched <a href="https://man.openbsd.org/ndp.8">ndp(8)</a> to display MAC addresses in 00:00:00:00:00:00 format.
<li>Get <a href="https://man.openbsd.org/arp.8">arp(8)</a> to print leading zeros in MAC addresses again.
<li>Disabled use of bind in base (base uses <a href="https://man.openbsd.org/nsd.8">nsd(8)</a>/<a href="https://man.openbsd.org/unbound.8">unbound(8)</a> instead).
<li>Ensure <a href="https://man.openbsd.org/cwm.1">cwm(1)</a> client that wants to be in nogroup stays in nogroup (thus stays in view), even when (re)reading NET_WM_DESKTOP.
<li>Made <a href="https://man.openbsd.org/syslogd.8">syslogd(8)</a> check host/port length when parsing <a href="https://man.openbsd.org/syslog.conf.5">syslog.conf(5)</a>. Avoids nasty error message "syslogd: priv_getaddrinfo: overflow attempt in hostname".
<li>Set the default <a href="https://man.openbsd.org/nfsd.8">nfsd(8)</a> flags to "-tun 4" when launched from <a href="https://man.openbsd.org/rc.d.8">rc.d(8)</a>.
<li>Fixed memory leak in <a href="https://man.openbsd.org/isakmpd.8">isakmpd(8)</a> ike_phase_1.c.
<!-- 2014/08/21 -->
<li>Fixed <a href="https://man.openbsd.org/acpi.4">acpi(4)</a> sensor status for docking/undocking laptops, to allow <a href="https://man.openbsd.org/sensorsd.8">sensorsd(8)</a> to correctly detects state changes.
<li>Bugfix to make <a href="https://man.openbsd.org/whatis.1">whatis(1)</a> case-insensitive again.
<li>Added Last-Modified: HTTP header to <a href="https://man.openbsd.org/httpd.8">httpd(8)</a>.
<li>Allow <a href="https://man.openbsd.org/syslogd.8">syslogd(8)</a> to send and receive <a href="https://man.openbsd.org/udp.4">udp(4)</a> syslog packets on the IPv6 socket.
<li>Unbroke <a href="https://man.openbsd.org/sysmerge.8">sysmerge(8)</a> when "SRCDIR=."
<li>Limited the <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> CGI process execution time, to make REDoS attacks less effective.
<li>Stopped <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> suppressing white space after .Fl if the next node is a text node on the same input line.
<li>Made <a href="https://man.openbsd.org/rcctl.8">rcctl(8)</a> "status" output match <a href="https://man.openbsd.org/rc.conf.8">rc.conf(8)</a> format.
<li>Changed the output of <a href="https://man.openbsd.org/arp.8">arp(8)</a> to match what <a href="https://man.openbsd.org/ndp.8">ndp(8)</a> does; include the expire timer.
<!-- 2014/08/20 -->
<li>After <a href="https://man.openbsd.org/nfe.4">nfe(4)</a> allocates an mbuf and cluster, properly init the length fields.
<li>Implemented rxrinfo ioctl in <a href="https://man.openbsd.org/ix.4">ix(4)</a> for cluster usage statistics.
<li>Call audio_{pint,rint}() call-backs with the mutex held.
<li>When doing "whole disk" installs on macppc, blank the first 1 meg of the disk. Allows successful creation of boot partition.
<li>Unlinked the <a href="https://man.openbsd.org/crypto.4">crypto(4)</a> pseudo device (disabled by default for about 4 years).
<li>Made sure <a href="https://man.openbsd.org/eap.4">eap(4)</a> releases CPU mutexes upon receiving an EINVAL message.
<!-- 2014/08/19 -->
<li>On i386/amd64, backported support for the "rdtscp" instruction from binutils-2.17.
<li>Removed the custom jumbo allocator from <a href="https://man.openbsd.org/nfe.4">nfe(4)</a> which was never enabled.
<li>When <a href="https://man.openbsd.org/sshd.8">sshd(8)</a> is dumping the server configuration, made it print correct KEX, MAC and cipher defaults.
<li>Introduced <a href="https://man.openbsd.org/rcctl.8">rcctl(8)</a>, a simple utility for maintaining <a href="https://man.openbsd.org/rc.conf.local.8">rc.conf.local(8)</a>.
<li>When a local <a href="https://man.openbsd.org/route.4">route(4)</a> entry is added for an ifa having a broadcast address, made it identifiable (by a flag) and persistent.
<li>Ensure state changes are properly serialised in <a href="https://man.openbsd.org/pms.4">pms(4)</a>. makes enabling/disabling touchpads more reliable.
<li>Missing stack var initialisation fixed in <a href="https://man.openbsd.org/ld.so.1">ld.so(1)</a>.
<!-- 2014/08/18 -->
<li>Added -4 and -6 flags to <a href="https://man.openbsd.org/tcpbench.1">tcpbench(1)</a>, to specify ipv4 or ipv6 respectively.
<li>Fixed _exit codes in <a href="https://man.openbsd.org/syslogd.8">syslogd(8)</a> privsep.c, which were the wrong way around.
<li>Fixed read access to uninitialised memory in <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a>.
<li>Removed <a href="https://man.openbsd.org/malloc.3">malloc(3)</a> lock across some <a href="https://man.openbsd.org/mmap.2">mmap(2)</a> <a href="https://man.openbsd.org/syscall.9">syscall(9)</a>. Speeds up multithreaded programs.
<!-- 2014/08/17 -->
<li>Added fancy printing of <a href="https://man.openbsd.org/ktrace.1">ktrace(1)</a>'s ops argument to <a href="https://man.openbsd.org/kdump.1">kdump(1)</a>.
<li>Made <a href="https://man.openbsd.org/kdump.1">kdump(1)</a> display symbolically the mode argument of <a href="https://man.openbsd.org/mkdir.1">mkdir(1)</a>, <a href="https://man.openbsd.org/mkfifo.1">mkfifo(1)</a>, <a href="https://man.openbsd.org/mknod.2">mknod(2)</a> and <a href="https://man.openbsd.org/umask.2">umask(2)</a>.
<li>/etc/netstart now executed using <a href="https://man.openbsd.org/sh.1">sh(1)</a> instead of sourcing it.
<!-- 2014/08/16 -->
<li>Repaired operation of <a href="https://man.openbsd.org/sysctl.8">sysctl(8)</a> kern.arandom.
<!-- 2014/08/15 -->
<li>Removed support for public key operations from <a href="https://man.openbsd.org/ubsec.4">ubsec(4)</a> and <a href="https://man.openbsd.org/safe.4">safe(4)</a>.
<li><a href="https://man.openbsd.org/lofn.4">lofn(4)</a> and <a href="https://man.openbsd.org/nofn.4">nofn(4)</a> removed as obsolete, due to reliance on the <a href="https://man.openbsd.org/crypto.4">crypto(4)</a> interface.
<!-- 2014/08/14 -->
<li>Switched to using O_CLOEXEC wherever we open a file and then call fcntl(F_SETFD, FD_CLOEXEC)
on it. Reduces system calls and improves thread-safety for libraries.
<li>More fixes in the attach failure path for <a href="https://man.openbsd.org/vax/ze.4">ze(4/vax)</a>.
<li>Added bounce matching for [] and {} to <a href="https://man.openbsd.org/mg.1">mg(1)</a>.
<li>Synced <a href="https://man.openbsd.org/relayd.8">relayd(8)</a> and <a href="https://man.openbsd.org/httpd.8">httpd(8)</a> with RFC 7230-7235 phrases and IANA registered status codes.
<li>In <a href="https://man.openbsd.org/oce.4">oce(4)</a>, implemented rxrinfo ioctl for cluster usage statistics.
<li><a href="https://man.openbsd.org/systat.1">systat(1)</a> now only show active pools by default, pressing "A" shows all pools.
<!-- 2014/08/13 -->
<li>Updated <a href="https://man.openbsd.org/drm.4">drm(4)</a> to libdrm 2.4.56.
<li>Began cleanup of scaling units in <a href="https://man.openbsd.org/roff.7">roff(7)</a>.
<li>Some <a href="https://man.openbsd.org/X.7">X(7)</a> resource files moved to /usr/X11R6/share/X11/app-defaults.
<li>With a non-existent <a href="https://man.openbsd.org/httpd.8">httpd(8)</a> root, removed root prefix from PATH_INFO (useful for virtual FastCGI scripts inside a <a href="https://man.openbsd.org/chroot.8">chroot(8)</a>).
<li>Made sure <a href="https://man.openbsd.org/tftpd.8">tftpd(8)</a> always calls <a href="https://man.openbsd.org/freeaddrinfo.3">freeaddrinfo(3)</a> after <a href="https://man.openbsd.org/getaddrinfo.3">getaddrinfo(3)</a>.
<li>In <a href="https://man.openbsd.org/httpd.8">httpd(8)</a>, provided a failsafe version of the path_info() function.
<li>Correctly set the rtable ID of the packet header when sending <a href="https://man.openbsd.org/pppoe.4">pppoe(4)</a> Active Discovery Terminate packets.
<li>Brought <a href="https://man.openbsd.org/pflow.4">pflow(4)</a> IPFIX sequence numbers in line with the RFC.
<!-- 2014/08/12 -->
<li>Sync <a href="https://man.openbsd.org/pf.conf.5">pf.conf(5)</a> behaviour with the man page regarding parent anchors for "once" rules.
<!-- 2014/08/11 -->
<li>On mips64, stopped <a href="https://man.openbsd.org/uvm_map.9">uvm_map(9)</a> from receiving addresses outside userland bounds.
<li>Fixed <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> copy mode problems: in vi mode, include the last character if you moved the cursor up or left; in emacs mode include the last character if you moved the cursor left.
<li>Added <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> flags to selectp, to enable and disable input to a pane.
<li>In <a href="https://man.openbsd.org/ksh.1">ksh(1)</a>, separately set FD_CLOEXEC if the new fd was >= FDBASE. Affects scripts that directly use 9 of the first 10 file descriptors.
<li>When <a href="https://man.openbsd.org/dhclient.8">dhclient(8)</a> is parsing 32 bit values, verify that we received 4 bytes.
<li>Validate len field in <a href="https://man.openbsd.org/dhcpd.8">dhcpd(8)</a> for proper length, not just "not zero."
<li>Brought back r1.131 of sys/kern/subr_pool.c: take the pools mutex when copying stats out of it in the <a href="https://man.openbsd.org/sysctl.8">sysctl(8)</a> path.
<li>Put back the checks about RTF_LOCAL routes now that userland tools are aware of them.
<li>Stopped <a href="https://man.openbsd.org/arp.4">arp(4)</a> and <a href="https://man.openbsd.org/ndp.8">ndp(8)</a> from trying to delete RTF_LOCAL entries.
<!-- 2014/08/10 -->
<li>Fixed unchecked memory allocation (and potential leak upon error) in <a href="https://man.openbsd.org/ssl.8">ssl(8)</a> ssl3_get_cert_verify().
<li>Provided ssl3_get_cipher_by_id() function that allows <a href="https://man.openbsd.org/ssl.8">ssl(8)</a> ciphers to be looked up by their ID.
<li>Always write core file of a non-suid process into <a href="https://man.openbsd.org/pwd.1">pwd(1)</a>, even if <a href="https://man.openbsd.org/sysctl.8">sysctl(8)</a> kern.nosuidcoredump is 2 or 3.
<li>Fixed race in <a href="https://man.openbsd.org/relayd.8">relayd(8)</a> that caused non-persistent PUT connections with a short body to hang.
<li>Removed disabled (weakened export and non-ephemeral DH) cipher suites from the <a href="https://man.openbsd.org/ssl.8">ssl(8)</a> cipher list.
<li>If <a href="https://man.openbsd.org/pkg_create.1">pkg_create(1)</a> is run as non-root, restore correct group/owner to root/bin, and remove write permissions without explicit modes.
<li>Fixed kqueue read/write filters for msdosfs and <a href="https://man.openbsd.org/fuse.4">fuse(4)</a> filesystems.
<!-- 2014/08/09 -->
<li>Fixed the length check for reinjected <a href="https://man.openbsd.org/icmp.4">icmp(4)</a> packets. Stops <a href="https://man.openbsd.org/divert.4">divert(4)</a> discarding valid packets shorter than 20 bytes.
<li>Fixed <a href="https://man.openbsd.org/readelf.1">readelf(1)</a> "--debug-dump=frames-interp" output.
<li><strong>5.4 and 5.5 SECURITY FIXES: Backported security fixes from openssl 1.0.1i</strong><br>A source code patch is available for <a href="errata54.html#014_openssl">5.4</a> and <a href="errata55.html#010_openssl">5.5</a>.
<li>Initial <a href="https://man.openbsd.org/sysmerge.8">sysmerge(8)</a> support for handling configuration files from packages.
<li>Now that <a href="https://man.openbsd.org/uhub.4">uhub(4)</a> can deal with them, added support for non-root hubs.
<li>Made <a href="https://man.openbsd.org/uhub.4">uhub(4)</a> correctly recognise Super Speed devices.
<li>Allow <a href="https://man.openbsd.org/httpd.conf.5">httpd.conf(5)</a> to include the "types" section anywhere in the configuration file.
<li>Removed <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> support for the continuously reporting "any" mouse mode (never worked properly, rarely used).
<!-- 2014/08/08 -->
<li>Backport from binutils-2.17 the correct i386/amd64 register->int assignments for CFI.
<li>Allow <a href="https://man.openbsd.org/httpd.8">httpd(8)</a> to use a fastcgi target as the default index (eg index.php).
<li>Fixed <a href="https://man.openbsd.org/relayd.8">relayd(8)</a> when using DNS over <a href="https://man.openbsd.org/udp.4">udp(4)</a> so it continues to work after the first request.
<li><a href="https://man.openbsd.org/radeon.4">radeon(4)</a> fixes: only apply hdmi "bpc pll" flags when encoder mode is hdmi; fixed dithering on some panels; fixed lane/clock setup for dp 1.2 capable devices.
<li>Brought <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> handling of defective prologues closer to groff.
<li>Simplified <a href="https://man.openbsd.org/man.7">man(7)</a> validation in <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a>.
<li>Fixed <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> floating point handling. Fixes the indentation of the <a href="https://man.openbsd.org/readline.3">readline(3)</a> manual.
<li>Allow <a href="https://man.openbsd.org/httpd.8">httpd(8)</a> to serve emtpy (0 bytes) files.
<li>Improved <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> handling of next-line scope when it is broken by end of file.
<li>Partial <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> implementation of .Bd -centred; various improvements related to .Ex and .Rv.
<li>Made sure asynchronous commands do not race with synchronous ones in <a href="https://man.openbsd.org/xhci.4">xhci(4)</a>.
<li>Improved <a href="https://man.openbsd.org/xhci.4">xhci(4)</a> logic to determine the maximum endpoint service interface time payload.
<li>Made <a href="https://man.openbsd.org/xhci.4">xhci(4)</a> always report stalls, as <a href="https://man.openbsd.org/umass.4">umass(4)</a> relies on this information.
<li>Added support for using "-" as shorthand for stdin/stdout in <a href="https://man.openbsd.org/tradcpp.1">tradcpp(1)</a>.
</ul>

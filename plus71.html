<!doctype html>
<html lang=en id=plus>
<meta charset=utf-8>
<title>OpenBSD 7.1 Changelog</title>
<meta name="description" content="OpenBSD 7.1 changes">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="openbsd.css">
<link rel="canonical" href="https://www.openbsd.org/plus71.html">
<style>
strong {
	color: var(--red);
	font-weight: normal;
}

h3 {
	color: var(--blue);
}
</style>

<h2 id=OpenBSD>
<a href="index.html">
<i>Open</i><b>BSD</b></a>
7.1 Changelog
</h2>
<hr>

<p>
This selection is intended to include all important
and all user-visible changes.
For a complete record of all changes, please see the "source-changes"
mailing list, called "OpenBSD CVS"
in the <a href="https://marc.info/?l=openbsd-cvs">archives</a>,
or use <a href="anoncvs.html#CVS">CVS</a>.

<p>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus25.html">2.5</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>,
<a href="plus35.html">3.5</a>,
<a href="plus36.html">3.6</a>,
<br>
<a href="plus37.html">3.7</a>,
<a href="plus38.html">3.8</a>,
<a href="plus39.html">3.9</a>,
<a href="plus40.html">4.0</a>,
<a href="plus41.html">4.1</a>,
<a href="plus42.html">4.2</a>,
<a href="plus43.html">4.3</a>,
<a href="plus44.html">4.4</a>,
<a href="plus45.html">4.5</a>,
<a href="plus46.html">4.6</a>,
<a href="plus47.html">4.7</a>,
<a href="plus48.html">4.8</a>,
<a href="plus49.html">4.9</a>,
<a href="plus50.html">5.0</a>,
<a href="plus51.html">5.1</a>,
<a href="plus52.html">5.2</a>,
<a href="plus53.html">5.3</a>,
<br>
<a href="plus54.html">5.4</a>,
<a href="plus55.html">5.5</a>,
<a href="plus56.html">5.6</a>,
<a href="plus57.html">5.7</a>,
<a href="plus58.html">5.8</a>,
<a href="plus59.html">5.9</a>,
<a href="plus60.html">6.0</a>,
<a href="plus61.html">6.1</a>,
<a href="plus62.html">6.2</a>,
<a href="plus63.html">6.3</a>,
<a href="plus64.html">6.4</a>,
<a href="plus65.html">6.5</a>,
<a href="plus66.html">6.6</a>,
<a href="plus67.html">6.7</a>,
<a href="plus68.html">6.8</a>,
<a href="plus69.html">6.9</a>,
<a href="plus70.html">7.0</a>,
<a href="plus.html">current</a>.
<br>

<p>
<h3>Changes made between OpenBSD 7.0 and 7.1</h3>
<p>

<ul>
<!-- 2022/03/25 -->
<li>Implemented most of CMS related checks in rpki-client(8) required by RFC 6488 section 3.
<li>Added fix in zlib for CLEAR_HASH macro.
<li>Added OSC 7 capability to <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> for setting titles.
<!-- 2022/03/24 -->
<li>Fixed a small <a href="https://man.openbsd.org/ntpd.8">ntpd(8)</a> leak.
<li>Rate limit <a href="https://man.openbsd.org/rad.8">rad(8)</a> router advertisements according to RFC 4861.
<li>Fixed <a href="https://man.openbsd.org/iwm.4">iwm(4)</a> 802.11ac throughput at a distance.
<!-- 2022/03/23 -->
<!-- 2022/03/22 -->
<li>Made sure nothing can map address zero on RISC-V.
<!-- 2022/03/21 -->
<li>Fixed crash in <a href="https://man.openbsd.org/slaacd.8">slaacd(8)</a> when receiving a negative length field for DNS labels.
<li>Added code to update hw.power whenever AC state changes on resume.
<li>Added support for XBox One game controller on usb.
<!-- 2022/03/21 -->
<li>Fix IP output routines on raw sockets so route sourceaddr can take effect using <a href="https://man.openbsd.org/sendto.2">sendto(2)</a> or similar.
<li>Avoid calling <a href="https://man.openbsd.org/setrtable.2">setrtable(2)</a> unless "rtable" is set explicitly in login.conf.
<li>Prevent panic in <a href="https://man.openbsd.org/softraid.4">softraid(4)</a> while rebooting if softraid has been disabled.
<li>Prevent announcing VHT capabilities on <a href="https://man.openbsd.org/iwm.4">iwm(4)</a> and <a href="https://man.openbsd.org/iwx.4">iwx(4)</a> for 2GHz bands during scans.
<li>Fixed argument list leak in <a href="https://man.openbsd.org/scp.1">scp(1)</a>.
<!-- 2022/03/20 -->
<li>Enabled interrupt moderation on <a href="https://man.openbsd.org/aq.4">aq(4)</a>, aiming at around 20k per second.
<li>When choosing networks during SSID selection, give a higher score to 11ac and 11n access points, prioritizing 11ac.
<li>Fixed attach of multiple <a href="https://man.openbsd.org/iwm.4">iwm(4)</a> or <a href="https://man.openbsd.org/iwx.4">iwx(4)</a> interfaces in the same machine.
<li>Add initial 802.11ac support to <a href="https://man.openbsd.org/iwm.4">iwm(4)</a>.
<li>Added 802.11ac/VHT TX rate adaptation support to the wifi stack.
<!-- 2022/03/19 -->
<!-- 2022/03/18 -->
<li>Made sure <a href="https://man.openbsd.org/sshd.8">sshd(8)</a> does not try to resolve ListenAddress when re-execing.
<li>Fixed ssh-keygen(1) SEGV when using -Y check-novalidate.
<li>New logic for <a href="https://man.openbsd.org/pkg_add.1">pkg_add(1)</a> to avoid excessive moving of files during updates when possible.
<li>Avoid legacy CSS2 syntax and use CSS3 two-value syntax in <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a>.
<li>Updated time zone database to tzdata2022a.
<li>Made <a href="https://man.openbsd.org/tcpdump.8">tcpdump(8)</a> show 802.11ac VHT capability and operation IEs in -v mode.
<li>Add <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> option to control if it scrolls into history on clear.
<!-- 2022/03/17 -->
<li>Make sure <a href="https://man.openbsd.org/iked.8">iked(8)</a> vroute messages are correctly aligned, fixes autoconfiguration of addresses on octeon.
<li>Added an option in <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> to set the character for unused areas of the terminal.
<li>Updated <a href="https://man.openbsd.org/nsd.8">nsd(8)</a> to version 4.4.0.
<!-- 2022/03/16 -->
<li>Bumped LibreSSL to 3.5.2.
<li>Fixed reading motherboard time on Apple machines with old SMC firmware.
<li>Make <a href="https://man.openbsd.org/su.1">su(1)</a> honor the login class routing table when doing a full login with su -l.
<li>Fixed infinite loop in libcrypto for certain elliptic curve public key operations.
<li>Enabled IP header checksum offloading in <a href="https://man.openbsd.org/ix.4">ix(4)</a>.
<li>Changed the way $macros are expanded in <a href="https://man.openbsd.org/bgpd.conf.5">bgpd.conf(5)</a>.
<li>Fix TX rate used by <a href="https://man.openbsd.org/rtwn.4">rtwn(4)</a> and <a href="https://man.openbsd.org/urtwn.4">urtwn(4)</a> for RTS frames.
<!-- 2022/03/15 -->
<li>Fixed <a href="https://man.openbsd.org/sndiod.8">sndiod(8)</a> crash.
<li>Enabled checksum offloads on <a href="https://man.openbsd.org/aq.4">aq(4)</a>.
<li>Added -k flag to <a href="https://man.openbsd.org/gzip.1">gzip(1)</a> and <a href="https://man.openbsd.org/gunzip.1">gunzip(1)</a> to retain (de)compressed file.
<li>Made sure armv7,arm64 and risc-v FDT bootloader code does not write beyond the FDT data structure.
<li>Added 802.11ac support on <a href="https://man.openbsd.org/iwx.4">iwx(4)</a>.
<li>Added initial 802.11ac (VHT) support to the wifi stack.
<li>Improved TX performance on <a href="https://man.openbsd.org/urtwn.4">urtwn(4)</a> RTL8192EU devices.
<li>Improved message fragment retransmissions for <a href="https://man.openbsd.org/iked.8">iked(8)</a>.
<!-- 2022/03/14 -->
<li>Fix crash in IPSec while doing parallel IP forwarding.
<li>Add missing error check for x509 constraints code in libcrypto.
<li>Enable vlan promisc, header stripping and vlan RX/TX offload on <a href="https://man.openbsd.org/aq.4">aq(4)</a>.
<!-- 2022/03/13 -->
<li>Let <a href="https://man.openbsd.org/unwind.8">unwind(8)</a> probe for DNS64 presence with an absolute name, so asr doesn't add search domains and retry.
<!-- 2022/03/12 -->
<li>Made <a href="https://man.openbsd.org/fdisk.8">fdisk(8)</a> preserve the EFI System partition when auto-allocating space on GPT disks with magic Apple partitions.
<li>Fixed receive filter handling in <a href="https://man.openbsd.org/aq.4">aq(4)</a>.
<li>Fixed masked signal traps while in a debugger.
<li>Fixed overflow protection code in <a href="https://man.openbsd.org/rpki-client.8">rpki-client(8)</a>.
<!-- 2022/03/11 -->
<li>Enabled PL011 UART FIFO support in <a href="https://man.openbsd.org/pluart.4">pluart(4)</a>.
<li>Fixed RISC-V lld link code when dealing with object files created with "ld -b".
<li>Added kernel interfaces for atomic load and store functions for int and long to be used in reference counted struct members.
<li>Prevented an assert in uvm_page.c when freeing an anon after swapping out its memory.
<li>Added <a href="https://man.openbsd.org/mtw.4">mtw(4)</a> to <a href="https://man.openbsd.org/fw_update.8">fw_update(8)</a>.
<!-- 2022/03/10 -->
<li>Prevented <a href="https://man.openbsd.org/aq.4">aq(4)</a> nics from writing to mbufs taken off the ring when the interface was taken down.
<!-- 2022/03/09 -->
<li>Updated libexpat to 2.4.7.
<li>Improved roaming stability on <a href="https://man.openbsd.org/iwn.4">iwn(4)</a>, particularly with wpa_supplicant.
<!-- 2022/03/08 -->
<!-- 2022/03/07 -->
<li>Switched <a href="https://man.openbsd.org/aucat.1">aucat(1)</a> internal sample representation and default file encoding to 24-bit.
<li>Switched <a href="https://man.openbsd.org/sndiod.8">sndiod(8)</a> internal sample representation to 24-bit fixed point.
<li>Renamed net80211 <a href="https://man.openbsd.org/ioctl.2">ioctl(2)</a> struct ieee80211_channel to struct ieee80211_chaninfo.
<li>Updated to xf86-video-amdgpu 22.0.0.
<li>Prevented a possible deadlock in <a href="https://man.openbsd.org/cad.4">cad(4)</a>.
<!-- 2022/03/06 -->
<li>Made the arm64 ramdisk installer fetch <a href="https://man.openbsd.org/bwfm.4">bwfm(4)</a> firmware from the EFI System Partition on Apple Silicon devices for use during installation and addition to the newly installed system.
<!-- 2022/03/05 -->
<!-- 2022/03/04 -->
<li>Added support for the BCM4387 to <a href="https://man.openbsd.org/bwfm.4">bwfm(4)</a>.
<!-- 2022/03/03 -->
<li>Improved handling of static compressed gzip files in <a href="https://man.openbsd.org/httpd.8">httpd(8)</a>.
<!-- 2022/03/02 -->
<li>Added openvpn ports (udp/1194 & tcp/1194) to /etc/services.
<li>Added an ofw interface to write to an nvmem cell.
<li>Added RTC support to <a href="https://man.openbsd.org/aplsmc.4">aplsmc(4)</a>.
<li>Added nvmem support to <a href="https://man.openbsd.org/aplpmu.4">aplpmu(4)</a> and made it available on Apple SPMI PMUs.
<!-- 2022/03/01 -->
<li>Added <a href="https://man.openbsd.org/pax.1">pax(1)</a> support for mtime/atime/ctime extended headers in !SMALL builds.
<li>Ensured <a href="https://man.openbsd.org/apldart.4">apldart(4)</a> keeps the DART enabled in front of the display controller to preserve its access to the framebuffer and continued display.
<li>Added handling for <a href="https://man.openbsd.org/vmd.8">vmd(8)</a> hitting resource limits when starting a vm and added memory error messages for the user.
<li>Modified <a href="https://man.openbsd.org/aplintc.4">aplintc(4)</a> to support a newer interrupt controller, making OpenBSD run on M1 Pro/Max machines.
<!-- 2022/02/28 -->
<li>Added rtable capability to <a href="https://man.openbsd.org/login.conf.5">login.conf(5)</a>.
<li>Provided a login class for <a href="https://man.openbsd.org/vmd.8">vmd(8)</a>.
<!-- 2022/02/27 -->
<li>Added mbuf tags to prevent output loops in <a href="https://man.openbsd.org/etherip.4">etherip(4)</a>.
<li>Fixed backtraces on i386 and armv7.
<li>Added a gzip-static option to <a href="https://man.openbsd.org/httpd.conf.5">httpd.conf(5)</a>, allowing delivery of precompressed files with content-encoding gzip.
<!-- 2022/02/26 -->
<li>Added a <a href="https://man.openbsd.org/malloc.3">malloc(3)</a> cache of regions between 128k and 2M to accommodate programs allocating and deallocating regions of these sizes quickly.
<li>Fixed <a href="https://man.openbsd.org/setusercontext.3">setusercontext(3)</a> error when /etc/login.conf is not present.
<!-- 2022/02/25 -->
<li>Protected <a href="https://man.openbsd.org/pfsync.4">pfsync(4)</a> tdb flags and lists with a mutex to prevent crashes involving pfsync, IPsec and parallel forwarding.
<li>Enabled <a href="https://man.openbsd.org/cduart.4">cduart(4)</a> on arm64.
<!-- 2022/02/24 -->
<li>Released <a href="https://ftp.openbsd.org/pub/OpenBSD/LibreSSL/libressl-3.5.0-relnotes.txt">LibreSSL 3.5.0</a>.
<li>Fixed kernel stack alignment on riscv64.
<li>Unlocked <a href="https://man.openbsd.org/getsockname.2">getsockname(2)</a>.
<!-- 2022/02/23 -->
<li>Updated Mesa to 21.3.7.
<li>Updated to <a href="https://man.openbsd.org/unbound.8">unbound(8)</a> 1.15.0.
<li>Made it possible to bind and connect to non-default ports in <a href="https://man.openbsd.org/bgpd.conf.5">bgpd.conf(5)</a>.
<li>Randomized the password used in fakepw in <a href="https://man.openbsd.org/ssh.1">ssh(1)</a>.
<li>Released <a href="https://www.openssh.com/txt/release-8.9">OpenSSH 8.9</a>.
<!-- 2022/02/22 -->
<li>Extended and reordered the process accounting information structure <a href="https://man.openbsd.org/acct.5">acct(5)</a>. Flag Day for the <a href="https://man.openbsd.org/acct.2">acct(2)</a> file format.
<li>Added <a href="https://man.openbsd.org/seq.1">seq(1)</a>, a command to print sequences of numbers.
<li>Added new _MAXCOMLEN (a proper string expanded to 24 bytes including the NUL) to syslimits, allowing replacement of the MAXCOMLEN symbol from sys/param.h in userland.
<li>Updated libexpat to 2.4.6.
<li>Stopped hiding the mtu on "bridge" interfaces which do handle l3 traffic in <a href="https://man.openbsd.org/ifconfig.8">ifconfig(8)</a>.
<li>Improved stack unwinding on riscv64 in <a href="https://man.openbsd.org/ddb.4">ddb(4)</a>.
<li>Made <a href="https://man.openbsd.org/audio.4">audio(4)</a> event filters MP-safe.
<!-- 2022/02/21 -->
<li>In <a href="https://man.openbsd.org/rpc.rusersd.8">rpc.rusersd(8)</a> <a href="https://man.openbsd.org/unveil.2">unveil(2)</a> "/dev" read-only instead of using <a href="https://man.openbsd.org/chroot.2">chroot(2)</a>.
<li>Updated to libX11 1.7.3.1.
<!-- 2022/02/20 -->
<li>Capped the daemon <a href="https://man.openbsd.org/login.1">login</a> class datasize at either 1G or 4G depending on the architecture and set the <a href="https://man.openbsd.org/bgpd.8">bgpd</a> class datasize to either 16G or 1G.
<li>Made <a href="https://man.openbsd.org/ping.8">ping(8)</a> print out the source address and sequence number when the signature on an icmp echo reply doesn't match.
<li>Made <a href="https://man.openbsd.org/fw_update.8">fw_update(8)</a> use the /snapshots directory only on -current.
<li>Fixed <a href="https://man.openbsd.org/vi.1">vi(1)</a> recovery mode.
<li>Added <a href="https://man.openbsd.org/aplcpu.4">aplcpu(4)</a>, a driver to control the CPU performance levels on Apple SoCs.
<li>Prevented a potential crash when <a href="https://man.openbsd.org/slaacd.8">slaacd(8)</a> receives more than 7 nameservers.
<li>Updated xorg-server to 21.1.3, leaving in place an earlier change to compute the screen resolution from dimensions returned by the screen, reverted by upstream.
<li>Moved to OpenBSD 7.1-beta.
<!-- 2022/02/19 -->
<li>Enabled subpixel rendering in FreeType.
<li>Used <a href="https://man.openbsd.org/installboot.8">installboot(8)</a> in install.md for armv7.
<!-- 2022/02/18 -->
<li>Made <a href="https://man.openbsd.org/apmd.8">apmd(8)</a> replace /etc/random.seed for hibernate-resumes.
<li>Enabled TLS verify by default for outbound "smtps://" and "smtp+tls://", restoring documented <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> behavior.
<li>Introduced <a href="https://man.openbsd.org/mpfgpio.4">mpfgpio(4)</a>, a driver for the PolarFire SoC MSS GPIO controller.
<!-- 2022/02/17 -->
<li>If S4 is not available, use S5 for the ACPI-transitions in hibernate support.
<li>Corrected architecture checking to prevent partial building of binutils-2.17 on unsupported systems.
<!-- 2022/02/16 -->
<li>Introduced <a href="https://man.openbsd.org/mpfiic.4">mpfiic(4)</a>, a driver for the PolarFire SoC MSS I2C controller.
<!-- 2022/02/15 -->
<li>Correlated <a href="https://man.openbsd.org/uaudio.4">uaudio(4)</a> and <a href="https://man.openbsd.org/ucc.4">ucc(4)</a> devices attacked over USB in order to adjust the volume of the correct attached audio device rather than the first one attached.
<li>Fixed suspend/resume issues with <a href="https://man.openbsd.org/com.4">com(4)</a> at <a href="https://man.openbsd.org/acpi.4">acpi(4)</a>.
<li>Ensured the <a href="https://man.openbsd.org/pf.4">pf(4)</a> "set prio" values are checked consistently.
<li>Prevented reopening of <a href="https://man.openbsd.org/tun.4">tun(4)</a>/<a href="https://man.openbsd.org/tap.4">tap(4)</a> interfaces which are being destroyed.
<li>Rewrote <a href="https://man.openbsd.org/vxlan.4">vxlan(4)</a> to operate independently of <a href="https://man.openbsd.org/bridge.4">bridge(4)</a>, create and bind udp sockets and prevent loops.
<!-- 2022/02/14 -->
<li>Prevented tweaks to <a href="https://man.openbsd.org/tun.4">tun(4)</a> if_flags when the NET_LOCK isn't held.
<li>Used <a href="https://man.openbsd.org/fdisk.8">fdisk(8)</a> -b to create the desired 1MB MSDOS boot partition for macppc rather than relying on /usr/mdec/mbr.
<!-- 2022/02/13 -->
<li>Added support to explicitly power on some PCIe devices on the M1 and M1 Pro/Max through a GPIO controlled by the SMC.
<li>Added basic GPIO support to <a href="https://man.openbsd.org/aplsmc.4">aplsmc(4)</a>.
<li>Improved tracking of mbuf memory usage in the whole system.
<!-- 2022/02/12 -->
<!-- 2022/02/11 -->
<!-- 2022/02/10 -->
<li>Made <a href="https://man.openbsd.org/rcctl.8">rcctl(8)</a> look for the login class in both login.conf and login.conf.d/${class}.
<li>Enabled receive checksum offloading on <a href="https://man.openbsd.org/ixl.4">ixl(4)</a>.
<li>Stopped <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> from verifying the cert or CA for a relay using opportunistic TLS.
<li>Updated Devel::PPPort to 3.6.4.
<li><a href="https://man.openbsd.org/unveil.2">Unveil(2)</a> _PATH_LOGIN_CONF_D.
<li>Introduced support for storing capability databases in /etc/login.conf.d, allowing easy addition of custom login classes from packages.
<li>Switched to using <a href="https://man.openbsd.org/fdisk.8">fdisk(8)</a> -b to create boot partitions on multiple architectures.
<!-- 2022/02/09 -->
<li>Stopped unregistering firmware with <a href="https://man.openbsd.org/fw_update.8">fw_update(8)</a> when the SHA256.sig cannot be fetched.
<li>Enabled <a href="https://man.openbsd.org/acpibat.4">acpibat(4)</a> use with the Surface Go 3.
<li>Fixed <a href="https://man.openbsd.org/getcap.1">getcap(1)</a> -f option when passed multiple files.
<li>Enabled more flexible device matching for I2C devices.
<li>Increased armv7 ramdisk size.
<!-- 2022/02/08 -->
<li>Added a CRL check for manifests to <a href="https://man.openbsd.org/rpki-client.8">rpki-client(8)</a>.
<li>Re-enabled <a href="https://man.openbsd.org/ixl.4">ixl(4)</a> IPv4, TCP4/6 and UDP4/6 checksum offloading.
<li>Switched <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> hpdelim interface to accept only ":" as a delimiter.
<li>Enabled hardware vlan tagging for <a href="https://man.openbsd.org/ixl.4">ixl(4)</a>.
<li>Implemented the <a href="https://man.openbsd.org/poll.2">poll(2)</a> system call on top of the <a href="https://man.openbsd.org/kqueue.2">kqueue(2)</a> subsystem, obsoleting the old, non-MP-safe poll backend.
<li>Plugged a leak in libtls CRL handling.
<!-- 2022/02/07 -->
<li>Reworked <a href="https://man.openbsd.org/ix.4">ix(4)</a> checksum/vlan offloading and enabled it for IPv6.
<li>Added <a href="https://man.openbsd.org/ps.1">ps(1)</a> status flag "c" to indicate a process is chrooted.
<li>Allowed <a href="https://man.openbsd.org/ddb.4">ddb(4)</a> trace through interrupt on macppc.
<li>Released <a href="https://man.openbsd.org/rpki-client.8">rpki-client(8)</a> 7.6.
<!-- 2022/02/06 -->
<li>Allowed riscv64 installation on a disk with a GPT.
<li>Enabled support for displaying an estimated battery recharge time in <a href="https://man.openbsd.org/apm.8">apm(8)</a> and <a href="https://man.openbsd.org/apmd.8">apmd(8)</a>.
<!-- 2022/02/05 -->
<li>Grew the <a href="https://man.openbsd.org/dmesg.8">dmesg(8)</a> buffer on i386 from 4 to 8 pages.
<!-- 2022/02/04 -->
<li>Enforced RFC 6384 certificate policy for RPKI in <a href="https://man.openbsd.org/rpki-client.8">rpki-client(8)</a>.
<!-- 2022/02/03 -->
<li>Moved to <a href="https://man.openbsd.org/rpki-client.8">rpki-client(8)</a> 7.6.
<li>Made <a href="https://man.openbsd.org/fdisk.8">fdisk(8)</a> -A preserve BIOS boot partition.
<li>Used <a href="https://man.openbsd.org/installboot.8">installboot(8)</a> in riscv64 install.md.
<li>Added a key in <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> copy mode to toggle the position indicator.
<!-- 2022/02/02 -->
<li>Introduced <a href="https://man.openbsd.org/apldma.4">apldma(4)</a>, a driver for the DMA controller found on Apple SoCs.
<!-- 2022/02/01 -->
<li>Allowed <a href="https://man.openbsd.org/ssh-keygen.1">ssh-keygen(1)</a> -Y find-principals to match wildcard principals in allowed_signers files.
<li>Added a <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> option to show arrows for the active pane indicator.
<li>Attempted to guarantee that on copy-on-write faulting, the new copy can't be written to while any thread can see the original version of the page via a not-yet-flushed stale TLB entry.
<!-- 2022/01/31 -->
<li>Changed <a href="https://man.openbsd.org/isakmpd.8">isakmpd(8)</a> to log a warning when proto is NULL rather than dereferencing it.
<!-- 2022/01/30 -->
<li>Updated libexpat to 2.4.4, fixing CVE-2022-23852 and CVE-2022-23990.
<li>Introduced <a href="https://man.openbsd.org/aplnco.4">aplnco(4)</a>, a driver for the Numerically-controlled oscillator (NCO) clock which drives the audio clocks on Apple silicon.
<li>Introduced <a href="https://man.openbsd.org/tascodec.4">tascodec(4)</a>, a driver for the TI TAS2770/TAS5770 digital audio amplifier codec found on Apple M1 Macs.
<!-- 2022/01/29 -->
<!-- 2022/01/28 -->
<li>Prevented a file descriptor leak in <a href="https://man.openbsd.org/touch.1">touch(1)</a> after <a href="https://man.openbsd.org/futimens.2">futimens(2)</a> failure.
<li>Increased <a href="https://man.openbsd.org/ddb.1">ddb(1)</a> access to registers on macppc and powerpc64.
<li>Properly handled .mft files in <a href="https://man.openbsd.org/rpki-client.8">rpki-client(8)</a>, preventing replay attacks using old but still valid files.
<!-- 2022/01/27 -->
<li>Added a <a href="https://man.openbsd.org/cwm.1">cwm(1)</a> "group-last" command that shows only the previously active group.
<li>Update <a href="https://man.openbsd.org/awk.1">awk(1)</a> to Dec 8, 2021 version.
<!-- 2022/01/26 -->
<li>Allowed rsync:// URIs as files in <a href="https://man.openbsd.org/rpki-client.8">rpki-client(8)</a> -f mode.
<li>Fixed an issue where <a href="https://man.openbsd.org/com.4">com(4)</a> would attach for a disabled serial port leading to misdirection of the hardware variant and a subsequent hang when /etc/rc runs <a href="https://man.openbsd.org/ttyflags.8">ttyflags(8)</a> -a.
<!-- 2022/01/25 -->
<li>Made <a href="https://man.openbsd.org/vmm.4">vmm(4)</a> <a href="https://man.openbsd.org/dt.4">dt(4)</a> tracepoints amd64-only.
<!-- 2022/01/24 -->
<!-- 2022/01/23 -->
<li>Made <a href="https://man.openbsd.org/fw_update.8">fw_update(8)</a> re-download existing files with failed checksums.
<li>Allowed <a href="https://man.openbsd.org/rpki-client.8">rpki-client(8)</a> to display more than one file in -f mode.
<!-- 2022/01/22 -->
<li>Made <a href="https://man.openbsd.org/ed.1">ed(1)</a> flush all stdio streams before running a shell command.
<!-- 2022/01/21 -->
<li>Fixed and reenabled active scans on <a href="https://man.openbsd.org/iwm.4">iwm(4)</a> and <a href="https://man.openbsd.org/iwx.4">iwx(4)</a>.
<li>Enabled <a href="https://man.openbsd.org/dt.4">dt(4)</a> on macppc.
<!-- 2022/01/20 -->
<li>Added optimization for tiny x in <a href="https://man.openbsd.org/cos.3">cos(3)</a> and <a href="https://man.openbsd.org/sin.3">sin(3)</a>.
<li>Disabled assembly implementations of trig functions on x86 platforms.
<li>Copied the <a href="https://man.openbsd.org/cos.3">cos(3)</a> software implementation from FreeBSD-13.
<!-- 2022/01/19 -->
<!-- 2022/01/18 -->
<li>Improved how quirks are handled on <a href="https://man.openbsd.org/sdhc.4">sdhc(4)</a>-compatible drivers.
<li>Introduced <a href="https://man.openbsd.org/cdsdhc.4">cdsdhc(4)</a>, a driver for the Cadence SD/SDIO/eMMC host controller.
<!-- 2022/01/17 -->
<li>Made transferring multiple files in <a href="https://man.openbsd.org/scp.1">scp(1)</a> mode create the destination if it doesn't already exist.
<li>Updated libexpat to 2.4.3.
<!-- 2022/01/16 -->
<li>Allowed more memory ranges in hibernate.
<!-- 2022/01/15 -->
<!-- 2022/01/14 -->
<li>Introduced a validated cache which holds all the files successfully verified by <a href="https://man.openbsd.org/rpki-client.8">rpki-client(8)</a>.
<li>Enabled <a href="https://man.openbsd.org/openssl.1">openssl(1)</a> pkey -{,pub}check and pkeyparam -check.
<li>Implemented new-style OpenSSL BIO callbacks in <a href="https://man.openbsd.org/crypto.3">crypto(3)</a>.
<!-- 2022/01/13 -->
<li>Updated <a href="https://man.openbsd.org/drm.4">drm(4)</a> to linux 5.15.14.
<li>Allowed pin-required FIDO keys to be added to <a href="https://man.openbsd.org/ssh-agent.1">ssh-agent(1)</a>.
<li>Made <a href="https://man.openbsd.org/bpf.4">bpf(4)</a> MP-safe.
<li>Implemented powerdown in arm64.
<!-- 2022/01/12 -->
<li>Improved performance of <a href="https://man.openbsd.org/rev.1">rev(1)</a>.
<li>Set cpuspeed to 0 in <a href="https://man.openbsd.org/apm.8">apm(8)</a> when hw.cpuspeed cannot be retrieved.
<!-- 2022/01/11 -->
<li>Fixed <a href="https://man.openbsd.org/sdhc.4">sdhc(4)</a> for Jasper Lake eMMC.
<li>Added Synopsys Designware UART support to <a href="https://man.openbsd.org/com.4">com(4)</a>.
<li>Unlocked <a href="https://man.openbsd.org/getpeername.2">getpeername(2)</a>.
<!-- 2022/01/10 -->
<li>Modified the installer to use <a href="https://man.openbsd.org/fw_update.8">fw_update(8)</a> to install non-free firmware files if present on the install media.
<li>Added Intel Jasper Lake to <a href="https://man.openbsd.org/azalia.4">azalia(4)</a>.
<li>Introduced <a href="https://man.openbsd.org/aplsmc.4">aplsmc(4)</a>, a driver for the SMC found on Apple M1 SoCs.
<!-- 2022/01/09 -->
<li>Fixed GOST skip certificate verify handling.
<li>Fixed a problem where unveil("/", "r") and unveil("usr/bin/id", "rx") cause an error when read accessing /usr/bin.
<!-- 2022/01/08 -->
<li>Stopped <a href="https://man.openbsd.org/fw_update.8">fw_update(8)</a> from downloading SHA256.sig when not needed, to allow installing local files without network access.
<li>Removed apldwusb(4).
<li>Fixed possible use after free with long lines in <a href="https://man.openbsd.org/less.1">less(1)</a>.
<!-- 2022/01/07 -->
<li>Applied MP-safe changes from <a href="https://man.openbsd.org/dwge.4">dwge(4)</a> to <a href="https://man.openbsd.org/dwxe.4">dwxe(4)</a>.
<!-- 2022/01/06 -->
<li>Made <a href="https://man.openbsd.org/ssh-keysign.8">ssh-keysign(8)</a> use the requested signature algorithm and not the default for the keytype.
<li>Made <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> UpdateHostkey signature verification logic more strict.
<li>Fixed <a href="https://man.openbsd.org/sshd.8">sshd(8)</a> signature algorithm selection logic for UpdateHostkeys.
<!-- 2022/01/05 -->
<li>Fixed wrong pointer assignment causing the driver to read block ack request information sent by firmware from the wrong offset in <a href="https://man.openbsd.org/iwx.4">iwx(4)</a>.
<li>Returned to a shell-script based <a href="https://man.openbsd.org/fw_update.8">fw_update(8)</a>, written to be usable by the install script, allowing earlier retrieval of downloaded firmwares.
<!-- 2022/01/04 -->
<li>Added a basic printer for EAPOL packets to <a href="https://man.openbsd.org/tcpdump.8">tcpdump(8)</a>.
<li>Changed <a href="https://man.openbsd.org/ssh-keygen.1">ssh-keygen(1)</a> to allow selection of hash algorithm at sshsig signing time.
<li>Fixed an <a href="https://man.openbsd.org/ssh-keygen.1">ssh-keygen(1)</a> NULL dereference when using find-principals and matching an allowed_signers line that contains a namespace restriction but no restriction specified on command line.
<li>Introduced <a href="https://man.openbsd.org/mpfclock.4">mpfclock(4)</a>, a driver for the PolarFire SoC MSS clock controller.
<li>Fixed hibernate setups where a removed <a href="https://man.openbsd.org/umass.4">umass(4)</a> device results in a renumbered <a href="https://man.openbsd.org/softraid.4">softraid(4)</a> device.
<li>Restricted the <a href="https://man.openbsd.org/pci.4">pci(4)</a> ioctl interface to devices detected by hthe kernel, preventing Xorg PCI probes from breaking the WiFi chip on M1 macs.
<!-- 2022/01/03 -->
<li>Made the <a href="https://man.openbsd.org/dhcpleased.8">dhcpleased(8)</a> host name DHCP option configurable.
<!-- 2022/01/02 -->
<li>Corrected checksums written by <a href="https://man.openbsd.org/fdisk.8">fdisk(8)</a> on big-endian architectures to be little-endian as per spec.
<!-- 2022/01/01 -->
<li>Rewrote arm64 kernel FPU handling code to fix the random crashes seen with SMP kernels on Apple M1.
<!-- 2021/12/31 -->
<li>Added attempts to turn on less-capable mouse modes when <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> turns on more-capable ones, in case the terminal doesn't support the desired mode.
<li>Added missing locking to <a href="https://man.openbsd.org/pmap_extract.9">pmap_extract(9)</a> and <a href="https://man.openbsd.org/pmap_unwire.9">pmap_unwire(9)</a> on arm64 and riscv64.
<!-- 2021/12/30 -->
<li>Reintroduced support for <a href="https://man.openbsd.org/vmctl.8">vmctl(8)</a> <code>start -B net -b bsd.rd</code>, which emulates a PXE boot and performs an autoinstall.
<!-- 2021/12/29 -->
<li>Prevented a potential race when assigning new <a href="https://man.openbsd.org/wskbd.4">wskbd(4)</a> keymap.
<!-- 2021/12/28 -->
<li>Fixed <a href="https://man.openbsd.org/veb.4">veb(4)</a> vport handling to prevent improper drop of packets leaving a vport interface.
<li>Unlocked the bottom part of the uvm fault handler.
<!-- 2021/12/27 -->
<li>Added the chip ids used on Apple M1 Pro/Max and Apple T2 Macs to <a href="https://man.openbsd.org/bwfm.4">bwfm(4)</a>.
<!-- 2021/12/26 -->
<li>Reworked garbage collector for <a href="https://man.openbsd.org/unix.4">unix(4)</a> sockets to prevent potential kernel panics.
<li>Added address locators for the ACPI "bus" and used these to fix the order of the <a href="https://man.openbsd.org/com.4">com(4)</a> devices to match the traditional order on the ISA bus.
<!-- 2021/12/25 -->
<li>Made "set skip on ..." in <a href="https://man.openbsd.org/pf.conf.5">pf.conf(5)</a> dynamic.
<!-- 2021/12/24 -->
<li>Allowed bare numbers for key and mouse bindings in <a href="https://man.openbsd.org/cwm.1">cwm(1)</a>.
<li>Made <a href="https://man.openbsd.org/uniq.1">uniq(1)</a> skip() each input line only once, improving performance.
<!-- 2021/12/23 -->
<li>Introduced <a href="https://man.openbsd.org/apliic.4">apliic(4)</a>, a driver for the I2C controller found on various Apple SoCs.
<li>Protected <a href="https://man.openbsd.org/ipsec.4">ipsec(4)</a> input and output with the kernel lock to allow forwarding of non-ipsec traffic in parallel.
<!-- 2021/12/22 -->
<li>Disabled minimum power consumption in <a href="https://man.openbsd.org/bwfm.4">bwfm(4)</a> hostap mode, improving connection reliability when used as an access point.
<li>Updated to <a href="https://man.openbsd.org/nsd.8">nsd(8)</a> 4.3.9.
<!-- 2021/12/21 -->
<!-- 2021/12/20 -->
<li>Made <a href="https://man.openbsd.org/dhcpd.8">dhcpd(8)</a> start listening on DOWN interfaces.
<li>Made <a href="https://man.openbsd.org/iwm.4">iwm(4)</a> attach to PCI devices with product ID 0x31dc, part of the 9560 chip family.
<li>Introduced <a href="https://man.openbsd.org/mtw.4">mtw(4)</a>, a driver for MediaTek MT7601U wifi devices.
<!-- 2021/12/19 -->
<li>Added unbound and host-bound options for <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> PubkeyAuthentication for hardware devices unable to sign longer pubkey authentication challenges.
<li>Required host-bound userauth requests for forwarded SSH connections.
<li>Gave <a href="https://man.openbsd.org/ssh-agent.1">ssh-agent(1)</a> the ability to parse restrict-destination-v00@openssh.com constraints and to apply them to keys.
<li>Made <a href="https://man.openbsd.org/ssh-add.1">ssh-add(1)</a> accept a list of "destination constraints" that allow restricting where keys may be used in conjunction with an ssh-agent/ssh that supports session ID/hostkey binding.
<!-- 2021/12/18 -->
<li>Fixed <a href="https://man.openbsd.org/radeondrm.4">radeondrm(4)</a> console colors on sparc64.
<li>Introduced <a href="https://man.openbsd.org/aplmbox.4">aplmbox(4)</a>, a driver for the mailbox that provides a communication channel with additional cores integrated on Apple SoCs.
<!-- 2021/12/17 -->
<li>Updated to LLVM 13.0.0.
<!-- 2021/12/16 -->
<li>Attached <a href="https://man.openbsd.org/com.4">com(4)</a> over <a href="https://man.openbsd.org/acpi.4">acpi(4)</a> on amd64.
<!-- 2021/12/15 -->
<li>Added create permissions to <a href="https://man.openbsd.org/unveil.2">unveil(2)</a> on <a href="https://man.openbsd.org/ldapd.8">ldapd(8)</a>.
<li>Restricted <a href="https://man.openbsd.org/usbhidctl.1">usbhidctl(1)</a> and <a href="https://man.openbsd.org/usbhidaction.1">usbhidaction(1)</a> file system access with <a href="https://man.openbsd.org/unveil.2">unveil(2)</a>.
<!-- 2021/12/14 -->
<li>Implemented <a href="https://man.openbsd.org/em.4">em(4)</a> support for selecting SMGII or SerDes mode depending on the plugged-in SFP transceiver and for reading out transceiver information via <a href="https://man.openbsd.org/ifconfig.8">ifconfig(8)</a>.
<li>Used "rng-seed" and "kaslr-seed" properties from the device tree to mix extra entropy into the pool for arm64.
<!-- 2021/12/13 -->
<li>Added pclk clock used by <a href="https://man.openbsd.org/dwdog.4">dwdog(4)</a> on RK3399 to <a href="https://man.openbsd.org/rkclock.4">rkclock(4)</a>.
<li>Increased <a href="https://man.openbsd.org/tee.1">tee(1)</a> I/O buffer size for 8KB to 64KB.
<li>Added handling of multi-port controllers to <a href="https://man.openbsd.org/uslcom.4">uslcom(4)</a>.
<li>Added a pane-border-format pane option to <a href="https://man.openbsd.org/tmux.1">tmux(1)</a>.
<li>Reduced unnecessary usage of sys/cdefs.h includes.
<li>Cleaned up unnecessary sys/param.h includes across the kernel and userland, replacing some macros with local copies.
<!-- 2021/12/12 -->
<li>Added a "vnode" parameter to <a href="https://man.openbsd.org/VOP_STRATEGY.9">VOP_STRATEGY(9)</a>.
<!-- 2021/12/11 -->
<li>Added <a href="https://man.openbsd.org/acpipci.4">acpipci(4)</a> support for interrupts represented by ACPI PCI Interrupt Link Devices, making PCI interrupts work on QEMU's SBSA target.
<!-- 2021/12/10 -->
<!-- 2021/12/09 -->
<li>Fixed a potential DOS associated with <a href="https://man.openbsd.org/BIO_indent.3">BIO_indent(3)</a> when a caller asks for a negative number of bytes of output.
<li>Fixed a bug where <a href="https://man.openbsd.org/iked.8">iked(8)</a> sent zero-prefixed NAT-T messages on port 500, causing parsing errors.
<li>Introduced <a href="https://man.openbsd.org/aplpmgr.4">aplpmgr(4)</a>, a driver for the power management controller found on various Apple SoCs.
<!-- 2021/12/08 -->
<!-- 2021/12/07 -->
<li>Taught the net80211 stack to remove corresponding frames from ic_pwrsaveq when a power-saving client decides to leave our hostap interface, preventing a panic.
<li>Allowed <a href="https://man.openbsd.org/fdisk.8">fdisk(8)</a> to extend the default OpenBSD partition to the end of the disk, rather than truncating at the end of the last full cylinder.
<!-- 2021/12/06 -->
<!-- 2021/12/05 -->
<!-- 2021/12/04 -->
<li>Fixed spurious abort of a VM by <a href="https://man.openbsd.org/vmd.8">vmd(8)</a> when the scheduler moves a VM to a different core while it is sleeping on a lock.
<li>Fixed broken <a href="https://man.openbsd.org/vmd.8">vmd(8)</a> "boot device cdrom" feature after a fix in seabios.
<!-- 2021/12/03 -->
<li>Switched <a href="https://man.openbsd.org/iwx.4">iwx(4)</a> to new -67 firmware images.
<li>Disabled probe requests during scans in <a href="https://man.openbsd.org/iwx.4">iwx(4)</a> again, preventing device timeouts for some devices.
<li>Implemented bgscan_done() handlers for <a href="https://man.openbsd.org/iwx.4">iwx(4)</a> and <a href="https://man.openbsd.org/iwm.4">iwm(4)</a>.
<li>Introduced an optional driver-specific bgscan_done() handler which allows the driver to take control of the roaming teardown sequence, ensuring that race conditions between firmware state and net80211 state are avoided.
<li>Fixed an xserver 1.21.1 crash when attempting to run <a href="https://man.openbsd.org/fvwm.1">fvwm(1)</a> on an x61/965gm with the modesetting driver on amd64.
<!-- 2021/12/02 -->
<li>Prevented a potential race which could make <a href="https://man.openbsd.org/umount.8">umount(8)</a> fail spuriously in the installer.
<li>Improved the testing of credentials against inserted FIDO keys, reducing spurious "Confirm user presence" notifications for key handles relating to FIDO keys which are not currently inserted.
<!-- 2021/12/01 -->
<li>Ensured ^C may be used to kill <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> sessions where SessionType=none.
<li>Fixed removal of SAs that could not be flushed with <a href="https://man.openbsd.org/ipsecctl.8">ipsecctl(8)</a> -F.
<li>Fixed booting from an IDE block device on the Sun Blade 100.
<!-- 2021/11/30 -->
<!-- 2021/11/29 -->
<li>Prevented <a href="https://man.openbsd.org/select.2">select(2)</a> from blocking if registering found pending events.
<li>Enabled <a href="https://man.openbsd.org/uhid.4">uhid(4)</a>/<a href="https://man.openbsd.org/fido.4">fido(4)</a> on riscv64.
<li>Unlocked <a href="https://man.openbsd.org/accept.2">accept(2)</a> and <a href="https://man.openbsd.org/accept4.2">accept4(2)</a> syscalls.
<li>Added <a href="https://man.openbsd.org/iked.8">iked(8)</a> -V to display the version.
<!-- 2021/11/28 -->
<li>Prevented a crash in <a href="https://man.openbsd.org/slaacd.8">slaacd(8)</a> due to updating an interface which no longer exists.
<!-- 2021/11/27 -->
<li>Let <a href="https://man.openbsd.org/iwx.4">iwx(4)</a> and <a href="https://man.openbsd.org/iwm.4">iwm(4)</a> use per-Tx-queue interface timers to ensure timeout if a particular Tx queue gets stuck.
<li>Added <a href="https://man.openbsd.org/ssh-keygen.1">ssh-keygen(1)</a> -Y match-principals operation to perform matching of principals names against an allowed signers file.
<!-- 2021/11/26 -->
<li>Dropped support for netscape certificates and server gated keys in <a href="https://man.openbsd.org/openssl.1">openssl(1)</a>.
<!-- 2021/11/25 -->
<li>Released <a href="https://ftp.openbsd.org/pub/OpenBSD/LibreSSL/libressl-3.4.2-relnotes.txt">LibreSSL 3.4.2</a>.
<li>Prevented the possible creation of MBRs with overlapping partitions 0 and 3 in <a href="https://man.openbsd.org/fdisk.8">fdisk(8)</a>.
<!-- 2021/11/24 -->
<li>Fixed a panic when running <a href="https://man.openbsd.org/utvfu.4">utvfu(4)</a> on <a href="https://man.openbsd.org/xhci.4">xhci(4)</a>.
<li>Fixed timestamp printing in Signed Certificate Timestamps.
<!-- 2021/11/23 -->
<li>Switched to calculating <a href="https://man.openbsd.org/pppoe.4">pppoe(4)</a> session duration using system uptime rather than UTC.
<li>Updated to <a href="https://man.openbsd.org/openchrome.4">openchrome(4)</a> 0.6.409.
<li>Switched LLD_ARCHs to <a href="https://man.openbsd.org/llvm-ar.1">llvm-ar(1)</a>.
<!-- 2021/11/22 -->
<li>Introduced <a href="https://man.openbsd.org/pcyrtc.4">pcyrtc(4)</a>, a driver for the NXP PCF85063A/TP RTC chips.
<li>Implemented RFC6840 (AD flag processing) if using trusted name servers.
<li>Aligned memory allocation for USB device drivers and USB HC drivers, enlarging the USB memory pool.
<!-- 2021/11/21 -->
<li>Added <a href="https://man.openbsd.org/ikectl.8">ikectl(8)</a> "show certinfo" to show trusted CAs and certificates.
<li>Introduced <a href="https://man.openbsd.org/iicmux.4">iicmux(4)</a>, a driver that switches between I2C busses connected to a single I2C controller by using the pin muxing facilities of an SoC.
<!-- 2021/11/20 -->
<!-- 2021/11/19 -->
<li>Made <a href="https://man.openbsd.org/config.8">config(8)</a> -c cmdfile use lines from the command file for all input, not just commands. This allows complex actions like changing device parameters.
<li>Allowed interface names as scope-id in IPv6 link-local addresses in <a href="https://man.openbsd.org/unbound.8">unbound(8)</a>.
<li>Made futexes work in shared anonymous memory.
<li>Fixed monitor mode on <a href="https://man.openbsd.org/iwm.4">iwm(4)</a> and <a href="https://man.openbsd.org/iwx.4">iwx(4)</a>.
<!-- 2021/11/18 -->
<!-- 2021/11/17 -->
<li>Made <a href="https://man.openbsd.org/uniq.1">uniq(1)</a> ignore trailing newlines when comparing lines.
<li>Fixed a crash when <a href="https://man.openbsd.org/xrandr.1">xrandr(1)</a> is invoked with X server 21.1.1.
<li>Added display of DNS information from <a href="https://man.openbsd.org/sppp.4">sppp(4)</a> to <a href="https://man.openbsd.org/ifconfig.8">ifconfig(8)</a>.
<li>Disabled active scanning on <a href="https://man.openbsd.org/iwm.4">iwm(4)</a> 9260 and 9560 to prevent a device lockup.
<!-- 2021/11/16 -->
<li>Installed missing scope identifiers for IPv6 link-local addresses for <a href="https://man.openbsd.org/unwind.8">unwind(8)</a> and <a href="https://man.openbsd.org/resolvd.8">resolvd(8)</a>.
<li>Fixed <a href="https://man.openbsd.org/hilkbd.4">hilkbd(4)</a> Swedish keyboard layout on non-PS/2 style keyboards.
<!-- 2021/11/15 -->
<!-- 2021/11/14 -->
<li>Improved and simplified timer handling in <a href="https://man.openbsd.org/rc.d.8">rc.d(8)</a> "stop" and "reload".
<!-- 2021/11/13 -->
<li>Switched to using long filenames by default with <a href="https://man.openbsd.org/mount_msdos.8">mount_msdos(8)</a> on FAT filesystems.
<!-- 2021/11/12 -->
<li>Added support for controlling keyboard LEDs to <a href="https://man.openbsd.org/aplhidev.4">aplhidev(4)</a>.
<li>Implemented the probe variable in <a href="https://man.openbsd.org/bt.5">bt(5)</a>.
<li>Updated <a href="https://man.openbsd.org/awk.1">awk(1)</a> to the Nov 3, 2021 version.
<li>Added support for 40MHz channels to <a href="https://man.openbsd.org/iwn.4">iwn(4)</a>.
<!-- 2021/11/11 -->
<li>Reduced the time overhead of <a href="https://man.openbsd.org/kqueue.2">kqueue(2)</a>-based <a href="https://man.openbsd.org/poll.2">poll(2)</a> and <a href="https://man.openbsd.org/select.2">select(2)</a> systems calls by keeping knotes between the system calls.
<li>Made <a href="https://man.openbsd.org/config.8">config(8)</a> -e work with ramdisk kernels.

<li>Fixed crashes in <a href="https://man.openbsd.org/httpd.8">httpd(8)</a>.
<li>Fixed <a href="https://man.openbsd.org/iwn.4">iwn(4)</a> with 4965 devices.
<li>Retired switch(4), switchd(8) and switchctl(8).
<li>Updated to <a href="https://man.openbsd.org/Xserver.1">Xserver(1)</a> 21.1.1.
<li>Updated to libXi 1.8.
<li>Updated to libXfixes 6.0.0.
<li>Updated to xorgprotos 2021.5.
<li>Updated to fontconfig 2.13.94.
<li>Updated to Freetype 2.11.0.
<!-- 2021/11/10 -->
<li>Added support for PPP IPCP extensions for DNS to <a href="https://man.openbsd.org/sppp.4">sppp(4)</a>.
<li>Fixed broken key exchange negotiation with matching proposals in <a href="https://man.openbsd.org/iked.8">iked(8)</a>.
<!-- 2021/11/09 -->
<li>Added the sntrup761x25519-sha512@openssh.com hybrid ECDH/x25519 + Streamlined NTRU Prime post-quantum KEX to the default KEXAlgorithms list fo <a href="https://man.openbsd.org/ssh_config.5">ssh_config(5)</a> and <a href="https://man.openbsd.org/sshd_config.5">sshd_config(5)</a>.
<li>Fixed <a href="https://man.openbsd.org/ssh-keysign.8">ssh-keysign(8)</a> for KEX algorithms that use SHA384/512 exchange hashes.
<li>Added <a href="https://man.openbsd.org/gpiokeys.4">gpiokeys(4)</a> for arm64, a driver which handles events triggered by GPIO keys such as lid status and power button.
<li>Published <a href="https://man.openbsd.org/rpki-client.8">rpki-client</a> 7.5.
<li>Limited the number of publication points under a given TAL in <a href="https://man.openbsd.org/rpki-client.8">rpki-client(8)</a>.
<!-- 2021/11/08 -->
<li>Documented <a href="https://man.openbsd.org/install.site.5">install.site(5)</a>, OpenBSD installation and upgrade customization.
<!-- 2021/11/07 -->
<li>Fixed handling of interrupts shared between multiple <a href="https://man.openbsd.org/dwiic.4">swiic(4)</a> devices.
<!-- 2021/11/06 -->
<li>Allowed passing a different signal than SIGTERM in the default rc_stop() function in <a href="https://man.openbsd.org/rc.subr.8">rc.subr(8)</a>.
<!-- 2021/11/05 -->
<li>Made the kqread event filter MP-safe.
<li>Corrected <a href="https://man.openbsd.org/httpd.8">httpd(8)</a> version string checking, responding with 505 Version Not Supported rather than 400 Bad Request when the version format is incorrect.
<!-- 2021/11/04 -->
<!-- 2021/11/03 -->
<li>Limited the number of <a href="https://man.openbsd.org/openrsync.1">openrsync(1)</a> processes being spawned by <a href="https://man.openbsd.org/rpki-client.8">rpki-client(8)</a> to 16.
<li>Fixed <a href="https://man.openbsd.org/ASN1_TIME_diff">ASN1_TIME_diff(3)</a> with NULL times.
<li>Added a cursor-style option to <a href="https://man.openbsd.org/tmux.1">tmux(1)</a>.
<li>Fixed "(null node)" panics on <a href="https://man.openbsd.org/run.4">run(4)</a>.
<!-- 2021/11/02 -->
<li>Improved handling of FIDO keys on tokens which provide user verification on the device itself, including biometric keys.
<li>Corrected "!" escape handling in the installer when accepting WEP/WPA passphrase.
<li>Updated <a href="https://man.openbsd.org/awk.1">awk(1)</a> to the October 12, 2021 version.
<!-- 2021/11/01 -->
<li>Added <a href="https://man.openbsd.org/uniq.1">uniq(1)</a> support for arbitrarily long input lines.
<li>Prevented <a href="https://man.openbsd.org/awk.1">awk(1)</a> access to uninitialized data.
<li>Improved SNI hostname validation.
<li>Stopped binding audio devices exposed by <a href="https://man.openbsd.org/sndiod.8">sndiod(8)</a> to physical devices.
<li>Fixed "null node" panics in <a href="https://man.openbsd.org/run.4">run(4)</a>.
<li>Added a cursor-colour option to <a href="https://man.openbsd.org/tmux.1">tmux(1)</a>.
<li>Added <a href="https://man.openbsd.org/aplhidev.4">aplhidev(4)</a> support for the keyboard/touchpad on Apple M1 laptops.
<!-- 2021/10/31 -->
<li>Enabled RFC 3779 (X.509 Extensions for IP Addresses and AS Identifiers) code in OpenSSl.
<li>Fixed octal escape parsing in <a href="https://man.openbsd.org/tr.1">tr(1)</a> backslash().
<li>Disabled <a href="https://man.openbsd.org/xterm.1">xterm(1)</a> mouse tracking by default.
<li>Added <a href="https://man.openbsd.org/aplspi.4">aplspi(4)</a>, a driver for the SPI controller found on the Apple M1 SoC.
<li>Added <a href="https://man.openbsd.org/igc.4">igc(4)</a>, a driver for the Intel 2.5Gb Ethernet controllers.
<li>Made <a href="https://man.openbsd.org/athn.4">athn(4)</a> attach to the Sony UWA-BR100.
<!-- 2021/10/30 -->
<li>Changed <a href="https://man.openbsd.org/sysctl.8">sysctl(8)</a> default to hw.perfpolicy=auto at startup, defaulting to 100% performance with AC power connected and using the auto algorithm when on battery.
<li>Fixed UNIX domain sockets leak in soclose().
<!-- 2021/10/29 -->
<li>Updated to libepoxy 1.5.9.
<li>Limited <a href="https://man.openbsd.org/rpki-client.8">rpki-client(8)</a> HTTP requests to 2GB of data.
<li>Implemented <a href="https://man.openbsd.org/openrsync.1">openrsync(1)</a> --max-size and --min-size.
<!-- 2021/10/28 -->
<!-- 2021/10/27 -->
<li>When downloading resident keys from a FIDO token, made <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> pass back the user ID that was used when the key was created and append it to the filename the key was written to (if not the default).
<!-- 2021/10/26 -->
<li>Unlocked the <a href="https://man.openbsd.org/kevent.2">kevent(2)</a> system call.
<li>Updated to libfido2 1.8.0.
<li>Made <a href="https://man.openbsd.org/iked.conf.5">iked.conf(5)</a> proto config option accept a list to allow specifying multiple protocols for a single policy.
<li>Improved unhibernate performance by skipping attach of irrelevant devices.
<li>Enabled <a href="https://man.openbsd.org/vmx.4">vmx(4)</a> on arm64.
<li>Cleaned up irrelevant uses of 3rd mode_t parameter for <a href="https://man.openbsd.org/open.2">open(2)</a>/<a href="https://man.openbsd.org/openat.2">openat(2)</a>, unused when not creating files.
<li>Ensured armv7 and arm64 efiboot allocate fresh memory for the device tree with at least one page of free space to extend into. This fixes booting on VMWare Fusion.
<li>Added rejection of malformed Subject Alternative Names at certificate creation time to LibreSSL.
<!-- 2021/10/25 -->
<li>Added a way to force a color to RGB in <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> and a format to display it.
<li>Fixed <a href="https://man.openbsd.org/pfctl.8">pfctl(8)</a> $nr incorrect macro expansion.
<li>Fixed <a href="https://man.openbsd.org/vi.1">vi(1)</a> use after free with unsaved buffer.
<li>Added -s and -S to <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> display-popup to set popup and border style.
<li>Fixed application-set fg and bg in <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> panes.
<!-- 2021/10/24 -->
<li>Added <a href="https://man.openbsd.org/httpd.8">httpd(8)</a> custom error page facility.
<li>Added mount -ur/uw support to tmpfs.
<li>Unlocked top part of UVM fault hander on mips64.
<li>Used <a href="https://man.openbsd.org/unveil.2">unveil(2)</a> for the possible <a href="https://man.openbsd.org/btrace.8">btrace(8)</a> script file, <a href="https://man.openbsd.org/dt.4">dt(4)</a> and <a href="https://man.openbsd.org/ksyms.4">ksyms(4)</a> nodes.
<li>Used <a href="https://man.openbsd.org/ifconfig.8">ifconfig(8)</a> "join" command by default in <a href="https://man.openbsd.org/hostname.if.5">hostname.if(5)</a> files, replacing the old "nwid".
<li>Switched <a href="https://man.openbsd.org/nsd.8">nsd(8)</a> to enable default DNS cookies on, matching behavior as released in OpenBSD 7.0.
<li>Updated to <a href="https://man.openbsd.org/nsd.8">nsd(8)</a> 4.3.8.
<li>Implemented <a href="https://man.openbsd.org/poll.2">poll(2)</a>, <a href="https://man.openbsd.org/select.2">select(2)</a>, <a href="https://man.openbsd.org/ppoll.2">ppoll(2)</a> and <a href="https://man.openbsd.org/pselect.2">pselect(2)</a> on top of kqueue.
<li>Stopped prompting whether to fall back to HTTP in the installer, making the fallback automatic.
<li>Fixed a panic by prohibiting renames of tmpfs mount-points.
<li>Set klist lock for sockets to make socket event filters MP-safe.
<li>Made pipe event filters MP-safe.
<!-- 2021/10/23 -->
<li>In <a href="https://man.openbsd.org/httpd.8">httpd(8)</a>, stopped sending content alongside responses to HEAD requests.
<li>Stopped duplicating "Connection: close" headers in <a href="https://man.openbsd.org/relayd.8">relayd(8)</a>, only adding it if it's not a websocket response.
<li>Provided common <a href="https://man.openbsd.org/btrace.8">btrace(8)</a> scripts kprofile.bt (to save kernel stackframes and produce flamegraphs) and runqlat.bt (to measure the latency of the scheduler runqueues).
<li>Added call to <a href="https://man.openbsd.org/unveil.2">unveil(2)</a> to restrict <a href="https://man.openbsd.org/stty.1">stty(1)</a> -f filesystem access.
<li>Added support for tpm2 CRB interface to <a href="https://man.openbsd.org/tpm.4">tpm(4)</a>, fixing recent S4 regressions on the Surface Go 2 caused by a firmware change.
<li>Retired asynchronous crypto API.
<li>Added new OpenSSL api SSL_write_ex, SSL_read_ex and SSL_peek_ex.
<li>Annotated an <a href="https://man.openbsd.org/httpd.8">httpd(8)</a> 413 error with "request body too large" in the error log.
<li>Fixed double free after allocation failure in <a href="https://man.openbsd.org/bpf.4">bpf(4)</a>.
<li>Provided a way to determine our maximum legacy version for TLS in libssl, unbreaking RSA KEX for the TLS client when the non-version specific method is used with TLSv1.0 or TLSv1.1.
<li>Called <a href="https://man.openbsd.org/pledge.2">pledge(2)</a> later to prevent it from killing various games using ncurses when both stdout and stderr are redirected to a non-tty.
<li>Removed unusable <a href="https://man.openbsd.org/route.8">route(8)</a> -T and exec support from ramdisk.
<li>Reinstated the fips mode test functions to libcrypto.
<li>Added <a href="https://man.openbsd.org/rcctl.8">rcctl(8)</a> "ls rogue" to show daemons which are running but not set as "enabled" in <a href="https://man.openbsd.org/rc.conf.local.8">rc.conf.local(8)</a>.
<li>Fixed a potential buffer overflow in <a href="https://man.openbsd.org/openssl.1">openssl(1)</a> certhash.
<!-- 2021/10/22 -->
<li>Renamed Pacific/Enderbury timezone to Pacific/Kanton.
<li>Fixed an interrupt storm on <a href="https://man.openbsd.org/dwge.4">dwge(4)</a> variants which support Energy Efficient Ethernet when connected to a switch which does so as well.
<li>Ensured enabled resolvers are honored by <a href="https://man.openbsd.org/unwind.8">unwind(8)</a> to keep unused forwarders disabled properly.
<li>Implemented <a href="https://man.openbsd.org/rsync.1">rsync(1)</a> --compare-dest, allowing specification of additional directories to check for files to be available.
<li>Prevented <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> memory leak if getaddrinfo returns no addresses.
<li>Added protocol version checking to <a href="https://man.openbsd.org/httpd.8">httpd(8)</a>.
<!-- 2021/10/21 -->
<li>Ensured use of the correct encoding in xenocara when /etc/kbdtype is present with an attached <a href="https://man.openbsd.org/ucc.4">ucc(4)</a> keyboard.
<li>Removed hifn(4), safe(4) and ubsec(4) crypto drivers.
<li>Removed <a href="https://man.openbsd.org/fdisk.8">fdisk(8)</a> "disk" editing command.
<li>Fixed <a href="https://man.openbsd.org/httpd.8">httpd(8)</a> to respond with 400 Bad Request when a client sends header lines without a colon.
<li>Bumped to LibreSSL 3.5.0.
<li>Added -T to set a popup title in <a href="https://man.openbsd.org/tmux.1">tmux(1)</a>.
<!-- 2021/10/20 -->
<li>Stopped ignoring <a href="https://man.openbsd.org/carp.4">carp(4)</a> interfaces in <a href="https://man.openbsd.org/dhcpleased.8">dhcpleased(8)</a>.
<!-- 2021/10/19 -->
<!-- 2021/10/18 -->
<li>Removed an unused decoding of c/h/s from the MBR read from disk by <a href="https://man.openbsd.org/fdisk.8">fdisk(8)</a>.
<!-- 2021/10/17 -->
<li>Updated to <a href="https://man.openbsd.org/xterm.1">xterm(1)</a> 369.
<!-- 2021/10/16 -->
<li>Corrected installer to use "inet autoconf" properly for <a href="https://man.openbsd.org/hostname.if.5">hostname.if(5)</a> files.
<!-- 2021/10/15 -->
<li>Returned to use of the SFTP protocol for <a href="https://man.openbsd.org/scp.1">scp(1)</a>.
<li>Added initial 40MHz support to the <a href="https://man.openbsd.org/iwx.4">iwx(4)</a> driver.
<li>Fixed a problem with repeat in <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> copy mode.
<!-- 2021/10/14 -->
<li>Released <a href="https://ftp.openbsd.org/pub/OpenBSD/LibreSSL/libressl-3.4.1-relnotes.txt">LibreSSL 3.4.1</a>.
<li>Replaced <a href="https://man.openbsd.org/lrint.3">lrint(3)</a>, <a href="https://man.openbsd.org/lrintf.3">lrintf(3)</a>, <a href="https://man.openbsd.org/llrint.3">llrint(3)</a> and <a href="https://man.openbsd.org/llrintf.3">llrintf(3)</a> implementations from NetBSD with the existing FreeBSD implementations we were already using for <a href="https://man.openbsd.org/lrintl.3">lrintl(3)</a> and <a href="https://man.openbsd.org/llrintl.3">llrintl(3)</a>.
<li>Fixed a <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> redraw problem on automargin terminals.
<!-- 2021/10/13 -->
<li>Modified <a href="https://man.openbsd.org/syslog.conf.5">syslog.conf(5)</a> examples to use TLS rather than the plaintext protocols.
<li>Fixed file descriptor leak of /dev/tty on <a href="https://man.openbsd.org/doas.1">doas(1)</a> auth failure.
<li>Added <a href="https://man.openbsd.org/realpath.1">realpath(1)</a>, a wrapper for <a href="https://man.openbsd.org/realpath.3">realpath(3)</a> for use in ports.
<!-- 2021/10/12 -->
<li>Enabled enforcing of RLIMIT_MEMLOCK on powerpc64.
<li>Reverted to use <a href="https://man.openbsd.org/iwm.4">iwm(4)</a> firmware v17 on Intel AC 7265, fixing instability issues on X1 Carbon gen3.
<li>Cached the old BSSID when roaming with <a href="https://man.openbsd.org/iwx.4">iwx(4)</a>.
<li>Explicitly stopped <a href="https://man.openbsd.org/iwx.4">iwx(4)</a> Rx block ack when roaming between access points.
<!-- 2021/10/11 -->
<li>Added support for 802.11n 40MHz channels to the <a href="https://man.openbsd.org/iwm.4">iwm(4)</a> driver.
<li>Added monitoring of 20/40MHz channel width changes in beacons sent by our access point, notifying drivers when the channel width has changed.
<!-- 2021/10/10 -->
<li>Added support for 40MHz channels to net80211 RA.
<li>Fixed establishing legacy INTx interrupts on machines without a (usable) MSI interrupt controller.
<!-- 2021/10/09 -->
<li>Merged bugfixes from upstream into <a href="https://man.openbsd.org/less.1">less(1)</a> including fixes for the prompt hiding feature (CTRL-P) and an integer overflow.
<!-- 2021/10/08 -->
<!-- 2021/10/07 -->
<li>Cached the old BSSID when roaming with <a href="https://man.openbsd.org/iwm.4">iwm(4)</a> so firmware commands can continue using it while roaming to a new AP.
<!-- 2021/10/06 -->
<li>Stopped <a href="https://man.openbsd.org/pkg_add.1">pkg_add(1)</a> from communicating warnings starting with "XXX" which appeared to indicate errors.
<li>Ensured <a href="https://man.openbsd.org/iwm.4">iwm(4)</a> uses only the HT (high throughput) frame format for data frames.
<li>Allowed AUTH->AUTH state transitions in the <a href="https://man.openbsd.org/iwm.4">iwm(4)</a> and <a href="https://man.openbsd.org/iwx.4">iwx(4)</a> drivers again, needed if the access point uses band-steering.
<li>Removed the <a href="https://man.openbsd.org/ifconfig.8">ifconfig(8)</a> autoconfprivacy deprecation warning.
<!-- 2021/10/05 -->
<li>Retired the Loongson platform.
<li>Fixed <a href="https://man.openbsd.org/iwm.4">iwm(4)</a> performance drop after roaming between APs in 11n mode.
<!-- 2021/10/04 -->
<li>Applied a workaround in <a href="https://man.openbsd.org/mvkpcie.4">mvkpcie(4)</a> to fix an external abort under load with <a href="https://man.openbsd.org/athn.4">athn(4)</a>.
<!-- 2021/10/03 -->
<li>Added relicensed wireless firmwares from Realtek for <a href="https://man.openbsd.org/rsu.4">rsu(4)</a>, <a href="https://man.openbsd.org/rtwn.4">rtwn(4)</a> and <a href="https://man.openbsd.org/urtwn.4">urtwn(4)</a> devices, allowing these devices to work without requiring a separate firmware download.
<li>Added a workaround for buggy <a href="https://man.openbsd.org/athn.4">athn(4)</a> devices to prevent filling up the node cache when used in hostap mode.
<!-- 2021/10/02 -->
<li>Made redistributable firmwares available across all architectures.
<li>Fixed memory leak in <a href="https://man.openbsd.org/fuse.4">fuse(4)</a> when calling <a href="https://man.openbsd.org/namei.9">namei(9)</a>.
<li>Fixed a panic when <a href="https://man.openbsd.org/iwx.4">iwx(4)</a> cannot find firmware at boot time.
<!-- 2021/10/01 -->
<li>Released LibreSSL <a href="https://ftp.openbsd.org/pub/OpenBSD/LibreSSL/libressl-3.3.5-relnotes.txt">3.3.5</a> and <a href="https://ftp.openbsd.org/pub/OpenBSD/LibreSSL/libressl-3.2.7-relnotes.txt">3.2.7</a>.
<!-- 2021/09/30 -->
<li>Enabled X509_V_FLAG_TRUSTED_FIRST by default in the legacy verifier.
<li>Deleted expired DST Root CA X3.
<li>Prevented <a href="https://man.openbsd.org/iwm.4">iwm(4)</a> and <a href="https://man.openbsd.org/iwx.4">iwx(4)</a> attempts to transition toward the same state where this would result in a redundant or illegal state transition and a potential hang.
<!-- 2021/09/29 -->
<li>Removed the constraint that <a href="https://man.openbsd.org/fdisk.8">fdisk(8)</a> -b specified block count or block size must be greater than 63.
<li>Added support to <a href="https://man.openbsd.org/pchgpio.4">pchgpio(4)</a> for Cannon Lake H and Tiger Lake H platforms.
<!-- 2021/09/28 -->
<!-- 2021/09/27 -->
<li>Fixed a crash in <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> when a session with multiple clients is destroyed but tmux does not close completely due to other sessions.
<!-- 2021/09/26 -->
<!-- 2021/09/25 -->
<li>Introduced <a href="https://man.openbsd.org/gpiocharger.4">gpiocharger(4)</a>, a driver providing support for battery chargers connected to GPIO pins, such as those found on the Pinebook Pro.
<li>Introduced <a href="https://man.openbsd.org/gpioleds.4">gpioleds(4)</a> for arm64, a driver providing support for LEDs connected to GPIO pins, such as those found on the Pinebook Pro.
<!-- 2021/09/24 -->
<li>Reset the Tx timer upon validation of a BA notification sent by <a href="https://man.openbsd.org/iwx.4">iwx(4)</a> and <a href="https://man.openbsd.org/iwm.4">iwm(4)</a> firmware.
<!-- 2021/09/23 -->
<li>Added support to <a href="https://man.openbsd.org/umb.4">umb(4)</a> for SIMCom SIM7600.
<li>Released <a href="https://man.openbsd.org/rpki-client.8">rpki-client</a> 7.3.
<li>Removed wpath from <a href="https://man.openbsd.org/less.1">less(1)</a> secure mode pledge.
<li>Added <a href="https://man.openbsd.org/iwx.4">iwx(4)</a> Tx aggregation support.
<li>Added an ADDBA_OFFLOAD capability for wifi devices to manage Tx block ack sessions entirely in firmware.
<li>Released <a href="https://man.openbsd.org/bgpd.8">OpenBGPD</a> 7.2.
<!-- 2021/09/22 -->
<li>Cleared length of keys in <a href="https://man.openbsd.org/vnconfig.8">vnconfig(8)</a> alongside keys themselves.
</ul>

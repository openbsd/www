<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>CVSync sous OpenBSD</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta name="resource-type" content="document">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="description" content="How to get OpenBSD updates via Internet using CVSync">
<meta name="keywords" content="openbsd,cvsync,updates">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 2003-2006 by OpenBSD.">
</head>

<body bgcolor="#FFFFFF" text="#000000" link="#23238E">

<a href="index.html"><img alt="[OpenBSD]" height="30" width="141"
src="../images/smalltitle.gif" border="0"></a>

<h2><font color="#e00000">CVSync</font></h2>
<hr>

<h3>Table des matières</h3>
<ul>
<li><a href="#CVSync">Qu'est-ce que CVSync?</a></li>
<li><a href="#CVS">Qu'est-ce que CVS?</a></li>
<li><a href="#starting">Premiers Pas Avec CVSync</a></li>
<li><a href="#using">Utilisation de CVS Pour Mettre A Jour Votre
	Arborescence Des Sources</a></li>
<li><a href="#CVSROOT">Serveurs CVSync Disponibles</a></li>
</ul>

<hr>


<h3><a name="CVSync"><font color="#0000e0">Qu'est-ce que CVSync?
	</font></a></h3>

<p>
<b>CVSync</b> est un ensemble logiciel pour distribuer et mettre à jour
   des arborescences de sources à partir d'un réceptacle
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&amp;sektion=1">cvs(1)</a>
maître situé sur un serveur distant. Les sources d'OpenBSD sont
maintenues sur un réceptacle CVS se trouvant sur une machine principale
de développement au Canada. Avec CVSync, les utilisateurs OpenBSD
peuvent facilement maintenir leur propre copie des sources à jour,
localement.
</p>

<p>
<b>CVSync</b> utilise un modèle de mise à jour connu sous le nom de
"pull model". Dans ce modèle, c'est le client qui demande au serveur les
mises à jour disponibles. Ce dernier a un rôle passif. Toutes les mises
à jour sont réalisées à l'initiative du client. Le serveur ne transmet
jamais d'informations qui ne soient demandées par le client.
L'utilisateur doit utiliser soit le client <b>CVSync</b> pour récupérer
manuellement les mises à jour, soit mettre en place une tâche
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cron&amp;sektion=8">cron(8)</a>
qui s'en occupera à intervalles réguliers.
</p>

<p>
Le terme <b>CVSync</b>, tel qu'il est utilisé dans le présent document,
représente l'ensemble logiciel. Ses principaux composants sont le client
<tt>cvsync</tt> qui est utilisé sur chaque machine utilisatrice du
service, et le serveur <tt>cvsyncd</tt> qui fonctionne sur chaque miroir
CVSync contenant les sources d'OpenBSD.
</p>

<p>
<b>CVSync</b> est conçu pour être à la fois plus rapide et plus flexible
que
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sup&amp;sektion=1&amp;format=html">sup(1)</a>
et <a href="cvsup.html">CVSup</a>.
</p>

<p>
Le projet OpenBSD comporte actuellement cinq modules regroupant ses
sources :
</p>

<ul>
  <li><b>src</b> - qui contient tout le code source du système
      d'exploitation OpenBSD.</li>
  <li><b>ports</b> - qui contient les <a href="ports.html">Ports
      d'OpenBSD</a>.</li>
  <li><b>www</b> - qui contient toutes les pages Web d'OpenBSD (y
      compris celle-ci).</li>
  <li><b>X11</b> - qui contient l'adaptation de
      <a href="http://www.XFree86.org/">XFree86-3</a> au sein
      d'OpenBSD. Ce n'est qu'a des fins historiques, la plupart des
      utilisateurs n'a plus de raison d'utiliser ceci.
  <li><b>XF4</b> - contient l'implémentation actuelle de X sous OpenBSD.
</ul>

<h3><a name="CVS"><font color="#0000e0">Qu'est-ce que CVS
    ?</font></a></h3>

<p>
CVS est un système de contrôle de code source, que le projet OpenBSD
utilise pour conserver ses sources. Vous pouvez en obtenir une meilleure
description <a href="anoncvs.html#CVS">ici</a>. Veuillez noter que CVS
et CVSync sont deux programmes totalement différents. Bien que CVS
puisse être utilisé pour accéder à des fichiers à distance, il n'est pas
optimisé pour le traitement d'arborescences complètes de grande taille
ou pour leur distribution sur Internet, tandis que CVSync offre des
performances très supérieures à CVS dans ce domaine.
</p>

<h3>
<a name="starting"><font color="#0000e0">Premiers Pas Avec
CVSync</font></a> </h3>

<p>
Si vous voulez uniquement utiliser CVSync, nous vous recommandons de
télécharger le paquetage cvsync à partir d'un des
<a href="ftp.html">sites miroir FTP</a> au lieu de compiler et installer
votre propre ensemble logiciel à partir du port <tt>net/cvsync</tt>.
</p>

<p>
Pour plus d'informations concernant CVSync, prière de consulter la
<a href="http://www.cvsync.org/">page d'accueil du projet</a>.
</p>

<p>
Afin de faire un miroir du réceptacle OpenBSD avec CVSync, le fichier de
configuration suivant peut être utilisé :
</p>

<pre>
        config {
            hostname anoncvs.de.openbsd.org
            # If your network link is a T1 or faster, comment out the following line.
            compress
            collection {
                name openbsd release rcs
                prefix /cvs
                umask 002
            }
        }
</pre>

<p>
Ce fichier de configuration configure cvsync pour rafraîchir toutes les
distributions OpenBSD à partir de <b>anoncvs.de.openbsd.org</b> avec un
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=umask&amp;sektion=2">umask(2)</a>
qui autorise les écritures par le groupe propriétaire du réceptacle
local.
</p>

<p>
Supposons que le fichier précité est sauvegardé sous le nom de
<tt>cvs-syncfile</tt>. La commande suivante permet d'invoquer cvsync :
</p>
<pre>
        cvsync -c cvs-syncfile
</pre>

<h3><a name="using"><font color="#0000e0">Utilisation de CVS Pour Mettre
    A Jour Votre Arborescence Des Sources</font></a></h3>

<p>
Il est désormais simple d'obtenir une copie d'un des réceptacles
contrôlés par CVSync :
</p>
<pre>
        # cd /usr
        # cvs -d /cvs checkout src
</pre>

<p>
Les commandes précitées permettent d'obtenir les dernières sources
disponibles. La plupart des utilisateurs ne veulent obtenir que les
sources correspondant à la dernière version disponible ("release") et
plus particulièrement pour installer les derniers correctifs. Pour
obtenir ces sources, vous devez spécifier une balise lors de l'appel de
la commande. Par exemple :
</p>
<pre>
        # cd /usr
        # cvs -d /cvs checkout -rOPENBSD_3_5 src
</pre>
<p>
Ou <tt>OPENBSD_3_4</tt> pour 3.4, etc.
</p>

<h3>
<a name="CVSROOT"><font color="#0000e0">Serveurs CVSync
Disponibles</font></a> </h3>

<p>Voici la liste des serveurs CVSync disponibles à ce jour :</p>

<p>
<ul>
<li><strong>cvsync.de.openbsd.org</strong><br>
Localisation : Université d'Erlangen-Nuremberg, Erlangen, Allemagne.<br>
Maintenu par <a href="mailto:grunk@pestilenz.org">Alexander von Gernler</a>.<br>
Mis à jour toutes les 2 heures.<br>
<p>
<li><strong>anoncvs1.usa.openbsd.org</strong><br>
Aussi connu sous le nom de <strong>anoncvs.usa.openbsd.org, anoncvs4.usa.openbsd.org</strong>.<br>
Localisation : Redwood City, CA, USA.<br>
Maintenu par <a href="mailto:millert@openbsd.org">Todd Miller</a>.<br>
Mis à jour toutes les 2 heures.<br>
<p>
<li><strong>anoncvs3.usa.openbsd.org</strong><br>
Localisation : National Center for Atmospheric Research, Boulder, CO, USA.<br>
Maintenu par <a href="mailto:millert@openbsd.org">Todd Miller</a>.<br>
Mis à jour toutes les 2 heures.<br>
<p>
<li><strong>cvsync.catai.net</strong><br>
Aussi connu sous le nom de <strong>anoncvs.catai.net</strong>.<br>
Localisation : Vienne, Autriche.<br>
Maintenu par <a href="mailto:martin@openbsd.org">Martin Reindl</a>.<br>
Mis à jour toutes les 2 heures à partir de anoncvs.de.openbsd.org.<br>
<p>
<li><a href="http://mirror.osn.de/"><strong>mirror.osn.de</strong></a><br>
Localisation : N&uuml;rnberg, Allemagne.<br>
Maintenu par <a href="mailto:aw@osn.de">Armin Wolfermann</a>.<br>
Mis à jour toutes les 4 heures à partir de anoncvs1.usa.openbsd.org.<br>
<p>
<li><a href="http://www.allbsd.org/"><strong>cvsync.allbsd.org</strong></a><br>
Localisation : Tokyo, Japon.<br>
Maintenu par <a href="mailto:hrs@allbsd.org">Hiroki Sato</a>.<br>
<p>
<li><strong>cvsync.openbsd.nu</strong><br>
Localisation : Stockholm, Suède.<br>
Maintenu par <a href="mailto:kent@openbsd.nu">Kent Riboe</a>.<br>
Mis à jour toutes les 3 heures à partir de cvsync.de.openbsd.org.<br>
<p>
<li><strong>openbsd.cc.ntu.edu.tw</strong><br>
Localisation : NTU, Taipei, Taiwan.<br>
Maintenu par <a href="mailto:lkchu@ntuee.net">Liang-Kai Chu</a>.<br>
Mis à jour toutes les 2 heures.<br>
<p>
<li><a href="http://mirror.sg.depaul.edu/"><strong>mirror.sg.depaul.edu</strong></a><br>
Localisation : DePaul University, Chicago, IL, USA.<br>
Maintenu par <a href="mailto:mirror-admin@sg.depaul.edu">Eric Pancer</a>.<br>
Mis à jour toutes les 2 heures.<br>
<p>
<li><a href="http://csociety.org/cvsup.html"><strong>cvsync.csociety.org</strong></a><br>
Localisation : Purdue University, West Lafayette, IN, USA.<br>
Maintenu par <a href="mailto:will@csociety.purdue.edu">Will Andrews</a>.<br>
<p>
</ul>

<p>
<em>Remarque :</em> Si votre serveur est listé ci-dessus avec des
informations incorrectes ou incomplètes, merci de bien vouloir contacter
<a href="mailto:beck@openbsd.org"><tt>beck@openbsd.org</tt></a>
ou <a href="mailto:naddy@openbsd.org"><tt>naddy@openbsd.org</tt></a>
</p>
<p>
Nous vous recommandons d'utiliser
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=traceroute&amp;sektion=8">traceroute(8)</a>
pour trouver le serveur le plus proche pour vous. Les problèmes
rencontrés avec un serveur donné doivent être communiqués au
<b>responsable</b> du serveur.
</p>
<p>
Voici la taille des éléments du réceptacle CVS à la date du 21 août
2006 :
</p>
<table>
<tr><td width="20"></td>
    <td><strong>openbsd-ports</strong></td>
    <td>- <b>222</b>MB</td></tr>
<tr><td></td>
    <td><strong>openbsd-src</strong></td>
    <td>- <b>1396</b>MB</td></tr>
<tr><td></td>
    <td><strong>openbsd-www</strong></td>
    <td>- <b>247</b>MB</td></tr>
<tr><td></td>
    <td><strong>openbsd-x11</strong></td>
    <td>- <b>200</b>MB</td></tr>
<tr><td></td>
    <td><strong>openbsd-xf4</strong></td>
    <td>- <b>562</b>MB</td></tr>
<tr><td></td>
    <td><strong>openbsd-cvsroot</strong></td>
    <td>- <b>408</b>MB</td></tr>
</table>
<p>
La taille totale du réceptacle augmente d'environ <b>440</b>MB par an.
</p>
<p>
<strong>REMARQUE IMPORTANTE :</strong>
il y a quelques problèmes en relation avec les logiciels
cryptographiques dont vous devez être conscient(e).
</p>
<ul>
  <li>
    <p>
    Les sources OpenBSD se trouvent au Canada.
    il est légal d'exporter les logiciels cryptographiques du Canada
    vers le monde entier, tel que le précise une
    <a href="http://www.efc.ca/pages/doc/crypto-export.html">étude menée
    par un canadien</a> et la
    <a href="http://axion.physics.ubc.ca/ECL.html">liste 
    de contrôle à l'exportation</a>. 
    </p>
  
  </li> 
  <li> 
    <p>
    Toutefois, si vous êtes situé(e) en-dehors des Etats-Unis d'Amérique
    ou du Canada, vous ne devriez pas récupérer les composants
    cryptographiques d'OpenBSD si le serveur CVSync d'origine se trouve
    aux Etats-Unis d'Amérique. Les fichiers posant problème sont :
    </p>
    <ul>
      <li><tt>src/kerberosIV/*</tt></li>
      <li><tt>src/kerberosV/*</tt></li>
      <li><tt>src/lib/libdes/*</tt></li>
      <li><tt>src/lib/libc/crypt/crypt.c</tt></li>
      <li><tt>src/lib/libc/crypt/morecrypt.c</tt></li>
      <li><tt>src/sys/crypto</tt></li>
      <li><tt>src/sys/netinet</tt></li>
      <li><tt>src/usr.sbin/afs/src/rxkad/*</tt></li>
      <li><tt>XF4/xc-mit/lib/Xdmcp/Wraphelp.c</tt></li>
      <li><tt>XF4/xc-old/lib/Xdmcp/Wraphelp.c</tt></li>
      <li><tt>XF4/xc/lib/Xdmcp/Wraphelp.c</tt></li>
    </ul>
    <p>
     A cause de la liste de restriction à l'exportation ITAR américaine,
     les logiciels cryptographiques ne peuvent être exportés qu'au
     Canada si le serveur d'origine se trouve aux Etats-Unis d'Amérique.
    </p>
  </li>
</ul>

<p>
Le projet OpenBSD est à la recherche d'autres serveurs CVSync. Si vous
êtes intéressé(e), merci de bien vouloir contacter
<a href="mailto:naddy@openbsd.org">Christian Weisgerber</a>
pour les détails de configuration.
</p>

<hr>
<a href="index.html"><img height="24" width="24" src="../back.gif" border="0" alt="OpenBSD"></a> 
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: cvsync.html,v 1.39 ]<br>
$Translation: cvsync.html,v 1.35 2006/09/26 05:41:50 aanriot Exp $<br>
-->
$OpenBSD: cvsync.html,v 1.29 2006/09/26 09:49:59 jufi Exp $
</small>

</body>
</html>

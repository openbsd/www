<!DOCTYPE HTML PUBLIC  "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>OpenBSD/mvme68k</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="resource-type" content="document">
<meta name="description" content="the OpenBSD/mvme68k page">
<meta name="keywords" content="openbsd,mvme68k">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-2004 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238e">
<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" src="../images/smalltitle.gif" border="0"></a>
<p>
<h2><font color="#e00000">OpenBSD/mvme68k</font></h2>

<hr>

<p>
OpenBSD/mvme68k fonctionne sur une large gamme de cartes mères VME à
base de Motorola 680x0.
</p>

<p>
A l'heure actuelle, il n'y a aucun maiteneur pour le port mvme68k.
</p>

<a href="#toc"></a>
<h3><font color="#0000e0"><i>Table des matières</i></font></h3>
<p>
<ul>
  <li><a href="#history">Historique du port</a> 
  <li><a href="#status">Etat actuel</a> 
  <li><a href="#projects">Projets</a>
  <li><a href="#hardware">Matériel supporté</a>
  <li><a href="#install">Obtenir et installer OpenBSD/mvme68k</a> 
  <li><a href="#details">Détails matériels</a> 
</ul>

<hr>
<a name="history"></a>
<h3><font color="#0000e0"><strong>Historique :</strong></font></h3>

<p>
Ce port a été initialement réalisé par Theo
de Raadt en 1995 sous contrat avec Willowglen Singapour. Un port plus
ancien du MVME147 par Chuck Granor basé sur le vieux code DA30 de
Paul Mackerras (et utilisant du matériel donné par
Jonathan Levine à la demande de Theo) a fourni une solide plate-
forme de développement.
</p>

<p>
Bizarrement, Dale Rahn de Motorola avait aussi écrit un port pour
le MVME147 indépendamment. Pour ce qui est du noyau, les deux
ports ont été analysés mais plus de code avait
été écrit par Theo, ou basé sur le code
hp300.
</p>

<p>
Dale a beaucoup aidé durant le port sur les modèles 68040
et a écrit la plupart du code spécifique au modèle
MVME167. Steve Murphee a continué et à fait fonctionner le
MVME177, et ajouté le support pour quelques
périphériques VME.
</p>

<hr>
<a name="status"></a>
<h3><font color="#0000e0"><strong>Etat actuel :</strong></font></h3>

<p>
Actuellement, tout le matériel listé dans la section
<a href="#hardware">matériel supporté</a> ci-dessous
démarre en multi-utilisateur, et supporte assez de
périphériques embarqués pour être
généralement utilisable.
</p>

<p>
OpenBSD/mvme68k est capable de faire fonctionner des binaires sun3 SunOS
via l'option noyau <strong>COMPAT_SUNOS</strong>. Ainsi, la carte
MVME177 est probablement la machine la plus rapide capable de faire
fonctionner des binaires SunOS m68k !
</p>

<p>
Vu qu'aucune carte mvme68k ne possède de
périphériques graphiques, et aucun des framebuffers
Motorola VME n'est supporté à l'heure actuelle, il n'y a
pas de serveur X Window supporté. Cependant, un jeu complet de
clients et d'utilitaires X est disponible, permettant aux machines
OpenBSD/mvme68k de se comporter comme serveurs de polices X11, ou
fonctionner comme clients X sur des affichages distants.
</p>

<hr>
<a name="projects"></a>
<h3><font color="#0000e0"><strong>Project (sans ordre particulier) :</strong></font></h3>

<p>
<ul>
  <li>Supporter MVME172. 
  <li>Supporter MVME135 et MVME136. 
  <li>Supporter MVME165. 
  <li>Travailler sur les cartes périphériques non
      supportées (MVME327, MVME374...)
</ul>

<hr>
<a name="hardware"></a>
<h3><font color="#0000e0"><strong>Matériel supporté :</strong></font></h3>

<p>
<h4>Cartes processeur supportées </h4>

<p>
<ul>
<li><strong>MVME147</strong> (68030)<br>
    Tous les périphériques intégrés sont
    supportés, mis à part le port parallèle.
<li><strong>MVME162</strong> (68040)<br>
    Pratiquement tous les périphériques
    intégrés sont supportés, avec les exceptions
    suivantes :
    <ul>
    <li>Le support du bus VME n'est pas testé
    <li>La mémoire à parité ou ECC n'est pas
        supportée (mais la mémoire fonctionne bien !)
    <li>Lecteur flash non fonctionnel
    <li>Pilote du module IP non testé
    </ul>
<li><strong>MVME167</strong> (68040)<br>
    Fonctionne aussi bien que la MVME162, et le port parallèle
    n'est pas supporté.
<li><strong>MVME177</strong> (68060)<br>
    Fonctionne aussi bien que la MVME167. 
</ul>

<p>
D'autres modèles pourraient fonctionner (MVME165, MVME166, par
exemple).
</p>

<p>
<h4>Cartes d'extension supportées </h4>

<p>
<ul>
  <li><strong>MVME328 </strong>: Contrôleur SCSI
  <li><strong>MVME376</strong>: Ethernet VME Lance 
</ul> 

<hr>
<a name="install"></a>
<h3><font color="#0000e0"> <strong>Obtenir et installer :</strong> </font></h3>

<p>
La dernière version disponible et supportée d'OpenBSD/mvme68k est la
version <a href="36.html">OpenBSD 3.6</a>.
Voici les
<a href="ftp://ftp.OpenBSD.org/pub/OpenBSD/3.6/mvme68k/INSTALL.mvme68k">instructions d'installation d'OpenBSD/mvme68k 3.6</a>.
</p>

<p>
Des snapshots sont mis à disposition de temps à autre, à
<a href="ftp://ftp.OpenBSD.org/pub/OpenBSD/snapshots/mvme68k">cet endroit</a> 
ainsi que sur quelques <a href="ftp.html">miroirs</a>. Voici de
même les
<a href="ftp://ftp.OpenBSD.org/pub/OpenBSD/snapshots/mvme68k/INSTALL.mvme68k">instructions d'installation d'OpenBSD/mvme68k snapshot</a>.
</p>

<hr>
<a name="details"></a>
<h3><font color="#0000e0"><strong>Détails matériels
    :</strong></font></h3>

<p> 
Etant donné que le matériel VME est assez rare sur le marché, cette
section a été créee pour satisfaire la curiosité légitime concernant le
matériel mvme68k.
</p>

<p> 
Cette image représente une carte processeur MVME162, avec les
contrôleurs ethernet et SCSI intégrés, un module IndustryPack, et une
extension mémoire.<br>
<img src="../images/mvme162.gif" width="637" height="468" alt="MVME162 picture">
</p>

<p>
Voici un log de démarrage d'un système MVME177. 
<pre>
OpenBSD 3.2-current (GENERIC) #5: Mon Dec 23 01:49:09 GMT 2002
    miod@bioue.gentiane.org:/usr/src/sys/arch/mvme68k/compile/GENERIC
Motorola  MVME177-011: 60MHz MC68060 CPU+MMU+FPU, 8k on-chip physical I/D caches
real mem = 33554432
avail mem = 27525120 (6720 pages)
using 409 buffers containing 1675264 bytes of memory
mainbus0 (root)
pcctwo0 at mainbus0 addr 0xfff00000: rev 0
clock0 at pcctwo0 ipl 5
cl0 at pcctwo0 offset 0x45000 ipl 3: console
vme0 at pcctwo0 offset 0x40000: system controller
vme0: using BUG parameters
vme0: 1phys 0x02000000-0xefff0000 to VME 0x02000000-0xefff0000
vme0: 2phys 0x00000000-0x00000000 to VME 0x00000000-0x00000000
vme0: 3phys 0x00000000-0x00000000 to VME 0x00000000-0x00000000
vme0: 4phys 0x00000000-0x00000000 to VME 0x00000000-0x00000000
vme0: vme to cpu irq level 1:1
vmes0 at vme0
vmel0 at vme0
ie0 at pcctwo0 offset 0x46000 ipl 1: address 08:00:3e:26:3f:69
ssh0 at pcctwo0 offset 0x47000 ipl 2: version 2 target 7
scsibus0 at ssh0: 8 targets
ssh0: target 0 now synchronous, period=100ns, offset=8
sd0 at scsibus0 targ 0 lun 0: &lt;COMPAQPC, DCAS-32160, S65A&gt; SCSI2 0/direct fixed
sd0: 2006MB, 8188 cyl, 3 head, 167 sec, 512 bytes/sec, 4110000 sec total
memc0 at pcctwo0 offset 0x43000: MEMC040 rev 1
nvram0 at pcctwo0 offset 0xc0000: MK48T08 len 8192
sram0 at mainbus0 addr 0xffe00000: len 131072
boot device: sd0
root on sd0a
rootdev=0x400 rrootdev=0x800 rawdev=0x802
Automatic boot in progress: starting file system checks.
/dev/rsd0a: file system is clean; not checking
/dev/rsd0d: file system is clean; not checking
/dev/rsd0e: file system is clean; not checking
/dev/rsd0f: file system is clean; not checking
/dev/rsd0g: file system is clean; not checking
/dev/rsd0h: file system is clean; not checking
/dev/rsd0i: file system is clean; not checking
setting tty flags
ddb.console: 0 -&gt; 1
kern.splassert: 0 -&gt; 2
starting network
add net default: gateway 10.0.1.101
starting system logger
starting rpc daemons: portmap ypbind rdate timed.
savecore: no core dump
checking quotas: done.
building ps databases: kvm dev.
clearing /tmp
starting pre-securelevel daemons:.
setting kernel security level: kern.securelevel: 0 -&gt; 1
preserving editor files
creating runtime link editor directory cache.
starting network daemons: sendmail inetd sshd.
starting local daemons:.
standard daemons: cron.
Thu Dec 26 18:07:08 GMT 2002

OpenBSD/mvme68k (bioue.gentiane.org) (console)

login: 
</pre>

<hr>
<a href="plat.html">
<img height="24" width="24" src="../back.gif" border="0" alt="Supported platforms">
</a> 
<br>
<small><a href="mailto:www@openbsd.org">www@openbsd.org</a></small>
<br>
<small>
Originally [OpenBSD: mvme68k.html,v 1.57 ]<br>
$Translation: mvme68k.html,v 1.18 2004/10/30 20:53:01 saad Exp $<br>
$OpenBSD: mvme68k.html,v 1.18 2004/10/31 10:01:57 jufi Exp $
</small>

</body>
</html>

<!doctype html>
<html lang=en id=plus>
<meta charset=utf-8>
<title>OpenBSD -current Changelog</title>
<meta name="description" content="OpenBSD -current changes">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="openbsd.css">
<link rel="canonical" href="https://www.openbsd.org/plus.html">
<style>
strong {
	color: var(--red);
	font-weight: normal;
}

h3 {
	color: var(--blue);
}
</style>

<h2 id=OpenBSD>
<a href="index.html">
<i>Open</i><b>BSD</b></a>
-current Changelog
</h2>
<hr>

<p>
This selection is intended to include all important
and all user-visible changes.
For a complete record of all changes, please see the "source-changes"
mailing list, called "OpenBSD CVS"
in the <a href="mail.html#Archives">archives</a>,
or use <a href="anoncvs.html#CVS">CVS</a>.

<p>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus25.html">2.5</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>,
<a href="plus35.html">3.5</a>,
<a href="plus36.html">3.6</a>,
<br>
<a href="plus37.html">3.7</a>,
<a href="plus38.html">3.8</a>,
<a href="plus39.html">3.9</a>,
<a href="plus40.html">4.0</a>,
<a href="plus41.html">4.1</a>,
<a href="plus42.html">4.2</a>,
<a href="plus43.html">4.3</a>,
<a href="plus44.html">4.4</a>,
<a href="plus45.html">4.5</a>,
<a href="plus46.html">4.6</a>,
<a href="plus47.html">4.7</a>,
<a href="plus48.html">4.8</a>,
<a href="plus49.html">4.9</a>,
<a href="plus50.html">5.0</a>,
<a href="plus51.html">5.1</a>,
<a href="plus52.html">5.2</a>,
<a href="plus53.html">5.3</a>,
<br>
<a href="plus54.html">5.4</a>,
<a href="plus55.html">5.5</a>,
<a href="plus56.html">5.6</a>,
<a href="plus57.html">5.7</a>,
<a href="plus58.html">5.8</a>,
<a href="plus59.html">5.9</a>,
<a href="plus60.html">6.0</a>,
<a href="plus61.html">6.1</a>,
<a href="plus62.html">6.2</a>,
<a href="plus63.html">6.3</a>,
<a href="plus64.html">6.4</a>,
<a href="plus65.html">6.5</a>,
<a href="plus66.html">6.6</a>.
<br>

<p>
<h3>Changes made between OpenBSD 6.6 and -current</h3>
<p>

<ul>
<!-- 2020/03/22 -->
<li>Added the <a href="https://man.openbsd.org/ikectl">ikectl(8)</a> "show sa" command to print information about the state of negotiated IKE SAs, their Child SAs and the resulting IPsec flows.
<li>Enabled backlight control use on the Pinebook Pro via <a href="https://man.openbsd.org/wsconsctl">wsconsctl(8)</a>.
<li>Fixed <a href="https://man.openbsd.org/snmp">snmp(1)</a> agent address parsing to allow IPv6 addresses to be used based on format, allow those without brackets to skip the port if it results in a nonsensical address (allowing use of ::1), and try to connect to the address immediately.
<!-- 2020/03/21 -->
<li>Fixed a crash when no device ports have been registered in ofw.
<li>Taught i386 boot(8), cdboot(8) and pxeboot(8) about ffs2.
<li>Added clock support for i.MX8MM.
<!-- 2020/03/20 -->
<li>Disabled <a href="https://man.openbsd.org/apm">apm(4)</a> on the i386 floppy ramdisk.
<li>Added <a href="https://man.openbsd.org/bdpmic">bdpmic(4)</a>, a driver for the ROHM BD71837 and BD71847 Power Management IC.
<li>Added support for reading the i.MX8MM temperature sensors to <a href="https://man.openbsd.org/imxtmu">imxtmu(4)</a>.
<li>Fixed absolute timeout checking in <a href="https://man.openbsd.org/__thrsleep">__thrsleep(2)</a>.
<!-- 2020/03/19 -->
<li>Added the MAXTSLP macro, the maximum sleep duration, to <a href="https://man.openbsd.org/tsleep_nsec">tsleep_nsec(9)</a>.
<li>Updated to <a href="https://man.openbsd.org/unbound">unbound(8)</a> 1.10.0.
<li>Switched USB to use non-coherent buffers for data transfers, dramatically improving performance on some ARM SoCs where the USB controller is not coherent with the caches.
<!-- 2020/03/18 -->
<li>Added an <a href="https://man.openbsd.org/ikectl">ikectl(8)</a> "reset id" command to reset all SAs from policies with matching destination IDs.
<li>Unlocked the <a href="https://man.openbsd.org/flock">flock(2)</a> system call.
<!-- 2020/03/17 -->
<!-- 2020/03/16 -->
<li>Reworked AMD smt/core/package detection, helping prevent cores being misidentified as threads.
<li>Added panel support to <a href="https://man.openbsd.org/rkanxdp">rkanxdp(4)</a>.
<li>Aggregated duplicate <a href="https://man.openbsd.org/bgpd">bgpd(8)</a> roa table prefix/source-as combos as a single entry with the longest maxlen length.
<li>Corrected <a href="https://man.openbsd.org/iked">iked(8)</a> calculation of IPv6 address leases from small address pools.
<li>Taught macppc boot(8) about ffs2.
<!-- 2020/03/15 -->
<li>Taught sparc64 boot(8) (but not the sparc64 bootblocks) about ffs2.
<li>Bumped <a href="https://man.openbsd.org/nvme">nvme(4)</a> max physio() i/o size to 128K.
<!-- 2020/03/14 -->
<!-- 2020/03/13 -->
<li>Resolved syscall speculation in armv7 cpus as in arm64, changing the system call ABI to skip two instructions and inserting speculation-blocking sequences.
<li>Blocked <a href="https://man.openbsd.org/apmd">apmd(8)</a> autoaction for 60 seconds after resume, preventing spurious suspend/resume cycles.
<!-- 2020/03/12 -->
<li>Allowed hppa <a href="https://man.openbsd.org/man8/hppa/boot.8">boot(8)</a>  to read from an ffs2 filesystem.
<li>Added /dev/drm[0-3] on arm64.
<li>Added a <a href="https://man.openbsd.org/tmux">tmux(1)</a> -d flag to run-shell to wait for delay before running the command (or delay with no command).
<li>Added a <a href="https://man.openbsd.org/tmux">tmux(1)</a> copy-mode -H flag to hide the position marker in the top right.
<li>Added <a href="https://man.openbsd.org/tmux">tmux(1)</a> C-g to cancel command prompt with <a href="https://man.openbsd.org/vi">vi(1)</a> keys as well as emacs, and q in command mode.
<li>Modified <a href="https://man.openbsd.org/tmux">tmux(1)</a> -S server socket to be created with umask 177 rather than 117.
<!-- 2020/03/11 -->
<li>Allowed alpha boot(8) to read from an ffs2 filesystem and adapted its custom installboot to deal with ffs2. Also fixed the partition read code to deal with offsets greater than 2G.
<li>Used lfence in place of stac/clac on pre-SMAP CPUs to protect against Load-Value-Injection attacks against the kernel.
<li>Fixed a kernel crash due to unlimited recursion caused by local outbound UDP broadcast/multicast packets sent by a spliced socket.
<!-- 2020/03/10 -->
<li>Unlocked the <a href="https://man.openbsd.org/fcntl">fnctl(2)</a> system call.
<li>Added a policy relookup to <a href="https://man.openbsd.org/iked">iked(8)</a> to replace the default policy based on a received cryptographic parameter proposal.
<!-- 2020/03/09 -->
<li>Added <a href="https://man.openbsd.org/ure">ure(4)</a> support for Lenovo OneLine Plus Dock Ethernet.
<li>Prevented a panic due to missing <a href="https://man.openbsd.org/sysctl">sysctl(2)</a> input validation.
<li>Prevented a kernel hang when no unlocked ffs_softdep worklist items could be processed.
<li>Adapted <a href="https://man.openbsd.org/biosboot">biosboot(8)</a> so that it can read <a href="https://man.openbsd.org/boot.8">boot(8)</a> from an ffs2 filesystem.
<li>Fixed "ipmi0: sendcmd fails" errors when there is an <a href="https://man.openbsd.org/ipmi">ipmi(4)</a> sensor which is enumerated but has failed to be read.
<!-- 2020/03/08 -->
<li>Improved <a href="https://man.openbsd.org/ucom">ucom(4)</a> to fix firmware upload on some microcontroller boards using DTR and RTS as signaling lines to reset the device and enter the bootloader.
<!-- 2020/03/07 -->
<!-- 2020/03/06 -->
<li>Generated three different BIRD outputs with <a href="https://man.openbsd.org/rpki-client">rpki-client(8)</a> -B: v1 with IPv4 and IPv6 routes, and v2.
<li>Added a PCI attachment driver for <a href="https://man.openbsd.org/com">com(4)</a> to support memory-mapped PCI devices which are part of a Low Power Subsystem (LPSS).
<!-- 2020/03/05 -->
<li>Updated <a href="https://man.openbsd.org/perl">perl(1)</a> Term::ReadKey to 2.38.
<li>Implemented microsecond resolution using <a href="https://man.openbsd.org/microuptime">microuptime(9)</a> to avoid a hard hang when starting X on Intel Cherry Trail Atom processors.
<li>Allowed amd64 <a href="https://man.openbsd.org/man8/amd64/boot.8">boot(8)</a> to read from an ffs2 filesystem. Enabled ffs2 for floppy.
<!-- 2020/03/04 -->
<li>Enabled the Rockchip video drivers.
<li>Implemented the page fault handler for CMA GEM buffers and made <a href="https://man.openbsd.org/drm">drm(4)</a> attach to <a href="https://man.openbsd.org/rkdrm">rkdrm(4)</a>, making KMS work on the RK3399 SoC.
<li>Stopped counting pages mapped as PROT_NONE against the RLIMIT_DATA limit, helping code which reserves large chunks of address space but populates it sparsely.
<!-- 2020/03/03 -->
<li>Fixed MiRA's sub-frame error rate computation.
<li>Allowed loongson boot(8) to read from an ffs2 filesystem.
<!-- 2020/03/02 -->
<li>Fixed endian swapping in <a href="https://man.openbsd.org/xhci">xhci(4)</a>, allowing it to work again on octeon and other big endian architectures.
<li>Added <a href="https://man.openbsd.org/rkdwhdmi">rkdwhdmi(4)</a>, a driver for the HDMI transmitter found on the Rockchip RK3399 SoC.
<!-- 2020/03/01 -->
<li>Added support for X553 controllers to <a href="https://man.openbsd.org/ix">ix(4)</a>.
<li>Introduced VPLL clock frequency setting to <a href="https://man.openbsd.org/rkclock">rkclock(4)</a>.
<li>Implemented support for read transfers larger than 32 bytes for <a href="https://man.openbsd.org/rkiic">rkiic(4)</a> controllers and registered the i2c bus, allowing future HDMI support.
<!-- 2020/02/29 -->
<li>Allowed arm64 and armv7 efiboot(8) to read from an ffs2 filesystem.
<!-- 2020/02/28 -->
<!-- 2020/02/27 -->
<li>Injected failure to fetch entropy with an rdrand() timeout as an entropic event, along with an additional rdtsc measuring the vmexit latency.
<!-- 2020/02/26 -->
<li>Introduced <a href="https://man.openbsd.org/mandoc">mandoc(1)</a> nodes which are semantically transparent, skipped when looking for previous or following high-level macros.
<li>Worked around a race condition in <a href="https://man.openbsd.org/iwm">iwm(4)</a> interrupt handling, and synced the fix to <a href="https://man.openbsd.org/iwx">iwx(4)</a>.
<li>Introduced the <a href="https://man.openbsd.org/sndioctl">sndioctl(1)</a> utility to control audio parameters exposed by <a href="https://man.openbsd.org/sndiod">sndiod(8)</a>.
<!-- 2020/02/25 -->
<li>Added a check in <a href="https://man.openbsd.org/vmm">vmm(4)</a> for <a href="https://man.openbsd.org/pvclock">pvclock(4)</a> struct crossing of page boundaries, which could potentially corrupt host memory.
<li>Tightened rdmsr on svm in <a href="https://man.openbsd.org/vmm">vmm(4)</a>.
<li>Added a workaround for delayed SMR dispatch, starting the SMR thread when all CPUs are ready for scheduling.
<li>Added the $REQUEST_SCHEME variable to <a href="https://man.openbsd.org/httpd.conf">httpd.conf(5)</a>, allowing preservation of the original connection type (http or https) for redirect locations.
<li>Increased throughput of the ifq pressure drop mechanism for <a href="https://man.openbsd.org/bwfm">bwfm(4)</a>.
<!-- 2020/02/24 -->
<li>Fixed security vulnerabilities in <a href="https://man.openbsd.org/smtpd">smtpd(8)</a>. Corrected an out-of-bounds read in smtpd allowing an attacker to inject arbitrary commands into the envelope file to be executed as root, and ensured privilege revocation in <a href="https://man.openbsd.org/smtpctl">smtpctl(8)</a> to prevent arbitrary commands from being run with the _smtpq group. Released OpenSMTPD 6.6.4.
<li>Added retries and timeouts for test packets to <a href="https://man.openbsd.org/radiusctl">radiusctl(8)</a>.
<!-- 2020/02/23 -->
<li>Added <a href="https://man.openbsd.org/usb">usb(4)</a> device support for an AMD hub on the APU2 and a Synaptics vendor id and two fingerprint readers.
<!-- 2020/02/22 -->
<li>Fixed a <a href="https://man.openbsd.org/tcpdump">tcpdump(8)</a> crash when printing the contents of a malformed packet where the packet length was smaller than the size of the usbpcap header.
<li>Unlocked the <a href="https://man.openbsd.org/ioctl">ioctl(2)</a> system call.
<!-- 2020/02/21 -->
<li>Added support for devaliases for vnet in <a href="https://man.openbsd.org/ldom.conf">ldom.conf(5)</a>.
<li>Enforced that <a href="https://man.openbsd.org/ksh">ksh(1)</a> TMOUT is an integer literal to prevent command execution from the environment at shell initialization time.
<li>Added <a href="https://man.openbsd.org/rkanxdp">rkanxdp(4)</a>, an attachment driver for <a href="https://man.openbsd.org/anxdp">anxdp(4)</a> on the RK3399.
<li>Added <a href="https://man.openbsd.org/anxdp">anxdp(4)</a>, a driver for the Analogix Display Port controller.
<li>Added <a href="https://man.openbsd.org/rkvop">rkvop(4)</a>, a driver for the RK3399's Video Output Processors.
<li>Added <a href="https://man.openbsd.org/rkdrm">rkdrm(4)</a>, a driver providing kernel mode setting (KMS) functionality for the graphics hardware integrated on Rockchip SoCs.
<li>Added transport mode for child SAs to <a href="https://man.openbsd.org/iked.conf">iked.conf(5)</a>.
<!-- 2020/02/20 -->
<li>Worked around a panic when first accessing PCI config space on some <a href="https://man.openbsd.org/rkpcie">rkpcie(4)</a> cards by introducing a delay after link training.
<li>Added support for devaliases for vdisk in <a href="https://man.openbsd.org/ldom.conf">ldom.conf(5)</a>.
<li>Introduced a <a href="https://man.openbsd.org/tmux">tmux(1)</a> selection_active format for when the selection is present but not moving with the cursor.
<!-- 2020/02/19 -->
<li>Updated en_US.UTF-8.src to Unicode 12.1.
<li>Ensured the first 2MB page of the amd64 kernel is correctly mapped read-only in the direct map.
<li>Corrected http auth combined with proxy auth in <a href="https://man.openbsd.org/ftp">ftp(1)</a>.
<li>Corrected <a href="https://man.openbsd.org/ftp">ftp(1)</a> access to an https server with user/password through the "http_proxy" environment variable.
<!-- 2020/02/18 -->
<li>Detected and prevented simple <a href="https://man.openbsd.org/ssh">ssh(1)</a> configuration loops when using ProxyJump.
<li>Fixed an mbuf corruption issue in net80211 hostap mode when overlarge SSIDs are used.
<li>Added IPv6 support to <a href="https://man.openbsd.org/umb">umb(4)</a>.
<!-- 2020/02/17 -->
<!-- 2020/02/16 -->
<li>Added <a href="https://man.openbsd.org/openssl">openssl(1)</a> s_client -tls1_3 and -notls1_3 options.
<li>Addressed an arm64 speculative execution issue by changing the arm64 system call ABI to skip two instructions and inserting a barrier after each system call.
<!-- 2020/02/15 -->
<li>Fixed an issue where a <a href="https://man.openbsd.org/vmm">vmm(4)</a> guest could write to host memory by passing bogus addresses in <a href="https://man.openbsd.org/pvclock">pvclock(4)</a>.
<li>Added -a to the list-keys command in <a href="https://man.openbsd.org/tmux">tmux(1)</a> to also list keys without notes with -N.
<li>Introduced <a href="https://man.openbsd.org/iwx">iwx(4)</a>, a driver for Intel AX200 WiFi devices.
<!-- 2020/02/14 -->
<li>Prevented buffer overflows with <a href="https://man.openbsd.org/uthum">uthum(4)</a> by not assuming the report length given by the hardware is necessarily smaller than the length of the on-stack buffer.
<li>Pushed the KERNEL_LOCK() inside pgsigio() and selwakeup(), allowing separate addressing of the three subsystems: signal, poll/select and kqueue.
<li>Fixed <a href="https://man.openbsd.org/host">host(1)</a> to provide the correct name of the server to query.
<!-- 2020/02/13 -->
<li>Released <a href="https://www.openssh.com/txt/release-8.2">OpenSSH 8.2</a>.
<!-- 2020/02/12 -->
<li>Implemented a workaround for missing Tx completion interrupts in <a href="https://man.openbsd.org/iwm">iwm(4)</a> which could lead to failed decisions to roam to other APs.
<li>Checked battery life against autoaction level on power change events in <a href="https://man.openbsd.org/apmd">apmd(8)</a>, making -z/-Z work with <a href="https://man.openbsd.org/acpibat">acpibat(4)</a>.
<!-- 2020/02/11 -->
<li>Removed ~/.digrc support in <a href="https://man.openbsd.org/dig">dig(1)</a>.
<li>Added <a href="https://man.openbsd.org/iwx">iwx(4)</a> to <a href="https://man.openbsd.org/fw_update">fw_update(1)</a>.
<!-- 2020/02/10 -->
<li>Fixed the Pinebook Pro's trackpad by ensuring only hid_input items are accepted when walking the HID descriptor.
<li>Added support for the RK3399's VOP clocks to <a href="https://man.openbsd.org/rkclock">rkclock(4)</a>.
<!-- 2020/02/09 -->
<li>Implemented "strip" option in <a href="https://man.openbsd.org/httpd.conf">httpd.conf(5)</a> for fastcgi to be able to have multiple chroots under /var/www for FastCGI servers.
<!-- 2020/02/08 -->
<li>Moved <a href="https://man.openbsd.org/dig">dig(1)</a> to /usr/bin.
<!-- 2020/02/07 -->
<li>Allowed use of window-htile and window-vtile with the "empty" group clients in <a href="https://man.openbsd.org/cwm">cwm(1)</a>.
<li>Extended the <a href="https://man.openbsd.org/ipsecctl">ipsecctl(8)</a> parser to set the udpencap flag and port number of an SA.
<!-- 2020/02/06 -->
<li>Added <a href="https://man.openbsd.org/ssh">ssh(1)</a> -Q key-sig option for all key and signature types, teaching ssh -Q to accept <a href="https://man.openbsd.org/ssh_config">ssh_config(5)</a> and <a href="https://man.openbsd.org/sshd_config">sshd_config(5)</a> algorithm keywords as an alias for the corresponding query.
<li>Fixed PIN entry bugs on FIDO <a href="https://man.openbsd.org/ssh-keygen">ssh-keygen(1)</a>.
<li>Updated to libfido2 780ad3c25.
<li>Added support for handling hello retry requests in the <a href="https://man.openbsd.org/ssl">ssl(8)</a> TLSv1.3 client.
<!-- 2020/02/05 -->
<li>Added support for very old firmware umsm devices with <a href="https://man.openbsd.org/umsm">umsm(4)</a> rather than <a href="https://man.openbsd.org/umb">umb(4)</a>.
<li>Added additional Apollo Lake <a href="https://man.openbsd.org/pci">pci(4)</a> ids.
<li>Added Pericom PI7C9X2G404EL PCIe packet switch <a href="https://man.openbsd.org/pci">pci(4)</a> id.
<li>Added additional Gemini Lake <a href="https://man.openbsd.org/pci">pci(4)</a> ids.
<!-- 2020/02/04 -->
<!-- 2020/02/03 -->
<li>Enabled <a href="https://man.openbsd.org/rge">rge(4)</a>.
<!-- 2020/02/02 -->
<li>Allowed <a href="https://man.openbsd.org/mail.local">mail.local(8)</a> to be run as non-root, opening a pipe to <a href="https://man.openbsd.org/lockspool">lockspool(1)</a> for file locking.
<!-- 2020/02/01 -->
<!-- 2020/01/31 -->
<li>Added an <a href="https://man.openbsd.org/sshd_config">sshd_config(5)</a> "Include" directive to allow inclusion of files.
<!-- 2020/01/30 -->
<li>Unlocked the <a href="https://man.openbsd.org/close">close(2)</a> and <a href="https://man.openbsd.org/dup">dup(2)</a> system calls.
<!-- 2020/01/29 -->
<!-- 2020/01/28 -->
<li>Made <a href="https://man.openbsd.org/acpivout">acpivout(4)</a> stop calling ACPI methods directly to allow changing brightness other ways on certain machines, including the x395.
<li>Fixed a security vulnerability in <a href="https://man.openbsd.org/smtpd">smtpd(8)</a> which could lead to a privilege escalation on mbox deliveries and unprivileged code execution on lmtp deliveries. Released OpenSMTPD 6.6.2.
<!-- 2020/01/27 -->
<li>Added support for the <a href="https://man.openbsd.org/urtwn">urtwn(4)</a> tp-link tl-wn823n (TRL8192EU).
<li>Added <a href="https://man.openbsd.org/tmux">tmux(1)</a> support for adding a note to a key binding with bind-key -N and using this to add descriptions to the default key binding. Using list-keys -N shows key bindings with notes. Changed the default ? binding to show a readable summary of keys.
<!-- 2020/01/26 -->
<li>Set the default brightness level on attachment for <a href="https://man.openbsd.org/pwmbl">pwmbl(4)</a>.
<li>Fixed <a href="https://man.openbsd.org/pwmbl">pwmbl(4)</a> attachment on the Pinebook Pro.
<li>Updated to xserver 1.20.7.
<li>Updated to libepoxy 1.5.4.
<li>Added <a href="https://man.openbsd.org/simplepanel">simplepanel(4)</a>, a driver for simple display panels. This allows enabling of the Pinebook Pro display panel.
<li>Fixed <a href="https://man.openbsd.org/dig">dig(1)</a> support for queries not on port 53, enabling dig -p as well as "set port=" in <a href="https://man.openbsd.org/nslookup">nslookup(1)</a>.
<!-- 2020/01/25 -->
<li>Added a new __tmfd <a href="https://man.openbsd.org/__syscall">__syscall(2)</a> that creates a new, unnamed file in /tmp.
<li>Prevented an <a href="https://man.openbsd.org/amdgpio">amdgpio(4)</a> interrupt storm seen on the Matebook D.
<li>Added support for legacy message callbacks, making <a href="https://man.openbsd.org/openssl">openssl(1)</a> s_client -msg work for handshake messages.
<li>Enabled <a href="https://man.openbsd.org/umt">umt(4)</a> on arm64.
<!-- 2020/01/24 -->
<li>Completed the initial TLSv1.3 implementation.
<li>Extended <a href="https://man.openbsd.org/bgpctl">bgpctl(8)</a> 'show neighbor' to include the received and set prefix count, as well as the max-prefix out limit if set.
<li>Implemented <a href="https://man.openbsd.org/bgpd.conf">bgpd.conf(5)</a> <code>max-prefix NUM out</code> to limit the number of announced prefixes, avoiding leaks of full tables to upstreams and peers.
<!-- 2020/01/23 -->
<li>Retired mesh(4).
<li>Switched to encrypted records in the TLSv1.3 server.
<li>Enabled processing and use of signature algorithms in TLSv1.3.
<li>Allowed <a href="https://man.openbsd.org/dhclient">dhclient(8)</a> configuration of <a href="https://man.openbsd.org/carp">carp(4)</a> interfaces.
<li>Removed ssh-rsa (SHA1) from the list of allowed CA signature algorithms.
<li>Implemented client hello processing in the TLSv1.3 server.
<li>Implemented sending client certificate requests for the TLSv1.3 server.
<!-- 2020/01/22 -->
<li>Switched <a href="https://man.openbsd.org/npppd.conf">npppd.conf(5)</a> to use <a href="https://man.openbsd.org/pppac">pppac(4)</a> instead of <a href="https://man.openbsd.org/tun">tun(4)</a>.
<li>Added <a href="https://man.openbsd.org/ssh-keygen">ssh-keygen(1)</a> "find-principals" to look up the principal associated with a signature from an allowed-signers file.
<li>Added <a href="https://man.openbsd.org/pppac">pppac(4)</a> code for a dedicated PPP Access Concentrator interface.
<li>Recognized BCM4345 rev 9 as shipped with the Pinebook Pro as an AMPAK AP6256 module in <a href="https://man.openbsd.org/bwfm">bwfm(4)</a>.
<li>Improved <a href="https://man.openbsd.org/bwfm">bwfm(4)</a> on the Pinebook Pro by acking SDIO interrupts earlier on <a href="https://man.openbsd.org/dwmmc">dwmmc(4)</a>.
<li>Enabled the TLSv1.3 client in libssl, making it available to clients using libtls, including <a href="https://man.openbsd.org/ftp">ftp(1)</a> and <a href="https://man.openbsd.org/nc">nc(1)</a>.
<li>Implemented support for SSL_peek() in the TLSv1.3 record layer.
<li>Prevented a panic when trying to map a zero-length framebuffer node in the Pinebook Pro's u-boot.
<li>Removed the rtfps(4) driver.
<!-- 2020/01/21 -->
<li>Removed diffie-hellman-group14-sha1 from the default <a href="https://man.openbsd.org/ssh">ssh(1)</a> key exchange.
<li>Fixed cursor issues and suspend/resume on <a href="https://man.openbsd.org/amdgpu">amdgpu(4)</a> due to incomplete unmapping. This may help <a href="https://man.openbsd.org/radeondrm">radeondrm(4)</a> issues as well.
<li>Updated to Mesa 19.2.8.
<li>Allowed configuration of the <a href="https://man.openbsd.org/ospfd">ospfd(8)</a> interface setting "type p2p" to be configured globally or per area.
<li>Imported <a href="https://man.openbsd.org/dt">dt(4)</a>, a driver and framework for Dynamic Profiling, and an accompanying bug tracer that speaks the <a href="https://man.openbsd.org/bt">bt(5)</a> language.
<li>Made <a href="https://man.openbsd.org/__thrsleep">__thrsleep(2)</a> and <a href="https://man.openbsd.org/__thrwakeup">__thrwakeup(2)</a> MP-safe.
<li>Enabled mmhub power gating on picasso within <a href="https://man.openbsd.org/amdgpu">amdgpu(4)</a>.
<li>Fixed <a href="https://man.openbsd.org/ftp">ftp(1)</a> tls_handshake() usage, which would break ftp if an handshake wasn't successfully completed in one try.
<!-- 2020/01/20 -->
<li>Fixed <a href="https://man.openbsd.org/ssh-keygen">ssh-keygen(1)</a> not displaying the authenticator touch prompt.
<li>Fixed support for additional I2C busses in <a href="https://man.openbsd.org/piixpm">piixpm(4)</a> for older SB800 SMBus controllers. Prevented sensors from attaching four times on old AMD machines.
<li>Added support for TLSv1.3 as a protocol to libtls, making <a href="https://man.openbsd.org/tls_config_set_protocols">tls_config_set_protocols(3)</a> recognize and handle "tlsv1.3".
<!-- 2020/01/19 -->
<li>Introduced a new <a href="https://man.openbsd.org/mdoc">mdoc(7)</a> macro .Tg ("tag") to explicitly mark a place as defining a term.
<!-- 2020/01/18 -->
<li>Invalidated the <a href="https://man.openbsd.org/knote">knote(9)</a> list of <a href="https://man.openbsd.org/uhid">uhid(4)</a> after device detach, preventing a crash that can happen when kqueue still holds references to knotes pointing to the device.
<!-- 2020/01/17 -->
<li>Implemented <a href="https://man.openbsd.org/ldomctl">ldomctl(8)</a> "panic -c" to panic a guest domain (and enter <a href="https://man.openbsd.org/ddb">ddb(4)</a>).
<li>Renamed <a href="https://man.openbsd.org/ssh-add">ssh-add(1)</a> -O to -K to load resident keys from a FIDO authenticator.
<li>Implemented a df subcommand for <a href="https://man.openbsd.org/snmp">snmp(1)</a> which outputs disk and memory information in a <a href="https://man.openbsd.org/df">df(1)</a> format.
<li>Implemented a -Cs option in <a href="https://man.openbsd.org/snmp">snmp(1)</a> for snmp walk and bulkwalk, allowing subsections of a tree to be skipped.
<!-- 2020/01/16 -->
<li>Added a -p command line option to <a href="https://man.openbsd.org/iked">iked(8)</a> allowing configuration of the UDP encapsulation port.
<li>Implemented "start -c" in <a href="https://man.openbsd.org/ldomctl">ldomctl(8)</a> to automatically connect to the console.
<!-- 2020/01/15 -->
<li>Allowed <a href="https://man.openbsd.org/pfctl">pfctl(8)</a> to recursively flush rules and tables.
<!-- 2020/01/14 -->
<li>Removed IPsec flow blocking unencrypted IPv6 traffic in <a href="https://man.openbsd.org/iked">iked(8)</a>.
<li>Fixed <a href="https://man.openbsd.org/acpivout">acpivout(4)</a> screen brightness adjustment through function keys, better supporting machines using exponential brightness scaling.
<li>Updated to libXt 1.2.0, xauth 1.1, xhost 1.0.8, viewres 1.0.6, fonttosfnt 1.1.0 and libXmu 1.1.3.
<li>Added <a href="https://man.openbsd.org/amlsm">amlsm(4)</a>, a driver for the "secure monitor" firmware interface.
<li>Added <a href="https://man.openbsd.org/amltemp">amltemp(4)</a>, a driver for the temperature sensors on various Amlogic SoCs.
<!-- 2020/01/13 -->
<li>Fixed Etron EJ168 USB 3.0 Host Controllers via USB 2 devices.
<li>Unlocked <a href="https://man.openbsd.org/kqueue">kqueue(2)</a>.
<li>Added the capability for armv7 boot from another block device than the one from which efiboot was loaded.
<!-- 2020/01/12 -->
<li>Added thermal sensor clocks to <a href="https://man.openbsd.org/amlclock">amlclock(4)</a>.
<li>Removed the <a href="https://man.openbsd.org/tmux">tmux(1)</a> terminal type in favor of flags DECSLRM and DECFRA.
<li>Added a human-readable mode (-h) to <a href="https://man.openbsd.org/systat">systat(1)</a>.
<!-- 2020/01/11 -->
<li>Introduced <a href="https://man.openbsd.org/tsleep_nsec">*sleep_nsec(9)</a> to allow sleeping for a specified minimum duration, allowing use at the syscall layer and elsewhere within the kernel where this minimum duration is required.
<li>Added support for the SIERRA MC7700 to <a href="https://man.openbsd.org/umsm">umsm(4)</a>.
<!-- 2020/01/10 -->
<li>Removed the sli(4) driver.
<li>Fixed channel duplication (-j option) in <a href="https://man.openbsd.org/sndiod">sndiod(8)</a>.
<li>Prevented a kernel panic with "dangling vnode" during forced unmount.
<!-- 2020/01/09 -->
<li>Removed the dpt(4) driver for DPT EATA SCSI RAID.
<!-- 2020/01/08 -->
<li>Added an ADATA SX82000 Pro <a href="https://man.openbsd.org/pci">pci(4)</a> id.
<!-- 2020/01/07 -->
<li>Added -Z to the default <a href="https://man.openbsd.org/tmux">tmux(1)</a> switch-client command in tree mode.
<li>Allowed use of the <a href="https://man.openbsd.org/smtpd">smtpd(8)</a> session username in built-in filters when available.
<li>Corrected verification of TLS certificates in <a href="https://man.openbsd.org/nc">nc(1)</a>.
<!-- 2020/01/06 -->
<li>Implemented scrolling in <a href="https://man.openbsd.org/top">top(1)</a> using the 9 and 0 keys.
<li>Allowed <a href="https://man.openbsd.org/ipmi">ipmi(4)</a> to attach using mmio.
<!-- 2020/01/05 -->
<!-- 2020/01/04 -->
<li>Updated to xorgproto 2019.2, libX11 1.6.9, libXi 1.7.10, libXvMC 1.0.12, libxkbfile 1.1.0 and libXpm 3.5.13.
<li>Allowed freeing of anons as a list of pages rather than one at a time, allowing for more efficient memory freeing.
<li>Introduced a -n option to <a href="https://man.openbsd.org/ldomctl">ldomctl(8)</a> to validate the configuration file and exit.
<li>Prevented a use-after-free causing crashes with <a href="https://man.openbsd.org/uhidev">uhidev(4)</a> devices.
<!-- 2020/01/03 -->
<li>Fixed RAID volume WWIDs for <a href="https://man.openbsd.org/mpii">mpii(4)</a> LSI controllers on sparc64, allowing <a href="https://man.openbsd.org/autoconf">autoconf(9)</a> to identify the volume as the root device and boot off hardware RAID.
<!-- 2020/01/02 -->
<li>Added <a href="https://man.openbsd.org/timeout_set_flags">timeout_set_flags(9)</a> and TIMEOUT_INITIALIZER_FLAGS(9), allowing the caller to initialize timeouts with arbitrary flags.
<li>Added the ability to download FIDO2 resident keys from a token via the <a href="https://man.openbsd.org/ssh-keygen">ssh-keygen(1)</a> -K option and save public/private keys into the current directory.
<li>Unlocked <a href="https://man.openbsd.org/pipe">pipe(2)</a> and <a href="https://man.openbsd.org/pipe2">pipe2(2)</a>.
<li>Introduced option filter-pf-addresses to <a href="https://man.openbsd.org/snmpd.conf">snmpd.conf(5)</a>, allowing the OPENBSD-PF-MIB::pfTblAddrTable tree to be filtered out when many prefixes are stored in pf tables, reducing CPU usage during bulk walks.
<!-- 2020/01/01 -->
<!-- 2019/12/31 -->
<li>Introduced efficient page freeing in reverse order from uvm, greatly improving cases of massive page freeing.
<!-- 2019/12/30 -->
<li>Prevented read-only <a href="https://man.openbsd.org/tmux">tmux(1)</a> clients from limiting the size.
<li>Stopped performing a top-level <a href="https://man.openbsd.org/sort">sort(1)</a> when -c is used with a -k field.
<li>Added <a href="https://man.openbsd.org/ne">ne(4)</a> support on <a href="https://man.openbsd.org/cbus">cbus(4)</a>.
<li>Implemented support for generating FIDO2 resident keys. "ssh-add -O" will load resident keys from a FIDO2 token and add them to an ssh-agent. Removed the -x option currently used for the FIDO/U2F-specific key flags, now under -O.
<li>Removed single letter flags for moduli generation in <a href="https://man.openbsd.org/ssh-keygen">ssh-keygen(1)</a> and moved all moduli generation options to under the -O flag. Breaks existing ssh-keygen commandline syntax for moduli-related operations.
<li>Updated perl to 5.30.1.
<!-- 2019/12/29 -->
<li>Stopped switching to new APs found during background scans with RSSI levels which will also trigger background scans, helping to prevent repeated switching in areas where APs are tuned for low transmit range.
<li>Increased the net80211 node cache size.
<li>Updated to <a href="https://man.openbsd.org/xterm">xterm(1)</a> 351.
<li>Populated logical disk port WWNs with their RAID volume's WWID in <a href="https://man.openbsd.org/mpii">mpii(4)</a>.
<!-- 2019/12/28 -->
<li>Ran <a href="https://man.openbsd.org/cu">cu(1)</a> in restricted mode using -r in <a href="https://man.openbsd.org/vmctl">vmctl(8)</a> and <a href="https://man.openbsd.org/ldomctl">ldomctl(8)</a>.
<!-- 2019/12/27 -->
<li>Attached Symbios Logic Flash Accelerator eMLC cards.
<li>Added support for regex searches in <a href="https://man.openbsd.org/tmux">tmux(1)</a> copy mode.
<!-- 2019/12/26 -->
<li>Stopped generating "cpu" nodes for disabled CPUs in ACPI mode for efiboot, fixing booting on ACPI machines where the MADT table lists CPUs which are disabled.
<li>Added point-to-point <a href="https://man.openbsd.org/ospf6d">ospf6d(8)</a> support for broadcast interfaces.
<!-- 2019/12/25 -->
<!-- 2019/12/24 -->
<li>Introduced TIMEOUT_SCHEDULED flag and tos_scheduled statistic to <a href="https://man.openbsd.org/timeout.9">timeout(9)</a>.
<li>Updated to <a href="https://man.openbsd.org/makedepend">makedepend(1)</a> 1.0.6.
<li>Updated to <a href="https://man.openbsd.org/xrdb">xrdb(1)</a> 1.2.0.
<!-- 2019/12/23 -->
<li>Ensured rdr-to with loopback destination will work even when IP forwarding is disabled.
<li>Added <a href="https://man.openbsd.org/amdgpio">amdgpio(4)</a>, a driver for the GPIO controller found on newer AMD SoC/chipsets.
<!-- 2019/12/22 -->
<!-- 2019/12/21 -->
<li>Added arm64 for support for lldb.
<!-- 2019/12/20 -->
<li>Prevented <a href="https://man.openbsd.org/ftp">ftp(1)</a> from following remote redirects to local files.
<li>Allowed forwarding of a different agent socket to a specified path in <a href="https://man.openbsd.org/ssh">ssh(1)</a>.
<li>Reduced stalling with lossy wifi by improving net80211 handling of the Rx block ack sequence number window and queue.
<li>Disabled TSX when MSR_ARCH_CAPABILITIES sets TSX_CTRL on amd64 and i386. Currently, TSX is disabled unconditionally when possible even if TAA_NO is set.
<!-- 2019/12/19 -->
<li>Fixed <a href="https://man.openbsd.org/rpki-client">rpki-client(8)</a> -j option, which had not been producing any output.
<li>Validated authentication lengths in <a href="https://man.openbsd.org/ripd">ripd(8)</a> before use to prevent crashes.
<!-- 2019/12/18 -->
<li>Updated to <a href="https://man.openbsd.org/unbound">unbound(8)</a> 1.9.6.
<li>Updated to <a href="https://man.openbsd.org/nsd">nsd(8)</a> 4.2.4.
<li>Reenabled firmware-based Tx retries at lower rates for <a href="https://man.openbsd.org/iwm">iwm(4)</a>, reducing packet loss.
<li>Implemented <a href="https://man.openbsd.org/unwindctl">unwindctl(8)</a> status memory to show cache memory usage.
<li>Avoided false positives in <a href="https://man.openbsd.org/witness">witness(4)</a> when detecting lock order reversals by using separate rwlock initializations for userland and kernel maps.
<!-- 2019/12/17 -->
<li>Fixed arm64 speculative execution of instructions after ERET, which had led to spectre-like effects on some processors.
<li>Rejected leases in <a href="https://man.openbsd.org/dhclient">dhclient(8)</a> not providing a subnet mask for the address being provided.
<li>Added <a href="https://man.openbsd.org/fido">fido(4)</a>, an HID driver for FIDO/U2F security keys.
<li>Added parsing of DDR4 and LPDDDR3/4 SPD memories to <a href="https://man.openbsd.org/spdmem">spdmem(4)</a>.
<!-- 2019/12/16 -->
<li>Updated bind to 9.10.8-P1, the last ISC-licensed release.
<li>Added support to <a href="https://man.openbsd.org/lm">lm(4)</a> for NCT6775F, NCT5104D, NCT6779D and NCT679[1235]D sensors.
<li>Added AMD FCH (KERNCZ) to the list of supported devices in <a href="https://man.openbsd.org/piixpm">piixpm(4)</a>.
<li>Updated <a href="https://man.openbsd.org/piixpm">piixpm(4)</a> to support newer AMD chips like Hudson-2 and KERNCZ and implemented multi-bus support for SB800, Hudson-2 and KERNCZ.
<li>Extended the expected SPD types to include DDR4 and low-power DDR3/DDR4.
<li>Added <a href="https://man.openbsd.org/pledge">pledge(2)</a> inet to <a href="https://man.openbsd.org/dig">dig(1)</a>.
<li>Updated bind to 9.10.5-P3. This tree is only used to build <a href="https://man.openbsd.org/host">host(1)</a>, <a href="https://man.openbsd.org/dig">dig(1)</a> and <a href="https://man.openbsd.org/nslookup">nslookup(1)</a>.
<li>Made <a href="https://man.openbsd.org/rpki-client">rpki-client(8)</a> work with the existing cache and not exit if rsync(1) exits non-zero.
<!-- 2019/12/15 -->
<li>Allowed <a href="https://man.openbsd.org/ssh">ssh(1)</a> security keys to act as host keys as well as user keys.
<!-- 2019/12/14 -->
<li>Added support for gen2 negotiation to <a href="https://man.openbsd.org/rkpcie">rkpcie(4)</a> and enabled gen2 link state training when the dtb is configured with max-link-speed = 2.
<li>Introduced a bypass keyword to <a href="https://man.openbsd.org/smtpd">smtpd(8)</a> so that built-in filters can bypass processing when a condition is met.
<li>Updated to libXfont2 2.0.4.
<li>Updated to font/util 1.3.2.
<li>Updated to font/encodings 1.0.5.
<!-- 2019/12/13 -->
<li>Tightened permissions for USB device nodes.
<li>Removed gpr(4).
<li>Used ssh-sk-helper for all security key signing operations and security key enrollment. Most <a href="https://man.openbsd.org/ssh">ssh(1)</a> tools no longer need to link against libfido2 or interact with /dev/uhid* directly.
<li>Added support for CIDR in a: spf atoms in <a href="https://man.openbsd.org/smtpd">smtpd(8)</a>.
<!-- 2019/12/12 -->
<li>Attached <a href="https://man.openbsd.org/pvclock">pvclock(4)</a> with a lower priority in case of unstable tsc rather than not attaching at all.
<li>Prevented an overflow due to <a href="https://man.openbsd.org/xen">xen(4)</a> failing to release the interrupt source when unmasking the interrupt.
<li>Reintroduced socket locking inside socket event filters.
<li>Fixed an issue where <a href="https://man.openbsd.org/adjtime">adjtime(2)</a> could be set so low that time could be frozen until reboot.
<li>Allowed sleeping inside kqueue event filters.
<li>Prevented a hang in the boot loader on the HP EliteBook 830 G6.
<li>Modified <a href="https://man.openbsd.org/tmux">tmux(1)</a> source-file to allow reading from stdin.
<li>Updated to X server 1.20.6.
<!-- 2019/12/11 -->
<li>Started virtual machines defined in <a href="https://man.openbsd.org/vm.conf">vm.conf(5)</a> in a staggered fashion, helping prevent overload of the host and improper tsc calibration in guests.
<li>Modified <a href="https://man.openbsd.org/ldpd">ldpd(8)</a> to lookup the adjacency by LSR id as well as source IP address, as the remote peer may change its LSR id.
<li>Ensured that <a href="https://man.openbsd.org/ld.so">ld.so(1)</a> removed the LD_LIBRARY_PATH environment variable for set-user-ID and set-group-ID executables in low memory conditions.
<!-- 2019/12/10 -->
<li>Provided proper concurrency control when pausing a vm in <a href="https://man.openbsd.org/vmd">vmd(8)</a>.
<li>Fixed <a href="https://man.openbsd.org/isakmpd">isakmpd(8)</a> IKE pcap file creation.
<!-- 2019/12/09 -->
<li>Fixed empty response packages sent out by <a href="https://man.openbsd.org/ripd">ripd(8)</a> when entries are skipped due to split-horizon simple.
<li>Swapped <a href="https://man.openbsd.org/smtpd">smtpd(8)</a> filter response protocol fields to match query protocol. Filters used will need updating.
<li>Re-enabled "syscall call-from" checking.
<li>Modified -z mode verification in <a href="https://man.openbsd.org/signify">signify(1)</a> to save the header and output it, so signify -zV >saved.tgz will keep the signature for later checks.
<!-- 2019/12/08 -->
<li>Reduced the maximum number of frame buffers for <a href="https://man.openbsd.org/uvideo">uvideo(4)</a> to allow running higher resolutions without running out of kernel memory.
<li>Removed kernel VM86 support.
<li>Added a check when IP forwarding is disabled to ensure packet destination address matches interface address.
<!-- 2019/12/07 -->
<li>Reset the login class each time through the loop when using -L (loop) mode with <a href="https://man.openbsd.org/su">su(1)</a>. Fixes CVE-2019-19519.
<!-- 2019/12/06 -->
<li>Retired piixpcib(4).
<li>Stopped hardcoding the cache directory for <a href="https://man.openbsd.org/rpki-client">rpki-client(8)</a>. Cache and output directory will use defaults for root users and must be specified by non-root users.
<!-- 2019/12/05 -->
<li>Enabled full use of jumbo frames on <a href="https://man.openbsd.org/bnx">bnx(4)</a> devices.
<!-- 2019/12/04 -->
<li>Added DEBUG_PKG_CACHE functionality to <a href="https://man.openbsd.org/pkg_add">pkg_add(1)</a>, fetching debug patches when packages are installed.
<li>Fixed <a href="https://man.openbsd.org/xenodm">xenodm(1)</a> to use the libc authentication layer correctly.
<li>Fixed insufficient username validation performed by libc's authentication privilege separation layer and added additional validation points, further validating in <a href="https://man.openbsd.org/login">login(1)</a> and <a href="https://man.openbsd.org/su">su(1)</a>.
<li>Fixed a panic when tearing down vms with <a href="https://man.openbsd.org/vmm">vmm(4)</a>.
<!-- 2019/12/03 -->
<li>Prevented a <a href="https://man.openbsd.org/radiusd">radiusd(8)</a> crash when user does not exist.
<li>Prevented escalation to the auth group in <a href="https://man.openbsd.org/xlock">xlock(1)</a> through path-related environment variables and disabled mesa and opengl functionality.
<li>Added display of mode sense data to <a href="https://man.openbsd.org/scsi">scsi(8)</a> debug.
<li>Added <a href="https://man.openbsd.org/pwmfan">pwmfan(4)</a>, a driver for PWM-regulated fans.
<li>Added <a href="https://man.openbsd.org/rkpwm">rkpwm(4)</a>, a driver for the RK3399's PWM controller.
<li>Added support for the RK3399's PWM clock to <a href="https://man.openbsd.org/rkclock">rkclock(4)</a>.
<!-- 2019/12/02 -->
<li>Added <a href="https://man.openbsd.org/tcpdump">tcpdump(8)</a> support for printing RFC 8300 Network Service Header (NSH).
<li>Added <a href="https://man.openbsd.org/tcpdump">tcpdump(8)</a> support for VXLAN-GPE.
<li>Rewrote dhcpv6 parsing in <a href="https://man.openbsd.org/tcpdump">tcpdump(8)</a> to match the rfc, correctly handling dhcpv6 messages.
<li>Assumed <a href="https://man.openbsd.org/grep">grep(1)</a> -R passed with "." rather than printing a warning by default.
<li>Reverted switch to tickless backend.
<!-- 2019/12/01 -->
<li>Allowed forcing specific domains to be resolved by specific resolvers in <a href="https://man.openbsd.org/unwind.conf">unwind.conf(5)</a>, handling typical split-horizon setups.
<li>Simplified <a href="https://man.openbsd.org/sysupgrade">sysupgrade(8)</a> directory check and creation (/home/_syspatch). It can now be a symlink.
<!-- 2019/11/30 -->
<li>Accepted netmask for IPv6 properly in <a href="https://man.openbsd.org/ifconfig">ifconfig(8)</a>.
<!-- 2019/11/29 -->
<li>Added a create-vdisk command to <a href="https://man.openbsd.org/ldomctl">ldomctl(8)</a> analogous to amd64's <a href="https://man.openbsd.org/vmctl">vmctl(8)</a> create.
<li>Added uvm_objfree to uvm to efficiently free all pages from a uvm object, used in the buffer cache for considerable speedup when freeing pages.
<li>Added <a href="https://man.openbsd.org/rkemmcphy">rkemmcphy(4)</a>, a driver for the RK3399's eMMC PHY.
<li>Added support for the RK3399's eMMC clock to <a href="https://man.openbsd.org/rkclock">rkclock(4)</a>.
<!-- 2019/11/28 -->
<li>Introduced <a href="https://man.openbsd.org/msyscall">msyscall(2)</a>, permitting system calls from selected code regions only: the main program, <a href="https://man.openbsd.org/ld.so">ld.so(1)</a>, libc.so and sigtramp. This is intended to harden against a mixture of W^X failures and JIT bugs allowing syscall misinterpretation.
<li>Modified root's <a href="https://man.openbsd.org/crontab">crontab(1)</a> to run <a href="https://man.openbsd.org/rpki-client">rpki-client(8)</a> and reload <a href="https://man.openbsd.org/bgpd">bgpd(8)</a> configuration, enabling RPKI ROA filtering.
<li>Modified buffer cache to use individual uvm_objs per buffer to speed page lookups.
<li>Decayed the <a href="https://man.openbsd.org/unwind">unwind(8)</a> resolver histogram data over time to reflect strategy performance.
<li>Removed the -r flag in <a href="https://man.openbsd.org/rpki-client">rpki-client(8)</a>. CRLs will always be checked.
<li>Added the "console" command to <a href="https://man.openbsd.org/ldomctl">ldomctl(8)</a> which executes <a href="https://man.openbsd.org/cu">cu(1)</a> on the domain's console.
<li>Printed guest domain <a href="https://man.openbsd.org/vcctty">vcctty(4)</a> devices in status output in <a href="https://man.openbsd.org/ldomctl">ldomctl(8)</a>.
<li>Removed km_mapblocks from kmemstats and its always-zero column from the <a href="https://man.openbsd.org/ddb">ddb(4)</a> "show malloc" output.
<!-- 2019/11/27 -->
<li>Implemented a hexdump command in the bootloader, helping to inspect the memory layout created by the firmware and useful for UEFI debugging.
<li>Added list-io command to <a href="https://man.openbsd.org/ldomctl">ldomctl(8)</a>, listing the available PCIe devices to be used with the iodevice parameter in <a href="https://man.openbsd.org/ldom.conf">ldom.conf(5)</a>.
<li>Measured performance of resolving strategies in <a href="https://man.openbsd.org/unwind">unwind(8)</a>, sorting them and choosing the next best strategy when one fails.
<li>Removed captive portal detection from <a href="https://man.openbsd.org/unwind">unwind(8)</a>.
<li>Reinstated support for monitor mode and multiple frames in <a href="https://man.openbsd.org/iwm">iwm(4)</a>.
<li>Updated GLU to 9.0.1.
<li>Updated libdrm to 2.4.100.
<!-- 2019/11/26 -->
<li>Added support for TLS 1.3 post handshake handshake messages and key updates to <a href="https://www.libressl.org/">LibreSSL</a>.
<li>Fixed <a href="https://man.openbsd.org/scsi">scsi(8)</a> softraid crypto volumes on 4K-sector disks.
<li>Faked disk info to match expected boot disk when EFI bootloader has been received via TFTP, fixing a hang during HP Elitebook UEFI boot.
<li>Fixed kernel crash in pf_ioctl with WITH_PF_LOCK and NET_TASKQ > 1.
<li>Switched to tickless backend in <a href="https://man.openbsd.org/timeout.9">timeout(9)</a>, adding new interface <a href="https://man.openbsd.org/timeout_at_ts">timeout_at_ts(9)</a> to avoid backwardly compatible behavior.
<li>Allowed use of 'auth' as an origin in <a href="https://man.openbsd.org/smtpd.conf">smtpd.conf(5)</a>.
<li>Added support for MSI-X for <a href="https://man.openbsd.org/iwm">iwm(4)</a> devices.
<!-- 2019/11/25 -->
<li>Allowed use of mail-from and rctp-to as for and from parameters in <a href="https://man.openbsd.org/smtpd.conf">smtpd.conf(5)</a>.
<li>Computed RSSI on 9k <a href="https://man.openbsd.org/iwm">iwm(4)</a> devices as for previous generations, fixing spurious signal strength values of over 100%.
<li>Added a <a href="https://man.openbsd.org/tmux">tmux(1)</a> p format modifier for padding to width.
<li>Stored <a href="https://man.openbsd.org/smtp">smtp(1)</a> session usernames in an envelope, allowing the ruleset to match specific users or mailing addresses.
<!-- 2019/11/24 -->
<li>Added "no-touch-required" options to <a href="https://man.openbsd.org/ssh-keygen">ssh-keygen(1)</a> and <a href="https://man.openbsd.org/sshd">sshd(8)</a> to disable touch requirement for authorized_keys and certificates.
<li>Added an <a href="https://man.openbsd.org/sshd_config">sshd_config(5)</a> PubkeyAuthOptions directive allowing specification of whether <a href="https://man.openbsd.org/sshd">sshd(8)</a> should check whether user presence was tested before a security key was made.
<!-- 2019/11/23 -->
<li>Withdrew all proposals on <a href="https://man.openbsd.org/slaacd">slaacd(8)</a> startup to prevent indefinite retention of nameservers on interfaces no longer flagged for autoconf.
<!-- 2019/11/22 -->
<!-- 2019/11/21 -->
<li>Prevented a timeout in <a href="https://man.openbsd.org/ssh">ssh(1)</a> when the server doesn't immediately send a banner, such as with multiplexers like sslh.
<li>Allowed <a href="https://man.openbsd.org/rc.d">rc.d(8)</a> script to reload <a href="https://man.openbsd.org/sndiod">sndiod(8)</a>.
<li>Added tracking of which interfaces have learned nameservers to <a href="https://man.openbsd.org/unwind">unwind(8)</a>.
<!-- 2019/11/20 -->
<li>Improved <a href="https://man.openbsd.org/ksmn">ksmn(4)</a> temperature conversion precision.
<li>Added a quirk to handle Apollo Lake, Gemini Lake and 100 Series Intel SD/MMC <a href="https://man.openbsd.org/sdhc">sdhc(4)</a> controllers which should not have voltages set to 0V.
<li>Added Gemini Lake SD/MMC controller <a href="https://man.openbsd.org/pci">pci(4)</a> ids.
<li>Ensured proper kernel stack alignment on mips64, fixing a panic on octeon related to <a href="https://man.openbsd.org/pppoe">pppoe(4)</a>.
<!-- 2019/11/19 -->
<li>Adjusted on-wire signature encoding for ecdsh-sk <a href="https://man.openbsd.org/ssh">ssh(1)</a> keys to better match ec25519-sk keys.
<!-- 2019/11/18 -->
<li>Fixed an off-by-one TRB issue in bulk transfers larger than 64k, making <a href="https://man.openbsd.org/udl">udl(4)</a> work on <a href="https://man.openbsd.org/xhci">xhci(4)</a>.
<li>Added <a href="https://man.openbsd.org/iwm">iwm(4)</a> support for 9260 and 9560 devices.
<li>Enabled ESP UDP-encapsulation with the <a href="https://man.openbsd.org/iked">iked(8)</a> -t flag.
<li>Added -keyopt option to <a href="https://man.openbsd.org/openssl">openssl(1)</a> cms subcommand, providing rsa_padding_mode:oaep for cms -encrypt and rsa_padding_mode:pss for cms -sign.
<li>Added -f for full size to join-pane in <a href="https://man.openbsd.org/tmux">tmux(1)</a>.
<!-- 2019/11/17 -->
<li>Added <a href="https://man.openbsd.org/rge">rge(4)</a>, a new driver for Realtek 8125 PCI Express 2.5Gb ethernet devices.
<li>Repaired the "set delay" option for <a href="https://man.openbsd.org/pf">pf(4)</a> to function as specified in <a href="https://man.openbsd.org/pf.conf">pf.conf(5)</a>.
<li>Added the initial framework for the TLSv1.3 server.
<li>Used disable-bt overlay with raspberry pi to use <a href="https://man.openbsd.org/pluart">pluart(4)</a> as console, rather than the 'mini uart'.
<!-- 2019/11/16 -->
<li>Added a -d option to <a href="https://man.openbsd.org/pkg_add">pkg_add(1)</a> to add debug packages if present alongside intended updates or additions.
<!-- 2019/11/15 -->
<li>Fixed a segmentation fault in <a href="https://man.openbsd.org/ncurses">ncurses(3)</a>.
<!-- 2019/11/14 -->
<li>Implemented HTTP/1.1 in <a href="https://man.openbsd.org/ftp">ftp(1)</a>.
<li>Added direct support for U2F/FIDO2 security keys in <a href="https://man.openbsd.org/ssh">ssh(1)</a>.
<li>Began resolving captive portal hosts internally in <a href="https://man.openbsd.org/unwind">unwind(8)</a>.
<li>Changed <a href="https://man.openbsd.org/tmux">tmux(1)</a> new-session -A to attach to the best existing session when a session name is not specified, rather than creating a new session.
<li>Added an option to <a href="https://man.openbsd.org/tmux">tmux(1)</a> to set the key sent by backspace for systems using ^H.
<!-- 2019/11/13 -->
<li>Prevented non-root users from using <a href="https://man.openbsd.org/ioctl">ioctl(2)</a> to alter the address of a network interface.
<li>Prevented non-root users from setting the parameters of <a href="https://man.openbsd.org/pppoe">pppoe(4)</a> interfaces.
<li>Prevented a local user from causing the system to hang by reading specific registers when Intel Gen8/Gen9 graphics hardware is in a low power state.
<li>Prevented writes to memory allowed by the Intel Gen9 graphics hardware.
<!-- 2019/11/12 -->
<li>Notified the user via TTY or $SSH_ASKPASS when <a href="https://man.openbsd.org/ssh">ssh(1)</a> security keys must be tapped/touched in order to perform a signature operation.
<li>Enabled ed25519 support in <a href="https://man.openbsd.org/ssh">ssh(1)</a>.
<li>Fixed <a href="https://man.openbsd.org/iwm">iwm(4)</a> support and loaded new firmware for 3168 devices.
<!-- 2019/11/11 -->
<li>Enabled <a href="https://man.openbsd.org/rpki-client">rpki-client(8)</a>.
<li>Printed the URL when <a href="https://man.openbsd.org/sysupgrade">sysupgrade(8)</a> fetches new sets.
<li>Prevented a crash in ieee80211_node2req() which could be triggered by an <a href="https://man.openbsd.org/ioctl">ioctl(2)</a> if the driver had not yet initialized the channel map.
<li>Implemented DNS proposals in <a href="https://man.openbsd.org/unwind">unwind(8)</a> to learn nameservers from network autoconfiguration daemons.
<!-- 2019/11/10 -->
<li>Moved /usr and var remounting earlier to allow <a href="https://man.openbsd.org/unwind">unwind(8)</a> to start before <a href="https://man.openbsd.org/pf">pf(4)</a> is configured.
<li>Added a Content-Security-Policy HTTP header to <a href="https://man.openbsd.org/mandoc">mandoc(1)</a> that allows only CSS.
<li>Added an opportunistic run of <a href="https://man.openbsd.org/fw_update">fw_update(1)</a> to <a href="https://man.openbsd.org/sysupgrade">sysupgrade(8)</a> before rebooting to run the upgrade.
<li>Introduced a "trusted" modifier to <a href="https://man.openbsd.org/ntpd">ntpd(8)</a>, for peers which should be on a local net, used in situations where https constraints cannot be used but auto settime is desired.
<li>Stopped connecting to available open wifi networks when an interface is marked up. This behavior must now be explicitly enabled with <a href="https://man.openbsd.org/ifconfig">ifconfig(8)</a> join "".
<!-- 2019/11/09 -->
<li>Added support for active scan to <a href="https://man.openbsd.org/bwfm">bwfm(4)</a>.
<li>Lowered the priority of APs which fail to connect in the <a href="https://man.openbsd.org/ifconfig">ifconfig(8)</a> join list, allowing switching wifi networks by moving between them without having to down/up the interface or suspend/resume.
<!-- 2019/11/08 -->
<li>Triggered a background scan when root runs the <a href="https://man.openbsd.org/ifconfig">ifconfig(8)</a> scan command, updating the list of cached APs for future scans and forcing a search for a better AP to roam to.
<li>Switched 8260 and 8265 <a href="https://man.openbsd.org/iwm">iwm(4)</a> devices to -34 firmware.
<!-- 2019/11/07 -->
<li>Added support for buttons 2 and 3 to <a href="https://man.openbsd.org/imt">imt(4)</a>.
<li>Enabled DNSSEC validation in <a href="https://man.openbsd.org/unbound">unbound(8)</a> by default.
<li>Prevented non-root users from setting the WEP key on <a href="https://man.openbsd.org/an">an(4)</a> wireless network devices.
<li>Added -F flag to <a href="https://man.openbsd.org/tmux">tmux(1)</a> send-keys to expand formats in search-backward and forward copy mode commands.
<!-- 2019/11/06 -->
<li>Performed constraint validation against 9.9.9.9 and 2620:fe::fe by default in <a href="https://man.openbsd.org/ntpd.conf">ntpd.conf(5)</a>.
<li>Fixed a bug where outstanding frames on the <a href="https://man.openbsd.org/iwn">iwn(4)</a> aggregation queue interfere with roaming to another AP.
<li>Raised net80211's "beacon miss" threshold to avoid frequent reconnects to APs suffering packet loss due to distance.
<!-- 2019/11/05 -->
<!-- 2019/11/04 -->
<li>Removed mobileip(4).
<li>Added <a href="https://man.openbsd.org/ogx">ogx(4)</a>, a driver for the OCTEON III network processor.
<li>Reinstated <a href="https://man.openbsd.org/openssl">OpenSSL(1)</a> CMS.
<li>Switched <a href="https://man.openbsd.org/iwm">iwm(4)</a> 3160, 7260 and 7265 to -17 firmware images.
<li>Enabled DQA mode for <a href="https://man.openbsd.org/iwm">iwm(4)</a>.
<li>Added support for <a href="https://man.openbsd.org/iwm">iwm(4)</a> firmware paging, required for newer 8k device firmware.
<!-- 2019/11/03 -->
<li>Fixed a possible crash in <a href="https://man.openbsd.org/smtpd">smtpd(8)</a> when combining "from rdns" with nested virtual aliases under a particular configuration.
<li>Released <a href="https://man.openbsd.org/smtpd">smtpd(8)</a>.
<li>Added opportunistic DoT support to <a href="https://man.openbsd.org/unwind">unwind(8)</a>.
<!-- 2019/11/02 -->
<li>Hooked <a href="https://man.openbsd.org/rpki-client">rpki-client(8)</a> up to the build.
<li>Enabled CMS in <a href="https://man.openbsd.org/ssl">ssl(8)</a>.
<!-- 2019/11/01 -->
<!-- 2019/10/31 -->
<li>Added initial infrastructure for U2F/FIDO support in <a href="https://man.openbsd.org/ssh">ssh(1)</a>.
<li>Constrained and corrected the routes being deleted when applying a new lease in <a href="https://man.openbsd.org/dhclient">dhclient(8)</a> and corrected route comparison. This corrects a network failure with "arpresolve: ... route contains no information".
<li>Released OpenBGPD 6.6p0.
<li>Added support for RSA-PSS to <a href="https://man.openbsd.org/crypto">crypto(3)</a>.
<li>Added an ASR resolver type to <a href="https://man.openbsd.org/unwind">unwind(8)</a>, using the libc asynchronous resolver directly with DHCP-provided nameservers. Switched to the ASR resolver rather than DHCP when behind a captive portal.
<li>Made background scans less frequent when choosing the same AP.
<!-- 2019/10/30 -->
<!-- 2019/10/29 -->
<li>Began marking stale prefixes in the Adj-RIB-out during graceful reload of <a href="https://man.openbsd.org/bgpd">bgpd(8)</a> and fixed prefix_withdraw to check the correct prefix flags before removing a prefix from the update or withdraw tree.
<li>Added an Intel 9260 wifi card <a href="https://man.openbsd.org/pci">pci(4)</a> id.
<li>Added Marvell 88SE9128 AHCI <a href="https://man.openbsd.org/pci">pci(4)</a> id.
<li>Fixed a bug with the fatal <a href="https://man.openbsd.org/bgpd">bgpd(8)</a> non-existing prefix call to ensure the missing prefix is inserted into the prefix tree.
<li>Fixed <a href="https://man.openbsd.org/bgpd">bgpd(8)</a> crashes where the nexthop_runners tail queue was corrupted.
<!-- 2019/10/28 -->
<li>Improved error handling for <a href="https://man.openbsd.org/bwfm">bwfm(4)</a> connection attempts.
<!-- 2019/10/27 -->
<li>Added code laying groundwork for the use of multiple processors on armv7.
<!-- 2019/10/26 -->
<li>Made <a href="https://man.openbsd.org/vmx">vmx(4)</a> transmit mp-safe.
<li>Corrected <a href="https://man.openbsd.org/clock_getres">clock_getres(2)</a> to provide the actual resolution of a given clock.
<li>Released <a href="https://www.opensmtpd.org/announces/release-6.6.0.txt">OpenSMTPD 6.6.0</a>.
<!-- 2019/10/25 -->
<li>Allowed switching to framebuffer "glass" console on armv7, mirroring previous changes to arm64.
<!-- 2019/10/24 -->
<li>Added retguard for octeon/mips64.
<li>Added a missing <a href="https://man.openbsd.org/unveil">unveil(2)</a> of /etc/shells for <a href="https://man.openbsd.org/passwd">passwd(1)</a>.
<li>Printed IP addresses in verbose mode in <a href="https://man.openbsd.org/nc">nc(1)</a>.
<!-- 2019/10/23 -->
<li>Reverted change to <a href="https://man.openbsd.org/nc">nc(1)</a> fixing the -N flag due to regress failures for tls.
<li>Added <a href="https://man.openbsd.org/sxisid">sxisid(4)</a>, a driver to read the on-chip eFuses.
<li>Added new -N name option to <a href="https://man.openbsd.org/ftp">ftp(1)</a>, allowing calling scripts to change the progname and produce better error messages.
<li>Updated timezone information to reflect DST changes for Fiji and Norfolk Island.
<li>Rewrote the time validity check for mtfs in <a href="https://man.openbsd.org/rpki-client">rpki-client(8)</a> to correctly account for the timezone.
<!-- 2019/10/22 -->
<li>Added the system clock interface <a href="https://man.openbsd.org/nanoboottime">nanoboottime(9)</a>, returning the UTC time at which the system booted in seconds and nanoseconds.
<!-- 2019/10/21 -->
<li>Added <a href="https://man.openbsd.org/sxipwm">sxipwm(4)</a> and <a href="https://man.openbsd.org/pwmbl">pwmbl(4)</a>, drivers which jointly add support for the backlight controller on the Pinebook.
<li>On newer ThinkPads reporting HKEY version > 1, allowed <a href="https://man.openbsd.org/acpivout">acpivout(4)</a> to claim backlight controls rather than <a href="https://man.openbsd.org/wscons">wscons(4)</a>, allowing use of the fine-grained backlight BCL steps defined in <a href="https://man.openbsd.org/acpi">acpi(4)</a>.
<li>Changed <a href="https://man.openbsd.org/acpivout">acpivout(4)</a> to increment and decrement screen brightness based only on brightness level changes of 5% or higher.
<li>Prevented an infinite loop when aborting <a href="https://man.openbsd.org/ulpt">ulpt(4)</a>'s pipe after an I/O error.
<!-- 2019/10/20 -->
<li>Implemented the "parallel boot" feature on compatible sparc64 firmware.
<!-- 2019/10/19 -->
<li>Corrected a memory leak in <a href="https://man.openbsd.org/unwind">unwind(1)</a> when the list of DHCP resolvers doesn't change.
<!-- 2019/10/18 -->
<li>Stopped checking whether the IPv6 source address of a neighbor advertisement is from a neighbor's address, not required in accordance with RFC 4861.
<li>Added support for dynamic queue allocation (DQA) to <a href="https://man.openbsd.org/iwm">iwm(4)</a>.
<!-- 2019/10/17 -->
<li>Corrected cache flush operations on arm64 which were being incorrectly treated as write operations. This fixes a bug where cache flushing caused Firefox to abort.
<li>Fixed the -N flag for <a href="https://man.openbsd.org/nc">nc(1)</a> to shut down the socket when input stops, or when tls is in use and either side of the socket goes away.
<!-- 2019/10/16 -->
<li>Added <a href="https://man.openbsd.org/rpki-client">rpki-client(8)</a> output formats for bird and CSV.
<li>Fixed a potential NULL dereference for revoked hostkeys in <a href="https://man.openbsd.org/ssh">ssh(1)</a>.
<!-- 2019/10/15 -->
<li>Added support for percentage sizes to <a href="https://man.openbsd.org/tmux">tmux(1)</a> resize-pane ("-x 10%") and changed split-window and join-pane -l to accept similar percentages, deprecating the -p option.
<li>Made sparc64 <a href="https://man.openbsd.org/autoconf">autoconf(4)</a> try to match the devid against the bootpath if link->port_wwn doesn't work, helping when booting off of an <a href="https://man.openbsd.org/mpii">mpii(4)</a> controller.
<!-- 2019/10/14 -->
<li>Used <a href="https://man.openbsd.org/unveil">unveil(2)</a> to reduce filesystem access in <a href="https://man.openbsd.org/vmstat">vmstat(8)</a>, <a href="https://man.openbsd.org/iostat">iostat(8)</a> and <a href="https://man.openbsd.org/systat">systat(1)</a>.
<li>Changed <a href="https://man.openbsd.org/httpd">httpd(8)</a> to send a 408 response when a timeout happens while headers are being received, but close the connection if no request is received.
<!-- 2019/10/13 -->
<li>Added an <a href="https://man.openbsd.org/azalia">azalia(4)</a> quirk for the ALC285 on the X1C7 to avoid a clicking noise on the headphone output.
<!-- 2019/10/12 -->
<li>Moved to 6.6-current.
</ul>

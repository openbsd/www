<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>-stable folgen</title>
<link rev=made href="mailto:www@openbsd.org">
<meta name="resource-type" content="document">
<meta name="description" content="stable">
<meta name="keywords" content="openbsd,anoncvs,updates,stable">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-2007 by OpenBSD.">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
</head>

<body bgcolor="#ffffff" text="#000000">
<!-- Passes validator.w3.org, please keep it this way;
please, use a max of 72 chars per line -->

<a href="index.html">
<img alt="[OpenBSD]" height=30 width=141 src="../images/smalltitle.gif" border="0">
</a>

<p>
<h1><font color="#e00000"><i>-stable</i> folgen (dem »Patchbranch«)</font></h1>
<hr>

<h3>Inhaltsverzeichnis</h3>
<p>
<ul>
<li><a href="#whatis">Was ist der <i>-stable</i>/(Patch-)branch?</a>
<li><a href="#getting">Den <i>-stable</i>-Quelltext beziehen</a>
<li><a href="#building">OpenBSD <i>-stable</i> übersetzen</a>
</ul>
<hr>

<a name="whatis"></a>
<h3><font color=#0000e0>Was ist der
<i>-stable</i>/(Patch-)branch?</font></h3>

<p>
OpenBSD hat beginnend mit 2.7 einen Source-Tree, der Patches und Fixes
enthält - d.&nbsp;h. zum einen die Patches, die auf der
<a href="errata.html">Errataseite</a> aufgeführt werden, und zum
anderen weitere simple Korrekturen, die keinen solchen Eintrag
verdienen. Dieser Source-Tree steht neben dem current-Quelltext über
<a href="anoncvs.html">anoncvs</a> zur Verfügung. Benutzer können sich
aussuchen, welchem Branch sie folgen wollen:<p>
<ul> 
<li>Bei dem letzten Release bleiben und die Patches per Hand einspielen.
<li>Den <b>Patchbranch</b> benutzen, der eben diese Patches und
ein paar weitere Korrekturen enthält.
<li>Den <b>current-Quelltext</b> verwenden, um die neuesten
    Funktionalitäten zu nutzen.
</ul>
<p>
<!-- Das <a href="../plus.html">Daily Changelog</a> enthält (neben
anderen Dingen) Details darüber, welche Änderungen in den
Patchbranch aufgenommen wurden. -->
Generell gilt, dass alle Patches innerhalb von 48 Stunden nachdem ein
Eintrag in die <a href="errata.html">Errataliste</a> erfolgte in den
Patchbranch eingefügt werden. Andere Patches für das jeweilige Release
können ebenfalls eingefügt werden, was aber von den folgenden
Bedingungen abhängig ist:
<ul>
<li>Die Patches müssen einfach, schnell und offensichtlich 100%ig
    korrekt sein.
<li>Einträge in die Errataliste werden für Fehler gemacht, die viele
    Leute betreffen. Andere Patches werden aber auch dann eingefügt,
    wenn zwar nur wenige Leute betroffen sind, diese aber besonders
    stark.
<li>Bitte frage nicht nach großen Subsystemen oder Patches, die
    eingefügt werden sollen. Den Patchbranch zu pflegen kostet viel
    Zeit und Mühe, die sinnvoller investiert wäre, unser nächstes
    Release besser zu machen.
<li>Neue oder geänderte Funktionalitäten, Hardwareunterstützungen
    oder APIs werden <i>nicht</i> eingepflegt. Generell gilt: falls
    eine Manualseitenänderung notwendig ist, wird die Korrektur nicht
    in den Patchbranch eingebunden.
<li>Ausnahme der obigen Regeln sind OpenSSH-Patches, die in jedem Fall
    eingefügt werden.
</ul>
<p>

Des Weiteren sei erwähnt, dass der Name <i>-stable</i> sich NUR
darauf bezieht, dass sich die API und Funktionen von OpenBSD nicht
ändern, nicht etwa auf die Gesamtzuverlässigkeit des Systems.
Es ist sogar so, dass (wenn alles glatt läuft) das
<a href="../faq/de/faq5.html#Flavors">Flavor</a> <i>-current</i> von
OpenBSD (das zum nächsten <i>-release</i> wird) bessere
Zuverlässigkeit, Sicherheit und Gesamtqualität aufweist als das
frühere <i>-release</i> und <i>-stable</i>.

<a name="getting"></a>
<h3><font color=#0000e0>Den <i>-stable</i>-Quelltext beziehen</font></h3>

<p>
Um den Patchbranch für ein spezielles Release von OpenBSD zu
bekommen, kannst du entweder den bereits existierenden Source-Tree
aktualisieren (von <a href="ftp.html">FTP</a> oder der
<a href="orders.html">CD</a>) oder den Quelltext frisch von
einem <a href="anoncvs.html">AnonCVS</a>-Server beziehen (Vorsicht:
Das ist eine ganze Menge Quelltext!).
Instruktionen, um den Patchbranch zu bekommen, gibt es in der
Sektion <b>Den Anfang mit AnonCVS finden</b> der
<a href="anoncvs.html#starting">AnonCVS-Dokumentation</a>.
Denk daran, dass die Patchbranches nicht dafür vorgesehen sind, um
von einem Release auf ein anderes zu wechseln, z.&nbsp;B. von 3.9 auf
4.0. Sie sind nur sinnvoll, um die Patches auf dem aktuellen Stand zu
halten.

<p>
Versuche nicht, mit dem Quelltext von einem Release zum nächsten
zu wechseln. Lies hierfür die
<a href="../faq/de/upgrade40.html">Upgradeanleitung</a>. Außerdem
kannst du nicht von -current zurück auf -stable wechseln, da es dabei
Probleme mit den Bibliotheksversionen und anderen Änderungen gäbe.

<a name="building"></a>
<h3><font color=#0000e0>OpenBSD <i>-stable</i> übersetzen</font></h3>
Eine vollständige Beschreibung, wie man Quelltext übersetzt,
befindet sich in <a href="../faq/de/faq5.html">FAQ 5 - Das System aus
dem Quelltext erzeugen</a>. Dies ist eine kurze Zusammenfassung.

<p>
Sobald du erstmal einen Source-Tree über
<a href="anoncvs.html">anoncvs</a> heruntergeladen hast, musst du das
System neu übersetzen. Folgende Schritte sind dafür notwendig:

<ul>
 <li>den Kernel neu übersetzen
 <li>mit dem neuen Kernel neustarten
 <li>die Binarys neu übersetzen
</ul>

<h4><font color="#0000e0">Den Kernel neu übersetzen</font></h4>

<p>
Um den Standardkernel aus -stable zu übersetzen:
<blockquote><pre>
# <strong>cd /usr/src/sys/arch/i386/conf</strong>
# <strong>/usr/sbin/config GENERIC</strong>
# <strong>cd /usr/src/sys/arch/i386/compile/GENERIC</strong>
# <strong>make clean &amp;&amp; make depend &amp;&amp; make</strong>
</pre></blockquote>

<p>
Ersetze <i>i386</i> mit deiner Architektur, z.&nbsp;B.
<i>sparc</i>, <i>alpha</i> etc.

<h4><font color="#0000e0">Mit dem neuen Kernel neustarten</font></h4>

<p>
Um mit dem neu übersetzten Kernel zu booten:
<blockquote><pre>
# <strong>cd /usr/src/sys/arch/i386/compile/GENERIC</strong>
# <strong>make install</strong>       <i>(Installiert neuen Kernel sicher)</i>
# <strong>reboot</strong>
</pre></blockquote>

<p>
Ersetze die Architektur wie zuvor (statt <i>i386</i> nimmst du deine).
Falls dein System Schwierigkeiten hat, mit dem neuen Kernel zu
booten, nimm einfach wieder den alten, der jetzt <i>obsd</i> heißt.

<h4><font color="#0000e0">Die Binarys neu übersetzen</font></h4>

<p> Um die Systembinarys neu zu übersetzen:
<blockquote><pre>
# <strong>rm -rf /usr/obj/*</strong>
# <strong>cd /usr/src</strong>
# <strong>make obj</strong>
# <strong>cd /usr/src/etc &amp;&amp; env DESTDIR=/ make distrib-dirs</strong>
# <strong>cd /usr/src</strong>
# <strong>make build</strong>
</pre></blockquote>

<p>Das wird eine Weile dauern&nbsp;...

<p>
Falls du mehrere Maschinen mit <i>-stable</i> verwaltest, kannst du
am besten ein <a href="../faq/de/faq5.html#Release">Release</a>
erstellen, das über die
<a href="../faq/de/faq4.html#FilesNeeded">Dateisets</a> der
Standardinstallation verfügt. Mit diesen kannst du einfach und schnell
eine Installation auf den Maschinen der gleichen
<a href="plat.html">Plattform</a> durchführen.

<hr>
<a href=index.html><img height=24 width=24 src=../back.gif border=0 alt="OpenBSD"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br><small>
<!--
Originally [OpenBSD: stable.html,v 1.24 ]<br>
$Translation: stable.html,v 1.41 2007/03/21 21:37:49 paldium Exp $<br>
-->
$OpenBSD: stable.html,v 1.39 2007/03/22 07:49:17 jufi Exp $
</small>
</body>
</html>

<!DOCTYPE HTML PUBLIC  "-//IETF//DTD HTML Strict//EN">
<html>
<head>
<title>OpenBSD/hp300</title>
<link rev=  "made"          href=    "mailto:www@openbsd.org">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD/hp300 page">
<meta name= "keywords"      content= "openbsd,hp300">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 1996, 1997, 1998, 1999 by OpenBSD.">
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#23238E">

<h2>OpenBSD/hp300</h2>

<hr>
<h3><font color=#0000e0><strong>History and Status:</strong></font></h3>

<p>
OpenBSD follows in the footsteps of 4.4BSD by supporting the hp300; most
types of machine are supported with 68020 or better processors, along with
SCSI and HPIB storage devices.
</p>

<p>
OpenBSD/hp300 runs 8k pagesize executables natively (the first operating
system for the hp300 to do so), maintaining the standard binary format
used by all other OpenBSD m68k platforms.
</p>

<p>
The hp300 port has now also switched to the regular config(8) for kernel
configuration.  This enables the port to support things like
<i>User Kernel Config</i> and, in the future, the generic SCSI sub-system.
</p>

<hr>
<h3><font color=#0000e0><strong>Supported Hardware:</strong></font></h3>

<p>
<ul>
<li>CPUs:
<ul>
<li>68020-based: 318, 319, 320, 330, and 350.
<li>68030-based: 340, 345, 360, 370, 375, and 400<sup>(1)</sup>.
<li>68040-based: 380, 385, 425<sup>(1)</sup>, and 433<sup>(1)</sup>.
</ul>
<li>Disks:
<ul>
<li>Most HP-IB/CS80, including: 7912, 7914, 7933, 7936, 7937, 7945, 7957,
7958, 7959, 2200, and 2203.
<li>SCSI-I<sup>(2)</sup>, including magneto-optical and CD-ROM.
</ul>
<li>Tape drives:
<ul>
<li>Low-density HP-IB/CS80 cartridge: 7914, 7946, and 9144.
<li>High-density HP-IB/CS80 cartridge: 9145.
<li>HP-IB/CS80 1/2": 7974A, 7978A/B, 7979A, 7980A, and 7980XC.
<li>SCSI: HP DAT, Exabyte, and SCSI QIC drives such as the Archive Viper.
</ul>
<li>RS232 interfaces:
<ul>
<li>98644 built-in and add-on card single port (<i>dca</i>).
<li>98642 4-port mux (<i>dcm</i>).
<li>98638 8-port mux (<i>dcm</i>).
<li>400-series Apollo 3-port serial/keyboard mux (<i>apci</i>).
<br>(The first port is typically configured as a <i>dca</i> device.)
</ul>
<li>Network interfaces:
<ul>
<li>98643 built-in and add-on LAN cards.
</ul>
<li>Displays:
<ul>
<li>98543, 98544, 98545, and 98547 color and monochrome Topcat.
<li>98548, 98549, 98550, and A1416A color and monochrome Catseye.
<li>98700 and 98710 Gatorbox.
<li>98720 and 98721 Renaissance.
<li>98730 and 98731 DaVinci.
<li>A1096A monochrome Hyperion.
</ul>
<li>Input devices:
<ul>
<li>General interface supporting all HIL devices: keyboard, 2 and 3 button
mice<sup>(3)</sup>, and ID module.
<li>400-series Apollo keyboards (bootblocks, kernel soon).
</ul>
<li>Miscellaneous:
<ul>
<li>Battery-backed real-time clock.
<li>98624 built-in HP-IB interface.
<li>98625A and 98625B `fast' HP-IB interface.
<li>98658A built-in and add-on SCSI interface.
<li>Printers and plotters on RS232 and HP-IB.
<li>SCSI autochanger.
</ul>
</ul>
</p>
<p>
<sup>(1)</sup> 400-series machines configured for <i>Domain/OS</i> are not fully
supported; the ROMs must be in <i>HP-UX mode</i> in order to boot the system.
See the <a href=hp300/hp300faq.html>hp300 FAQ page</a> for information on how to
change the ROM mode.
<br>
<sup>(2)</sup> SCSI-II drives are known to work, though this may require
changing a jumper on some drives.  See your disk's documentation for details.
<br>
<sup>(3)</sup> Serial mice connected to a <i>HIL to quad</i> converter are also
known to work.
</p>

<p>
Much more information about hardware configuration may be found on the
<a href=hp300/hp300faq.html>hp300 FAQ page</a>.
</p>

<hr>
<h3><font color=#0000e0><strong>Notably Unsupported Hardware:</strong></font></h3>

<p>
<ul>
<li>SGC bus on the 425e, and all associated frame buffers.
<li>310 and all other 68010 based systems.
</ul>
</p>

<hr>
<h3><font color=#0000e0><strong>Compatibility Notes and Known Bugs:</strong></font></h3>

<p>
OpenBSD/hp300 is known to run old pre-1.2 NetBSD m68k4k binaries via the
<strong>COMPAT_M68K4K</strong>, <strong>COMPAT_10</strong> and
<strong>COMPAT_11</strong> kernel options; it is assumed that it will
also still run hp300 4.4BSD binaries.  <strong>COMPAT_SUNOS</strong> may be
used to run sun3 SunOS binaries (a few have been tested and work). 
<strong>COMPAT_HPUX</strong> is also available, but has not been tested.
</p>

<p>
Slower machines may sometimes have problems booting from
a serial console.  The symptom of this are panics during the kernel
autoconfiguration process; this can be avoided by using faster/different
terminals or by eliminating the terminal's use of flow control.
</p>

<p>
There is now (untested) support for the 425e; a terminal must be connected
to the first serial port in order to boot the system.  If anyone gets
a 425e to work, please let me know.
</p>

<hr>
<p>
<a href=ftp.html>Snapshots are made available from time to time.</a>

<p>
There is currently no official maintainer for the hp300 port.
</p>

<hr>
<a href=plat.html><img height=24 width=24 src=back.gif border=0 alt=OpenBSD></a> 
<a href=mailto:www@openbsd.org>www@openbsd.org</a>
<br>
<small>$OpenBSD: hp300.html,v 1.29 2001/05/07 15:55:55 millert Exp $</small>

</body>
</html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>OpenBSD 5.9 Changelog</title>
<meta name="description" content="OpenBSD 5.9 changes">
<meta name="copyright" content="This document copyright 1996-2016 by OpenBSD.">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="openbsd.css">
<link rel="canonical" href="http://www.openbsd.org/plus59.html">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238e">

<h2>
<a href="index.html">
<font color="#0000ff"><i>Open</i></font><font color="#000084">BSD</font></a>
<font color="#e00000">5.9 Changelog</font>
</h2>
<hr>

<p>
This selection is intended to include all important
and all user-visible changes.
For a complete record of all changes, please see the "source-changes"
mailing list, called "OpenBSD CVS"
in the <a href="mail.html#Archives">archives</a>,
or use <a href="anoncvs.html#CVS">CVS</a>.

<p>
Note: <font color="#e00000">Problems for which patches exist are marked in red</font>.

<p>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus25.html">2.5</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>,
<a href="plus35.html">3.5</a>,
<a href="plus36.html">3.6</a>,
<br>
<a href="plus37.html">3.7</a>,
<a href="plus38.html">3.8</a>,
<a href="plus39.html">3.9</a>,
<a href="plus40.html">4.0</a>,
<a href="plus41.html">4.1</a>,
<a href="plus42.html">4.2</a>,
<a href="plus43.html">4.3</a>,
<a href="plus44.html">4.4</a>,
<a href="plus45.html">4.5</a>,
<a href="plus46.html">4.6</a>,
<a href="plus47.html">4.7</a>,
<a href="plus48.html">4.8</a>,
<a href="plus49.html">4.9</a>,
<a href="plus50.html">5.0</a>,
<a href="plus51.html">5.1</a>,
<a href="plus52.html">5.2</a>,
<a href="plus53.html">5.3</a>,
<br>
<a href="plus54.html">5.4</a>,
<a href="plus55.html">5.5</a>,
<a href="plus56.html">5.6</a>,
<a href="plus57.html">5.7</a>,
<a href="plus58.html">5.8</a>,
<a href="plus60.html">6.0</a>,
<a href="plus.html">current</a>.
<br>

<p>
<h3><font color="#0000e0">Changes made between OpenBSD 5.8 and 5.9</font></h3>
<p>

<ul>
<!-- 2016-02-26 -->
<li>When doing a lookup in the routing table, account for the fact that L2 entries are always in the first table of a routing domain. This fixes a regression introduced during 5.7 and 5.8.
<!-- 2016-02-24 -->
<li>Fix ECMP routing by passing the correct destination address to the hash routine.
<li>On hppa, hppa64, macppc and sgi, restore validity checks for the disklabels read from disk. This fixes a problem when reading CDROM disklabels.
<!-- 2016-02-23 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/pkg_add.1">pkg_add(1)</a>, sanitize the environment thru a whitelist. Only pass what is relevant for <a href="http://man.openbsd.org/OpenBSD-current/man1/ftp.1">ftp(1)</a> and similar programs.
<!-- 2016-02-22 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/macppc/pdisk.8">pdisk(8/macppc)</a>, fix display of pdisk partition sizes.
<li>In the installer, fix macppc installs to HFS-partitioned disks.
<li>Ensure the IP header is aligned correctly in the copies of multicast/broadcast packets received by a physical interface with <a href="http://man.openbsd.org/OpenBSD-current/man4/carp.4">carp(4)</a> interfaces on it.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh.1">ssh(1)</a>, fix a spurious error message when an incorrect passphrase is entered for keys.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/patch.1">patch(1)</a>, properly handle ed-files which fully replace input file content.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/smtpd.8">smtpd(8)</a>, avoid overriding the user-provided address family for a listener.
<!-- 2016-02-21 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/eigrpd.8">eigrpd(8)</a>:
<ul>
<li>Filter RTM_GET messages which are not from us.
<li>Make eigrpd(8) work against newer IOS routers.
<li>Add scope id only for unicast IPv6 packets.
<li>Skip redistributed routes when updating the FIB.
</ul>
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/tcpdump.8">tcpdump(8)</a>, show details of beacon country elements in verbose mode only.
<!-- 2016-02-20 -->
<li>On i386, fix a boot issue on non-ACPI i386 machines that need X permissions on the BIOS region in the ISA hole.
<li>On alpha, re-enable OpenGL.
<li>On alpha, avoid an ICE generated when building mesa with -O2.
<!-- 2016-02-19 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/azalia.4">azalia(4)</a>, enable snooping on Intel C610.
<li>In random subsystem, avoid a undefined behaviour when using right shift operation.
<!-- 2016-02-18 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/em.4">em(4)</a>, add support for the Intel I219 network chip.
<li>On arm, disable the stack protector when building libstdc++.
<!-- 2016-02-17 -->
<li>In ssh, unbreak SSHv1.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/syslogd.8">syslogd(8)</a>, prevent an integer overflow in syslogd when parsing the priority.
<li>In /etc/ssl/cert.pem, add a few root certificates from Mozilla's cert store.
<!-- 2016-02-16 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/sshd.8">sshd(8)</a>, make sandboxed privilege separation the default.
<!-- 2016-02-15 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tar.1">tar(1)</a>, ignore trailing slashes and skip over duplicate slashes in chk_path() to avoid infinite loop when creating intermediate directories.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh.1">ssh(1)</a>, add a "Close session" log entry (at loglevel=verbose) to correspond to the existing "Starting session" one.
<!-- 2016-02-14 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tar.1">tar(1)</a>, fix archiving a 101-character absolute path in ustar format.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/httpd.8">httpd(8)</a>, fix a double free in the patterns code.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/softraid.4">softraid(4)</a>, avoid using uninitialized variables in two corner cases.
<!-- 2016-02-13 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/smtpd.8">smtpd(8)</a>, add the "listen on socket" <a href="http://man.openbsd.org/OpenBSD-current/man5/smtpd.conf.5">smtpd.conf(5)</a> rule.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/iwm.4">iwm(4)</a>, initialize net80211 callback pointers at attach time. This fixes a crash.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/makemap.8">makemap(8)</a>, remove support for "dbm".
<!-- 2016-02-12 -->
<li>Remove the "GenuineIntel" check from x86 mdrandom(). This enables the use of RDRAND and TSC fallback on CPUs from other vendors, notably AMD.
<!-- 2016-02-11 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh.1">ssh(1)</a>, avoid fatal error for PKCS11 tokens that present empty key IDs (bz#1773).
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man9/ieee80211.9">ieee80211(9)</a>, don't pass QoS "no data" frames to the A-MPDU reordering logic. This avoids major confusion.
<!-- 2016-02-10 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/ipmi.4">ipmi(4)</a>, check the sensor name length more carefully. This avoids a panic on the Dell R210 II.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/sftp.1">sftp(1)</a>, fix a regression where existing destination directories would incorrectly terminate recursive uploads (bz#2528).
<!-- 2016-02-09 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/wsconsctl.8">wsconsctl(8)</a>, hidms and <a href="http://man.openbsd.org/OpenBSD-current/man4/uts.4">uts(4)</a>, permit negative x and y coordinates in mouse.scale.
<li>On hppa64, make __cpu_simple_lock provide serialisation of the critical section. This makes atomic sequences actually atomic.
<li>In 5.8, fix a bug in <a href="http://man.openbsd.org/OpenBSD-current/man4/vlan.4">vlan(4)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man4/carp.4">carp(4)</a> refcounting. This will cause a panic when root does an "ifconfig destroy" of a the parent interface. (5.7 and -current are not affected.)
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man9/ieee80211.9">ieee80211(9)</a>, log frames which fall outside the BlockAack window in <a href="http://man.openbsd.org/OpenBSD-current/man8/dmesg.8">dmesg(8)</a> if the interface debug flag is set.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/pkg_add.1">pkg_add(1)</a>, drop privileges prior to running <a href="http://man.openbsd.org/OpenBSD-current/man1/ftp.1">ftp(1)</a>.
<!-- 2016-02-08 -->
<li>On hppa, make __cpu_simple_lock provide serialisation of the critical section. This makes atomic sequences actually atomic.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh.1">ssh(1)</a>, turn off more old crypto: hmac-md5, ripemd, truncated HMACs, RC4 and blowfish.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh.1">ssh(1)</a>, do not attempt to percent-expand an already-canonicalised addresses. This avoids unnecessary failures when attempting to connect to scoped IPv6 addresses.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/hexdump.1">hexdump(1)</a>, fix a bug that caused nothing to be skipped when skipping exactly the number of bytes present in a regular file was requested.
<li>In 5.8, fix a kernel crash when root creates, changes or destroys <a href="http://man.openbsd.org/OpenBSD-current/man4/carp.4">carp(4)</a> interfaces multiple times with <a href="http://man.openbsd.org/OpenBSD-current/man8/ifconfig.8">ifconfig(8)</a>. (5.7 and -current are not affected.)
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh.1">ssh(1)</a>, make application of rekey limits more accurate (related to bz#2521).
<!-- 2016-02-07 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man9/ieee80211.9">ieee80211(9)</a>:
<ul>
<li>Work around buggy APs which occasionally emit sequence numbers much higher than the current 11n BlockAck window.
<li>Stop requiring a BlockAck session timeout. Just use it if the AP is asking for it.
</ul>
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/iwn.4">iwn(4)</a>, fix off-by-one in a loop termination condition.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/dhcpd.8">dhcpd(8)</a>, avoid a use-after-free when parsing address ranges from a config.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/vmd.8">vmd(8)</a>, avoid a double free in an error path.
<!-- 2016-02-06 -->
<li>Update to xkeyboard-config 2.17.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/pchtemp.4">pchtemp(4)</a>, add support for the Intel 9 Series.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/radeondrm.4">radeondrm(4)</a>, enable the code that reads the BIOS from the ACPI VFCT table on platforms with ACPI.
<!-- 2016-02-05 -->
<li>Fix <a href="http://man.openbsd.org/OpenBSD-current/man4/iwn.4">iwn(4)</a> CCMP replay detection so it does not drop out-of-order A-MPDU subframes. This helps 11n mode with WPA.
<li>In the msdosfs code, guard against integer overflow when checking whether writing to a file stays within the maximum file size.
<li>Make <a href="http://man.openbsd.org/OpenBSD-current/man1/write.1">write(1)</a> explicitly ASCII only. This prevents sending of potentially harmful bytes to terminals that do not support UTF-8.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/iwm.4">iwm(4)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man4/iwn.4">iwn(4)</a>, set max A-MPDU length to 64k instead of 4k and tell the firmware about A-MPDU spacing.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man9/ieee80211.9">ieee80211(9)</a>, store ADDBA request and response parameters in the block ack record. Now it is possible keep track of the ACK policy and echo it back to the AP. This fixes Apple Airport APs.
<li>On mips64, re-enable OpenGL.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh.1">ssh(1)</a>, fix a problem where the mux master would sporadically fail to notice that the client had exited.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tmux.1">tmux(1)</a>, do not wrap cursor at start or end of history.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man1/talk.1">talk(1)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man8/talkd.8">talkd(8)</a>.
<!-- 2016-02-04 -->
<li>On amd64 and i386, add /dev/ipmi0.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/ipmi.4">ipmi(4)</a>, implement FreeBSD-compatible IOCTL to access BMC.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/iwn.4">iwn(4)</a>:
<ul>
<li>Restore the CCMP key to firmware after HT protection setting updates. This unbreaks WPA in 11n mode.
<li>Pass 802.11 control frames in monitor mode.
</ul>
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man9/ieee80211.9">ieee80211(9)</a>, restore the BlockAck session timer.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/smtpd.8">smtpd(8)</a>, when deleting a message, remove associated envelopes from the cache.
<li>In the ext2fs and ufs code, prevent a signed overflow.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/tcpdump.8">tcpdump(8)</a>, fix an infinite loop when printing a country element in a management frame in case we hit channel Tx power limits that cannot be pretty-printed.
<li>In efiboot, work around peculiarities of (buggy) UEFI implementations: always call SetMode(), but don't report an error if the current mode is the same as the desired mode.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/radeondrm.4">radeondrm(4)</a>, prevent a panic when the ROM size is 0.
<!-- 2016-02-03 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/sd.4">sd(4)</a>, avoid a possible use-after-free.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/pkg_add.1">pkg_add(1)</a>, update the font cache after removing packages with @fontdir markers.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/tcpdump.8">tcpdump(8)</a>, show 802.11 control frames.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/dhclient.8">dhclient(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/dhcpd.8">dhcpd(8)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man8/dhcrelay.8">dhcrelay(8)</a>, be very careful accepting packets via <a href="http://man.openbsd.org/OpenBSD-current/man4/bpf.4">bpf(4)</a>.
<li>Enable <a href="http://man.openbsd.org/OpenBSD-current/man8/amd64/hostctl.8">hostctl(8)</a> on amd64 and i386.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tail.1">tail(1)</a>, fix off-by-one in argument parsing.
<li>Prevent <a href="http://man.openbsd.org/OpenBSD-current/man4/amd64/efifb.4">efifb(4/amd64)</a> from attaching if we are the console.
<!-- 2016-02-02 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/smtpd.8">smtpd(8)</a>, fixe a mismatch between DSN's subject line and its content.
<li>On amd64 and i386, correct signal delivery on systems where the AVX leaf is disabled.
<li>On amd64 RAMDISK_CD, enable <a href="http://man.openbsd.org/OpenBSD-current/man4/pvbus.4">pvbus(4)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man4/xen.4">xen(4)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man4/xnf.4">xnf(4)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man4/xspd.4">xspd(4)</a>.
<li>In libxcb, make sure the socket send buffer is at least 64KB. This should speed up applications that send images to the X server, like Firefox.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/xen.4">xen(4)</a> and xenstore(4), make a few reliability improvements in the power management interface.
<li>Stop setting the process title in <a href="http://man.openbsd.org/OpenBSD-current/man8/bgpd.8">bgpd(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/dvmrpd.8">dvmrpd(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/eigrpd.8">eigrpd(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/hostapd.8">hostapd(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/httpd.8">httpd(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/ldpd.8">ldpd(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/npppd.8">npppd(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/ntpd.8">ntpd(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/ospf6d.8">ospf6d(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/ospfd.8">ospfd(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/relayd.8">relayd(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/ripd.8">ripd(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/snmpd.8">snmpd(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/smtpd.8">smtpd(8)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man8/vmd.8">vmd(8)</a>. This makes it possible to manage multiple copies of a daemon using the normal infrastructure by symlinking rc.d scripts to a new name.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man8/macppc/pdisk.8">pdisk(8/macppc)</a>.
<li>Implement "<a href="http://man.openbsd.org/OpenBSD-current/man8/ldapctl.8">ldapctl</a> -r datadir".
<!-- 2016-02-01 -->
<li>On armv7, add A20 support to sxirtc.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/armv7/sxitimer.4">sxitimer(4/armv7)</a>, remove A20 support; agtimer is now used instead.
<li>Move to -release mode.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/ldapd.8">ldapd(8)</a>, add -r to specify an alternative directory to store/read the database.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man9/ieee80211.9">ieee80211(9)</a>, stop requiring a BlockAck session timeout, but still honour the timeout if the AP requests it.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/tcpdump.8">tcpdump(8)</a>, show 802.11 QoS frames properly.
<!-- 2016-01-31 -->
<li>On armv7, fix the encoding of AP bits for large page second-level short-descriptors.
<li>Revamp /etc/ssl/cert.pem certificate information formatting and sort certificates in a more useful way.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/macppc/pdisk.8">pdisk(8/macppc)</a>, set lblock_start and lblocks to 0 in free space entries like Apple does.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tmux.1">tmux(1)</a>:
<ul>
<li>Fix new-session with -t after command flags changes.
<li>Support negative trim values in formats to trim from the end.
<li>Add RGB escape sequences for capture-pane -e.
</ul>
<!-- 2016-01-30 -->
<li>On armv7:
<ul>
<li>Allow the kernel to boot from a u-boot without the OLD_SUNXI_KERNEL_COMPAT option.
<li>Use ARM Generic Timer (agtimer) instead of <a href="http://man.openbsd.org/OpenBSD-current/man4/armv7/sxitimer.4">sxitimer(4/armv7)</a> on Allwinner sun7i/A20.
</ul>
<li>Hook OPENBSD-RELAYD-MIB into OPENBSD-SNMPD-CONF.
<li>Sync libedit with NetBSD.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/pkg_add.1">pkg_add(1)</a>, extend URL abbreviation support from <a href="http://man.openbsd.org/OpenBSD-current/man5/pkg.conf.5">pkg.conf(5)</a> so that every URL can be abbreviated.
<!-- 2016-01-29 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/ping.8">ping(8)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man8/ping6.8">ping6(8)</a>, fix a regression in -E.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/xen.4">xen(4)</a>, add support for the "control/shutdown" power management facility. At the moment only "poweroff" and "reboot" actions are supported.
<li>In xenstore(4), add support for XS_WATCH, a XenStore notification facility.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/macppc/pdisk.8">pdisk(8/macppc)</a>:
<ul>
<li>Tweak printing of partitions: always show the pblock and lblock info in the "p" and "P" commands, respectively.
<li>Warn of partitions extending past the end of the media.
<li>Support only base 10 for partition IDs.
</ul>
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/aucat.1">aucat(1)</a>, fix unsupported parameters not being detected if compiled in 24-bit mode and sndiod is not running.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/macppc/pdisk.8">pdisk(8/macppc)</a>, improve conformance to OS X's behaviour.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tmux.1">tmux(1)</a>, add support for RGB colour.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/audioctl.1">audioctl(1)</a>, display play and record parameters that are not independent as a single variable.
<!-- 2016-01-28 -->
<li>Install the <a href="http://man.openbsd.org/OpenBSD-current/man8/relayd.8">relayd(8)</a> SNMP MIB.
<li>In ssh, allow RekeyLimits in excess of 4G up to 2**63 bits (part of bz#2521).
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ftp.1">ftp(1)</a>, fix a crash when a server sends a non-standard newline.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/daily.8">daily(8)</a>, run "rcctl ls faulty".
<!-- 2016-01-27 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/macppc/pdisk.8">pdisk(8/macppc)</a>, make "r" (reorder, a.k.a. swap) command work with any two existing partitions. Do not allow partition 1 to be moved.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man5/pkg.conf.5">pkg.conf(5)</a>, allow installpath to be set to a bare hostname which implies "http://hostname/pub/OpenBSD/[snapshots-or-version]/packages/[arch]".
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/macppc/pdisk.8">pdisk(8/macppc)</a>:
<ul>
<li>Check block 0 signature, physical block size and physical block count when reading partition map.
<li>Check for unmapped physical blocks and overlapping partitions when reading partition map.
<li>Remove "v" command.
</ul>
<li>Add <a href="http://man.openbsd.org/OpenBSD-current/man8/amd64/hostctl.8">hostctl(8)</a>, a tool to access key-value stores on the host, currently for hypervisor information stores on <a href="http://man.openbsd.org/OpenBSD-current/man4/pvbus.4">pvbus(4)</a>. It is not enabled yet.
<li>On amd64 and i386, add /dev/pvbus0.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/pvbus.4">pvbus(4)</a>, add a key-value interface that allows to get or set values in the underlying information store of the host from the OpenBSD-VM's userspace.
<li>In libpthread, replace the malloc spinlock with a mutex. This makes ports like Firefox significantly more usable.
<!-- 2016-01-26 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/mg.1">mg(1)</a>, ensure the backup file has the same mtime as the original file.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/xnf.4">xnf(4)</a>, rewrite tx path to use flat transmit ring without fragment chains. This gives a transmit performance improvement and taxes grant table references much less than before.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/xen.4">xen(4)</a>, do not take a grant table entry mutex in xen_grant_table_{enter,remove} since it is unnecessary. This provides a performance improvement as well.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man3/malloc.3">malloc(3)</a>, fix a possible crash when dumping malloc stats.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/xen.4">xen(4)</a>, ensure use of locked atomic operations even on the SP kernel.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man3/fputwc.3">fputwc(3)</a>, when encoding fails set the error indicator as required by POSIX and as done by FreeBSD, SunOS 10/11 and glibc.
<!-- 2016-01-25 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/vr.4">vr(4)</a>, fix an mbuf leak on encapsulation failure.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tail.1">tail(1)</a>, fix a crash.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/pf.4">pf(4)</a>, fix a pf_state_key leak.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man9/ieee8022.9">ieee80211(9)</a>, honour ERP protection on 2 GHz channels in 11n mode.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/amd64/vmm.4">vmm(4/amd64)</a>, zero the buffer to be copied out to userland to avoid information leak.
<li>In 5.8, fix a kernel crash when root creates, changes or destroys <a href="http://man.openbsd.org/OpenBSD-current/man4/vlan.4">vlan(4)</a> interfaces multiple times with <a href="http://man.openbsd.org/OpenBSD-current/man8/ifconfig.8">ifconfig(8)</a>. (5.7 and -current are not affected.)
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man9/ieee8022.9">ieee80211(9)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man4/iwm.4">iwm(4)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man4/iwn.4">iwn(4)</a>, keep track of HT protection settings in beacons and have 11n-capable drivers update hardware configuration accordingly.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/xnf.4">xnf(4)</a>, revert the minimum number of rx ring slots back to 32.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/vmx.4">vmx(4)</a>, do not send the mbuf to <a href="http://man.openbsd.org/OpenBSD-current/man4/bpf.4">bpf(4)</a> after passing it to the hardware. This could have resulted in a page fault.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/snmpd.8">snmpd(8)</a>, avoid a potential double free.
<!-- 2016-01-24 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/etherip.4">etherip(4)</a>, do not return an uninitialised value for the SIOCGLIFPHYRTABLE case.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/ypldap.8">ypldap(8)</a>:
<ul>
<li>Implement the "master" request.
<li>Set argument encode / result decode call backs for "maplist".
<li>Set argument encode / result decode callbacks for "all".
</ul>
<!-- 2016-01-23 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ld.so.1">ld.so(1)</a>, make a nodelete object lock down the entire load group, not just the specific object.
<li>Update to Mesa 11.0.9.
<li>On arm and armv7, switch to SVC mode when machines with virtualisation extensions boot into a HYP processor mode that has different memory management and register behaviour among other things. This prevents an early crash.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/macppc/pdisk.8">pdisk(8/macppc)</a>, avoid double prompt after creating default map on startup.
<!-- 2016-01-22 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/dwiic.4">dwiic(4)</a>, avoid reading uninitialised memory when expected value types are not present.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/xnf.4">xnf(4)</a>, set up interface features based on capabilities provided by the backend.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/xnf.4">xnf(4)</a>, set minimum number of slots on the receive ring to 18 as most versions of Xen require at least this number of slots.
<li>Always check destination MAC address of received unicast packets, not only when in promiscuous mode. This is necessary for NICs like <a href="http://man.openbsd.org/OpenBSD-current/man4/virtio.4">virtio(4)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/vxlan.4">vxlan(4)</a>, drop packets whose VNI flag is not set and VNI is not zero.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/etherip.4">etherip(4)</a>, support tunnel VRF.
<!-- 2016-01-21 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/macppc/pdisk.8">pdisk(8/macppc)</a>:
<ul>
<li>Remove "expert" mode and the -d flag. Instead make all commands available all the time.
<li>Change the "P" command: it now shows map data structures.
<li>Stop accepting uppercase aliases for commands documented as lower case.
<li>Eliminate the 'written' field and just use the 'changed' field to mediate when it is appropriate to ask whether changes should be discarded.
<li>Repair creation of initial partition table on a blank disk.
</ul>
<li>In ieee80211 stack, fix the timeout value sent in ADDBA request and response frames.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/socppc/socpcic.4">socpcic(4/socppc)</a>, avoid use of an uninitialised variable.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man9/ieee80211.9">ieee80211(9)</a>, fix the timeout value sent in ADDBA request and response frames.
<!-- 2016-01-20 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/macppc/pdisk.8">pdisk(8/macppc)</a>, do not silently open a disk read-only when read/write access was requested.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/calendar.1">calendar(1)</a>, add a calendar for New Zealand.
<li>On sparc64, check for disks deeper than 4 levels down in the Open Firmware device tree. This makes <a href="http://man.openbsd.org/OpenBSD-current/man4/softraid.4">softraid(4)</a> boot possible on more sparc64 machines.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/xnf.4">xnf(4)</a>, do not bump output errors when when tx ring is full.
<!-- 2016-01-19 -->
<li>Add hidmt(4) (a HID-layer driver for multitouch touchpads that conform to the "Windows Precision Touchpad" standard) and <a href="http://man.openbsd.org/OpenBSD-current/man4/imt.4">imt(4)</a> (an i2c-HID driver that sits between <a href="http://man.openbsd.org/OpenBSD-current/man4/ihidev.4">ihidev(4)</a> and hidmt(4)).
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/ihidev.4">ihidev(4)</a>, add the ability to set and get reports and establish interrupt before probing for devices to handle each report ID.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man6/morse.6">morse(6)</a>, use the &lt;AC&gt; prosign as "@". Support decoding only of other prosigns, including &lt;SK&gt; as we were previously using for "@".
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/unbound.8">unbound(8)</a>, suppress "cannot assign requested address" log messages unless verbosity is high.
<li>On sparc, fix a race causing <a href="http://man.openbsd.org/OpenBSD-current/man9/hardclock.9">hardclock(9)</a> to be sometimes invoked between the end of cpu_configure() and initclocks().
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/xnf.4">xnf(4)</a>:
<ul>
<li>Fix a few issues in the transmit path.
<li>Mask interrupts on boot, masking/unmasking is handled by stop/init.
</ul>
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/macppc/pdisk.8">pdisk(8/macppc)</a>, remove the "expert" mode "d"/"D" command.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/mg.1">mg(1)</a> cscope, skip empty entries in $PATH instead of erroneously interpreting them as ".".
<!-- 2016-01-18 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/macppc/pdisk.8">pdisk(8/macppc)</a>, remove the "debugging" mode command to examine the Apple_Patches partition contents.
<li>Add UTF-8 support to <a href="http://man.openbsd.org/OpenBSD-current/man1/colrm.1">colrm(1)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/xen.4">xen(4)</a>, provide a Xen v3 API compatible fallback for event channel hypercalls.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ls.1">ls(1)</a>, fix a regression (and POSIX violation) introduced with UTF-8 support.
<li>In xenstore(4), fixup a hang while performing a read operation on XenStore.
<li>Add UTF-8 support to <a href="http://man.openbsd.org/OpenBSD-current/man1/ul.1">ul(1)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/sndiod.8">sndiod(8)</a>:
<ul>
<li>Load pki keys before daemonising. Passphrase-protected keys require access to stdin.
<li>Allow time differences between two clock_gettime() calls to be up to 60s without logging a warning.
</ul>
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man6/morse.6">morse(6)</a>, use distinct codes for left and right parentheses.
<!-- 2016-01-17 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/dwiic.4">dwiic(4)</a>, fix an off-by-one that could result in read operations not reading the last byte.
<li>On the amd64 RAMDISK_CD, enable <a href="http://man.openbsd.org/OpenBSD-current/man4/ikbd.4">ikbd(4)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/ldapd.8">ldapd(8)</a>, properly remove unix sockets upon exit of the parent process.
<!-- 2016-01-16 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/mandoc.1">mandoc(1)</a>, unbreak reading from stdin.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/macppc/pdisk.8">pdisk(8/macppc)</a>, remove support for 1024- and 2048-byte sector devices.
<li>On octeon, attach secondary CPUs by coremask. This fixes a crash that happened if the MP kernel was booted with coremask=1.
<li>On octeon, panic if booting the kernel without CPU 0.
<!-- 2016-01-15 -->
<li>Fix two issues in the <a href="http://man.openbsd.org/OpenBSD-current/man1/systat.1">systat(1)</a> state view:
<ul>
<li>Fix peak and rate computations for states that transferred more than 4 GB.
<li>Prevent a possible in the rate and peak when creating new cache entries for existing states.
</ul>
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/pflogd.8">pflogd(8)</a>, remove broken interface status printing support.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tmux.1">tmux(1)</a>, add hooks for alerts (bell, silence, activity).
<li>On the amd64 RAMDISK_CD, enable <a href="http://man.openbsd.org/OpenBSD-current/man4/sdhc.4">sdhc(4)</a> at <a href="http://man.openbsd.org/OpenBSD-current/man4/acpi.4">acpi(4)</a> so eMMC will be available at install time.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/dwiic.4">dwiic(4)</a>, prevent attach the driver if the device is not present.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/puc.4">puc(4)</a>, add Moxa CP-168U support.
<li>Implement <a href="http://man.openbsd.org/OpenBSD-current/man9/intr_barrier.9">intr_barrier(9)</a> for sh/landisk.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/xspd.4">xspd(4)</a>, if the <a href="http://man.openbsd.org/OpenBSD-current/man4/xnf.4">xnf(4)</a> driver is enabled, detach emulated network devices.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/eigrpctl.8">eigrpctl(8)</a>, introduce the "eigrpctl clear neighbors" command.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/eigrpd.8">eigrpd(8)</a>:
<ul>
<li>Do not set the EoT flag in the last startup update.
<li>Add support for manually clearing neighbors.
<li>Fix bug that happened when a passive interface was shut down and then reactivated.
<li>Several fixes in the Conditionally Received (CR) mode.
<li>Fix detection of the Stuck-in-Active (SIA) state.
<li>If an explicit nexthop was advertised for a route, show it in the "eigrpctl show topology".
<li>For each prefix, order routes by their nexthop.
</ul>
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/eigrpctl.8">eigrpctl(8)</a>, in the "show" commands, order the routing instances by AF and then by AS.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/ddb.4">ddb(4)</a>, add a "show socket" command.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/rpcgen.1">rpcgen(1)</a>, add support for parsing "hyper" and "quad" types, as per RFC 4506.
<!-- 2016-01-14 -->
<li>When enabling a non-volatile memory express controller, wait till CSTS.RDY lights up.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh.1">ssh(1)</a>, fix some file descriptor leaks.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/which.1">which(1)</a>:
<ul>
<li>Use the default path if there is no PATH in the environment.
<li>Avoid potential read of one byte before the start of a buffer.
</ul>
<li>Attach <a href="http://man.openbsd.org/OpenBSD-current/man4/dwiic.4">dwiic(4)</a> on the Intel Bay Trail i2c controllers.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/dwiic.4">dwiic(4)</a>, fix several issues:
<ul>
<li>Properly map bus space
<li>Properly implement the <a href="http://man.openbsd.org/OpenBSD-current/man4/iic.4">iic(4)</a> operations.
<li>Keep timings set up by the firmware if the SSCN and FMCN methods aren't available.
</ul>
<li>Add <a href="http://man.openbsd.org/OpenBSD-current/man4/ikbd.4">ikbd(4)</a>, a driver for HID-over-i2c keyboards.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/calendar.1">calendar(1)</a>, add a calendar file for the United Kingdom.
<li>Prevent a NULL dereference when detaching a USB device with <a href="http://man.openbsd.org/OpenBSD-current/man4/ugen.4">ugen(4)</a> disabled or if allocating memory during the attachment process failed.
<li>On octeon, add support for a variety of USB devices.
<li>In ssh, remove roaming support altogether.
<li><font color="#e00000">5.7 and 5.8 SECURITY FIX: experimental roaming code in the ssh client could be tricked by a hostile sshd server, potentially leaking key material (CVE-2016-0777 and CVE-0216-0778).</font><br>A source code patch and workaround is available for <a href="errata57.html#022_sshd">5.7</a> and <a href="errata58.html#010_sshd">5.8</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh.1">ssh(1)</a>, disable experimental client-side roaming support.
<li>Grab the kernel lock before delivering a message to the routing socket when an ARP resolution has been done. This should fix the "receive 1" panic.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/pfctl.8">pfctl(8)</a>, print an error message when detecting multiple root queues on a single interface.
<!-- 2016-01-13 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/acpi.4">acpi(4)</a>, fix a bug in <a href="http://man.openbsd.org/OpenBSD-current/man4/dwiic.4">dwiic(4)</a> where it would try to access i2c devices on busses they're not attached to.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh.1">ssh(1)</a>, eliminate fallback from untrusted X11 forwarding to trusted forwarding when the X server disables the SECURITY extension.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/luit.1">luit(1)</a>, properly disable LNEXT (^V) processing.
<li>Update to xterm 322.
<li>On amd64, enable <a href="http://man.openbsd.org/OpenBSD-current/man4/xen.4">xen(4)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man4/xnf.4">xnf(4)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man4/xspd.4">xspd(4)</a> in GENERIC kernels.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/ihidev.4">ihidev(4)</a>, fix hid packet length calculation.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/dhcrelay.8">dhcrelay(8)</a>, check UDP length for short as well as long values.
<li>Implement VFS read clustering for MSDOSFS.
<li>Make "<a href="http://man.openbsd.org/OpenBSD-current/man8/ifconfig.8">ifconfig</a> $if mode" a valid subcommand that works independently of the "media" subcommand.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/iwn.4">iwn(4)</a>, tell the firmware to retry failed Tx at 1Mbit/s instead of MCS 0. This seems to make tx rate scaling go up faster and helps rx performance.
<!-- 2016-01-12 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/vlan.4">vlan(4)</a>, do not propagate any of the parent interfaces offload features on <a href="http://man.openbsd.org/OpenBSD-current/man4/svlan.4">svlan(4)</a>.
<li>On amd64 and i386, in the TSC fallback code, perturbance is biased towards the lower bytes of a word. Compensate for this with a bit-spreading operation which applies a result byte by byte.
<li>Let <a href="http://man.openbsd.org/OpenBSD-current/man8/smtpd.8">smtpd(8)</a> start on machines without a FQDN as hostname.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/macppc/pdisk.8">pdisk(8/macppc)</a>, remove -i.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/ndp.8">ndp(8)</a>, do not print an error if the list of prefixes is empty.
<li>Remove wireless turbo mode support. It is a non-standard extension supported only by obsolete devices.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/carp.4">carp(4)</a>, prevent a NULL dereference if SIOCGVH is issued without carpdev argument.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/acpi.4">acpi(4)</a>, improve emulation of PM registers on Hardware-reduced ACPI. This makes the transition into S5 (powerdown) work on the ASUS X205TA.
<!-- 2016-01-11 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/macppc/pdisk.8">pdisk(8/macppc)</a>, remove -c and -d.
<li>Add <a href="http://man.openbsd.org/OpenBSD-current/man4/dwiic.4">dwiic(4)</a> (a driver for the Synopsys DesignWare i2c controller), <a href="http://man.openbsd.org/OpenBSD-current/man4/ihidev.4">ihidev(4)</a> (a HID-over-i2c driver) and <a href="http://man.openbsd.org/OpenBSD-current/man4/ims.4">ims(4)</a> (a HID-over-i2c mouse/trackpad driver).
<li>In the installer validate the data for CGI_{METHOD,TIME,TZ} since it comes from an external source.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/em.4">em(4)</a>, avoid a use-after-free when posting the packet on 82547 chips after <a href="http://man.openbsd.org/OpenBSD-current/man4/bpf.4">bpf(4)</a>.
<li>Make <a href="http://man.openbsd.org/OpenBSD-current/man4/sdhc.4">sdhc(4)</a> attach to hardware IDs 80860F14 and PNP0FFF.
<li>Make sure the keyboard mux gets picked up by the primary (console) display and that USB keyboards get paired with the console even if they are not marked as the console keyboard.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/relayd.8">relayd(8)</a>, add the host_error output and the http code (when available) to the host-check log.
<li>On amd64 and i386, ensure the keyboard mux gets picked up by the primary (console) display and that USB keyboards get paired with the console even if they are not marked as the console keyboard.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/macppc/pdisk.8">pdisk(8/macppc)</a>, remove -v.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/perl.1">perl(1)</a>, fix "XS File::Spec::canonpath loses taint" (CVE-2015-8607).
<li>In xenstore(4):
<ul>
<li>Handle zero-length messages.
<li>Prevent infinite loop when receiving and empty reply or directory node.
</ul>
<li>Fix a bug where <a href="http://man.openbsd.org/OpenBSD-current/man8/cron.8">cron(8)</a> could skip re-reading the spool after two consecutive changes.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/ipmi.4">ipmi(4)</a>, if possible, read values from disabled sensors.
<li>Make <a href="http://man.openbsd.org/OpenBSD-current/man4/sdhc.4">sdhc(4)</a> attach to <a href="http://man.openbsd.org/OpenBSD-current/man4/acpi.4">acpi(4)</a>. This is neede to support the SD host controllers integrated on Intel's Bay Trail SoCs.
<!-- 2016-01-10 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/sdmmc.4">sdmmc(4)</a>, add limited support for controllers that implement version 3.0 of the SD host controller standard.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/macppc/pdisk.8">pdisk(8/macppc)</a>, use the device's default disklabel to determine a disk size.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/acpithinkpad.4">acpithinkpad(4)</a>, add ThinkPad tablet dock/undock ACPI events.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/ipmi.4">ipmi(4)</a>:
<ul>
<li>When stopping the watchdog, clear DONTSTOP bits. Without this, BMC records a watchdog timer expiration event.
<li>Print a message to console when the watchdog is enabled or disabled.
</ul>
<li>Make the eMMC on the ASUS X205TA work.
<li>Add UTF-8 support to <a href="http://man.openbsd.org/OpenBSD-current/man1/ps.1">ps(1)</a>.
<li>On mips64, revert the MP pmap diff. It does not work on non-PMAP_DIRECT systems due to lock recursion.
<!-- 2016-01-09 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/jot.1">jot(1)</a>, when generating random sequences, fix the bias at both ends of the specified interval.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/audio.4">audio(4)</a>, fix a bug when closing /dev/audioctl and /dev/mixer they wrongly return ENXIO.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/acpi.4">acpi(4)</a>, initial support for Hardware-Reduced ACPI.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/fdisk.8">fdisk(8)</a>, revamp the display of GPT information, hiding less important information under the -v flag.
<!-- 2016-01-08 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/ipmi.4">ipmi(4)</a>, correct sensor threshold handling by properly checking the response of the Get Sensor Reading Command.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ftp.1">ftp(1)</a>, handle redirects to relative URIs containing "://".
<li>Remove the arp and revarp input queues. Packets of these types are now processed in the softnet task without holding the kernel lock.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/sndiod.8">sndiod(8)</a>, unbreak support for multiple -L options.
<li>Improve UTF-8 support in <a href="http://man.openbsd.org/OpenBSD-current/man1/ksh.1">ksh(1)</a>:
<ul>
<li>Allow non-ASCII characters to be part of words.
<li>Allow insertion of non-ASCII characters without screwing up the display.
<li>Fix forward movement.
</ul>
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/sis.4">sis(4)</a>, work around buggy zero-length packets produced by the DP83816A.
<li>Enable <a href="http://man.openbsd.org/OpenBSD-current/man4/uonerng.4">uonerng(4)</a> in kernels where <a href="http://man.openbsd.org/OpenBSD-current/man4/ualea.4">ualea(4)</a> is already present.
<li>Add <a href="http://man.openbsd.org/OpenBSD-current/man4/uonerng.4">uonerng(4)</a>, a driver for the Moonbase Otago OneRNG.
<!-- 2016-01-07 -->
<li>On octeon, avoid rendezvous from failing if buffering is enabled.
<li>In Mesa, disable reading of drirc files by default. This allows for a stronger <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in chromium.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man9/ieee80211.9">ieee80211(9)</a>, make the A-MPDU reordering buffer more resilient against APs which drop some subframes or let the sequence number jump up by more than 1. This should fix network stalls seen in 11n mode.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/iwn.4">iwn(4)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man4/iwm.4">iwm(4)</a>, fix A-MPDU parameters in link quality firmware commands.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/mandoc.1">mandoc(1)</a>, detect recursive "define" in <a href="http://man.openbsd.org/OpenBSD-current/man7/eqn.7">eqn(7)</a> which avoids infinite loops.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man6/hack.6">hack(6)</a>, read ^Z as a normal character. This fixes suspend/resume.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/fmt.1">fmt(1)</a>, add UTF-8 support for -c.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/ifconfig.8">ifconfig(8)</a>, sync displayed interface flags to reality.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/acpibtn.4">acpibtn(4)</a>, fix the lid sensor for machines that do not generate an event when the lid opens.
<li>Add <a href="http://man.openbsd.org/OpenBSD-current/man4/xnf.4">xnf(4)</a>, a Xen virtual networking interface (Netfront) driver.
<!-- 2016-01-06 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/armv7/cpsw.4">cpsw(4/armv7)</a>, properly handle the receive queue being full condition instead of hanging.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/em.4">em(4)</a>, mark the driver MP-safe.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/ipmi.4">ipmi(4)</a>, fix a panic in odd situations.
<li>On i386, when booting from softraid, get the first, not the last, OpenBSD partition in the MBR.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/vi.1">vi(1)</a>, remove the message catalogs.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/iwm.4">iwm(4)</a>, initialize the A-MPDU parameters field in HT capability elements.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man3/malloc.3">malloc(3)</a>, remove the "a" option.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/expr.1">expr(1)</a>, use 64-bit integers for arithmetic.
<li>On amd64, when booting from softraid, get the first, not the last, OpenBSD partition in the MBR.
<li>Prevent integer overflows in <a href="http://man.openbsd.org/OpenBSD-current/man9/sosend.9">sosend(9)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man9/soreceive.9">soreceive(9)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/iwn.4">iwn(4)</a>, always use a CCK rate as last fallback in the firmware's tx rate retry table. This may make 11n mode work in very noisy environments.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/acpi.4">acpi(4)</a>, fix systems that don't implement legacy mode.
<!-- 2016-01-05 -->
<li>Revert sys/dev/pci/if_oce.c r1.87 (which unlocked the interrupt handler rx path).
<!-- 2016-01-04 -->
<li>On mips64, make POWER Indigo2 R8000 boot multiuser again.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man3/fgetws.3">fgetws(3)</a>, fix a bug when errno is EILSEQ upon function entry or when the file ends without a terminating L'\n' character.
<li>Fix lots of bugs in the <a href="http://man.openbsd.org/OpenBSD-current/man3/fprintf.3">fprintf(3)</a> family of functions.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/mandoc.1">mandoc(1)</a>, improve handling of .Va and .Vt macros.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/iwn.4">iwn(4)</a>, add initial support for 11n mode to the <a href="http://man.openbsd.org/OpenBSD-current/man4/iwn.4">iwn(4)</a> driver. Only MCS 0 to 7 are supported for now.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man9/ieee80211.9">ieee80211(9)</a>:
<ul>
<li>Skip over 11n mode during scanning to avoid scanning channels more than once.
<li>Allow switching into 11a and 11b/g mode correctly when the driver supports 11n.
<li>Fix manual scan while associated in 11a mode.
<li>Fix negotiating A-MPDUs with some APs.
</ul>
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man8/spamd-setup.8">spamd-setup(8)</a>.
<!-- 2016-01-03 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/re.4">re(4)</a>, mark the driver MP-safe.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/nc.1">nc(1)</a>, use the correct values for TLS certificate and private key flags.
<li>On <a href="http://man.openbsd.org/OpenBSD-current/man4/amd64/vmm.4">vmm(4/amd64)</a>, do proper termination of VMs by doing proper VCPU run state management. This should fix some of the odd termination errors.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/mg.1">mg(1)</a>, allow macro execution to continue without delay in the event of a visible bell call.
<li>Fix problems with EFI installs involving many disks.
<li>Update to randrproto 1.5.0.
<li>Update to x11proto 7.0.28.
<!-- 2016-01-02 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/pchtemp.4">pchtemp(4)</a>:
<ul>
<li>Add support for Intel 100 Series.
<li>Enable on i386.
</ul>
<li>Update to freetype-doc 2.6.2.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/mg.1">mg(1)</a>, add dired-find-alternate-file.
<!-- 2016-01-01 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/sgi/iec.4">iec(4/sgi)</a>, take the PHY out of reset before attaching the interface. This allows for disabling some checks on reboot, making reboots faster especially on IP27.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man2/sendsyslog.2">sendsyslog2(2)</a>, avoid a panic that could occur when writing to the console.
<!-- 2015-12-31 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/ix.4">ix(4)</a>, do not grab the kernel lock in the rx and tx paths.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/trunk4.">trunk(4)</a>, fix the "lacp_compose_key protection fault trap" when removing a port from a lacp trunk.
<li>Add <a href="http://man.openbsd.org/OpenBSD-current/man4/pchtemp.4">pchtemp(4)</a>, a driver for the thermal sensor on recent Intel PCHs.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/drm.4">inteldrm(4)</a>, unconditionally set the "switchcookie". This fixes synchronous VT switching.
<!-- 2015-12-30 -->
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man8/tokenadm.8">tokenadm(8)</a>.
<!-- 2015-12-29 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man3/malloc.3">malloc(3)</a>, fix a NULL dereference in case the abort option is disabled.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man3/nlist.3">nlist(3)</a>, avoid out-of-bounds access and excessive memory allocation on a malformed ELF header.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/mg.1">mg(1)</a>, add transpose-words. It is limited to one iteration until "undo" is looked into.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/wscons.4">wscons(4)</a>, change keyboard configuration detection to work even when a <a href="http://man.openbsd.org/OpenBSD-current/man8/kbd.8">kbd(8)</a> setting has multiple bits set (e.g. us.dvorak.swapctrlcaps).
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/bge.4">bge(4)</a>, mark the start routine as MP-safe.
<li>Set the UltraDMA transfer mode for SATA drives. Some of these drives, such as the Maxtor 7Y250M0, refuse to do DMA unless the transfer mode has been set. This causes reads (and presumably writes) to time out.
<!-- 2015-12-28 -->
<li>In the installer, do not insist on EFISYS partitions on non-root disks and prevent an autoinstall loop.
<!-- 2015-12-27 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/re.4">re(4)</a>, mark the interrupt handler as MP-safe.
<li>Add GENERIC-IP27.MP for MP support on the SGI Octane 350.
<li>Import libdrm 2.4.65.
<!-- 2015-12-26 -->
<li>On amd64 and i386, if available, prefer the rdseed instruction over rdrand when adding entropy to the kernel random number generator.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/puc.4">puc(4)</a>, add the Perle Speed8 LE.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/cp.1">cp(1)</a>, set the times, mode and flags on symlinks when doing cp -p (or mv across filesystems).
<!-- 2015-12-25 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/ukbd.4">ukbd(4)</a>, enable the iso keyboard munge fix for MacBookAir6,2.
<li>In libevent, revert the change to call <a href="http://man.openbsd.org/OpenBSD-current/man2/kevent.2">kevent(2)</a> immediately (which was done to prevent the dispatch loop from bringing down the entire process). <a href="http://man.openbsd.org/OpenBSD-current/man1/tcpbench.1">tcpbench(1)</a> relies on the old behaviour.
<li>On sgi, add a timecounter for MP, make interrupt masking MP-aware, add launch logic for secondary CPUs and add IPI logic.
<!-- 2015-12-24 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/kdump.1">kdump(1)</a>, implement basic <a href="http://man.openbsd.org/OpenBSD-current/man2/kevent.2">kevent(2)</a> printing.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man3/fgetwc.3">fgetwc(3)</a>, set the error indicator when an encoding error occurs, as specified by both the manual page and POSIX.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/file.1">file(1)</a>, add --brief and --dereference. These are used by xdg-open and xdg-mime.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/mg.1">mg(1)</a>, add -R to open the specified files read-only.
<!-- 2015-12-23 -->
<li>Implement privsep and use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man8/mountd.8">mountd(8)</a>.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man8/sndiod.8">sndiod(8)</a>.
<li>Update to sqlite3 3.9.2.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/rdate.8">rdate(8)</a>, expand the size of messages between processes to accommodate larger messages.
<li>Import Mesa 11.0.8. This seems to fix some of the problems with clutter/gnome reported to occur on r600 with Mesa 11.0.6.
<li>Ensure the installer asks for the IPv4 default route in case an interface has been configured via dhcp and then again manually.
<!-- 2015-12-22 -->
<li>Find the OpenBSD disklabel on GPT partitioned softraid volumes in order to allow booting from such volumes.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/asmc.4">asmc(4)</a>, make communication with the Apple SMC chip more reliable.
<!-- 2015-12-21 -->
<li>Add <a href="http://man.openbsd.org/OpenBSD-current/man4/viocon.4">viocon(4)</a>, the VirtIO console device.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man5/smtpd.conf.5">smtpd.conf(5)</a>, switch to "file" backend for the aliases table by default.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/mailq.8">smtpctl(8)</a>, support some sendmail-compatible command-line arguments.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tmux.1">tmux(1)</a>, fix a bug where the "attach-session -d" detached the wrong session.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/Xserver.1">Xserver(1)</a>, default to using the <a href="http://man.openbsd.org/OpenBSD-current/man4/modesetting.4">modesetting(4)</a> driver on Broadwell. It works better than the <a href="http://man.openbsd.org/OpenBSD-current/man4/intel.4">intel(4)</a> driver.
<!-- 2015-12-20 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/drm.4">drm(4)</a>, advertise support for DRM version 1.4. This makes the PCI-based probe method in the <a href="http://man.openbsd.org/OpenBSD-current/man4/modesetting.4">modesetting(4)</a> driver work.
<li>In Mesa:
<ul>
<li>Set the configure option to enable floating point textures. This is required by drivers such as r600 to support OpenGL 3.x.
<li>Build the gallium software rasteriser (softpipe). This fixes loading the r300 driver on macppc.
</ul>
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/sndiod.8">sndiod(8)</a>, implement initial privilege separation and reenable networking.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/uvideo.4">uvideo(4)</a>, do not delay <a href="http://man.openbsd.org/OpenBSD-current/man4/video.4">video(4)</a> attachment if the device does not need to load firmware.
<!-- 2015-12-19 -->
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man8/mtree.8">mtree(8)</a>.
<li>On alpha, disable <a href="http://man.openbsd.org/OpenBSD-current/man4/pcn.4">pcn(4)</a> on ramdisk kernels.
<li>Move to 5.9-beta.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/dhclient.8">dhclient(8)</a>, do not exit if a route can not be added.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/rc.d.8">rc.d(8)</a>, don't report that the daemon has succesfully started if it actually failed because of a config error.
<li>Prevent GPU lockups with KMS and AGP-enable on Uninorth (G4) machines. KMS is now usable on Uninorth machines but X11 output is still corrupted.
<li>Do not match Uninorth bridges until we have a working KMS with AGP support for G4 machines. This allows us to enable <a href="http://man.openbsd.org/OpenBSD-current/man4/agp.4">agp(4)</a> again for G5 machines which makes X11 usable on the Dual G5 with <a href="http://man.openbsd.org/OpenBSD-current/man4/radeondrm.4">radeondrm(4)</a>.
<li>Make carp_output() MP-safe.
<li>Add UTF-8 support to <a href="http://man.openbsd.org/OpenBSD-current/man1/uniq.1">uniq(1)</a>. Let -f recognize non-ASCII blank characters and let -s count characters rather than bytes.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tmux.1">tmux(1)</a>, make input off flag (selectp -d) apply to synchronize-panes too.
<!-- 2015-12-18 -->
<li>Fix <a href="http://man.openbsd.org/OpenBSD-current/man4/urtwn.4">urtwn(4)</a> on big-endian architectures.
<li>Make <a href="http://man.openbsd.org/OpenBSD-current/man4/ix.4">ix(4)</a> MP-safer.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man8/mknod.8">mknod(8)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man3/casin.3">casin(3)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man3/casin.3">casinf(3)</a>, and <a href="http://man.openbsd.org/OpenBSD-current/man3/casin.3">casinl(3)</a>, give correct results if the imaginary part is zero.
<li>Fix the behaviour of <a href="http://man.openbsd.org/OpenBSD-current/man3/csqrt.3">csqrt(3)</a>: we should have csqrt(conj(z)) == conj(csqrt(z)).
<li>Avoid modulo bias in the IPv6 stack.
<!-- 2015-12-17 -->
<li>In the scheduler, make the cost of moving a process to the primary CPU a bit higher. This is the CPU that handles most hardware interrupts, so by making it less likely that the softnet taskq runs on that CPU, most of the performance lost by "unlocking" network drivers is restored.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/acpithinkpad.4">acpithinkpad(4)</a>, add display brightness support, available on the last few ThinkPad generations. This fixes surprising brightness changes that would sometimes happen if you used the brightness keys or if the firmware decided to reset the brightness level for some other reason.
<!-- 2015-12-16 -->
<li>Update to xf86-input-synaptics 1.8.3.
<li>Update to xf86-input-keyboard 1.8.1.
<li>In libevent, prevent the dispatch loop from bringing down the entire process because of incomplete <a href="http://man.openbsd.org/OpenBSD-current/man2/kqueue.2">kqueue(2)</a> support for various types of files and filesystems.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/awk.1">awk(1)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man8/npppd.8">npppd(8)</a>, remove modulo bias in the random number generator.
<li>Add the _sndiop user and group in preparation of the <a href="http://man.openbsd.org/OpenBSD-current/man8/sndiod.8">sndiod(8)</a> privsep.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man3/dn_comp.3">resolver(3)</a>, remove support for HOSTALIASES. It is incompatible with <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/acpithinkpad.4">acpithinkpad(4)</a>, avoid panics on older ThinkPads when pressing the ThinkLight key.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/nc.1">nc(1)</a>, print the certificate validity to the verbose output when using TLS.
<li>Avoid grabbing the kernel lock in uvm_unmap() if we have an interrupt-safe map.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/syslogd.8">syslogd(8)</a>, unbreak adding mark messages to log files.
<!-- 2015-12-15 -->
<li>Remove the Class 3 Public Primary Certification Authority root certificate from /etc/ssl/cert.pem, per recommendation of Symantec/VeriSign.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/asmc.4">asmc(4)</a>, add more temperature keys found in MacBook Airs (6,1 and 7,2) and MacBook Pro (10,2).
<li>Update to unbound 1.5.7.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/mountd.8">mountd(8)</a>, fix issues with adding and deleting exports when (re)reading the <a href="http://man.openbsd.org/OpenBSD-current/man5/exports.5">exports(5)</a> file.
<li>Add UTF-8 support to <a href="http://man.openbsd.org/OpenBSD-current/man1/fmt.1">fmt(1)</a>. The -c option is not yet handled.
<li>Do not panic when trying to delete an non-existing route with ART.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/relayd.8">relayd(8)</a>, handle the HTTP PATCH request correctly.
<!-- 2015-12-14 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tmux.1">tmux(1)</a>, allow list-keys and list-commands to be run without a running server.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/acpithinkpad.4">acpithinkpad(4)</a>, handle the keyboard backlight found on newer Thinkpads.
<li>Add initial 802.11n support to <a href="http://man.openbsd.org/OpenBSD-current/man4/iwm.4">iwm(4)</a>.
<!-- 2015-12-13 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/mailwrapper.8">mailwrapper(8)</a>, update the default MTA reference to <a href="http://man.openbsd.org/OpenBSD-current/man8/smtpd.8">smtpd(8)</a>.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man8/dhcpd.8">dhcpd(8)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/acpithinkpad.4">acpithinkpad(4)</a>, support ThinkLight.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/eigrpd.8">eigrpd(8)</a>, introduce a new command to show traffic statistics.
<!-- 2015-12-12 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tmux.1">tmux(1)</a>:
<ul>
<li>Allow prefix and prefix2 to be set to None to disable.
<li>Add the key-table option to set the default key table for a session.
</ul>
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/smtpd.8">smtpd(8)</a>:
<ul>
<li>Bump Diffie-Hellman parameterss to 2048.
<li>Allow overriding the default cipher-suite in <a href="http://man.openbsd.org/OpenBSD-current/man5/smtpd.conf.5">smtpd.conf(5)</a>.
<li>Remove CA from pki and no longer allow specifying a CA with "pki" keyword. Introduce "ca" keyword to <a href="http://man.openbsd.org/OpenBSD-current/man5/smtpd.conf.5">smtpd.conf(5)</a> allow specifying a custom CA.
</ul>
<li>On sgi, adjust IPI numbers to get the interrupts working.
<li>Avoid <a href="http://man.openbsd.org/OpenBSD-current/man8/dhclient.8">dhclient(8)</a> from hanging during boot when the attempt to configure the address fails without dhclient(8) realizing it.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/asmc.4">asmc(4)</a>, enable keyboard backlight support.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/wsconsctl.8">wsconsctl(8)</a>, add the keyboard backlight variable.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/wscons.4">wscons(4)</a>, add new ioctls to control keyboard backlights.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/smtpd.8">smtpd(8)</a>, implement senders map.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man9/ieee80211.9">ieee80211(9)</a>:
<ul>
<li>Finish support for receiving 11n A-MPDUs.
<li>Add 11n/HT negotiation fixes.
<li>Makes 11n negotiation with Linux iwlwifi AP succeed.
</ul>
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/smtpd.8">smtpd(8)</a>, prepare for support of wildcard CA and DANE.
<!-- 2015-12-11 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/fdisk.8">fdisk(8)</a>, open the disk read-only if none of -i, -e or -u are specified.
<li>Fix a bug where exhausting a tmpfs filesystem leads to kernel panic.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/fdisk.8">fdisk(8)</a>, add -v to force the display of both GPTs and the MBR.
<li>In libevent, do not print to stderr.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man8/spamlogd.8">spamlogd(8)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/dhcpd.8">dhcpd(8)</a>, fix a bug where the default-lease-time, max-lease-time, bootp-lease-length statements specified in <a href="http://man.openbsd.org/OpenBSD-current/man5/dhcpd.conf.5">dhcpd.conf(5)</a> were being ignored.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/nsd.8">nsd(8)</a>, disable the database file by default.
<li>Update to nsd 4.1.7.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/ehci.4">ehci(4)</a>, work around Nvidia EHCI controllers bugs.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/vmctl.8">vmctl(8)</a>, allow the "id" argument to be a number or a VM name.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/smtpd.8">smtpd(8)</a>, add -F to run in foreground while logging to syslog.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/makemap.8">makemap(8)</a>, add -U, like the sendmail makemap.
<!-- 2015-12-10 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh.1">ssh(1)</a>, do not try to load an SSHv1 private key when compiled without SSHv1 support (bz#2505).
<li>Remove now unused plain DES from the kernel crypto framework, including the crypto accelerator drivers.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man8/dhclient.8">dhclient(8)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/bnx.4">bnx(4)</a>, mark the start routine as MP-safe.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ksh.1">ksh(1)</a>, fix moving trough and deleting multibyte characters in emacs command-line editing mode.
<!-- 2015-12-09 -->
<li>Install the OpenBSD::Pledge Perl module.
<li>Remove plain DES encryption: remove support for DES-CBC encryption in ESP and in IKE main and quick mode from the kernel, <a href="http://man.openbsd.org/OpenBSD-current/man8/isakmpd.8">isakpmd(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/ipsecctl.8">ipsecctl(8)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man8/iked.8">iked(8)</a>.
<li>In libcrypto, change the counter argument for CRYPTO_chacha_20 to be 64-bits on all platforms. This avoids truncation of the counter on 32-bit platforms.
<li>Do not trigger a KASSERT() if the route we're trying to remove does not exist and we get another matching one instead.
<li>Do not trigger a KASSERT() when destroying/detaching an interface with RTF_CLONED routes attached.
<!-- 2015-12-08 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/inteldrm.4">inteldrm(4)</a>, enable support for 3840x2160 60Hz SST.
<li>Rework the if_start MP-safe serialisation so it can serialise arbitrary work.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man3/calloc.3">malloc(3)</a>:
<ul>
<li>Add random "canaries" to the end of an allocation. This option is enabled with the <a href="http://man.openbsd.org/OpenBSD-current/man5/malloc.conf.5">malloc.conf(5)</a> "C" flag.
<li>When writing junk to freed chunks (current default behavior), check that the junk is still intact when freeing the delayed chunk in order to catch a potential use-after-free.
</ul>
<li>Add xenstore(4), a driver for XenStore, the configuration storage.
<li>Add <a href="http://man.openbsd.org/OpenBSD-current/man4/xspd.4">xspd(4)</a>, a driver for the XenSource Platform Device.
<li>Add <a href="http://man.openbsd.org/OpenBSD-current/man4/xen.4">xen(4)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/iwm.4">iwm(4)</a>, avoid synchronization issues with the firmware that might cause association to be aborted or stop the interface from working until reboot.
<li>Rewrite <a href="http://man.openbsd.org/OpenBSD-current/man3/getusershell.3">getusershell(3)</a> to avoid the possibility of overflow.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/doas.1">doas(1)</a>, add -a to specify a non-default authentication style.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/vmctl.8">vmctl(8)</a>, add the "console" subcommand to connect to a specified VM console by id.
<!-- 2015-12-07 -->
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man8/spamd.8">spamd(8)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tmux.1">tmux(1)</a>, add a hooks infrastructure, basic commands, and a couple of client hooks.
<li>Add UTF-8 support to <a href="http://man.openbsd.org/OpenBSD-current/man1/wc.1">wc(1)</a>: amongst other things, add -m for character counting.
<li>Add the root certificate for COMODO RSA Certification Authority to /etc/ssl/cert.pem.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/calendar.1">calendar(1)</a>, add -w to display the day of week.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/vmd.8">vmd(8)</a>, fix reloading after a previous load error.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man5/vm.conf.5">vm.conf(5)</a>, allow unquoted slashes in strings. This also allows pathnames to be concatenated with macros.
<li>Merge <a href="http://man.openbsd.org/OpenBSD-current/man8/makemap.8">makemap(8)</a> into <a href="http://man.openbsd.org/OpenBSD-current/man8/mailq.8">smtpctl(8)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tmux.1">tmux(1)</a>, fix bell indicators across detach.
<li>Update to freetype 2.6.2.
<!-- 2015-12-06 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/azalia.4">azalia(4)</a>, enable snooping on Intel 100 Series HDA.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/ichiic.4">ichiic(4)</a>, attach on Intel 100 series.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/nc.1">nc(1)</a>, make the random sequence of ports less biased.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/vmm.4">vmm(4)</a>, prevent panics caused by opening /dev/vmm in the case of an unsupported configuration or in case vmm0 did not attach.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/ifconfig.8">ifconfig(8)</a>, remove the "txpower" option. It is not relevant anymore.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/mount_mfs.8">newfs(8)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man8/newfs_ext2fs.8">newfs_ext2fs(8)</a>, avoid out-of-boundary access on illegal command line arguments.
<li>In the libc locale code, validate input files to prevent out of boundary accesses.
<!-- 2015-12-05 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/vmctl.8">vmctl(8)</a>, print the TTY in the status output.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/amd64/vmm.4">vmm(4)</a>, restore VMM mode after resume from suspend/hibernate.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/vmd.8">vmd(8)</a>, terminate all running VMs on startup: it is not possible to pick up state of "zombie" VMs yet.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/as.1">as(1)</a>, implement the .inst assembler directive for arm.
<il>Ensure the same CPU numbering is used for the kern.cptime2 sysctl as for kern.proc. This fixes an issue in <a href="http://man.openbsd.org/OpenBSD-current/man1/top.1">top(1)</a> where a CPU would seem to be idle even though a thread was reported to be running on it.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh.1">ssh(1)</a>, prefer rsa-sha2-512 over -256 for hostkeys.
<li>Update termtypes.master to upstream terminfo-20151128.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/rc.conf.8">rc.conf(8)</a>, merge "multicast_router" and "multicast_host" into a single "multicast" configuration variable.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/bnx.4">bnx(4)</a>, make the interrupt handler MP-safe, and perform RX and TX completion outside the kernel lock.
<li>Make <a href="http://man.openbsd.org/OpenBSD-current/man4/pppx.4">pppx(4)</a> packets with <a href="http://man.openbsd.org/OpenBSD-current/man8/npppd.8">npppd(8)</a> through the device. This makes <a href="http://man.openbsd.org/OpenBSD-current/man4/pppx.4">pppx(4)</a> work with pipex.enable=0. Also fix <a href="http://man.openbsd.org/OpenBSD-current/man4/tun.4">tun(4)</a> not to pass the packets to <a href="http://man.openbsd.org/OpenBSD-current/man4/pipex.4">pipex(4)</a> when pipex.enable=0.
<li>Do not loop on EAGAIN in <a href="http://man.openbsd.org/OpenBSD-current/man3/imsg_read.3">imsg_read(3)</a>; return the error instead. This fixes spinning <a href="http://man.openbsd.org/OpenBSD-current/man8/relayd.8">relayd(8)</a> processes seen on busy TLS relays. Adjust all imsg_read(3) consumers accordingly.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man8/ospfd.8">ospfd(8)</a>.
<li>Let <a href="http://man.openbsd.org/OpenBSD-current/man4/acpicpu.4">acpicpu(4)</a> enable the deeper C-states for AMD Family 12h and later processors.
<li>Add an <a href="http://man.openbsd.org/OpenBSD-current/man8/rc.8">rc(8)</a> script for <a href="http://man.openbsd.org/OpenBSD-current/man8/vmd.8">vmd(8)</a>.
<!-- 2015-12-04 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/cap_mkdb.1">cap_mkdb(1)</a>, remove -i.
<li>In ssh, implement SHA2-256 and SHA2-512 for RSASSA-PKCS1-v1_5 signatures for user and host auth.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/vmctl.8">vmctl(8)</a>, add -c to the "start" subcommand to automatically connect to the VM console after startup.
<li>Add a few kernel lock improvements in the network stack.
<!-- 2015-12-03 -->
<li><font color="#e00000">5.7 and 5.8 RELIABILITY FIX: a NULL pointer deference could be triggered by a crafted certificate sent to services configured to verify client certificates on TLS/SSL connections.</font><br>A source code patch is available for <a href="errata57.html#021_clientcert">5.7</a> and <a href="errata58.html#009_clientcert">5.8</a>.
<li>Add a fix for OpenSSL CVE-2015-3195 and one for OpenSSL CVE-2015-3195.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/vmctl.8">vmctl(8)</a>, re-add the "load" and "reload" commands.
<li>Re-enable acceleration on Broadwell.
<li>Revert xenocara/driver/xf86-video-intel/src/sna/sna_accel.c r1.6 that partly disabled acceleration on Broadwell. The "blt" codepath is not tested well and makes X crash.
<li>Replace vmmctl(8) with <a href="http://man.openbsd.org/OpenBSD-current/man8/vmctl.8">vmctl(8)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man5/smtpd.conf.5">smtpd.conf(5)</a>, introduce the "limit session" keyword instead of using fixed values in <a href="http://man.openbsd.org/OpenBSD-current/man8/smtpd.8">smtpd(8)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/pppx.4">pppx(4)</a>, avoid a kernel panic when enqueueing an mbuf chain.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh.1">ssh(1)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/vmd.8">vmd(8)</a>, add -D and -f.
<li>Add support for an optional <a href="http://man.openbsd.org/OpenBSD-current/man/vm.conf.5">vm.conf(5)</a> file in <a href="http://man.openbsd.org/OpenBSD-current/man8/vmd.8">vmd(8)</a>. This file will replace vmm.conf(5) in vmmctl(8).
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/netstat.1">netstat(1)</a>, print the interface index; its name is no longer available.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/myx.4">myx(4)</a>, use an MP-safe start routine.
<li>Add <a href="http://man.openbsd.org/OpenBSD-current/man4/etherip.4">etherip(4)</a>.
<li>Add UTF-8 support to <a href="http://man.openbsd.org/OpenBSD-current/man1/rs.1">rs(1)</a>.
<li>Allow network interfaces to provide an MP-safe start routine.
<li>Use the ncurses files in /usr/share/terminfo/* instead of using the custom BDB <a href="http://man.openbsd.org/OpenBSD-current/man5/terminfo.5">terminfo(5)</a> databases.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/rebound.8">rebound(8)</a>, when running without net, prevent the resolver from having to wait for timeout when queries cannot be forwarded.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ex.1">vi(1)</a>, after inserting a backslash, don't treat ^H ^? or ^U as special cases.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/doas.1">doas(1)</a>, provide a custom password prompt that includes username and host.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/route.8">route(8)</a>, print the interface index which is part of the route msg header.
<!-- 2015-12-02 -->
<li>Add privsep and <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> to <a href="http://man.openbsd.org/OpenBSD-current/man8/vmd.8">vmd(8)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/relayd.8">relayd(8)</a>, improve the algorithm distributing client sessions over hosts.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/spamd.8">spamd(8)</a>, fix STARTTLS support.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/rc.8">rc(8)</a>, fix a bug where it was no longer possible to add shlib_dirs using <a href="http://man.openbsd.org/OpenBSD-current/man8/rc.conf.8">rc.conf.local(8)</a>.
<li>In the installer, improve GPT handling.
<li>On octeon, enable the DR1 region even with 32-bit page table entries.
<!-- 2015-12-01 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/azalia.4">azalia(4)</a>, fix the speaker audio on IDT 92HD75B3/4 codecs with HP subids.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/cut.1">cut(1)</a>, add UTF-8 support. Implement -c and -n options, and let -d option accept a multibyte delimiter character.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/unbound.8">unbound(8)</a>, fix a file descriptor leak in the parent process.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/azalia.4">azalia(4)</a>, add an unmute quirk for IDT 92HD75B3/4 codecs with HP subids. This is required to get speaker audio on the HP Elitebook 2540p.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> to <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh-agent.1">ssh-agent(1)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/Xserver.1">Xserver(1)</a>:
<ul>
<li>Make DRI2 work on OpenBSD where we don't have support for DRI3 yet.
<li>Enable glamor on architectures where we have OpenGL.
</ul>
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/ppb.4">ppb(4)</a>, properly condigure bridges left unconfigured by the system firmware. This makes the Apple Thunderbolt Giabit Ethernet adapter work when inserted at boot time.
<li>Enable the GSE interrupt on Broadwell. This fixes ACPI brightness control on the MacBookPro12,1 and 3rd generation Lenovo X1 Carbon.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/pcidump.8">pcidump(8)</a>, print PME# state together with the PCI power state when enabled/asserted.
<li>Add UTF-8 support to <a href="http://man.openbsd.org/OpenBSD-current/man1/cut.1">cut(1)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man1/ls.1">ls(1)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/smtpd.8">smtpd(8)</a>, add received-auth parameter to listener to identify authenticated sessions in locally appended "Received" header when enabled.
<li>Fix an issue with <a href="http://man.openbsd.org/OpenBSD-current/man1/gcc.1">gcc(1)</a> on i386 which in turn fixes the Mesa i965 dri module on i386.
<li>Fix <a href="http://man.openbsd.org/OpenBSD-current/man4/bridge.4">bridge(4)</a> to forward broadcast/multicast frames from <a href="http://man.openbsd.org/OpenBSD-current/man4/gif.4">gif(4)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/bgpd.8">bgpd(8)</a>, fix rdomain setups.
<li>Remove the aviion and the solbourne platforms.
<li>Add separate users and groups for <a href="http://man.openbsd.org/OpenBSD-current/man8/tftp-proxy.8">tftp-proxy(8)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man8/ftp-proxy.8">ftp-proxy(8)</a> so that they don't share the same ones.
<!-- 2015-11-30 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/fdisk.8">fdisk(8)</a>, make -i zap any undesirable GPT hanging around, just like the reinit command does.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/rtadvd.8">rtadvd(8)</a>, fix dynamic prefix tracking.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/smtpd.8">smtpd(8)</a>:
<ul>
<li>Support user+tag expansion in aliases.
<li>While delivering to lmtp or mda, accept the optional "as user" parameter in <a href="http://man.openbsd.org/OpenBSD-current/man5/smtpd.conf.5">smtpd.conf(5)</a>.
<li>Fix IPv6 address parsing in <a href="http://man.openbsd.org/OpenBSD-current/man5/smtpd.conf.5">smtpd.conf(5)</a>.
<li>Allow the use of the tls+backup:// schema in <a href="http://man.openbsd.org/OpenBSD-current/man5/smtpd.conf.5">smtpd.conf(5)</a>.
<li>Remove table-passwd, table-sqlite and table-ldap.
</ul>
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/ubcmtp.4">ubcmtp(4)</a>, add support for the touchpad found on the MacBookPro12,1.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man6/adventure.6">adventure(6)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man6/backgammon.6">backgammon(6)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man6/boggle.6">boggle(6)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man6/bs.6">bs(6)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man6/canfield.6">canfield(6)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man6/fish.6">fish(6)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man6/gomoku.6">gomoku(6)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man6/grdc.6">grdc(6)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man6/mille.6">mille(6)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man6/prime.6">prime(6)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/ssh-keysign.8">ssh-keysign(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man6/trek.6">trek(6)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man6/wump.6">wump(6)</a>.
<!-- 2015-11-29 -->
<li>Make it possible to detach <a href="http://man.openbsd.org/OpenBSD-current/man4/bge.4">bge(4)</a>.
<li>Add OpenBSD::Pledge, a Perl interface to <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/xhci.4">xhci(4)</a>:
<ul>
<li>Make the integrated SD card reader in the MacBookPro12,1 attach.
<li>Make hotplugging USB 3.0 devices work on the MacBookPro12,1.
</ul>
<li>Convert the simple list of multipath route entries used by ART kernels to a SRP list. This makes the rtable_* layer MP-safe.
<li>Remove <a href="http://man.openbsd.org/OpenBSD-5.8/man8/stdethers.8">stdethers(8)</a> and <a href="http://man.openbsd.org/OpenBSD-5.8/man8/stdhosts.8">stdhosts(8)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man6/atc.6">atc(6)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man6/battlestar.6">battlestar(6)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man6/robots.6">robots(6)</a>, use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> and move the score file to the user's home directory.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man6/cribbage.6">cribbage(6)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/make.1">make(1)</a>, fix duplicate targets in target list.
<!-- 2015-11-28 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/skeyinit.1">skeyinit(1)</a>:
<ul>
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a>.
<li>Allow the -n flag to work in -s mode.
</ul>
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/installboot.8">installboot(8)</a>, back out <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a>.
<li>Mark the interrupt handler for pci (but not sbus) attached <a href="http://man.openbsd.org/OpenBSD-current/man4/gem.4">gem(4)</a> as MP-safe.
<!-- 2015-11-27 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh-keygen.1">ssh-keygen(1)</a>, do not leak a temporary file if there is no known_hosts file.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/sshd.8">sshd(8)</a>, don't include port number in tcpip-forward replies for requests that don't allocate a port (bz#2509).
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/doas.1">doas(1)</a>, don't write past the end of a buffer after reading too long a line from the configuration file.
<li>On sparc64, don't panic in pmap_enter() if we deplete the pool of pv entries and the PMAP_CANFAIL flag is set.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/pci.4">pci(4)</a>, do not report a bus conflict for bridges that are left (partly) unconfigured by the system firmware.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/df.1">df(1)</a>, avoid reading past the end of a buffer.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/ugen.4">ugen(4)</a>, attach the iPhone 6.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man6/snake.6">snake(6)</a>, use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> and move the score file into the user's home directory.
<li>Change the command-line syntax of <a href="http://man.openbsd.org/OpenBSD-current/man8/vmctl.8">vmmctl(8)</a>.
<!-- 2015-11-26 -->
<li>In efiboot, avoid setting mode to GOP if the mode is unchanged. Also don't panic if the setting mode is failed.
<li>Remove <a href="http://man.openbsd.org/OpenBSD-5.8/man8/rpc.yppasswdd.8">rpc.yppasswdd(8)</a>.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man8/installboot.8">installboot(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/login_radius.8">login_radius(8)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man1/scp.1">scp(1)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/chpass.1">chpass(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/login_chpass.8">login_chpass(8)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man1/passwd.1">passwd(1)</a>, delete YP password related code.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/bootparamd.8">rpc.bootparamd(8)</a>, delete YP lookup code.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man5/syslog.conf.5">syslog.conf(5)</a>, disable the *.emerg block by default.
<li>Automatically start <a href="http://man.openbsd.org/OpenBSD-current/man4/vmm.4">vmm(4)</a> when the first VM is created and after the last VM is terminated. This removes the explicit enable and disable cmmands from <a href="http://man.openbsd.org/OpenBSD-current/man8/vmctl.8">vmmctl(8)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man5/vm.conf.5">vmm.conf(5)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/fdisk.8">fdisk(8)</a>, when prompting for a GPT partition type, use the partition's current type as default; and when prompting for an LBA, show the minimum and maximum values in the prompt.
<!-- 2015-11-25 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/ifconfig.8">ifconfig(8)</a>, fix breakage when re-configuring an IPv6 static address.
<li>Stop building Mesa on alpha on mips64 because of gcc and binutils issues.
<!-- 2015-11-24 -->
<li>Replace IFF_OACTIVE manipulation with MP-safe operations.
<li>Add <a href="http://man.openbsd.org/OpenBSD-current/man2/sendsyslog2.2">sendsyslog2(2)</a>. This makes it possible to remove the direct /dev/console opening code from libc.
<li>On libc, use reentrant versions of <a href="http://man.openbsd.org/OpenBSD-current/man3/getpwnam.3">getpwnam(3)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man3/getpwnam.3">getpwuid(3)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man3/getgrnam.3">getgrnam(3)</a>, and <a href="http://man.openbsd.org/OpenBSD-current/man3/getgrgid.3">getgrgid(3)</a> within libc to avoid reusing the static buffers returned by the non-reentrant versions.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tmux.1">tmux(1)</a>:
<ul>
<li>Show libevent version in showmsgs -I.
<li>All kill-session -C to clear alerts in all windows.
<li>Remove the -I part of show-messages.The server start time can be accessed with a new start_time format.
</ul>
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/pciide.4">pciide(4)</a>, allow to reliably found disks on Xserve G5 by increasing the delay between the PHY reset and the status check for ServerWorks SATA.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ex.1">vi(1)</a>, turn on filename tab completion by default.
<!-- 2015-11-23 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/telnet.1">telnet(1)</a>, don't support repeated connections. This avoids problems with <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man6/atc.6">atc(6)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man6/battlestar.6">battlestar(6)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man6/hack.6">hack(6)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man6/phantasia.6">phantasia(6)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man6/robots.6">robots(6)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man6/sail.6">sail(6)</a>, and <a href="http://man.openbsd.org/OpenBSD-current/man6/snake.6">snake(6)</a>, remove the setgid bit.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man6/canfield.6">canfield(6)</a>, remove the setgid bit and move score files into the user's home directory.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man8/fdisk.8">fdisk(8)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man8/mount.8">mount(8)</a>.
<li>Remove support for "lookup yp" in <a href="http://man.openbsd.org/OpenBSD-current/man5/resolv.conf.5">resolv.conf(5)</a>. It is incompatible with <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/vmd.8">vmd(8)</a>, add the -d and -v flags.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/vmd.8">vmd(8)</a>, add support for logging to stderr or syslog, and to run it in foreground with -d option.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/sndiod.8">sndiod(8)</a>:
<ul>
<li>Ensure the /tmp/aucat directory gets the right permissions.
<li>Exit cleanly in the case where the clock is ticking because of a MMC start message.
<li>Remove the unused -M option.
</ul>
<li>Attach <a href="http://man.openbsd.org/OpenBSD-current/man4/macppc/zs.4">zs(4/macppc)</a> as "zs" rather than "zsc".
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/bc.1">bc(1)</a>, fix printing of non-ASCII characters in an error message and fix a number of problems caused by invalid input.
<!-- 2015-11-22 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/vmctl.8">vmmctl(8)</a>, add support for <a href="http://man.openbsd.org/OpenBSD-current/man5/vm.conf.5">vmm.conf(5)</a>.
<li>Add <a href="http://man.openbsd.org/OpenBSD-current/man8/vmd.8">vmd(8)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man8/vmctl.8">vmmctl(8)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tmux.1">tmux(1)</a>, if display-time is set to 0, show status messages until a key is pressed.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/ospfctl.8">ospfctl(8)</a>, print what <a href="http://man.openbsd.org/OpenBSD-current/man8/ospfd.8">ospfd(8)</a> thinks is connected by adding a "C" to the nexthop output.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/ospfd.8">ospfd(8)</a>, improve ABR support especially for self-originated stub networks. This solves the last issues when using ospfd(8) in multiple areas.
<!-- 2015-11-21 -->
<li>Import mesa 11.0.6.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man8/nsd.8">nsd(8)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/pcidump.8">pcidump(8)</a>, print the PCI power state when -v is given.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/fdisk.8">fdisk(8)</a>, bring GPT partition editing into line with MBR partition editing.
<li>Fix <a href="http://man.openbsd.org/OpenBSD-current/man4/drm.4">inteldrm(4)</a> on recent Apple hardware.
<li>Make <a href="http://man.openbsd.org/OpenBSD-current/man4/sdhc.4">sdhc(4)</a> work with 64-bit memory BARs such as those found on the new PC Engines apu.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tail.1">tail(1)</a>, improve fixes for running without -f.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/amd64/vmm.4">vmm(4)</a>, do not create a VM if vmm mode hasn't been enabled.
<!-- 2015-11-20 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/fdisk.8">fdisk(8)</a>, fix several nits in editing partitions.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/mandoc.1">mandoc(1)</a>, fix multiple issues regarding process group and signal mask handling.
<li>Remove <a href="http://man.openbsd.org/OpenBSD-5.8/man8/login_tis.8">login_tis(8)</a>.
<li>In the installer, do not auto-skip X sets on systems without <a href="http://man.openbsd.org/OpenBSD-current/man4/wscons.4">wscons(4)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/em.4">em(4)</a>, revert all the changes to run the tx completion path without holding the kernel lock. It causes "watchdog timeout" problems.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/cvs.1">cvs(1)</a>, disable server-side pserver support.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/sppp.4">sppp(4)</a>, remove support for SPPP with framing. It is no longer used.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ed.1">ed(1)</a>, restore the user-defined prompt (specified with -p) when it was turned off and then on again with "P".
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man6/monop.6">monop(6)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/skeyinit.1">skeyinit(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man6/tetris.6">tetris(6)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/trpt.8">trpt(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man6/worm.6">worm(6)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man6/worms.6">worms(6)</a>.
<!-- 2015-11-19 -->
<li>Repair most cases of "<a href="http://man.openbsd.org/OpenBSD-current/man1/tail.1">tail</a> +n" usage.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tmux.1">tmux(1)</a>, only assume pasting with at least two characters.
<li>Update to <a href="http://man.openbsd.org/OpenBSD-current/man1/flex.1">flex(1)</a> 2.5.39 and add various improvements including use of <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/fdisk.8">fdisk(8)</a>, when an existing partition is modified in LBA mode, ensure that the partition table is marked dirty so that it gets written when "quit" is issued.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tail.1">tail(1)</a>, allow tailing multiple files.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in OpenCVS.
<li>In the kernel, don't try and wakeup other threads to handle pending work when it is known there's only one thread in the taskq.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/newsyslog.8">newsyslog(8)</a>, back out <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh.1">ssh(1)</a>, disallow ConnectionAttempts=0.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/vi.1">vi(1)</a>, remove cscope support.
<!-- 2015-11-18 -->
<li>In the installer, set "prohibit-password" in <a href="http://man.openbsd.org/OpenBSD-current/man5/sshd_config.5">sshd_config(5)</a> instead of "without-password".
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man1/fvwm.1">fvwm(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/FvwmPager.1">FvwmPager(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/hotplugd.8">hotplugd(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/locale.1">locale(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/sensorsd.8">sensorsd(8)</a>.
<li>Add icdb, the Internal C Database: a simpler replacement for the old Berkeley DB code.
<li>Add <a href="http://man.openbsd.org/OpenBSD-current/man3/getpwnam_shadow.3">getpwnam_shadow(3)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man3/getpwuid_shadow.3">getpwuid_shadow(3)</a>. These functions will always open the secure/shadow/master password files.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/octeon/cnmac.4">cnmac(4/octeon)</a>, fix the reception of short non-IP packets by accounting of padding with dynamic short packets.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tmux.1">tmux(1)</a>, add the "s/foo/bar/:" prefix for formats to substitute bar for foo.
<li>Fix a regression introduced by the <a href="http://man.openbsd.org/OpenBSD-current/man9/rtalloc.9">rtalloc(9)</a> rewrite where only the first route of a multipath chain had a valid next hop and could be used.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh-keygen.1">ssh-keygen(1)</a>, fix -l for private keys. This was broken in support for multiple plain keys on stdin.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/sndiod.8">sndiod(8)</a>, disable -L (networking) until privilege separation is implemented.
<!-- 2015-11-17 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/fdisk.8">fdisk(8)</a>, since -e edits the on-disk information, remove GPT and re-read it from disk if appropriate.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/crontab.1">crontab(1)</a>, check for <a href="http://man.openbsd.org/OpenBSD-current/man2/setegid.2">setgid(2)</a> failure before executing editor and warn if the exec of shell + editor fails.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/ntpd.8">ntpd(8)</a>, fix memory leak in remove a constraint code path.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/trpt.8">trpt(8)</a>, remove the setgid bit.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man6/tetris.6">tetris(6)</a>, remove the setgid bit and move score files into the user's home directory.
<li>Remove <a href="http://man.openbsd.org/OpenBSD-5.8/man1/lptest.1">lptest(1)</a>, <a href="http://man.openbsd.org/OpenBSD-5.8/man8/pac.8">pac(8)</a> and <a href="http://man.openbsd.org/OpenBSD-5.8/man8/yptest.8">yptest(8)</a>,
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/bge.4">bge(4)</a>, clear the interface timer when shutting down the interface so the watchdog timer doesn't fire a few seconds later.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/snmpd.8">snmpd(8)</a>, exclude sensors marked as invalid from the sensors MIB.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man1/cvs.1">cvs(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/getconf.1">getconf(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/newsyslog.8">newsyslog(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/sa.8">sa(8)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man8/showmount.8">showmount(8)</a>.
<li>Unbreak next-hop caching on multipath setups: when multiple gateways are in use, the next-hop entry might not be on the same interface.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/bgpd.8">bgpd(8)</a>, in the session engine, handle loss of the pipe with a normal shutdown of sessions and exit.
<!-- 2015-11-16 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh-keygen.1">ssh-keygen(1)</a>, allow fingerprinting from standard input and support fingerprinting multiple plain keys in a file and authorized_keys files (bz#1319).
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man1/calendar.1">calendar(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/gprof.1">gprof(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/Mail.1">mail(1)</a>, and <a href="http://man.openbsd.org/OpenBSD-current/man8/shutdown.8">shutdown(8)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/at.1">at(1)</a>, make -l comply with POSIX.
<li>Fix a panic that happens when <a href="http://man.openbsd.org/OpenBSD-current/man4/radeondrm.4">radeomdrm(4)</a> detaches because the hardware couldn't be initialized properly.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/pvbus.4">pvbus(4)</a>, fix a panic on i386 under VMware.
<li>Add the QuoVadis root certificates to /etc/ssl/cert.pem.
<!-- 2015-11-15 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/sshd.8">sshd(8)</a>, add a new authorized_keys option "restrict" that includes all current and future key restrictions. Also add permissive versions of the existing restrictions.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man5/ssh_config.5">ssh_config(5)</a>, add the AddKeysToAgent option.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/intel.4">intel(4)</a>, partly disable acceleration on Broadwell. This avoids use of the render ring which gets stuck after resume.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man9/ieee80211.9">ieee80211(9)</a>:
<ul>
<li>Add 11n HT support.
<li>Expose 11n mode to the ifmedia layer and introduce the concept of MCS. Make sure 11n features are enabled only if media type is autoselect or 11n.
<li>Add support for 11n mode to the rate adaptation (AMRR) code.
</ul>
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/Xorg.1">Xorg(1)</a>, remove the -configure option. It has been broken for a long time.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in
<a href="http://man.openbsd.org/OpenBSD-current/man1/locate.1">locate(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/clear.1">tput(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/reset.1">tset(1)</a>, and <a href="http://man.openbsd.org/OpenBSD-current/man8/user.8">user(8)</a>.
<!-- 2015-11-14 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/rdistd.1">rdistd(1)</a>, support hardlinked symlinks.
<li>In the binutils tools:
<ul>
<li>Don't try to preserve setuid bits.
<li>Always strip off setuid/setgid bits when creating copies of files.
</ul>
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man9/ieee80211.9">ieee80211(9)</a>, fix CCMP (WPA2) in preparation for 11n.
<li>Remove libocurses. It is no longer used.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/mandoc.1">mandoc(1)</a>, fix a bug where hitting Ctrl-Backslash (= SIGQUIT) in the <a href="http://man.openbsd.org/OpenBSD-current/man1/less.1">less(1)</a> process spawned by <a href="http://man.openbsd.org/OpenBSD-current/man1/man.1">man(1)</a> causes <a href="http://man.openbsd.org/OpenBSD-current/man1/man.1">man(1)</a> to die uncleanly leaving behind its temp files, and kill <a href="http://man.openbsd.org/OpenBSD-current/man1/less.1">less(1)</a> uncleanly leaving the terminal in the wrong state.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man1/ar.1">ar(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/info.1">info(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/infokey.1">infokey(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/install-info.1">install-info(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/ldconfig.8">ldconfig(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/ldd.1">ldd(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/makeinfo.1">makeinfo(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/objcopy.1">objcopy(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/texindex.1">texindex(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/ex.1">vi(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/xconsole.1">xconsole(1)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man8/ypldap.8">ypldap(8)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/rs.1">rs(1)</a>, fix a bug with -z where every column was at least as wide as the previous one.
<li>Update to xkeyboard-config 2.16.
<!-- 2015-11-13 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/telnet.1">telnet(1)</a>:
<ul>
<li>Remove S/Key support.
<li>Remove support for !shell.
<li>Remove the tracefile command.
<li>Remove the debug command.
<li>Set <a href="http://man.openbsd.org/OpenBSD-current/man4/rdomain.4">rtable(4)</a> on the whole process, not only in the socket.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a>.
</ul>
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man1/as.1">as(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/fdisk.8">fdisk(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/c++.1">gcc(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/ld.1">ld(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/nm.1">nm(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/rarpd.8">rarpd(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/tcpbench.1">tcpbench(1)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man8/tftp-proxy.8">tftp-proxy(8)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man9/crypto.9">crypto(9)</a>:
<ul>
<li>Remove unused non-HMAC versions of MD5 and SHA1.
<li>Remove unused ARC4.
</ul>
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tmux.1">tmux(1)</a> add the window_visible_layout format.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/file.1">file(1)</a>, with -L, make links actually be followed.
<li>Add <a href="http://man.openbsd.org/OpenBSD-current/man4/amd64/vmm.4">vmm(4)</a>. It is disabled by default.
<li>In ssh, send SSH2_MSG_UNIMPLEMENTED replies to unexpected messages during KEX (bz#2949).
<!-- 2015-11-12 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man5/sshd_config.5">sshd_config(5)</a>, support "none" as an argument for ForceCommand and ChrootDirectory (bz#2486).
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh-keygen.1">ssh-keygen(1)</a>, for -L, support multiple certificates (one per line) and reading from standard input.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/nc.1">nc(1)</a>, with -V, set <a href="http://man.openbsd.org/OpenBSD-current/man4/rdomain.4">rtable(4)</a> on the whole process, not only in the socket.
<li>Revert sys/dev/pci/if_bge.c r1.372. It causes regressions on some models.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/dhclient.8">dhclient(8)</a>, when link loss is reported, cancel any active timeout and wait for link to return.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man1/cwm.1">cwm(1)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man8/fingerd.8">fingerd(8)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/fdisk.8">fdisk(8)</a>:
<ul>
<li>Avoid problems with pathological input during edit operations by never attempting to use data past the end of the input.
<li>Refresh the in-kernel copy of the disklabel from the disk <em>after</em> writing the new GPT.
<li>Let "reinit mbr" zero existing MBR and GPT partition information before constructing default MBR.
</ul>
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/cron.8">cron(8)</a>, move the socket to /var/run/cron.sock.
<!-- 2015-11-11 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tmux.1">tmux(1)</a>:
<ul>
<li>Remove the mouse-utf8 option. Instead, always turn on UTF-8 mouse if the client says it supports UTF-8.
<li>Support UTF-8 key bindings.
<li>Remove the mouse_utf8_flag.
<li>Remove the utf8 and status-utf8 options. Make tmux only a UTF-8 terminal.
</ul>
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/fdisk.8">fdisk(8)</a>, display the full disk size when editing GPT, not the truncated MBR size. Display the "disk too large" message only when no GPT is found.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man1/mg.1">mg(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/spamdb.8">spamdb(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/xclock.1">xclock(1)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man1/Xserver.1">Xserver(1)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/mg.1">mg(1)</a>, clear the mini buffer once a question has been displayed.
<!-- 2015-11-10 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/ehci.4">ehci(4)</a>, mark the interrupt handler IPL_MPSAFE.
<li>Add /dev/vmm.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/bge.4">bge(4)</a>, unbreak the BCM5704 A3 found on some Xserve G5 (RackMac3,1).
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/fdisk.8">fdisk(8)</a>, make GPT on large disks work.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/rs.1">rs(1)</a>:
<ul>
<li>With -H, do not overrun a static buffer on files longer than 4 kB.
<li>With -K, do not print bogus blank lines in case of premature EOF.
</ul>
<li>Reduce the memory overhead of our ART routing table from 80M to 70M compared to the existing radix-tree when loading ~550K IPv4 routes.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/mount_mfs.8">newfs(8)</a>, remove TMPDIR support.
<!-- 2015-11-09 -->
<li>Install ikeca.cnf by default as <a href="http://man.openbsd.org/OpenBSD-current/man8/ikectl.8">ikectl(8)</a> now requires CA-specific sections not present in the general <a href="http://man.openbsd.org/OpenBSD-current/man1/openssl.1">openssl(1)</a> cnf files.
<li>In libc:
<ul>
<li>Exclude the hidden <a href="http://man.openbsd.org/OpenBSD-current/man3/atexit.3">atexit(3)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man3/pthread_atfork.3">pthread_atfork(3)</a> stubs from static links that don't use them.
<li>Split the intra-thread functionality from <a href="http://man.openbsd.org/OpenBSD-current/man2/kill.2">kill(2)</a> into its own system call <a href="http://man.openbsd.org/OpenBSD-current/man2/thrkill.2">thrkill(2)</a>. This eliminates the need for locking in <a href="http://man.openbsd.org/OpenBSD-current/man3/pthread_kill.3">pthread_kill(3)</a> and simplifies <a href="http://man.openbsd.org/OpenBSD-current/man3/pthread_cancel.3">pthread_cancel(3)</a>.
</ul>
<li><font color="#e00000">5.7 and 5.8 RELIABILITY FIX: insufficient validation of RSN element group cipher values in 802.11 beacons and probe responses could result in system panics.</font><br>A source code patch is available for <a href="errata57.html#020_rsn">5.7</a> and <a href="errata58.html#008_rsn">5.8</a>.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man1/less.1">less(1)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man1/nohup.1">nohup(1)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/less.1">less(1)</a>, do not save history in secure mode.
<li>Use the correct <a href="http://man.openbsd.org/OpenBSD-current/man4/rdomain.4">rdomain(4)</a> when sending <a href="http://man.openbsd.org/OpenBSD-current/man4/gre.4">gre(4)</a> keepalive packets.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/ehci.4">ehci(4)</a>, fix a NULL dereference in case a Root Port Hub interrupt is handled before the soft-interrupt has been established.
<!-- 2015-11-08 -->
<li>In efiboot, avoid a crash when attempting to calculate the header checksum.
<li>Make HFSC work on <a href="http://man.openbsd.org/OpenBSD-current/man4/age.4">age(4)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man4/vr.4">vr(4)</a>.
<li>Add the _vmd user and group for the forthcoming <a href="http://man.openbsd.org/OpenBSD-current/man8/vmd.8">vmd(8)</a> daemon.
<li>Revert gnu/usr.bin/gcc/gcc/cp/g++spec.c r1.2 and r.13 in order to go back to the default upstream behaviour when linking a shared library with c++. It is no longer necessary to behave the same as g++ 2.95.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh-keyscan.1">ssh-keyscan(1)</a>, add -c to allow fetching certificates instead of plain keys.
<li>In ncr53c9x, when issuing a non-dma command, set a length variable to 0 upfront to avoid problems on command completition interrupt.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh.1">ssh(1)</a>, fix an OOB read in the packet code.
<li>Fix possible system panics due insufficient validation of RSN element group cipher values in 802.11 stack.
<li>Fix a use-after-free in <a href="http://man.openbsd.org/OpenBSD-current/man1/fvwm.1">fwvm(1)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/sdmmc.4">sdmmc(4)</a>, always claim to support sector mode for eMMC. This allows BeagleBone Black boards with Micron eMMC to work.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/less.1">less(1)</a>, remove LESSGLOBALTAGS support.
<!-- 2015-11-07 -->
<li>In efiboot, make "machine disk" show EFI info instead of BIOS info.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/restore.8">restore(8)</a>, make hardlinks of symlinks work.
<li>In efiboot, disable red-zone since EFI is running with a different ABI. This may fix an issue when loading a compressed kernel on MacBooks.
<li>Update to xserver 1.17.4.
<li>Use input handlers for <a href="http://man.openbsd.org/OpenBSD-current/man4/bridge.4">bridge(4)</a>. This allows more flexible configurations with <a href="http://man.openbsd.org/OpenBSD-current/man4/svlan.4">vlan(4)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man4/bridge.4">bridge(4)</a> on top of the same physical interface.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man1/xterm.1">xterm(1)</a>.
<!-- 2015-11-06 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man3/cabs.3">hypotf(3)</a>, fix wrong magic numbers in scaling causing incorrect results for large and small values.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/getty.8">getty(8)</a>, remove ppplogin support.
<li>Radically improve the performance of <a href="http://man.openbsd.org/OpenBSD-current/man8/bgpd.8">bgpd(8)</a> filters.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/less.1">less(1)</a>:
<ul>
<li>Remove support for "!" to run a shell command.
<li>Remove LESSCHARDEF support.
<li>Remove unused charsets and LESSCHARSET support.
</ul>
<li>Make HFSC work on <a href="http://man.openbsd.org/OpenBSD-current/man4/de.4">de(4)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man4/sparc/ie.4">ie(4/sparc)</a>.
<!-- 2015-11-05 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ld.so.1">ld.so(1)</a>, fix unloading of load groups when the last reference was not on the load_object but rather some descendent.
<li>On i386, fix a regression by reading/writing to CR4 register only if the processor has this capability.
<li>Stop creating the directory /usr/share/nls. If the user does not specify a NLS path, fail early in <a href="http://man.openbsd.org/OpenBSD-current/man3/catopen.3">catopen(3)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man3/res_init.3">res_init(3)</a>, restrict the number, size and address family of nameservers. This fixes a crash in sendmail. Only programs that use the bind resolver internals directly are affected.
<li>Replace <a href="http://man.openbsd.org/OpenBSD-current/man1/less.1">less(1)</a> with the cleaned-up fork of less 458 maintained by Garrett D'Amore.
<li>Update to unbound 1.5.6.
<li>Update to nsd 4.1.6.
<li>In the loongson installer, ensure that the partition containing the boot blocks is recognized on the eBenton EBT700.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man8/httpd.8">httpd(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/ikectl.8">ikectl(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/slowcgi.8">slowcgi(8)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man1/wall.1">wall(1)</a>.
<li>For USB mice with wheels, check for the W direction at AC Pan input.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/pkg_add.8">pkg_add(8)</a>, tweak dependencies handling. This might fix some infrequent bugs.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/tcpdump.8">tcpdump(8)</a>, fix a segmentation fault by capping the GRE packet len to tcpdump's snap len.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tmux.1">tmux(1)</a>, pass through right click if mouse is on.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/smtpctl.8">smtpctl(8)</a>, implement the "uncorrupt" subcommand.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/smtpd.8">smtpd(8)</a>, correctly handle messages that consist solely of headers and do not end with an empty line.
<!-- 2015-11-04 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/km.4">km(4)</a>, match the temperature sensor in GX-412TC SOC.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/ipsecctl.8">ipsecctl(8)</a>, decode Chacha20-Poly1305 when dumping SAs.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/iked.8">iked(8)</a>, support Chacha20-Poly1305 for Child SAs.
<!-- 2015-11-03 -->
<li>Fix a potential use-after-free in <a href="http://man.openbsd.org/OpenBSD-current/man4/pf.4">pf(4)</a>.
<li>Disable TCP/UDP TX hardware checksumming if an IPv4 packet contains IP options or if an IPv6 packet contains header extensions.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/rtadvd.8">rtadvd(8)</a>, recognize <a href="http://man.openbsd.org/OpenBSD-current/man4/carp.4">carp(4)</a> interfaces in order to send the src lladdr option.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/fdisk.8">fdisk(8)</a>, don't allow the user to enter GPT partition names too large to fit in the GPT partition structure. Also avoid running off the end of the name buffer.
<li>Prevent a panic caused by an infinite recursion in the network stack.
<li>In efiboot, use "Loaded Image Protocol" instead of "Loaded Device Path Protocol" to find the boot device since the MacBook does not support the latter protocol.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/snmpd.8">snmpd(8)</a>, don't lose the ARP entries when updating an interface.
<!-- 2015-11-02 -->
<li>Add Chacha20-Poly1305 to the OpenBSD Cryptographic Framework and enable it in the software crypto driver and the IPsec/ESP and PF_KEY frameworks.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/whois.1">whois(1)</a>, add -I to use whois.iana.org (root zone database).
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/tcpdump.8">tcpdump(8)</a>, print RDNSS nameserver addresses and option names for some other known options that are not otherwise decoded yet (DNSSL, route information).
<li>In libssl, add <a href="http://man.openbsd.org/OpenBSD-current/man3/EVP_aead_chacha20_poly1305_ietf.3">EVP_aead_chacha20_poly1305_ietf(3)</a>, a ChaCha20 with a Poly1305 authenticator for IETF protocols.
<li>Remove ARP load-balacing in order to simplify making ARP MP-safe.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/xhci.4">xhci(4)</a>, mark the interrupt handler as IPL_MPSAFE since it only schedules a soft-interrupt.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/ikectl.8">ikectl(8)</a>:
<ul>
<li>Accept an "ocsp" option when creating certificates to set the extended key usage for OCSP signing.
<li>Let <a href="http://man.openbsd.org/OpenBSD-current/man1/openssl.1">openssl(1)</a> add valid signed certs to the index file which is required to use the builtin openssl OCSP server.
<li>Switch from SHA-1 to SHA-256.
</ul>
<li>Introduce <a href="http://man.openbsd.org/OpenBSD-current/man9/MBUF_LIST_FIRST.9">ml_purge(9)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man9/MBUF_QUEUE_INITIALIZER.9">mq_purge(9)</a> to free all mbufs on an mbuf list or queue.
<!-- 2015-11-01 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/intel.4">intel(4)</a>, fix rendering problems on Broadwell GT3 (Iris 6100/Iris Pro 6200).
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/re.4">re(4)</a>, expand the rx and tx rings so that deviced needing more packets per interrupt can use them.
<li>Rework the <a href="http://man.openbsd.org/OpenBSD-current/man8/netstart.8">netstart(8)</a> script.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/inteldrm.4">inteldrm(4)</a>:
<ul>
<li>Prevent the desktop "Iris Pro Graphics 6200" from being misidentified as ULT.
<li>Make the mobile "Iris Graphics 6100" be correctly identified as being a ULT part.
</ul>
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man8/bgpctl.8">bgpctl(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/ldapctl.8">ldapctl(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/ldapd.8">ldapd(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/m4.1">m4(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/skeyaudit.1">skeyaudit(1)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man1/skeyinfo.1">skeyinfo(1)</a>.
<!-- 2015-10-31 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/ntpd.8">ntpd(8)</a>, revert some parts introduced with the original server rtable support, so servers with numeric IP addresses won't be skipped.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/mg.1">mg(1)</a>, mark *Completions* buffer as read-only.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/httpd.8">httpd(8)</a>, revert usr.sbin/httpd/httpd.c r1.42 (fix PATH_INFO for "/" requests). It breaks <a href="http://man.openbsd.org/OpenBSD-current/man8/slowcgi.8">slowcgi(8)</a> and php-fpm setups.
<!-- 2015-10-30 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/mandoc.1">mandoc(1)</a> do not access a NULL pointer when a .Bd macro has no arguments at all.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/ntpd.8">ntpd(8)</a>, remove support for sending status reports to syslog on SIGINFO.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/cvs.1">cvs(1)</a>, fix a crash in pserver mode when CVSROOT/passwd contains an old DES password.
<li>Fix interaction between <a href="http://man.openbsd.org/OpenBSD-current/man4/drm.4">inteldrm(4)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man4/amd64/efifb.4">efifb(4)</a>.
<!-- 2015-10-29 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/mg.1">mg(1)</a>, fix opening dired from the command line.
<li>In libcrypto, add support for the Poly1305 Message Authentication Code.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/asmc.4">asmc(4)</a>, enable the keyboard backlight led earlier to avoid a race.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/ping.8">ping(8)</a>, back out chacha.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/rebound.8">rebound(8)</a>, print stats upon SIGUSR1.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/mailq.8">smtpctl(8)</a>, implement the "discover" subcommand.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh.1">ssh(1)</a>, fix "PubkeyAcceptedKeyTypes +..." inside a Match block.
<li>Make <a href="http://man.openbsd.org/OpenBSD-current/man4/drm.4">inteldrm(4)</a> attach to <a href="http://man.openbsd.org/OpenBSD-current/man4/pci.4">pci(4)</a> instead of <a href="http://man.openbsd.org/OpenBSD-current/man4/vga.4">vga(4)</a>. This is needed for machines where Intel graphics isn't the primary graphics device and on systems with UEFI firmware that put the device in non-VGA mode.
<!-- 2015-10-28 -->
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> and privsep in <a href="http://man.openbsd.org/OpenBSD-current/man8/rdate.8">rdate(8)</a>.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man1/at.1">at(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/cap_mkdb.1">cap_mkdb(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/cron.8">cron(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/crontab.1">crontab(1)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man1/last.1">last(1)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/octeon/cnmac.4">cnmac(4/octeon)</a>, enable TCP/UDP checksum offloading on packet transmission.
<li>Support backspace in <a href="http://man.openbsd.org/OpenBSD-current/man4/softraid.4">softraid(4)</a> boot passphrase prompt.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/lpd.8">lpd(8)</a>, remove pidfile support.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man8/amd64/ZZZ.8">apm(8)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man5/resolv.conf.5">resolv.conf(5)</a>, remove support for "[addr]:port" syntax from the "nameserver" line.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/smtpd.8">smtpd(8)</a>, support <a href="http://man.openbsd.org/OpenBSD-current/man5/aliases.5">aliases(5)</a> entries resolving to maildir:/path.
<!-- 2015-10-27 -->
<li>Add a rcpt-to paramater to <a href="http://man.openbsd.org/OpenBSD-current/man5/smtpd.conf.5">smtpd.conf(5)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/unbound.8">unbound(8)</a>, don't use a pidfile by default.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/relayd.8">relayd(8)</a>, change cipher-server-preference to be on by default.
<!-- 2015-10-26 -->
<li>Document <a href="http://man.openbsd.org/OpenBSD-current/man5/eigrpd.conf.5">eigrpd.conf(5)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/eigrpd.8">eigrpd(8)</a>:
<ul>
<li>Print a missing "metric" before the actual metric when printing a redistribute line.
<li>Whenever a summary route is activated, install a respective blackhole route in the FIB.
</ul>
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/pkg-config.1">pkg-config(1)</a>, do not reject properties with no whitespace after the colon.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/repquota.8">repquota(8)</a>, don't allow -a together with specifying filesystems.
<li>Fix <a href="http://man.openbsd.org/OpenBSD-current/man8/makemap.8">makemap(8)</a> for values containing a "#".
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/dhclient.8">dhclient(8)</a>, add the ability to use option 119 ("Domain Search") if supplied by the server.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/fdisk.8">fdisk(8)</a>, add GPT editing.
<li>Remove <a href="http://man.openbsd.org/OpenBSD-5.8/man8/rip6query.8">rip6query(8)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/crontab.1">crontab(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/diff.1">diff(1)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man1/sendbug.1">sendbug(1)</a>, remove TMPDIR support.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/top.1">top(1)</a>, print the uptime too.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/httpd.8">httpd(8)</a>, fix PATH_INFO for "/" requests.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/mrouted.8">mrouted(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/pppd.8">pppd(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/rarpd.8">rarpd(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/rbootd.8">rbootd(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/smtpd.8">smtpd(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/amd64/wsmoused.8">wsmoused(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/ypserv.8">ypserv(8)</a>, remove <a href="http://man.openbsd.org/OpenBSD-current/man3/pidfile.3">pidfile(3)</a> support.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/smtpd.8">smtpd(8)</a>, avoid a potential double free.
<!-- 2015-10-25 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh.1">ssh(1)</a>, expand tildes in filenames passed to -i before checking whether or not the identity file exists in case the shell doesn't do the expansion (bz#2481).
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/route6d.8">route6d(8)</a>, fix a memory leak.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh.1">ssh(1)</a>, do not prepend "exec" to the shell command run by "Match exec" in a config file (bz#2471).
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tmux.1">tmux(1)</a>, extend the modifiers allowed before formats.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man8/rtadvd.8">rtadvd(8)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/cron.8">cron(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/ftpd.8">ftpd(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/route6d.8">route6d(8)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man8/rtadvd.8">rtadvd(8)</a>, remove pidfile support.
<li>Fix <a href="http://man.openbsd.org/OpenBSD-current/man8/installboot.8">installboot(8)</a> on i386/amd64 when softraid is on top of GPT.
<li>Enable <a href="http://man.openbsd.org/OpenBSD-current/man4/asmc.4">asmc(4)</a> on i386.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/asmc.4">asmc(4)</a>, fix seldomly seen "comm collision" errors.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/disklabel.8">disklabel(8)</a>, remove support for the "b0" and "b1" <a href="http://man.openbsd.org/OpenBSD-current/man5/disktab.5">disktab(5)</a> capabilities.
<li>Do not expose nd6 randomid's to userland via <a href="http://man.openbsd.org/OpenBSD-current/man2/ioctl.2">ioctl(2)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/ping6.8">ping6(8)</a>, remove -g after IPV6_NEXTHOP removal.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/ip6.4">ip6(4)</a>, remove IPV6_NEXTHOP implementation.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/telnet.1">telnet(1)</a>, remove IP Source Route support.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/ping6.8">ping6(8)</a>, implement <a href="http://man.openbsd.org/OpenBSD-current/man8/ping.8">ping(8)</a>'s -L option.
<li>Remove the NLS support from libc messages.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tmux.1">tmux(1)</a>, remove TMPDIR support.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in
<a href="http://man.openbsd.org/OpenBSD-current/man1/dig.1">dig(1)</a>,
<a href="http://man.openbsd.org/OpenBSD-current/man1/host.1">host(1)</a>,
<a href="http://man.openbsd.org/OpenBSD-current/man1/nslookup.1">nslookup(1)</a>,
<a href="http://man.openbsd.org/OpenBSD-current/man6/quiz.6">quiz(6)</a>,
<!-- 2015-10-24 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/eigrpd.8">eigrpd(8)</a>, keep conversions between the real and composite bandwidth consistent with what Cisco does.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh.1">ssh(1)</a>, fix keyscan output for multiple hosts/addresses on one line when host hashing or a non standard port is in use (bz#2479).
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/tcpdump.8">tcpdump(8)</a>, avoid a segfault with malformed DECnet packets.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/ping6.8">ping6(8)</a>, move the output of the src address to the -v option. This syncs the output with that of <a href="http://man.openbsd.org/OpenBSD-current/man8/ping.8">ping(8)</a>.
<li>Ignore Router Advertisment's current hop limit.
<li>Wait a short while between setting a USB device's address and reloading its descriptor. This fixes a flaky attach of USB devices on the Thinkpad Helix 2.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/syslogd.8">syslogd(8)</a>, stop the chrooted child from trying to load the default CA file.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/bgpctl.8">bgpctl(8)</a>:
<ul>
<li>Print if a route is redistributed or not at least for static and connected.
<li>Allow other MRT message types to be parsed.
</ul>
<li>Add <a href="http://man.openbsd.org/OpenBSD-current/man4/pair.4">pair(4)</a>, a vether-based virtual Ethernet driver to interconnect rdomains and bridges on the local system.
<!-- 2015-10-23 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/octeon/cnmac.4">cnmac(4/octeon)</a>, make use of hardware RX checksum validation.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man3/catopen.3">catopen(3)</a>, verify that an opened message catalog is valid. This avoids integer overflows and out-of-boundary accesses.
<li>Fix renaming in the root directory of FAT filesystems.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/syslogd.8">syslogd(8)</a>, if a write to a tty is blocked, use an event instead of forking.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tmux.1">tmux(1)</a>, add a format for scroll position.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/ndp.8">ndp(8)</a>, don't do DNS lookups when -n is specified.
<li>Split up <a href="http://man.openbsd.org/OpenBSD-current/man4/tun.4">tun(4)</a> into tun(4) and <a href="http://man.openbsd.org/OpenBSD-current/man4/tap.4">tap(4)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/ntpd.8">ntpd(8)</a>, no longer allow upstream NTP servers to be in multiple routing tables.
<li>Don't enable /etc/fonts/conf.d/10-autohint.conf by default. It causes problems with glyphs exceeding the cell size.
<li>Introduce a new <a href="http://man.openbsd.org/OpenBSD-current/man3/sysctl.3">sysctl(3)</a> NET_RT_IFNAMES that returns only ifnames to ifindex mappings.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in
<a href="http://man.openbsd.org/OpenBSD-current/man8/ldpctl.8">ldpctl(8)</a>,
<a href="http://man.openbsd.org/OpenBSD-current/man8/ldpd.8">ldpd(8)</a>,
<a href="http://man.openbsd.org/OpenBSD-current/man8/route.8">route(8)</a>,
<li>Translate calendar files to UTF-8.
<!-- 2015-10-22 -->
<li>On amd64 and i386, enable <a href="http://man.openbsd.org/OpenBSD-current/man4/viornd.4">viornd(4)</a> on RAMDISK_CD.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/eigrpd.8">eigrpd(8)</a>, fix some bugs in the handling of the RTM_GET and RTM_CHANGE messages.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/mandoc.1">mandoc(1)</a>, avoid a NULL pointer dereference.
<li>Stop linking <a href="http://man.openbsd.org/OpenBSD-current/man8/iked.8">iked(8)</a> statically. This has benefits like having full ASLR and taking take advantage of libcrypto updates.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man1/addr2line.1">addr2line(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/iked.8">iked(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/login_yubikey.8">login_yubikey(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/nc.1">nc(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/objdump.1">objdump(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/ps.1">ps(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/readelf.1">readelf(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/strings.1">strings(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/su.1">su(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/top.1">top(1)</a> and
<a href="http://man.openbsd.org/OpenBSD-current/man1/w.1">w(1)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/bgpd.8">bgpd(8)</a>, revert usr.sbin/bgpd/parse.y r1.282 that allowed for empty blocks for peers. It broke the grammar by introducing shift/reduce errors.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tmux.1">tmux(1)</a>, fix "tmux killw\; detach".
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/bgpd.8">bgpd(8)</a>, log and ignore received empty route messages.
<!-- 2015-10-21 -->
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man1/doas.1">doas(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man6/hangman.6">hangman(6)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man8/renice.8">renice(8)</a>.
<li>In libssl:
<ul>
<li>Avoid a (harmless) read and write overrun in the RC4 code.
<li>Avoid a segfault in "openssl gendh 0".
</ul>
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh.1">ssh(1)</a>, fix a memory leak in an error path.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tmux.1">tmux(1)</a>, add a default binding for mouse wheel up to scroll into history.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh.1">ssh(1)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man5/moduli.5">moduli(5)</a>, remove Diffie-Hellman moduli entries below 2048 bits.
<!-- 2015-10-20 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/eigrpd.8">eigrpd(8)</a>, add support for route summarization.
<li>Add a new <a href="http://man.openbsd.org/OpenBSD-current/man2/getsockopt.2">getsockopt(2)</a> option IP_IPDEFTTL to retrieve the default TTL.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/write.1">write(1)</a>, fix writing to other user's tty.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man8/rmt.8">rmt(8)</a>.
<li>Replace dnssocket() and dnsconnect() with a SOCK_DNS flag on <a href="http://man.openbsd.org/OpenBSD-current/man2/socket.2">socket(2)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/vr.4">vr(4)</a>, fix 802.1p VLAN priority code points for VLAN_HWTAGGING.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/tcpdump.8">tcpdump(8)</a>, avoid division by zero by adding an explicit check for a malformed AS segment.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/eigrpd.8">eigrpd(8)</a>, fix a use-after-free.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/iked.8">iked(8)</a>, unbreak OCSP support.
<!-- 2015-10-19 -->
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man1/nice.1">nice(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/radiusctl.8">radiusctl(8)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man8/radiusd.8">radiusd(8)</a>.
<li>In libssl, stop supporing legacy time formats that OpenSSL supports.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/eigrpd.8">eigrpd(8)</a>, fix memory leaks in error paths.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/iked.8">iked(8)</a>, remove IKEv1 support.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/radiusd.8">radiusd(8)</a>, avoid a NULL dereference.
<li>Update to freetype 2.6.1.
<!-- 2015-10-18 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/bge.4">bge(4)</a>, move rxeof and txeof outside the kernel lock.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/drm.4">drm(4)</a>, backport a fix to prevent machines from hanging or resetting.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/crunchgen.8">crunchgen(8)</a>, avoid integer overflow with very large files.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man8/bgplg.8">bgplg(8)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man8/inetd.8">inetd(8)</a>.
<!-- 2015-10-17 -->
<li>Add two new system calls: dnssocket() and dnsconnect().
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/drm.4">drm(4)</a>, don't poke registers on the wrong PCI device. This should fix machines such as the Asus EeePC 701.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man1/csh.1">csh(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/sort.1">sort(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/savecore.8">savecore(8)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man1/tmux.1">tmux(1)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/ping6.8">ping6(8)</a>, implement -w like in <a href="http://man.openbsd.org/OpenBSD-current/man8/ping.8">ping(8)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/bgpd.8">bgpd(8)</a>, do not accept fds on the control socket.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/snmpd.8">snmpd(8)</a>, tighten up the control socket: do not allow users to terminate the daemon by sending corrupted imsgs.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/xinit.1">xinit(1)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man1/xdm.1">xdm(1)</a>, don't automatically launch dbus as part of the default user sessions.
<!-- 2015-10-16 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh.1">ssh(1)</a>, increase the minimum modulus that will be sent or accepted in diffie-hellman-group-exchange to 2048 bits.
<li>Unbreak <a href="http://man.openbsd.org/OpenBSD-current/man8/route6d.8">route6d(8)</a>: adding unneeded space to its cmsg item breaks <a href="http://man.openbsd.org/OpenBSD-current/man2/sendmsg.2">sendmsg(2)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/sysmerge.8">sysmerge(8)</a>, drop usage of TMPDIR.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/ping6.8">ping6(8)</a>:
<ul>
<li>Move -t and -w functionality to -a.
<li>Remove RFC 4620 support.
</ul>
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/iwm.4">iwm(4)</a>, fix occasional firmware errors while bringing the interface up or scanning.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man3/nlist.3">nlist(3)</a> and other nlist implementations, validate parsed ELF values to prevent out of boundary accesses.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man6/hack.6">hack(6)</a>, disable the "!" command to escape to a shell.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/patch.1">patch(1)</a>, add native support for <a href="http://man.openbsd.org/OpenBSD-current/man1/ed.1">ed(1)</a>-style diffs. This allows for a stronger <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a>.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man1/cu.1">cu(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/getty.8">getty(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/pwd_mkdb.8">pwd_mkdb(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/route6d.8">route6d(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/vipw.8">vipw(8)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man8/zic.8">zic(8)</a>.
<!-- 2015-10-15 -->
<li>Add the _rebound user and group in order to improve privdrop for <a href="http://man.openbsd.org/OpenBSD-current/man8/rebound.8">rebound(8)</a>.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man1/ftp.1">ftp(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/identd.8">identd(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/login_token.8">login_token(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/rebound.8">rebound(8)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man1/sdiff.1">sdiff(1)</a>.
<li>Import <a href="http://man.openbsd.org/OpenBSD-current/man8/rebound.8">rebound(8)</a>, a lightweight DNS proxy.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/disklabel.8">disklabel(8)</a>, remove -B.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/x99token.1">x99token(1)</a>, avoid a race between <a href="http://man.openbsd.org/OpenBSD-current/man3/fdopen.3">fopen(3)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man2/chmod.2">fchmod(2)</a>. This prevents an attacker to open an old file with wrong permissions before the secret is written into it. It also guarantees that a new file with correct permissions is created.
<li>On vax, use MI <a href="http://man.openbsd.org/OpenBSD-current/man8/installboot.8">installboot(8)</a> instead of "<a href="http://man.openbsd.org/OpenBSD-current/man8/disklabel.8">disklabel</a> -B" to install boot blocks.
<li>Add proper support for vax to <a href="http://man.openbsd.org/OpenBSD-current/man8/installboot.8">installboot(8)</a>.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man1/x99token.1">x99token(1)</a>.
<li>Remove the "!" (subshell) and "v" (edit) commands from the ramdisk <a href="http://man.openbsd.org/OpenBSD-current/man1/more.1">more(1)</a> command.
<li>On octeon, let the rx path of <a href="http://man.openbsd.org/OpenBSD-current/man4/octeon/cnmac.4">cnmac(4/octeon)</a> run without the kernel lock.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/mailq.8">smtpctl(8)</a>, allow "all" as an argument for the "resume envelope", "pause envelope" and "remove" subcommands.
<!-- 2015-10-14 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/tcpdump.8">tcpdump(8)</a>, fix a crash that occurs when printing the filename in a malformed NFS request packet.
<li><font color="#e00000">5.6, 5.7 and 5.8 RELIABILITY FIX: the OBJ_obj2txt function in libcrypto contains a one byte buffer overrun and memory leak.</font><br>A source code patch is available for <a href="errata56.html#033_obj2txt">5.6</a>, <a href="errata57.html#019_obj2txt">5.7</a>, <a href="errata58.html#007_obj2txt">5.8</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tar.1">tar(1)</a>, use a strict $PATH to run the (de)compressors.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man5/newsyslog.conf.5">newsyslog.conf(5)</a>, allow the wheel group to read /var/log/maillog.
<li><font color="#e00000">RELEASE CD ISSUE: the "src.tar.gz" file on the source tree was created on the wrong day and does not match the 5.8 release builds.</font><br>A replacement file is available for <a href="errata58.html#006_src">5.8</a>.
<li><font color="#e00000">5.6, 5.7 and 5.8 RELIABILITY FIX: a problem with timer kevents could result in a kernel hang (local denial of service).</font><br>A source code patch is available for <a href="errata56.html#032_kevent">5.6</a>, <a href="errata57.html#018_kevent">5.7</a> and <a href="errata58.html#005_kevent">5.8</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/ping6.8">ping6(8)</a>, use <a href="http://man.openbsd.org/OpenBSD-current/man8/ping.8">ping(8)</a>-like semantics for -I.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/sort.1">sort(1)</a>, copy permissions and ownership when -o will override an input file.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/fsck_ext2fs.8">fsck_ext2fs(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/fsck_ffs.8">fsck_ffs(8)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man8/fsck_msdos.8">fsck_msdos(8)</a>, only accept one filesystem/device as argument for checking.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man6/banner.6">banner(6)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man6/bcd.6">bcd(6)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man6/caesar.6">caesar(6)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man6/factor.6">factor(6)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/fsck_ext2fs.1">fsck_ext2fs(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/fsck_ffs.1">fsck_ffs(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/fsck_msdos.8">fsck_msdos(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/login_passwd.8">login_passwd(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/login_reject.8">login_reject(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man6/morse.6">morse(6)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man6/number.6">number(6)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man6/pig.6">pig(6)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man6/pom.6">pom(6)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man6/ppt.6">ppt(6)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man6/rain.6">rain(6)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man6/random.6">random(6)</a>.
<!-- 2015-10-13 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/ugen.4">ugen(4)</a>, prevent a NULL-pointer dereference when closing a <a href="http://man.openbsd.org/OpenBSD-current/man4/ugen.4">ugen(4)</a> node in case the kernel failed to change the interface of a device.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/mg.1">mg(1)</a>, check if a file name can be extracted from a line before marking for deletion.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/sort.1">sort(1)</a>, ignore the setuid/setgid/sticky bits when copying the permissions of an input file to the new output file.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/ping6.8">ping6(8)</a>, remove the -b flag.
<li>Make sure RTF_LOCAL route entries are UP when added to the tree.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man8/crunchgen.8">crunchgen(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/lockspool.1">lockspool(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/mklocale.1">mklocale(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/netgroup_mkdb.8">netgroup_mkdb(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/newfs_ext2fs.8">newfs_ext2fs(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/nologin.8">nologin(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/smtpd.8">smtpd(8)</a>. <a href="http://man.openbsd.org/OpenBSD-current/man8/syslogc.8">syslogc(8)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man1/yes.1">yes(1)</a>,
<!-- 2015-10-12 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/mg.1">mg(1)</a>, when refreshing a dired buffer, avoid losing the files marked for deletion.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/ping6.8">ping6(8)</a>, deprecate and remove the -W flag.
<li>Make <a href="http://man.openbsd.org/OpenBSD-current/man1/ftp.1">ftp(1)</a> non-static, allowing for better ASLR.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/ntpd.8">ntpd(8)</a>, improve the privsep design. In particular, remove the delays that have been introduced by expensive constraint forks.
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man1/apropos.1">apropos(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/config.8">config(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/dev_mkdb.8">dev_mkdb(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/help.1">help(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/kvm_mkdb.8">kvm_mkdb(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/mailwrapper.8">mailwrapper(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/makewhatis.8">makewhatis(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/man.1">man(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/mandoc.1">mandoc(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/mesg.1">mesg(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/mkuboot.8">mkuboot(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/sparc64/mksuncd.1">mksuncd(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/skey.1">skey(1)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man1/whatis.1">whatis(1)</a>.
<!-- 2015-10-11 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man5/bgpd.conf.5">bgpd.conf(5)</a>, allow the blackhole well-known community to be given by name.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/bgpctl.8">bgpctl(8)</a>, add "best" as an alias for "selected".
<li>Use <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man8/ac.8">ac(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/biff.1">biff(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/clri.8">clri(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/cpio.1">clri(8)</a>/<a href="http://man.openbsd.org/OpenBSD-current/man1/pax.1">pax(1)</a>/<a href="http://man.openbsd.org/OpenBSD-current/man1/tar.1">tar(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/tunefs.8">tunefs(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/stty.1">stty(1)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man8/zdump.8">zdump(8)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/pkg-config.1">pkg-config(1)</a>, handle comma-separated list of arguments.
<!-- 2015-10-10 -->
<li>Disallow "<a href="http://man.openbsd.org/OpenBSD-current/man1/rm.1">rm</a> -rf /".
<li>Always set the timeout at least one tick in the future for EVFILT_TIMER to avoid looping in softclock().
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/bc.1">bc(1)</a>, avoid fork/execve of <a href="http://man.openbsd.org/OpenBSD-current/man1/dc.1">dc(1)</a>. This allows a for a strong <a href="http://man.openbsd.org/OpenBSD-5.8/man2/pledge.2">pledge(2)</a>.
<li>Use <a href="http://man.openbsd.org/OpenBSD-5.8/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man1/apply.1">apply(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/arithmetic.6">arithmetic(6)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/awk.1">awk(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/dvmrpctl.8">dvmrpctl(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/encrypt.1">encrypt(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/env.1">env(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/fsirand.8">fsirand(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/fstat.1">fstat(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/gencat.1">gencat(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/infocmp.1">infocmp(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/kill.1">kill(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/ln.1">ln(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/lndir.1">lndir(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/pflogd.8">pflogd(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/pkill.1">pkill(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/rcs.1">rcs(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/rpcgen.1">rpcgen(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/scan_ffs.8">scan_ffs(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/sdiff.1">sdiff(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/sendbug.1">sendbug(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/spell.1">spell(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/tftpd.8">tftpd(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/tic.1">tic(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/time.1">time(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/tsort.1">tsort(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/ul.1">ul(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/unexpand.1">unexpand(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/which.1">which(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/xargs.1">xargs(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/yacc.1">yacc(1)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man1/ypcat.1">ypcat(1)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/asmc.4">asmc(4)</a>, add location to the fan description.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/mg.1">mg(1)</a>, make functions that accept multiple iterations via C-u N, honour 0. Except C-k which has a defined behaviour.
<li>Make <a href="http://man.openbsd.org/OpenBSD-current/man8/tcpdump.8">tcpdump(8)</a> print more information from the HT Capabilities element.
<!-- 2015-10-09 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/syslogd.8">syslogd(8)</a>, if it is started with -S, it accepts TLS connections to receive encrypted messages and the server certificates are taken from /etc/ssl.
<li>Use <a href="http://man.openbsd.org/OpenBSD-5.8/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man1/cmp.1">cmp(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/du.1">du(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/eigrpctl.8">eigrpctl(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/eigrpd.8">eigrpd(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/getcap.1">getcap(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/getent.1">getent(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/ksh.1">ksh(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/lex.1">lex(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/ospf6ctl.8">ospf6ctl(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/relayctl.8">relayctl(8)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man8/relayd.8">relayd(8)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ksh.1">ksh(1)</a>, disable the mknod builtin.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/comsat.8">comsat(8)</a>, remove NFS spool support.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/syslogd.8">syslogd(8)</a>, add the -S option to accept TLS connections and receive encrypted messages.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/smtpd.8">smtpd(8)</a>, turn the local enqueuer <a href="http://man.openbsd.org/OpenBSD-current/man2/setegid.2">setgid(2)</a> _smtpq and restrict access to the offline queue.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/mg.1">mg(1)</a>, fix a line number bug when calling onlywind().
<li>Use <a href="http://man.openbsd.org/OpenBSD-5.8/man2/pledge.2">pledge(2)</a> in <a href="http://man.openbsd.org/OpenBSD-5.8/man8/comsat.8">comsat(8)</a>, <a href="http://man.openbsd.org/OpenBSD-5.8/man8/ospfctl.8">ospfctl(8)</a>, <a href="http://man.openbsd.org/OpenBSD-5.8/man8/ripctl.8">ripctl(8)</a>, <a href="http://man.openbsd.org/OpenBSD-5.8/man8/syslogd.8">syslogd(8)</a> and <a href="http://man.openbsd.org/OpenBSD-5.8/man1/tradcpp.1">tradcpp(1)</a>.
<!-- 2015-10-08 -->
<li>Rename <a href="http://man.openbsd.org/OpenBSD-5.8/man2/tame.2">tame(2)</a> to <a href="http://man.openbsd.org/OpenBSD-current/man2/pledge.2">pledge(2)</a>.
<li>On amd64 and i386, increase the HEAP_LIMIT from 0x90000 to 0xA0000, to fix an out-of-heap when booting on a large block size (32K) partition.
<li>In <a href="http://man.openbsd.org/OpenBSD-5.8/man2/tame.2">tame(2)</a>, add the "mcast" request that exposes a small set of multicast (IP_MULTICAST_IF, IP_ADD_MEMBERSHIP and IP_DROP_MEMBERSHIP) join operators.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ksh.1">ksh(1)</a>, don't open history files that don't belong to the user.
<li>Lock the page queues by turning uvm_lock_pageq() and uvm_unlock_pageq() into mtx_enter() and mtx_leave() operations.
<li>Use <a href="http://man.openbsd.org/OpenBSD-5.8/man2/tame.2">tame(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man1/make.1">make(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/portmap.8">portmap(8)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man8/signify.1">signify(1)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/trunk.4">trunk(4)</a>, if the mbuf has a valid flowid, use it instead of using siphash24 and a bunch of header fields we have to parse the mbuf for.
<li>Unlock the softnet task.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/httpd.8">httpd(8)</a>, fix an fd leak if a socket connection fails.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/snmpd.8">snmpd(8)</a>:
<ul>
<li>Use correct return value for IP-MIB::ipForwarding.
<li>Fix getbulk requests for multiple OIDs.
</ul>
<!-- 2015-10-07 -->
<li>Add initial support for UEFI/GPT installs to the installer.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh.1">ssh(1)</a>, include PubkeyAcceptedKeyTypes in "ssh -G" config dump.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/g++.1">g++(1)</a>, correct handling of enum attributes.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tmux.1">tmux(1)</a>, fix a couple of memory leaks in error paths.
<li>Use <a href="http://man.openbsd.org/OpenBSD-5.8/man2/tame.2">tame(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man1/cp.1">cp(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/ctags.1">ctags(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/from.1">from(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/getopt.1">getopt(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/head.1">head(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/htpasswd.1">htpasswd(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/lastcomm.1">lastcomm(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/logname.1">logname(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/look.1">look(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/mkdir.1">mkdir(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/mktemp.1">mktemp(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/nl.1">nl(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/paste.1">paste(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/pr.1">pr(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/printenv.1">printenv(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/readlink.1">readlink(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/rev.1">rev(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/rmdir.1">rmdir(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/split.1">split(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/tee.1">tee(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/tftp.1">tftp(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/tty.1">tty(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/users.1">users(1)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man1/uuencode.1">uudecode(1)</a>.
<!-- 2015-10-06 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/installboot.8">installboot(8)</a>, add initial support for installing UEFI boot files to a GPT EFI System Partition.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh.1">ssh(1)</a>, make it possible to use <a href="http://man.openbsd.org/OpenBSD-current/man4/tun.4">tun(4)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man4/tap.4">tap(4)</a> networking as non-root user if device permissions and interface flags are pre-established.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/em.4">em(4)</a>, fix the watchdog timeouts reported by various people.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/skeyinit.1">skeyinit(1)</a>, remove the -C option that converts an S/Key database to the new format.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/smtpd.8">smtpd(8)</a>, fix a memory leak in an error path.
<li>Use <a href="http://man.openbsd.org/OpenBSD-5.8/man2/tame.2">tame(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man1/csplit.1">csplit(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/date.1">date(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/ed.1">ed(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/join.1">join(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/jot.1">jot(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/lam.1">lam(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/lock.1">lock(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/openssl.1">openssl(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/printf.1">printf(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/tail.1">tail(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/touch.1">touch(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/tr.1">tr(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/units.1">units(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/unvis.1">unvis(1)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man1/what.1">what(1)</a>.
<!-- 2015-10-05 -->
<li>Fix <a href="http://man.openbsd.org/OpenBSD-current/man1/cu.1">cu(1)</a> to make xmodem work with -d.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/diff.1">diff(1)</a>, remove the non-standard -l flag that pipes the output through <a href="http://man.openbsd.org/OpenBSD-current/man1/pr.1">pr(1)</a>.
<li>On the alpha ramdisk, remove <a href="http://man.openbsd.org/OpenBSD-current/man4/cd.4">cd(4)</a>.
<li>Use <a href="http://man.openbsd.org/OpenBSD-5.8/man2/tame.2">tame(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man8/bgpd.8">bgpd(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/cal.1">cal(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/col.1">col(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/colrm.1">colrm(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/column.1">column(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/comm.1">comm(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/cut.1">cut(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/deroff.1">deroff(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/diff.1">diff(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/diff3.1">diff3(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/dirname.1">dirname(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/expand.1">expand(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/fgen.1">fgen(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/find.1">find(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/fmt.1">fmt(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/fold.1">fold(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/hexdump.1">hexdump(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/id.1">id(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/indent.1">indent(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/kdump.1">kdump(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/logger.1">logger(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/nm.1">nm(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/rs.1">rs(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/stat.1">stat(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/unifdef.1">unifdef(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/vis.1">vis(1)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man1/write.1">write(1)</a>.
<!-- 2015-10-04 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/disklabel.8">disklabel(8)</a>, remove -B support on landisk. It has been superseded by MI <a href="http://man.openbsd.org/OpenBSD-current/man8/installboot.8">installboot(8)</a>.
<li>On landisk, use MI <a href="http://man.openbsd.org/OpenBSD-current/man8/installboot.8">installboot(8)</a> instead of <a href="http://man.openbsd.org/OpenBSD-current/man8/disklabel.8">disklabel(8)</a> -B to put boot blocks on installation media.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/fdisk.8">fdisk(8)</a>, enhance -g to create a default GPT label in addition to the protective MBR. If -b is specified, an EFI System partition of the requested size is created.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/eigrpd.8">eigrpd(8)</a>:
<ul>
<li>Add option to configure or disable the DUAL active timeout.
<li>Ignore IPv4 TLVs in IPv6 instances and vice-versa.
<li>When the SIA state is declared for a given destination, reset the adjacency with the unresponsive neighbor(s).
</ul>
<li>Add the _eigrpd user and group for <a href="http://man.openbsd.org/OpenBSD-current/man8/eigrpd.8">eigrpd(8)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/rcctl.8">rcctl(8)</a>, make it possible to give the same action to several daemons at once.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/asmc.4">asmc(4)</a>, check the validity flag earlier and do not try to attach invalid (non-existing) keys.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/ahci.4">ahci(4)</a>, fix a memory leak in an error path.
<li>Use <a href="http://man.openbsd.org/OpenBSD-5.8/man2/tame.2">tame(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man1/banner.1">banner(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/dd.1">dd(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/df.1">df(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/dmesg.8">dmesg(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/expr.1">expr(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/file.1">file(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/ls.1">ls(1)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man1/pwd.1">pwd(1)</a>.
<!-- 2015-10-03 -->
<li>Enable <a href="http://man.openbsd.org/OpenBSD-current/man8/eigrpd.8">eigrpd(8)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man8/eigrpctl.8">eigrpctl(8)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/dc.1">dc(1)</a>:
<ul>
<li>Remove the "!" command. This makes dc(1) better tameable.
<li>Use <a href="http://man.openbsd.org/OpenBSD-5.8/man2/tame.2">tame(2)</a>.
</ul>
<li>On octeon, fix a memory leak in an error code path.
<li>Use <a href="http://man.openbsd.org/OpenBSD-5.8/man2/tame.2">tame(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man1/cat.1">cat(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/echo.1">echo(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/[.1">test(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/uname.1">uname(1)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man1/wc.1">wc(1)</a>.
<li>Add IPv6 transport for <a href="http://man.openbsd.org/OpenBSD-current/man4/pflow.4">pflow(4)</a> data.
<li>When multiple <a href="http://man.openbsd.org/OpenBSD-current/man4/vxlan.4">vxlan(4)</a> interfaces are configured with same VNI, select the interface whose tunnel destination corresponded to the incoming packets' source address.
<li>In libssl, fix reference counting and memory leak in error path in an error path.
<!-- 2015-10-02 -->
<li>Use <a href="http://man.openbsd.org/OpenBSD-5.8/man2/tame.2">tame(2)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man8/acpidump.8">acpidump(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/arp.8">arp(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/basename.1">basename(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/chflags.1">chflags(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/finger.1">finger(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/grep.1">grep(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/gzip.1">gzip(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/kdump.1">kdump(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/leave.1">leave(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/md5.1">md5(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/ntpctl.8">ntpctl(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/ntpd.8">ntpd(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/patch.1">patch(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/ping.8">ping(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/ping6.8">ping6(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/script.1">script(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/sed.1">sed(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/sleep.1">sleep(1)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/sshd.8">sshd(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/tcpdump.8">tcpdump(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/traceroute.8">traceroute(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/uniq.1">uniq(1)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man1/whois.1">whois(1)</a>.
<li>Revert the <a href="http://man.openbsd.org/OpenBSD-current/man2/mmap.2">mmap(2)</a> unlock. It causes vnode-related panics on several architectures in the codepath that implements mmap(2).
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/iked.8">iked(8)</a>:
<ul>
<li>Fix EAP (user-based auth) with IKEv2 in El Capitan.
<li>Remove MD5 from the default proposals
</ul>
<li>Fix EAP (user-based auth) with IKEv2 in El Capitan.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/pfctl.8">pfctl(8)</a>, make the "-s all" option show queues.
<li>In libssl, conform with RFC 5280 for times allowed in a X509 certificate.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/snmpd.8">snmpd(8)</a>, mitigate the risk of user-injected file descriptor leakage from the optional world-writable restricted control socket.
<!-- 2015-10-01 -->
<li>Add ktracing of argv and envp to <a href="http://man.openbsd.org/OpenBSD-current/man2/execve.2">execve(2)</a>, with envp not traced by default.
<li>Add <a href="http://man.openbsd.org/OpenBSD-current/man8/eigrpd.8">eigrpd(8)</a> (and <a href="http://man.openbsd.org/OpenBSD-current/man8/eigrpctl.8">eigrpctl(8)</a>), an Enhanced Interior Gateway Routing Protocol daemon.
<li><font color="#e00000">5.6, 5.7 and 5.8 SECURITY FIX: multiple reliability and security issues in <a href="http://man.openbsd.org/OpenBSD-current/man8/smtpd.8">smtpd(8)</a>.</font><br>A source code patch is available for <a href="errata56.html#031_smtpd">5.6</a>, <a href="errata57.html#017_smtpd">5.7</a> and <a href="errata58.html#004_smtpd">5.8</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/smtpd.8">smtpd(8)</a>:
<ul>
<li>Do not allow connection IDs to wrap and collide with another active connection ID. This allows a local user to force the daemon to exit.
<li>Fix a stack-based buffer overflow in the token expansion code of the (unprivileged) lookup process. This allows a local user to crash the server or potentially to execute arbitrary code.
<li>Allow reading of imsg while discarding fd's when reading from a context where we don't expect/want to receive one. This prevents a local user from exhausting resources and causing smtpd to hang by crafting valid imsg that don't expect a descriptor but passing one anyway.
<li>Prevent users from playing hardlink/symlink/mkfifo games with their offline messages and ~/.forward files. This allows a a local user to hang smtpd or even reset chflags and read the first line of an arbitrary file.
<li>Do not exit on unexpected causes of SIGCHLD. This allows a specially crafted mda to cause smtpd to exit.
<li>Make uid checking on ~/.forward files more strict. This avoids users from creating hardlink to root-owned files and leaking the first line.
<li>Fix a use-after-free and out-of-bounds memory reads in the (unprivileged) lookup process. This avoids crashes or potential arbitrary code execution.
</ul>
<li>Revert src/sys/net/route.c r1.245. It breaks some NFS setups.
<li>Update to tzdata2015g from ftp.iana.org.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/asmc.4">asmc(4)</a>, relax vendor comparison to match variations found in older models such as the MacMini1,1.
<li>On alpha, make the pmap (more) MP-safe by protecting both the pmap itself and the pv lists with a mutex. This should make <a href="http://man.openbsd.org/OpenBSD-current/man9/pmap_enter.9">pmap_enter(9)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man9/pmap_remove.9">pmap_remove(9)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man9/pmap_page_protect.9">pmap_page_protect(9)</a> safe to use without holding the kernel lock.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/iked.8">iked(8)</a>, fix several interoperability issues:
<ul>
<li>If we don't get a (valid) CERTREQ but a CERT, respond with a local CERT that was selected based on our own policy instead of leaving it out. This seems to be valid with the RFC that makes the CERTREQ optional and allows to ignore it or to apply an own policy.
<li>Don't reject an "empty" CERTREQ (one with no CA hashes), instead treat it as if no CERTREQ were received. This may fix other interoperability issues.
</ul>
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man7/sndio.7">sndio(7)</a>, remove support for the AUCAT_COOKIE environment variable.
<li>Update to pixman 0.32.8.
<!-- 2015-09-30 -->
<li>On amd64, add <a href="http://man.openbsd.org/OpenBSD-current/man4/asmc.4">asmc(4)</a>, a driver for the Apple System Management Controller (SMC).
<li>Implement a new "prot_exec" <a href="http://man.openbsd.org/OpenBSD-5.8/man2/tame.2">tame(2)</a> request.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/em.4">em(4)</a>, run the tx completion path without the kernel lock held.
<li>Do not try to refetch a route at the L2 layer if the given one is down and always return EHOSTUNREACH.
<li>Remove Cisco HDLC support from <a href="http://man.openbsd.org/OpenBSD-current/man4/sppp.4">sppp(4)</a>. It is no longer used.
<li>Update to libxcb 1.11.1.
<li>Hopefully fix the stability problems seen on SandyBridge and up after the PPGTT code got enabled.
<!-- 2015-09-29 -->
<li>On mips64, fix the R8000 kernel to have all their m[ft]c0 instructions correctly wrapped.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/oce.4">oce(4)</a>, unlock interrupt handler rx path with <a href="http://man.openbsd.org/OpenBSD-current/man9/intr_barrier.9">intr_barrier(9)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/mg.1">mg(1)</a>, fix the location of the cursor when opening a directory using filevisit, findvisitalt and poptofile.
<li>Add support for the Huawei K4511 3G to <a href="http://man.openbsd.org/OpenBSD-current/man4/umsm.4">umsm(4)</a>.
<!-- 2015-09-28 -->
<li><font color="#e00000">5.7 and 5.8 SECURITY FIX: an incorrect operation in uvm could result in system panic.</font><br>A source code patch is available for <a href="errata57.html#016_uvm">5.7</a> and <a href="errata58.html#003_uvm">5.8</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man2/mmap.2">mmap(2)</a>, remove the no longer needed kernel lock in the fixed case.
<li>Add the UVM_FLAG_UNMAP flag to indicate to <a href="http://man.openbsd.org/OpenBSD-current/man9/UVM_MAPFLAG.9">uvm_map(9)</a> that it should unmap to make space.
<li><font color="#e00000">5.7 RELIABILITY FIX: various problems were identified in relayd.</font><br>A source code patch is available for <a href="errata57.html#015_relayd">5.7</a>.
<li>Fix a panic in <a href="http://man.openbsd.org/OpenBSD-current/man4/inteldrm.4">inteldrm(4)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-5.8/man2/tame.2">tame(2)</a>, make using the "/" path work.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/mg.1">mg(1)</a>, make dired mode treat a double "/" in a path like fundamental mode.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/inteldrm.4">inteldrm(4)</a>, no longer support the "Quanta Transcode" device. This avoids incorrectly overriding the generic match for the HD Graphics P4000.
<!-- 2015-09-27 -->
<li>Enable monitor hot plugging for the framebuffer console.
<li>Add IP26 kernels and boot blocks to the installation media.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/iwm.4">iwm(4)</a>:
<ul>
<li>Fix problems occurring when doing bsd.rd upgrades.
<li>Fix the bug where the firmware stops passing traffic after the MAC address is changed.
</ul>
<li>Add the Ed25519 SSH host key to <a href="http://man.openbsd.org/OpenBSD-current/man5/changelist.5">changelist(5)</a>.
<!-- 2015-09-26 -->
<li>Make carp_input() MP-safe.
<li>Prevent X from crashing the kernel when attaching <a href="http://man.openbsd.org/OpenBSD-current/man4/inteldrm.4">inteldrm(4)</a> fails.
<li>Protect the list of free map entries with a mutex. This should fix crashes on i386.
<li>Unlock the <a href="http://man.openbsd.org/OpenBSD-current/man2/mmap.2">mmap(2)</a> system call.
<li>Add transpose-paragraphs to <a href="http://man.openbsd.org/OpenBSD-current/man1/mg.1">mg(1)</a>.
<li>Correct a range problem in citrus-utf8 version of <a href="http://man.openbsd.org/OpenBSD-current/man3/wcrtomb.3">wcrtomb(3)</a> in order to match RFC 3629.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/inteldrm.4">inteldrm(4)</a>:
<ul>
<li>Make the PPGTT code work. This seems to fix the caching issues on Broadwell.
<li>Don't hardcode the type of BARs to be 64-bit.
</ul>
<!-- 2015-09-25 -->
<li>On octeon and sgi, restore the interrupt mask even on secondary CPUs. This prevents the IPI from being left disabled accidentally on a non-primary CPU which will cause the system to hang eventually.
<li>On octeon, let MP-safe interrupt handlers run without the kernel lock.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/mandoc.1">mandoc(1)</a>, fix multiple aspects of SYNOPSIS .Nm formatting.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tmux.1">tmux(1)</a>, if the terminal has colors=256, only try to use setaf/setab if they exist.
<li>Fix <a href="http://man.openbsd.org/OpenBSD-current/man4/inteldrm.4">inteldrm(4)</a> on the GM45 chipset.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/slowcgi.8">slowcgi(8)</a>, output the contents of the environment in debug mode.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/inteldrm.4">inteldrm(4)</a>:
<ul>
<li>Disable IPS for now. It causes unsynched displays after waking it from standby or after VT switches.
<li>Backport some of the Broadwell fixes.
</ul>
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tmux.1">tmux(1)</a>, free the history when it is cleared.
<li>Ensure the GPT header size is in a valid range before checksumming it. This prevents a crash.
<li>Ensure that RTF_LOCAL route entries always stay UP, even when a link state change occurs.
<!-- 2015-09-24 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/inteldrm.4">inteldrm(4)</a>:
<ul>
<li>Properly implement waitqueue_active().
<li>Enable MSIs on hardware that supports it.
</ul>
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/disklabel.8">disklabel(8)</a>, expunge VAX SMD special handling.
<li>On sgi, properly handle IP26 streaming cache controller bus error interrupts.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/mg.1">mg(1)</a>, fix where the cursor is positioned after expunging files.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/trunk.4">trunk(4)</a>, avoid theoretical <a href="http://man.openbsd.org/OpenBSD-current/man9/m_pullup.9">m_pullup(9)</a> mishandling by delegating the mbuf reclaiming to the PDU and marker input routines.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tmux.1">tmux(1)</a>, fix two fd leaks and a memory leak.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh.1">ssh(1)</a>, add the CertificateFile option to explicitly list a certificate (bz#2436).
<!-- 2015-09-23 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/mg.1">mg(1)</a>:
<ul>
<li>Fix multiple iterations of kill-paragraph.
<li>Add mark-paragraph.
</ul>
<li>Update inteldrm to the code from Linux 3.14.52.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ld.so.1">ld.so(1)</a> on alpha, avoid write-protecting .data when it shares a page with the GOT and PLT.
<li>On mips64:
<ul>
<li>When inserting an entry for a KV1 address, avoid having to write back the ASID value.
<li>Use conditional instructions when picking a random TLB set number.
</ul>
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/iwm.4">iwm(4)</a>:
<ul>
<li>While not associated, pass the broadcast ethernet address to the firmware, rather than zeros.
<li>Properly reset the RX ring by clearing RX buffer status memory.
</ul>
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/cwm.1">cwm(1)</a>, avoid unnecessary pointer querying.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/trunk.4">trunk(4)</a>:
<ul>
<li>Remove watchdog code since it doesn't do anything useful.
<li>Adapt code to avoid locking protection in the future.
</ul>
<!-- 2015-09-22 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/mg.1">mg(1)</a>, fix line number handling in dired delete functions.
<li>Prevent the efiboot and kernel memory regions from overlapping. This fixes a problem where the kernel fails to boot.
<li>When a connected route is deleted, pass the corresponding priority to <a href="http://man.openbsd.org/OpenBSD-current/man9/rtrequest1.9">rtrequest1(9)</a>. Otherwise the route will remain attached to a stale ifa.
<!-- 2015-09-21 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/mandoc.1">mandoc(1)</a>, account for significant whitespace when determining the width of a tag.
<li>Remove SHA-0 and MD2 remnants from <a href="http://man.openbsd.org/OpenBSD-current/man1/openssl.1">openssl(1)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/bpgd.8">bpgd(8)</a>:
<ul>
<li>Allow for empty blocks for peers.
<li>Allow to log all updates sent from an individual peer, and, when applied to a group, to disable logging on a sub-member of the group.
</ul>
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tmux.1">tmux(1)</a>, reset the alerts timer always on activity.
<li>Fix a couple of <a href="http://man.openbsd.org/OpenBSD-current/man1/libtool.1">libtool(1)</a> issues.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/mg.1">mg(1)</a>, fix behaviour when opening the same directory twice in dired mode.
<!-- 2015-09-20 -->
<li>On alpha, powerpc and mips64, fix membar positioning in <a href="http://man.openbsd.org/OpenBSD-current/man9/mtx_enter_try.9">mtx_enter_try(9)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man9/mtx_leave.9">mtx_leave(9)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh.1">ssh(1)</a>, fix a possible hang on closed output (bz#2469).
<li>On sparc, increase MAXTSIZ to 64 MB. This is required for gcc/gnat.
<li>Fix suspend on machines with <a href="http://man.openbsd.org/OpenBSD-current/man4/em.4">em(4)</a> now that it uses <a href="http://man.openbsd.org/OpenBSD-current/man9/intr_barrier.9">intr_barrier(9)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/syslogd.8">syslogd(8)</a>, avoid potential event loss due to misuse of TLS read and write in libevent.
<li>Enable IP26 builds.
<li>On mips64, correctly compute the userland pte index in a pte page in the userland tlb miss handler.
<li>Add the -d, -r and -w flags to <a href="http://man.openbsd.org/OpenBSD-current/man8/rmt.8">rmt(8)</a> to make it run in a restricted mode.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ld.so.1">ld.so(1)</a>, delete the bind lock, the callback, the sigprocmask stub.
<!-- 2015-09-19 -->
<li>On powerpc, make sure PROT_EXEC is set on the GOT for BSS-PLT binaries.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/em.4">em(4)</a>, avoid using a mutex in the rx completion path. Instead rely on <a href="http://man.openbsd.org/OpenBSD-current/man9/intr_barrier.9">intr_barrier(9)</a> to avoid having the interrupt handler touch the rx data structures while the interface is brought down.
<!-- 2015-09-18 -->
<li>On sgi, go back to the previous approach when managing individual HPC DMA descriptors: provide an optional storage for a copy of the descriptor in the "sync" (fetch) function, and use the returned address afterwards.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/sysmerge.8">sysmerge(8)</a>, in case of a hard error, avoid missing files for comparison at the next run.
<li>Fix an uninitialized variable in <a href="http://man.openbsd.org/OpenBSD-current/man4/sgi/iec.4">iec(4/sgi)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tmux.1">tmux(1)</a>, let the -l option of join-pane and split-window apply to the new pane instead of the old one when -b is also specified.
<li>Revert r1.25 of src/lib/libssl/src/crypto/bn/bn_print.c. It introduces a NULL dereference.
<li>Implement <a href="http://man.openbsd.org/OpenBSD-current/man9/SRPL_INSERT_AFTER_LOCKED.9">SRPL_INSERT_AFTER_LOCKED(9)</a>.
<!-- 2015-09-17 -->
<li>Make <a href="http://man.openbsd.org/OpenBSD-current/man4/vmx.4">vmx(4)</a> interrupts MP-safe.
<li>Back out r1.125 of src/sys/uvm/uvm_km.c. This avoids page queue corruptions and the resulting uvm_pmr_size_RB_REMOVE_COLOR() faults.
<!-- 2015-09-16 -->
<li>Update to xserver 1.17.2.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/cc.1">cc(1)</a>, enable -msecure-plt by default on powerpc.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/od.1">od(1)</a>, fix two bugs in the [+]offset[.][Bb] XSI offset syntax.
<li>Fix an uninitialized variable in <a href="http://man.openbsd.org/OpenBSD-current/man4/i386/bios.4">bios(4)</a> and in <a href="http://man.openbsd.org/OpenBSD-current/man4/arp.4">arp(4)</a>.
<!-- 2015-09-15 -->
<li>Fix an overlapping <a href="http://man.openbsd.org/OpenBSD-current/man3/memcpy.3">memcpy(3)</a> in <a href="http://man.openbsd.org/OpenBSD-current/man4/sparc64/vdsp.4">vdsp(4)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/ugen.4">ugen(4)</a>, fix a panic when using pcsc-lite.
<!-- 2015-09-14 -->
<li>Unbreak booting from GPT partitions.
<li>Add <a href="http://man.openbsd.org/OpenBSD-current/man3/tls_config_insecure_noverifytime.3">tls_config_insecure_noverifytime(3)</a> to libtls to disable certificate validity checking.
<li>In LibreSSL, add support for disabling certificate and CRL validity checking.
<!-- 2015-09-13 -->
<li>Remove SHA-0 and MD4 support from libcrypto.
<li>Put the 12x22 font on alpha and macppc installation kernels.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/netstart.8">netstart(8)</a>, only print the "IPv6 autoconf" line if there are interfaces to configure.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh-add.1">ssh-add(1)</a>, when adding keys to the agent, don't ignore the comment of keys for which the user is prompted for a passphrase.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tmux.1">tmux(1)</a>, add the -e flag to copy-mode to exit copy mode when scrolling off the bottom.
<li>In libcrypto, check ECDH output buffer length and avoid truncation.
<li>Introduce <a href="http://man.openbsd.org/OpenBSD-current/man9/intr_barrier.9">intr_barrier(9)</a>, an interface that guarantees that an interrupt handler that was running has finished.
<li>Introduce sched_barrier(), an interface that acts as a scheduler barrier in the sense that it guarantees that the specified CPU went through the scheduler.
<li>Add the Certplus CA root certificate to /etc/ssl/cert.pem.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/nc.1">nc(1)</a>, display negotiated TLS version and cipher suite in verbose mode.
<li>In libcrypto, add OPENSSL_cpu_caps(), to return the currently running CPU's specific hardware capabilities users of libcrypto might be interested in.
<li>In LibreSSL, if there is hardware acceleration for AES, prefer AES as a symmetric cipher over CHACHA20. Otherwise, prefer CHACHA20 with AES second.
<!-- 2015-09-12 -->
<li>Make if_get() and vlan_input() MP-safe using SRPs.
<li>On arm, use <a href="http://man.openbsd.org/OpenBSD-current/man2/kbind.2">kbind(2)</a> for lazy binding GOT/PLT updates.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/openssl.1">openssl(1)</a>:
<ul>
<li>Fix the "prime" command: when checking a decimal number for primality, do not unnecessarily convert the original decimal number to hex in the output. Hex numbers explicitly specified with -hex remain unchanged.
<li>Add support for AEAD algorithms to the "speed" command.
<li>Remove support for the SSLEAY_CONF environment variable.
</ul>
<li>Add an ftpproxy6 rc script. <a href="http://man.openbsd.org/OpenBSD-current/man8/ftp-proxy.8">ftp-proxy(8)</a> can only open one listening socket at a time, so a second instance of the daemon is required.
<li>Introduce if_input_local(), a function to feed local traffic back to the protocol queues.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/ping6.8">ping6(8)</a>, avoid out-of-boundary access on invalid or short packet reads.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/ddb.4">ddb(4)</a>, show the non-idle, on-proc threads before showing the stack trace when panicking.
<!-- 2015-09-11 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/em.4">em(4)</a>, add support for the 88E1512/88E1514 phys.
<li>Update to sqlite3 3.8.11.1.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/acpicpu.4">acpicpu(4)</a>, work around broken AML by treating FFH vendor 8 the same as vendor 1 (Intel).
<li>Make the powerpc pmap (more) MP-safe. This should make <a href="http://man.openbsd.org/OpenBSD-current/man9/pmap.9">pmap_enter(9), pmap_remove(9) and pmap_page_protect(9)</a> safe to use without holding the kernel lock.
<li>Add TLS support to <a href="http://man.openbsd.org/OpenBSD-current/man1/nc.1">nc(1)</a>.
<li>Remove RTF_XRESOLVE support from <a href="http://man.openbsd.org/OpenBSD-current/man4/route.4">route(4)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man8/route.8">route(8)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man1/netstat.1">netstat(1)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man8/route6d.8">route6d(8)</a>.
<li>Introduce <a href="http://man.openbsd.org/OpenBSD-current/man9/refcnt_init.9">refcnt</a>, a wrapper around reference counts.
<li>Introduce <a href="http://man.openbsd.org/OpenBSD-current/man9/rtref.9">rtref(9)</a>, a function to increment a reference to a routing entry, and use it in rtable_lookup().
<li>In "<a href="http://man.openbsd.org/OpenBSD-current/man8/ifconfig.8">ifconfig</a> media", stop advertising media with fixed data rates on wireless interfaces.
<li>Don't generate ICMPv6 packets with incorrect checksums for dropped IPv6 packets.
<li>Fix a use-after-free in <a href="http://man.openbsd.org/OpenBSD-current/man4/route.4">route(4)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/openssl.1">openssl(1)</a>, remove the engine command and parameters.
<li>Save/restore MSR_APICBASE during suspend/resume. This re-enables x2apic on the application processors at resume.
<li>Remove the unfinished che(4) driver.
<li>In libtls, do not match a wildcard against a name with no host part.
<li>Make room for media types of the future: extend the ifmedia word to 64 bits.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/netstart.8">netstart(8)</a>, set "inet6 autoconf" individually on interfaces that have rtsol set in <a href="http://man.openbsd.org/OpenBSD-current/man5/hosntame.if.5">hostname.if(5)</a>. Previously, netstart tried to configure them all at once.
<li>Take a first step towards making <a href="http://man.openbsd.org/OpenBSD-current/man4/ix.4">ix(4)</a> MP-safe.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/mkhybrid.8">mkhybrid(8)</a>, cast the <a href="http://man.openbsd.org/OpenBSD-current/man3/isascii.3">isascii(3)</a> argument to unsigned char, to avoid undefined behaviour.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/qle.4">qle(4)</a>, don't copy more sense data than we have space for. This avoids a crash when trying to talk to a Sun STK6140 (although it still doesn't work).
<li>Spoof EFI SYSTEM GPT partitions as MSDOS partitions, as is done with MBR EFI SYSTEM partitions.
<li>No longer grab the kernel lock in the interrupt-safe multi page backend allocator implementation. This is possible because that interrupt-safe uvm maps are now properly locked.
<li>Fix a NULL dereference in <a href="http://man.openbsd.org/OpenBSD-current/man4/bpf.4">bpf(4)</a>.
<li>Fix hangs on systems with more than 7 interfaces.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/ddb.4">ddb(4)</a>, add ps/o to display just the non-idle on-proc threads.
<li>Don't spoof GPT OpenBSD partitions. Simply record and use the first one found, as is done in MBR processing.
<li>Change device locators type from int to long, for the sake of 64-bit ports without proper device trees.
<!-- 2015-09-10 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh.1">ssh(1)</a>, expand %i in ControlPath to UID (bz#2449).
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/openssl.1">openssl(1)</a>, make the s_time command perform a proper shutdown by default. This allows s_time to benchmark a full TLS connection more accurately. The new -no_shutdown flag restores the previous behaviour.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/syslogd.8">syslogd(8)</a>, instead of having global variables containing the libevent structures, allocate them with malloc. This makes the address space layout more random.
<li>Add <a href="http://man.openbsd.org/OpenBSD-current/man2/kqueue.2">kqueue(2)</a> support for <a href="http://man.openbsd.org/OpenBSD-current/man4/wsmouse.4">wsmouse(4)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man4/wskbd.4">wskbd(4)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man4/wsmux.4">wsmux(4)</a>. This is needed for the libinput port.
<li>In LibreSSL:
<ul>
<li>Remove support for DTLS_BAD_VER. We do not support non-standard and incomplete implementations.
<li>When loading a DSA key from a raw (without DH parameters) ASN.1 serialization, perform some consistency checks on its "p" and "q" values, and return an error if the checks failed.
</ul>
<li>Enable GPT in the GENERIC kernel.
<li>Avoid division by zero in <a href="http://man.openbsd.org/OpenBSD-current/man8/fsck_ext2fs.8">fsck_ext2fs(8)</a>.
<li>Use the full IPv6 source address (rather than only half of it) as input for the syn cache hash. Using only half the address makes it trivial to create syn cache collisions.
<li>Move the if input handler list to an SRP list.
<li>In libc, add hidden _libc_FOO aliases for the system call stubs.
<li>Various cleanups of the <a href="http://man.openbsd.org/OpenBSD-current/man1/ksh.1">ksh(1)</a> code.
<li>Several libtls API changes and improvements.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tmux.1">tmux(1)</a>, add session_last_attached time and format.
<li>Remove link_addr(3).
<!-- 2015-09-09 -->
<li>Add locking for interrupt-safe maps.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/mkhybrid.8">mkhybrid(8)</a>, fix various buffer overflows and make it work on unsigned char platforms.
<li>Add client certificate support to libtls.
<li>Move to the next <a href="http://man.openbsd.org/OpenBSD-5.8/man2/tame.2">tame(2)</a> API. The flags are now passed as a very simple string.
<li>Introduce reference counts for interfaces. The new if_put() function releases the reference acquired by if_get().
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/ntpd.8">ntpd(8)</a>, plug a memory leak in an error path.
<li>Convert bpf to using an srp list for the list of descriptors.
<li>Implement a <a href="http://man.openbsd.org/OpenBSD-current/man9/srpl_rc_init.9">singly linked list built with SRPs</a>.
<li>On powerpc, it is no longer needed to use <a href="http://man.openbsd.org/OpenBSD-current/man2/mprotect.2">mprotect(2)</a> to take away PROT_WRITE. This fixes <a href="http://man.openbsd.org/OpenBSD-current/man1/ld.1">ld(1)</a> -Z and paves the way for the new Secure-PLT ABI.
<li>In binutils 2.17, force .ctors, .dtors and .got to be read-only for truly static binaries. This prevents W^X violations on architectures that need an executable GOT (basically BSS-PLT powerpc).
<!-- 2015-09-08 -->
<li>Prevent <a href="http://man.openbsd.org/OpenBSD-current/man1/nc.1">nc(1)</a> from hanging when writing more than the low water mark of the socket write buffer.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/disklabel.8">disklabel(8)</a>, avoid a SIGSEGV with FGJ malloc.conf flags when a template is used.
<li>The default backend allocator implementation no longer needs to grab the kernel lock.
<!-- 2015-09-07 -->
<li>Build xf86-video-wsfb on amd64 and i386. It can be used by efifb now.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/efifb.4">efifb(4)</a>, make scrolling a bit faster.
<li>Delete ktracing of context switches. It is unused and not particularly useful.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/smtpd.8">smtpd(8)</a>, insert a Message-Id header if necessary.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/httpd.8">httpd(8)</a>, prevent a potential double free introduced in r1.64 of src/usr.sbin/httpd/server.c.
<!-- 2015-09-06 -->
<li>It is no longer necessary to grab the kernel lock for allocating and freeing pages in the (default) single page pool backend allocator.
<li>In libc, fix aliasing of sys_errlist, sys_nerr, sys_siglist, and sys_signame to eliminate duplicate copies of the tables and get direct access internally.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/wsfontload.8">wsfontload(8)</a>, avoid a floating point exception when an invalid font width was specified.
<li>On the minirootXX.fs and iso images, create an EFI system partition using <a href="http://man.openbsd.org/OpenBSD-current/man8/fdisk.8">fdisk(8)</a> -b and put the UEFI boot loader on there.
<li>Add support for QEMU PCI serial devices to <a href="http://man.openbsd.org/OpenBSD-current/man4/puc.4">puc(4)</a>.
<!-- 2015-09-05 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/awk.1">awk(1)</a>, revert srand() to its old behaviour with regard to what values it returns.
<li>On sgi, remove the need for the memory controller to switch between "fast" and "slow" mode every time a DMA descriptor is updated.
<li>Update to xterm 320.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/pms.4">pms(4)</a>:
<ul>
<li>Improve tap-and-drag detection for ALPS touchpads.
<li>Support Synaptics touchpads without W mode.
</ul>
<li>Use the new resolution framework for wrapping <a href="http://man.openbsd.org/OpenBSD-current/man3/catopen.3">catopen(3)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man3/catgets.3">catgets(3)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man3/catclose.3">catclose(3)</a>, and for <a href="http://man.openbsd.org/OpenBSD-current/man3/dbopen.3">dbopen(3)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/wscons.4">wscons(4)</a>, add support for xterm-compatible SGR escapes 39 and 49 (reset fg/bg colour to default).
<li>Some symbol cleanup in libc.
<!-- 2015-09-04 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/fdisk.8">fdisk(8)</a>, add a -b option, to be used together with -i, to add a special boot partition on architectures that need it.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/audio.4">audio(4)</a>, improve the search for candidates for the wskbd "record level" control. This may fix "record level" keys on certain keyboards.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/ugen.4">ugen(4)</a>, do not use an intermediary buffer on the stack of the caller when submitting a bulk write request. This means big bulk write requests are no longer split into multiple small transfers which libusb consumers do not expect.
<li>Give every consumer of the radix tree a chance to explicitly initialize the shared data structures, instead of relying on another subsystem to do the initialization. ART kernels should now be fully usable because <a href="http://man.openbsd.org/OpenBSD-current/man4/pf.4">pf(4)</a> and IPSEC properly initialize the radix tree.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh.1">ssh(1)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man8/sshd.8">sshd(8)</a>, plug minor memory leaks when options are used more than once (bz#2182).
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/netstat.1">netstat(1)</a>, fix mbuf memory accounting after the recent *8 pool size change.
<li>Fix a use-after-free in <a href="http://man.openbsd.org/OpenBSD-current/man4/pflow.4">pflow(4)</a>.
<li>Add support for the RTL8168H to <a href="http://man.openbsd.org/OpenBSD-current/man4/re.4">re(4)</a>.
<!-- 2015-09-03 -->
<li>In libkvm, fix a race when fetching files from the kernel.
<li>On i386, fix a race in pmap_page_remove_86() and pmap_page_remove_pae().
<li>On amd64, fix a race in pmap_page_remove().
<li>Adapt <a href="http://man.openbsd.org/OpenBSD-current/man8/ping.8">ping(8)</a> to <a href="http://man.openbsd.org/OpenBSD-5.8/man2/tame.2">tame(2)</a>.
<li>In dwc2, fix timeout-related crashes.
<li>Again revert the two uses of <a href="http://man.openbsd.org/OpenBSD-current/man9/rtisvalid.9">rtisvalid(9)</a>. They break NFS.
<li>In dwc2, avoid a possible lock recursion panic on transfer timeout.
<li>Modify <a href="http://man.openbsd.org/OpenBSD-current/man8/acpidump.8">acpidump(8)</a> to work on systems booted from efi boot.
<li>Bring back the two uses of <a href="http://man.openbsd.org/OpenBSD-current/man9/rtisvalid.9">rtisvalid(9)</a>. The bug it exposed has been fixed.
<li>Unconditionally set the RTF_UP flags when adding a route to the table. This makes <a href="http://man.openbsd.org/OpenBSD-current/man8/dhclient.8">dhclient(8)</a>-configured default routes usable without relying on the link-state change hooks not present in RAMDISK kernels.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/ugen.4">ugen(4)</a>, do not use an intermediary buffer on the stack of the caller when submitting a read request. This means big read requests are no longer split into multiple small transfers which libusb consumers do not expect.
<!-- 2015-09-02 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/smtpd.8">smtpd(8)</a>, remove the session kicking mechanism until it is redesigned. It has an accounting bug leading to some legitimate sessions being kicked if they generate too many consecutive errors.
<li>On sparc64, make <a href="http://man.openbsd.org/OpenBSD-current/man9/pmap_kenter_pa.9">pmap_kenter_pa(9)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man9/pmap_kremove.9">pmap_kremove(9)</a> MP-safe.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/syslogd.8">syslogd(8)</a>, log a message about failed log attempts using <a href="http://man.openbsd.org/OpenBSD-current/man2/sendsyslog.2">sendsyslog(2)</a>.
<li>Revert the two uses of <a href="http://man.openbsd.org/OpenBSD-current/man9/rtisvalid.9">rtisvalid(9)</a>. It breaks <a href="http://man.openbsd.org/OpenBSD-current/man8/dhclient.8">dhclient(8)</a>-configured networks on RAMDISK kernels.
<!-- 2015-09-01 -->
<li>Add the uefi boot loader.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/ping6.8">ping6(8)</a>, display the correct source address when using a non-default routing table.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/pf.4">pf(4)</a>, don't let route-to, dup-to and reply-to override the block action.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/syslogd.8">syslogd(8)</a>, bind the *:514 UDP socket with SO_REUSEADDR.
<li>On octeon, increase the transfer FIFOs for dwc2. This improves USB performance.
<li>Convert the (cached) route entry checks in ip{,6}_output() to <a href="http://man.openbsd.org/OpenBSD-current/man9/rtisvalid.9">rtisvalid(9)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/doas.1">doas(1)</a>, restrict the exec path only if the rule specifies a command.
<li>Introduce <a href="http://man.openbsd.org/OpenBSD-current/man9/rtisvalid.9">rtisvalid(9)</a>, a function to check if a (cached) route entry can be used or should be released by <a href="http://man.openbsd.org/OpenBSD-current/man9/rtfree.9">rtfree(9)</a>.
<li>Reject USB requests that could damage the bus integrity.
<li>Fix a use-after-free in tame_namei().
<li>On powerpc, make <a href="http://man.openbsd.org/OpenBSD-current/man9/bus_dmamap_load_raw.9">bus_dmamap_load_raw(9)</a> respect the segment size constraint. This makes <a href="http://man.openbsd.org/OpenBSD-current/man4/xhci.4">xhci(4)</a> work on the G5.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/efifb.4">efifb(4)</a>:
<ul>
<li>Only advertise the color depth that is actually supported. This makes the xf86-video-wsfb driver work.
<li>Map the framebuffer in write-combining mode. This significantly speeds up.
</ul>
<!-- 2015-08-31 -->
<li>In static binaries, invoke <a href="http://man.openbsd.org/OpenBSD-current/man2/kbind.2">kbind(2)</a> once to disable it.
<li>On m88k and sparc, use <a href="http://man.openbsd.org/OpenBSD-current/man2/kbind.2">kbind(2)</a> for lazy binding GOT/PLT updates.
<li>It is no longer needed to hold the kernel lock for MP-safe bpfs (again).
<li>Bring back the commit that makes bpf_mtap MP-safe by using <a href="http://man.openbsd.org/OpenBSD-current/man9/srp_enter.9">srp</a>, but now using <a href="http://man.openbsd.org/OpenBSD-current/man9/srp_follow.9">srp_follow(9)</a> to avoid races and corruption.
<li>Add <a href="http://man.openbsd.org/OpenBSD-current/man9/srp_follow.9">srp_follow(9)</a> which is necessary to correctly order the taking and releasing of SRP critical sections in situations such as following a chain of data structures linked with SRPs.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/dhclient.8">dhclient(8)</a>, accept multiple domain names in dhcp option 15 (Domain Name). This allows <a href="http://man.openbsd.org/OpenBSD-current/man5/resolv.conf.5">resolv.conf(5)</a> "search" statements to be built with multiple entries.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/syslogd.8">syslogd(8)</a>, don't truncate program names and hostnames in <a href="http://man.openbsd.org/OpenBSD-current/man5/syslog.conf.5">syslog.conf(5)</a>. This fixes matching with IP addresses if syslogd is started with -n.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/efifb.4">efifb(4)</a>, check the driver name so that the driver only attempts to attach when we actually want it to.
<li>In binutils 2.17, raise the number of spare local GOT entries from 5 to 7. This fixes building liblto_plugin.so in the gcc 4.9 port.
<li>In <a href="http://man.openbsd.org/OpenBSD-5.8/man2/tame.2">tame(2)</a> mode:
<ul>
<li>Return EPERM for <a href="http://man.openbsd.org/OpenBSD-current/man2/chmod.2">*chmod(2)</a> if uid/gid change is not towards cr_uid/cr_gid (effective ids).
<li>Consider <a href="http://man.openbsd.org/OpenBSD-current/man2/getfsstat.2">getfsstat(2)</a> an RPATH.
</ul>
<li>Rather than killing when <a href="http://man.openbsd.org/OpenBSD-current/man2/chmod.2">*chmod(2)</a> is asked to do setuid/setgid, clear those bits in the request and continue.
<li>Do not install connected routes on loopback interfaces. This will allow systems with AUTOCONF'd addresses to see loopback connected routes in the routing table.
<li>Fix a use-after-free in <a href="http://man.openbsd.org/OpenBSD-current/man4/uow.4">uow(4)</a>.
<li>Compute the checksum before looping back the copy of an IPv6 multicast packet.
<!-- 2015-08-30 -->
<li>Add a framework for resolving libc namespace issues.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/gunzip.1">gunzip(1)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man1/uncompress.1">uncompress(1)</a>, ignore setuid/setgid settings from a compress/gzip file.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/mandoc.1">mandoc(1)</a>:
<ul>
<li>Don't die on an assertion if an .Fo macro lacks its mandatory argument.
<li>Drop leading, internal, and trailing blank characters in \o (overstrike) escape sequences.
</ul>
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/ping6.8">ping6(8)</a>, remove RH0 support.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/ddb.4">ddb(4)</a>:
<ul>
<li>Automatically perform traces upon panic.
<li>Shrink the message to save vertical space and point to <a href="http://www.openbsd.org/ddb.html">http://www.openbsd.org/ddb.html</a>.
</ul>
<li>In the kernel, use a global table for domains instead of building a list at run time.
<li>Prepare the kernel to boot from UEFI. Amongst other things, add <a href="http://man.openbsd.org/OpenBSD-current/man4/amd64/efifb.4">efifb(4)</a>.
<li>Enable <a href="http://man.openbsd.org/OpenBSD-current/man4/xhci.4">xhci(4)</a> on macppc.
<li>On macppc, map the whole config1 space based on the size read from the device tree. This allows supplementary PCIe cards to be properly detected and should prevent the kernel from faulting when reading unmapped PCI addresses.
<li>Prevent cards with no midi connectors from attaching <a href="http://man.openbsd.org/OpenBSD-current/man4/midi.4">midi(4)</a> devices.
<!-- 2015-08-29 -->
<li>For <a href="http://man.openbsd.org/OpenBSD-current/man2/chmod.2">*chmod(2)</a>, allow S_ISTXT in <a href="http://man.openbsd.org/OpenBSD-5.8/man2/tame.2">tame(2)</a> mode.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/mandoc.1">mandoc(1)</a>:
<ul>
<li>Add a minimal implementation of the read-only number register \n(.$ which returns the number of arguments of the current macro.
<li>Implement the escape sequence \\$* which expands to all arguments of the current user-defined macro.
<li>Parse and ignore the escape sequences \, and \/.
<li>Don't escape breakable hyphens yet when we have to reparse the text line because we spring an input line trap.
</ul>
<li>Create a miniroot for alpha.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/ws.4">ws(4)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man4/synaptics.4">synaptics(4)</a>, read multiple events at once.
<!-- 2015-08-28 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tmux.1">tmux(1)</a>, check for name changes at most once every 500 milliseconds.
<li>On sparc64, add support for switching CPUs in <a href="http://man.openbsd.org/OpenBSD-current/man4/ddb.4">ddb(4)</a>.
<li>On sh, use <a href="http://man.openbsd.org/OpenBSD-current/man2/kbind.2">kbind(2)</a> for lazy binding GOT/PLT updates.
<li>Make <a href="http://man.openbsd.org/OpenBSD-current/man1/gdb.1">gdb(1)</a> work again on mips64 PIE binaries by making sure a reasonable 64-bit ABI is selected for 64-bit ELF files instead of a 32-bit ABI.
<li><font color="#e00000">5.8 SECURITY FIX: LibreSSL 2.2.2 incorrectly handles ClientHello messages that do not include TLS extensions, resulting in such handshakes being aborted.</font><br>A source code patch is available for <a href="errata58.html#002_sslhello">5.8</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/amd64/apmd.8">apmd(8)</a>, log battery changes every 10%, not every 21%.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/envy.4">envy(4)</a>, disable interrupts while the midi uart is not in use. This avoids generating unused interrupts when a chatty peripheral is connected but not used.
<li>In binutils 2.17, add support for Irix-style "64-bit" archives.
<li>Fix the build of the drm libraries on sparc64.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/envy.4">envy(4)</a>, fix support of M-Audio Delta 44 cards that use different GPIO pins.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tmux.1">tmux(1)</a>:
<ul>
<li>Allow environment variables in #{}.
<li>Remove the lock-server option.
<li>Plug a memory leak.
</ul>
<li>In binutils 2.17, do proper GOT slot accounting for symbols that were forced to be local.
<!-- 2015-08-27 -->
<li>Rework the UNIX domain socket garbage collector.
<li>Make <a href="http://man.openbsd.org/OpenBSD-current/man1/ld.so.1">ld.so(1)</a> work on hppa when _dl_bind_start gets hidden by the version script.
<li>Fix rare occurrences of wrong floating-point values with MP kernels on Octeon.
<li>On mips64, access the image of the floating point registers via p_md.md_regs instead of directly on the frame. This prevents updates from getting lost.
<li>Ensure that <a href="http://man.openbsd.org/OpenBSD-current/man8/syslogd.8">syslogd(8)</a> uses its original command-line arguments when it reloads its configuration and re-executes itself.
<li>Prevent a socket that <a href="http://man.openbsd.org/OpenBSD-current/man2/poll.2">poll(2)</a> reports is writable from becoming unwritable before <a href="http://man.openbsd.org/OpenBSD-current/man2/write.2">write(2)</a> is called.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/doas.1">doas(1)</a>, add a type of "auth-doas" to the perm check to allow <a href="http://man.openbsd.org/OpenBSD-current/man5/login.conf.5">login.conf(5)</a> fiddling.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/aucat.1">aucat(1)</a>, allow sparse blocks to be used as silence if samples are encoded as signed integers.
<li>Remove SSLv3 support from LibreSSL.
<!-- 2015-08-26 -->
<li>On hppa, use <a href="http://man.openbsd.org/OpenBSD-current/man2/kbind.2">kbind(2)</a> for lazy binding GOT/PLT updates.
<li>Add more overflow checks to libexpat.
<li><font color="#e00000">5.8 SECURITY FIX: in <a href="http://man.openbsd.org/OpenBSD-current/man8/sshd.8">sshd(8)</a>, inverted logic made PermitRootLogin "prohibit-password" unsafe.</font><br>A source code patch is available for <a href="errata58.html#001_sshd">5.8</a>.
<li>Let MBR have priority over GPT.
<li>Fix an alignment issue in <a href="http://man.openbsd.org/OpenBSD-current/man4/bridge.4">bridge(4)</a>.
<!-- 2015-08-25 -->
<li>Add TIOCGETA to the <a href="http://man.openbsd.org/OpenBSD-5.8/man2/tame.2">TAME_IOCTL</a> list. This is used by <a href="http://man.openbsd.org/OpenBSD-current/man3/readpassphrase.3">readpassphrase(3)</a> and libcurses.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/radiusd.8">radiusd(8)</a>, fix a use-after-free in an error path.
<li>On alpha and mips64, use <a href="http://man.openbsd.org/OpenBSD-current/man2/kbind.2">kbind(2)</a> for lazy binding GOT/PLT updates.
<li>Remove exect(2). It was unused and not portable across arches.
<li>Hide many libc symbols that should not be used.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/cron.8">cron(8)</a>, use <a href="http://man.openbsd.org/OpenBSD-current/man2/ppoll.2">ppoll(2)</a> instead of <a href="http://man.openbsd.org/OpenBSD-current/man2/poll.2">poll(2)</a>. This avoids time conversion issues and eliminates a race condition that could delay SIGCHLD and SIGHUP actions.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/syslogd.8">syslogd(8)</a>, don't use <a href="http://man.openbsd.org/OpenBSD-current/man3/strlcpy.3">strlcpy(3)</a> on strings that are not NUL-terminated. This prevents a crash.
<li>Fix an out-of-bounds read in <a href="http://man.openbsd.org/OpenBSD-current/man1/tmux.1">tmux(1)</a>.
<li>On i386 and powerpc, use <a href="http://man.openbsd.org/OpenBSD-current/man2/kbind.2">kbind(2)</a> for lazy binding GOT/PLT updates.
<!-- 2015-08-24 -->
<li>On i386, enforce the kernel W^X policy by properly setting NX (as needed) for kernel text, PTEs, .rodata, data, bss and the symbol regions.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/restore.8">restore(8)</a>, switch from <a href="http://man.openbsd.org/OpenBSD-current/man2/utimes.2">utimes(2)</a> to <a href="http://man.openbsd.org/OpenBSD-current/man2/utimensat.2">utimensat(2)</a>.
<li>Re-enable GTP support on amd64 and i386.
<li>Remove the -h option from <a href="http://man.openbsd.org/OpenBSD-current/man8/radiusd.8">radiusd(8)</a>.
<li>Set the required IPL at the syn-cache pool instead of doing a splsoftnet() explicitly.
<li>Prevent the kernel from removing connected (/64) routes as soon as it configures an AUTOCONF'd address based on a RA.
<li>Fix the GPT code to work with non-DEV_BSIZE disks.
<li>Fix a crash in <a href="http://man.openbsd.org/OpenBSD-current/man1/tmux.1">tmux(1)</a>.
<li>Fix a cheating bug in <a href="http://man.openbsd.org/OpenBSD-current/man6/worm.6">worm(6)</a>.
<li>Fix a crash during "<a href="http://man.openbsd.org/OpenBSD-current/man8/ifconfig.8">ifconfig</a> bridge0 destroy".
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/macppc/bm.4">bm(4/macppc)</a>, work around slow transfer speed.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/cwm.1">cwm(1)</a>:
<ul>
<li>Don't allow freeze operations on fullscreen.
<li>Implement _NET_CLIENT_LIST_STACKING.
</ul>
<li>Use IPL_SOFTNET protection for the pool. This fixes a panic.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/sysmerge.8">sysmerge(8)</a>:
<ul>
<li>Switch from /usr/share/sysmerge to /var/sysmerge.
<li>Use /var/sysmerge/backups for persistent backups and keep three earlier rotations.
</ul>
<li>Avoid two potential double frees in <a href="http://man.openbsd.org/OpenBSD-5.8/man2/tame.2">tame(2)</a>.
<!-- 2015-08-23 -->
<li>Fix an fd leak in <a href="http://man.openbsd.org/OpenBSD-current/man1/mv.1">mv(1)</a>.
<li>Apply a symbol export list to <a href="http://man.openbsd.org/OpenBSD-current/man1/ld.so.1">ld.so(1)</a> with just the expected dl*() and the two symbols needed by gdb.
<li>Make the Atom S1200 UART work.
<li>In binutils 2.17, introduce -Bsymbolic-functions and related flags.
<li>On amd64 and sparc64, use <a href="http://man.openbsd.org/OpenBSD-current/man2/kbind.2">kbind(2)</a> for lazy binding GOT/PLT updates.
<li>In <a href="http://man.openbsd.org/OpenBSD-5.8/man2/tame.2">tame(2)</a>:
<ul>
<li>Perform maximum one cwd lookup.
<li>Fix /tmp handling of <a href="http://man.openbsd.org/OpenBSD-current/man2/unlink.2">unlink(2)</a>.
</ul>
<li>Update to xf86-video-geode 2.11.17.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/cwm.1">cwm(1)</a>, make CLIENT_STICKY apply to group hide/unhide rather than client hide/unhide.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/cc.1">cc(1)</a>, make the -msecure-plt option work, which is necessary to generate Secure-PLT ABI code.
<li>On powerpc, add support for the Secure-PLT ABI variant. This will give us better W^X support on powerpc.
<li>In binutils 2.17, fully enable the Secure-PLT ABI.
<li>In libc, restore codeset checking instead of silently falling back to ASCII.
<li>Revert the bpf+srp commits. They cause problems in a bridge setup.
<!-- 2015-08-22 -->
<li>Move to the <a href="http://man.openbsd.org/OpenBSD-5.8/man2/tame.2">tame(int flags, char *paths[])</a> API/ABI.
<li>Explicitly list the symbols permitted to be exported by libc. This will prevent unintentional additions in the future and sets the stage for reductions.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/doas.1">doas(1)</a>, add the cwd context to the syslog entry.
<li>Make <a href="http://man.openbsd.org/OpenBSD-current/man4/urtwn.4">urtwn(4)</a> attach to Netgear WNA1000Mv2.
<li>Ensure <a href="http://man.openbsd.org/OpenBSD-current/man3/tls_read.3">tls_read(3) and tls_write(3)</a> always set outlen to zero on error.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/rc.8">rc(8)</a>, properly handle double quotes in <a href="http://man.openbsd.org/OpenBSD-current/man5/wsconsctl.conf.5">wsconsctl.conf(5)</a>.
<!-- 2015-08-21 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ctags.1">ctags(1)</a>, avoid calling <a href="http://man.openbsd.org/OpenBSD-current/man3/system.3">system(3)</a> for the -u option.
<li>Update to libdrm 2.4.64.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh.1">ssh(1)</a>, fix printing of HostKeyAlgorithms=+... when using -G.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/sshd.8">sshd(8)</a>, fix expansion of HostkeyAlgorithms=+...
<li>Regenerate <a href="http://man.openbsd.org/OpenBSD-current/man5/moduli.5">moduli(5)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/cwm.1">cwm(1)</a>:
<ul>
<li>Preserve the command list order from .cwmrc.
<li>Hide the "term" and "lock" commands in the application menu.
<li>Don't let _NET_WM_STATE_STICKY apply to the position and size of a window.
<li>Add the client freeze extension to _NET_WM_STATE Atom, allowing flag to persist.
</ul>
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/em.4">em(4)</a>, run the part of the interrupt handler that does rx completion without holding the kernel lock.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/relayd.8">relayd(8)</a>, don't drop the reply messages when "check icmp" is used with many hosts.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/httpd.8">httpd(8)</a>, avoid an HTTP 405 error when using the WebDAV MOVE method.
<li>Whitelist TIOCGPGRP (for <a href="http://man.openbsd.org/OpenBSD-current/man3/tcgetpgrp.3">tcgetpgrp(3)</a>) in TAME_IOCTL.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/azalia.4">azalia(4)</a>, enable beep and CD controls on ALC292.
<!-- 2015-08-20 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/sshd.8">sshd(8)</a>, fix the inverted logic that broke PermitRootLogin.
<li>If we're allowed to try and use large pages, we try and fit at least 8 of the items. This amortises the per page cost of an item a bit.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/apci.4">acpi(4)</a>, respect the access size when reading or writing to pci config space and ensure writes are properly aligned. This prevents panics and fixes at least battery status passthrough in vmware and the brightness keys on the X220.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man3/exp2.3">exp2(3)</a>, avoid left-shifting a negative integer.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/cwm.1">cwm(1)</a>, make the big move and resize bindings match what is in the manual page.
<li>On octeon, use the IPD Clock Count register as a timecounter.
<li>Import an alternative routing table backend based on Yoichi Hariguchi's ART implementation.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/identd.8">identd(8)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man8/tftpd.8">tftpd(8)</a>, use SOCK_NONBLOCK to avoid a FIONBIO <a href="http://man.openbsd.org/OpenBSD-current/man2/ioctl.2">ioctl(2)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/identd.8">identd(8)</a>, don't exit on unknown <a href="http://man.openbsd.org/OpenBSD-current/man2/write.2">write(2)</a> failures.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/azalia.4">azalia(4)</a>, enable audio on ThinkPad docks.
<li>Reactivate <a href="http://man.openbsd.org/OpenBSD-5.8/man2/tame.2">tame(2)</a> after release.
<!-- 2015-08-19 -->
<li>Remove unused vesafb code.
<li>Update to libepoxy 1.3.1.
<li>In LibreSSL, properly handle missing TLS extensions in client hello as a non-failure.
<li>In ssh:
<ul>
<li>Don't call <a href="http://man.openbsd.org/OpenBSD-current/man2/unlink.2">unlink(2)</a> with an uninitialised path in <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh-keygen.1">ssh-keygen(1)</a>.
<li>Don't free an uninitialised pointer in <a href="http://man.openbsd.org/OpenBSD-current/man1/ssh.1">ssh(1)</a>.
<li>Fix a double free in an error path.
<li>Improve compat matching for WinSCP and add compat matching for FuTTY.
</ul>
<li>Enable the build of libOSMesa.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/pf.4">pf(4)</a>, keep the IPv6 fragment size as chosen by sender also for packets that are routed on behalf of route-to.
<li>Prevent mips64 FPU emulation from corrupting the page queues in MP systems.
<li>Do not use a stale local address from the routing table. This prevents an interface address without interface pointer causing a uvm_fault.
<li>On octeon, allow booting the SP kernel with a set of CPUs that does not contain core 0.
<li>Unbreak the <a href="http://man.openbsd.org/OpenBSD-current/man8/ikectl.8">ikectl(8)</a> "ca" commands after the removal of $ENV:: overwriting in LibreSSL.
<!-- 2015-08-18 -->
<li>Remove casts from many calls to <a href="http://man.openbsd.org/OpenBSD-current/man3/malloc.3">malloc(3)</a>-like functions.
<!-- 2015-08-17 -->
<li>Update the en_US.UTF-8 locale to Unicode 7.0.0.
<li>Remove the last fragments of ST-506 support.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/whois.1">whois(1)</a>, fix whois server detection for new TLDs.
<li>Accept NULL pointers in <a href="http://man.openbsd.org/OpenBSD-current/man9/rtfree.9">rtfree(9)</a>. This will simplify upcoming conversions of rt_refcnt-- to rtfree(9).
<!-- 2015-08-16 -->
<li><font color="#e00000">5.6 and 5.7 SECURITY FIX: a change to <a href="http://man.openbsd.org/OpenBSD-current/man8/sshd.8">sshd(8)</a> resulted in incorrect permissions being applied to pseudo terminal devices, allowing local users to write to (but not read from) them.</font><br>A source code patch is available for <a href="errata57.html#014_sshd">5.7</a>.
<li>No longer hold the kernel lock when calling bpf.
<li>Make bpf_mtap MP-safe by using <a href="http://man.openbsd.org/OpenBSD-current/man9/srp_enter.9">srp</a>.
<li>Avoid a TOCTOU problem in if_input in the bpf handling.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tmux.1">tmux(1)</a>, come out of copy mode when history is cleared.
<!-- 2015-08-15 -->
<li>Add Loongson 3A support.
<li>On alpha, consider ISA interrupts level-triggered if the SRM has explicitly set them up that way. This makes the kernel correctly run with serial console on the Multia.
<li>Enable AlphaBook 1 support in alpha bsd.rd.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/smtpd.8">smtpd(8)</a>:
<ul>
<li>Increase the size of acceptable headers lines.
<li>Assume messages use 8-bit bytes by default.
</ul>
<!-- 2015-08-14 -->
<li>Remove charsets other than UTF-8 from <a href="http://man.openbsd.org/OpenBSD-current/man1/locale.1">locale(1)</a> output.
<li>Load LC_MESSAGES locale only if the character encoding is UTF-8.
<li>Disable support for loading LC_CTYPE locales other than UTF-8.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/swapctl.8">swapctl(8)</a>, use <a href="http://man.openbsd.org/OpenBSD-current/man2/vfork.2">vfork(2)</a> &amp; <a href="http://man.openbsd.org/OpenBSD-current/man2/execl.2">execl(2)</a> instead of <a href="http://man.openbsd.org/OpenBSD-current/man3/system.3">system(3)</a> when invoking <a href="http://man.openbsd.org/OpenBSD-current/man8/mount_nfs.8">mount_nfs(8)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/myx.4">myx(4)</a>:
<ul>
<li>Rework the way the packets on the rx rings are tracked.
<li>Move to a per rx ring timeout for refilling empty rings. This gets rid of the locking around the refilling of the rx ring.
<li>Use a single atomic op instead of one per packet when doing global tx free accounting. This allows packets to be sent a little faster.
</ul>
<li>On macppc and powerpc, replace the assembly mutexes with a C implementation.
<!-- 2015-08-13 -->
<li>Add <a href="http://man.openbsd.org/OpenBSD-current/man9/ml_requeue.9">ml_requeue(9)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man9/mq_requeue.9">mq_requeue(9)</a> to prepend mbufs on lists/queues.
<li>Move the <a href="http://man.openbsd.org/OpenBSD-current/man1/locate.1">locate(1)</a> database build directory back to /tmp.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/ntpd.8">ntpd(8)</a>, avoid calling poll() multiple times with no timeout, racking up CPU time for no real reason.
<li>Add the -A, -P and -t options to <a href="http://man.openbsd.org/OpenBSD-current/man1/nm.1">nm(1)</a>.
<li>Remove discarded attributes from <a href="http://man.openbsd.org/OpenBSD-current/man5/disktab.5">disktab(5)</a>.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/rc.8">rc(8)</a>, improve the <a href="http://man.openbsd.org/OpenBSD-current/man5/sysctl.conf.5">sysctl.conf(5)</a>, <a href="http://man.openbsd.org/OpenBSD-current/man5/mixerctl.conf.5">mixerctl.conf(5)</a> and <a href="http://man.openbsd.org/OpenBSD-current/man5/wsconsctl.conf.5">wsconsctl(5)</a> parsers.
<li>Let <a href="http://man.openbsd.org/OpenBSD-current/man1/pkg_create.1">pkg_create(1)</a> recreate packages correctly.
<li>Prevent an mbuf leak when no handler consumed that mbuf.
<!-- 2015-08-12 -->
<li>Fix a case where <a href="http://man.openbsd.org/OpenBSD-current/man3/ceill.3">ceill(3)</a> returns 1.0L.
<li>Rework the /etc/rc script.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/tmux.1">tmux(1)</a>, add the "-of" suffix to the "left", "right", "up" and "down" special tokens for the pane index.
<li>Plug two memory leaks in <a href="http://man.openbsd.org/OpenBSD-current/man4/ti.4">ti(4)</a>.
<!-- 2015-08-11 -->
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man4/acpihpet.4">acpihpet(4)</a>, check for a proper HPET period value during attach.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man1/file.1">file(1)</a>, add various improvements to the <a href="http://man.openbsd.org/OpenBSD-current/man5/magic.5">magic(5)</a> parser.
<li>In <a href="http://man.openbsd.org/OpenBSD-current/man8/sndiod.8">sndiod(8)</a>, don't make system calls when not being used.
<li>Update time zone data to tzdata2015f.
<li>Fix recent regressions in <a href="http://man.openbsd.org/OpenBSD-current/man4/ugold.4">ugold(4)</a>.
<!-- 2015-08-10 -->
<li>Improve <a href="http://man.openbsd.org/OpenBSD-current/man1/openssl.1">openssl(1)</a> s_client -starttls xmpp support.
</ul>
<p>

</body>
</html>

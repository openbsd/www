<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>OpenBSD 4.3 发行版本</title>
<link rev=made href="mailto:www@openbsd.org">
<meta name="resource-type" content="document">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="OpenBSD 4.3">
<meta name="keywords" content="openbsd,main">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 2008 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#24248E">

<a href="index.html">
<img alt="[OpenBSD]" height="30" width="141" hspace="24" src="../images/smalltitle.gif" border="0"></a>
<hr>

<p>
<a href="../images/Cryptonaut.jpg">
<img align="left" width="227" height="343" hspace="24" vspace="30"
src="../images/Cryptonaut.jpg" alt="OpenBSD 4.3 logo"></a>
<h2><font color="#0000e0">OpenBSD 4.3 发行版本:</font></h2>
<p>
将要发布于2008年5月1日<br>
版权 1997-2008, Theo de Raadt.<br>
<font color="#e00000">ISBN 978-0-9784475-1-9</font>
<br>
<a href="../lyrics.html#43">4.3 主题歌:“Home to Hypocrisy”</a>
<p>

<a href="#new">新特性</a><br>
<a href="#install">如何安装</a><br>
<a href="#upgrade">如何升级</a><br>
<a href="#ports">使用 ports 的方法</a><br>
<a href="orders.html">购买 CD</a><br>

<p>
<h3><font color="#0000e0">
获得此版本的文件:
<ul>
<li>从我们的<a href="orders.html">订购系统</a>购买 CDROM。
<li>从镜像站点的 <a href="ftp.html">FTP 页面</a>中选择合适的镜像。
<li>进入镜像站点的 <font color="#e00000">pub/OpenBSD/4.3/</font> 目录。
<li>简要阅读本文档的剩余部分。
<li>阅读 <a href="errata43.html">4.3 勘误表</a>获得问题列表和背景。
<li>阅读 4.2 与 4.3 之间的<a href="../plus43.html">详细修改记录</a>。
</ul>
</font></h3>
<br clear=all>

<strong>说明:</strong> 所有相关的版权和荣誉声明在 src.tar.gz，sys.tar.gz 和
xenocara.tar.gz 文件中，或在通过 ports.tar.gz 下载的文件中。由于空间不足，
用于构建 ports.tar.gz 文件中的程序包的发行文件并未包括在 CDROM 中。
<p>

<a name="new"></a>
<hr>
<p>
<h3><font color="#0000e0">新特性</font></h3>
<p>
<p>以下是 OpenBSD 4.3 中新特性和新系统功能的部分列表。 完整的列表位于 4.3
的<a href="../plus43.html">修改记录</a>中。
<p>

<ul>

<li>新增/扩展的构架平台:
<ul>
<li><a href="../sparc64.html">OpenBSD/sparc64</a><br>
    支持 SMP。除了 Sun Enterprise 10000 之外，应该可以在所有受支持的 sparc64 平台运行 SMP 内核。
<li><a href="../hppa.html">OpenBSD/hppa</a><br>
    现在已经支持 K-class 服务器，例如 K200 和 K410。
<li><a href="../mvme88k.html">OpenBSD/mvme88k</a><br>
    在 MVME188 和 MVME188A 系统中支持 SMP。<br>
    现在支持 88110 处理器，MVME197LE/SP/DP 主板。
</ul>
<p>

<li>更新了硬件支持, 包括:
<ul>
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bge&amp;sektion=4">bge(4)</a> driver now supports BCM5906/BCM5906M 10/100 and BCM5755 10/100/Gigabit Ethernet devices.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cas&amp;sektion=4">cas(4)</a> driver now supports Cassini+ 10/100/Gigabit Ethernet devices.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=em&amp;sektion=4">em(4)</a> driver now supports ICH9 10/100 and 10/100/Gigabit Ethernet devices.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gem&amp;sektion=4">gem(4)</a> driver now supports the onboard 1000base-SX interface on the Sun Fire V880 server.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ixgb&amp;sektion=4">ixgb(4)</a> driver now supports the Sun 10Gb PCI-X Ethernet devices.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=msk&amp;sektion=4">msk(4)</a> driver now supports Yukon FE+ 10/100 and Yukon Supreme 10/100/Gigabit Ethernet devices.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nfe&amp;sektion=4">nfe(4)</a> driver now supports MCP73, MCP77 and MCP79 10/100/Gigabit Ethernet devices.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ral&amp;sektion=4">ral(4)</a> driver now supports RT2800 based wireless network devices.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cmpci&amp;sektion=4">cmpci(4)</a> driver now supports CMI8768 based audio adapters.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=it&amp;sektion=4">it(4)</a> driver now supports ITE IT8705F/8712F/8716F/8718F/8726F and SiS SiS950 ICs. Watchdog timer functionality added.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mfi&amp;sektion=4">mfi(4)</a> driver now supports Dell CERC6/PERC6 and LSI SAS1078 RAID controllers.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=viapm&amp;sektion=4">viapm(4)</a> driver now supports the VIA VT8237S south bridges SMBus controller.
<li>Support for hotplugging ExpressCard devices has been added.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=amdpcib&amp;sektion=4&amp;arch=amd64">amdpcib(4)</a> driver for the AMD-8111 series LPC bridge and timecounter on amd64.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pctr&amp;sektion=4&amp;arch=amd64">pctr(4)</a> driver for the CPU performance counters on amd64.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bwi&amp;sektion=4">bwi(4)</a> driver for the Broadcom AirForce IEEE 802.11b/g wireless network device.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=envy&amp;sektion=4">envy(4)</a> driver for the VIA Envy24 audio device.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=et&amp;sektion=4">et(4)</a> driver for the Agere/LSI ET1310 10/100/Gigabit Ethernet device.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=etphy&amp;sektion=4">etphy(4)</a> driver for the Agere/LSI ET1011 TruePHY Gigabit Ethernet PHY.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=amdpcib&amp;sektion=4&amp;arch=i386">amdpcib(4)</a> driver for the AMD-8111 series LPC bridge and timecounter on i386.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=glxpcib&amp;sektion=4&amp;arch=i386">glxpcib(4)</a> driver for the AMD CS5536 PCI-ISA bridge with timecounter, watchdog timer, and GPIO on i386.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iwn&amp;sektion=4">iwn(4)</a> driver for the Intel Wireless WiFi Link 4965AGN IEEE 802.11a/b/g/Draft-N wireless network device.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=msts&amp;sektion=4">msts(4)</a> line discipline to interface the Meinberg Standard Time String devices to provide a timedelta sensor.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gbe&amp;sektion=4&amp;arch=sgi">gbe(4)</a> driver for the SGI Graphics Back End (GBE) Frame Buffer on sgi.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mkbc&amp;sektion=4&amp;arch=sgi">mkbc(4)</a> driver for the Moosehead PS/2 Controller on sgi.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=power&amp;sektion=4&amp;arch=sgi">power(4)</a> driver for the power button on sgi.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ecadc&amp;sektion=4&amp;arch=sparc64">ecadc(4)</a> driver for the Environmental Monitoring Subsystem temperature sensor on sparc64.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tda&amp;sektion=4&amp;arch=sparc64">tda(4)</a> driver for the fan controller on the Sun Blade 1000/2000, making these machines much less noisy.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spdmem&amp;sektion=4">spdmem(4)</a> driver retrieves information about memory modules.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=thmc&amp;sektion=4">thmc(4)</a> driver for the TI THMC50, Analog ADM1022/1028 temperature sensor.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uchcom&amp;sektion=4">uchcom(4)</a> driver for the WinChipHead CH341/340 based USB serial adapter.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=umbg&amp;sektion=4">umbg(4)</a> driver for the Meinberg Funkuhren USB5131 radio clock to provide
a timedelta sensor.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=upgt&amp;sektion=4">upgt(4)</a> driver for the Conexant/Intersil PrismGT SoftMAC USB IEEE 802.11b/g wireless network device.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wbng&amp;sektion=4">wbng(4)</a> driver for the Winbond W83793G temperature, voltage, and fan sensor.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wbsio&amp;sektion=4">wbsio(4)</a> driver for the Winbond LPC Super I/O ICs.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=adl&amp;sektion=4">adl(4)</a> driver for the Andigilog aSC7621 temperature, voltage, and fan sensor.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=siop&amp;sektion=4">siop(4)</a> driver now supports the (non-PCI) NCR 53c720/770 in big-endian mode.
<li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lmn&amp;sektion=4">lmn(4)</a> driver for the National Semiconductor LM93 sensor.
</ul>
<p>

<li>新工具:
<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=snmpd&amp;sektion=8">snmpd(8)</a>, implementing the Simple Network Management Protocol.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=snmpctl&amp;sektion=8">snmpctl(8)</a> program controls the SNMP daemon.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pcidump&amp;sektion=8">pcidump(8)</a> utility displays the device address, vendor, and product name of PCI devices.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldattach&amp;sektion=8">ldattach(8)</a> is used to attach a line discipline to a serial line to allow for in-kernel processing of the received and/or sent data.
</ul>
<p>

<li>新功能:
<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=eeprom&sektion=8&amp;arch=sparc">eeprom(8)</a> is now able to display the OpenPROM device tree on systems that have it.
<li>Support for X11 on sgi has been added.
<li>The periodic <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=security&sektion=8">security(8)</a> reports now include package changes.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cmpci&amp;sektion=4">cmpci(4)</a> driver now supports multichannel audio playback if the hardware supports it.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=auvia&amp;sektion=4">auvia(4)</a> driver now supports multichannel audio playback if the hardware supports it.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=auich&amp;sektion=4">auich(4)</a> driver now supports recording from the microphone as well as full-duplex mode.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=eso&amp;sektion=4">eso(4)</a> driver now supports recording as well as full-duplex mode.
<li>The ffs layer is now 64-bit disk block address clean.
This means that disks, partitions and filesystems larger than 2TB are
now supported, with the exception of statfs(2) and quotas.
<li>DMA is now enabled for 1-sector devices such as flash drives, providing
significant speed improvement.
<li>Sparc and Sparc64 disklabels now provide automatic recognition of ext2fs
partitions.
<li>Filesystems on USB devices are automatically dismounted if the device is
disconnected.
<li>The configuration of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&amp;sektion=4">carp(4)</a> load balancing has
been vastly simplified.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fstab&amp;sektion=5">
fstab(5)</a> entries referring to non-existent mount points are now
ignored, allowing subsequent entries to be processed.
<li>Additional configuration files can now be included in
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;sektion=5">pf.conf(5)</a>.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sppp&sektion=4&format=html">sppp(4)</a> now has IPv6 support.
</ul>
<p>

<li>各种改进和代码清理:
<ul>
<li>Improved support for an <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lkm&amp;sektion=4">lkm(4)</a> subsystem on amd64.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ossaudio&amp;sektion=3">ossaudio(3)</a> received several bug fixes and enhancements including but not limited to improved recording and full-duplex support.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=audio&amp;sektion=4">audio(4)</a> received several bug fixes and enhancements including but not limited to improved recording and full-duplex support.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&amp;sektion=1">make(1)</a> was heavily modified, mostly to improve support for parallel build.
Parallel builds now run commands in the same way the sequential builds do,
and the output from commands is more readable.
A large part of the source tree, xenocara, and quite a few ports now build
correctly with <code>make -j</code>.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rcs&iamp;sektion=1">rcs</a> tools improvements and bug fixes.
<li>RTM_VERSION was increased so that all routing messages could be modified
to include additional fields for upcoming networking features.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendbug&amp;sektion=1">sendbug(1)</a>
has stricter comment parsing, to avoid mangling diffs.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=umass&amp;sektion=4">
umass(4)</a> devices no longer detect bogus LUNs.
<li>USB<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=st&amp;sektion=4">
st(4)</a> devices can now successfully disconnect.
<li>More deviant umass devices accommodated.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=svnd&amp;sektion=4">
svnd(4)</a> devices now work on block devices.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&amp;sektion=8">
disklabel(8)</a> is now aware of NTFS partitions.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=raidctl&amp;sektion=8">
raidctl(8)</a> now correctly handles trailing whitespace in configuration files.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mt&amp;sektion=1">
mt(1)</a> no longer triggers panics when processing the 'rewoffl' command.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=raid&amp;sektion=4">
raid(4)</a> devices no longer hang when searching for components during boot.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sd&amp;sektion=4">
sd(4)</a> devices no longer receive spurious SYNCHRONIZE CACHE commands that
confuse some hardware.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sd&amp;sektion=4">
sd(4)</a> no longer claim that SYNCHRONIZE CACHE commands are 16 bytes long when they
are actually 10 bytes. Some devices took this too literally.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dhcpd&amp;sektion=8">
dhcpd(8)</a> now always issues packets equal or larger than the minimum IP MTU.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&amp;sektion=8">disklabel(8)</a>
-E mode does not allow manual editing of the 'c' partition, which
is always set to cover the entire disk.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&amp;sektion=8">disklabel(8)</a>
-E mode does not allow changing the cpg value of a partition.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&amp;sektion=8">disklabel(8)</a>
-E mode command 'r' now displays the list of free chunks on the disk.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&amp;sektion=8">disklabel(8)</a>
-E mode no longer permits assigning arbitrary sizes to FS_BOOT and FS_UNUSED
partitions.
<li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bge&amp;sektion=4">bge(4)</a> driver problems receiving jumbo frames have been resolved.
<li>Many dangerous unsigned comparisons with -1 when checking the
results of read and write calls have been eliminated.
<li>The new M_ZERO flag for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=malloc&amp;sektion=9">malloc(9)</a>
replaces many malloc+bzero/memset combinations, fixing a number of bugs
in memory initialization and shrinking the kernel.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dhcpd&amp;sektion=8">
dhcpd(8)</a> now correctly constructs response packets that use the overflow buffers to store options.
<li>SCSI drivers are more reliable in MP machines due to better locking
around command completion.
<li>TCP responses to highly fragmented packets are now constructed without
risking corruption of kernel memory.
<li>Sockets now allow 4095 multicast group memberships.
</ul>
<p>

<li>对安装/升级过程的修改:
<ul>
<li>All platforms now have serial console support when installing.
<li>Serial console speed is detected and appropriate /etc/ttys entries
automatically created.
<li><a href="vax.html">OpenBSD/vax</a> now also has both kinds of install ISO CD images.
<li>DNS server addresses are remembered if an install is restarted.
</ul>
<p>

<li>OpenBGPD 4.3:
<ul>
<li>Correctly handle prefixes which would cause a routing loop.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpctl&amp;sektion=8">bgpctl</a>'s
    detailed RIB output shows additional attributes like extended
    communities or the cluster id list.
</ul>
<p>

<li>OpenNTPD 4.3:
<ul>
<li>Handle IP changes of clients more gracefully.
<li>Log peer and sensor status to syslog if the majority of either is
bad, or if a SIGINFO signal is received.
<li>Allow offsetting of time sensors that have a systematic error.
</ul>
<p>

<li>OpenOSPFD 4.3:
<ul>
<li>Equal cost multipath support -- don't forget to set the right sysctls.
<li>Parser and commandline options are now in sync with bgpd.
</ul>
<p>

<li>relayd 4.3:
<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hoststated&amp;sektion=8&amp;manpath=OpenBSD+4.2">hoststated(8)</a>/<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hoststatectl&amp;sektion=8&amp;manpath=OpenBSD+4.2">hoststatectl(8)</a>
were renamed to
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=relayd&amp;sektion=8">relayd(8)</a>/<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=relayctl&amp;sektion=8">relayctl(8)</a>.
<li>Improved configuration grammar for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=relayd.conf&amp;sektion=5">relayd.conf(5)</a>.
<li>Allow to send SNMP traps via <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=snmpd&amp;sektion=8">snmpd(8)</a> when host states change.
<li>Improved support for URL filtering and protocol actions.
<li>Added support for UDP-based DNS relaying with request ID randomisation.
<li>Various bug fixes, optimisations, and cleanups.
<li>Improved reload support.
</ul>
<p>

<li>OpenSSH 4.8:
<ul>
<li>New features:
  <ul>
    <li>Added
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chroot&amp;sektion=2">chroot(2)</a>
    support for <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8">sshd(8)</a>,
     controlled by a new option
    <em>"ChrootDirectory"</em>. Please refer to
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd_config&amp;sektion=5">sshd_config(5)</a>
    for details, and
    please use this feature carefully.</li>
    <li>Linked
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp-server&amp;sektion=8">sftp-server(8)</a>
    into
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8">sshd(8)</a>. The internal sftp server is
    used when the command <em>"internal-sftp"</em> is specified in a Subsystem
    or ForceCommand declaration. When used with <em>ChrootDirectory</em>, the
    internal sftp server requires no special configuration of files
    inside the chroot environment. Please refer to
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd_config&amp;sektion=5">sshd_config(5)</a>
    for more information.</li>
    <li>Added a protocol extension method "posix-rename@openssh.com" for
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp-server&amp;sektion=8">sftp-server(8)</a>
    to perform POSIX atomic rename() operations.</li>
    <li>Removed the fixed limit of 100 file handles in
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp-server&amp;sektion=8">sftp-server(8)</a>.
    The server will now dynamically allocate handles up to the number of
    available file descriptors.</li>
    <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a>
    will now skip generation of SSH protocol 1 ephemeral server
    keys when in inetd mode and protocol 2 connections are negotiated.
    This speeds up protocol 2 connections to inetd-mode servers that
    also allow Protocol 1.</li>
    <li>Accept the <em>PermitRootLogin</em> directive in a
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd_config&amp;sektion=5">sshd_config(5)</a>
    <em>Match</em>
    block. Allows for, e.g. permitting root only from the local
    network.</li>
    <li>Reworked
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp&amp;sektion=1">sftp(1)</a>
    argument splitting and escaping to be more
    internally consistent (i.e. between sftp commands) and more
    consistent with
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sh&amp;sektion=1">sh(1)</a>.
    Please note that this will change the
    interpretation of some quoted strings, especially those with
    embedded backslash escape sequences.</li>
    <li>Support <em>"Banner=none"</em> in
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd_config&amp;sektion=5">sshd_config(5)</a>
    to disable sending of a
    pre-login banner (e.g. in a <em>Match</em> block).</li>
    <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a>
    <em>ProxyCommand</em>s are now executed with $SHELL rather than
    /bin/sh.</li>
    <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)'s</a>
    <em>ConnectTimeout</em> option is now applied to both the TCP
    connection and the SSH banner exchange (previously it just covered
    the TCP connection). This allows callers of
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a>
    to better detect
    and deal with stuck servers that accept a TCP connection but don't
    progress the protocol, and also makes <em>ConnectTimeout</em> useful for
    connections via a <em>ProxyCommand</em>.</li>
    <li>Many new regression tests, including interop tests against PuTTY's
    plink.</li>
  </ul></li>
  <li>The following significant bugs have been fixed in this release:
  <ul>
     <li>SSH2_MSG_UNIMPLEMENTED packets did not correctly reset the client
     keepalive logic, causing disconnections on servers that did not
     explicitly implement "keepalive@openssh.com".</li>
     <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a>
     used the obsolete SIG DNS RRtype for host keys in DNS,
     instead of the current standard RRSIG.</li>
     <li>Correctly drain ACKs when a
     <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp&amp;sektion=1">sftp(1)</a>
     upload write fails midway,
     avoids a fatal() exit from what should be a recoverable condition.</li>
     <li>Fixed packet size advertisements. Previously TCP and agent
     forwarding incorrectly advertised the channel window size as the
     packet size, causing fatal errors under some conditions.</li>
     <li><em>Many more bugfixes. Please refer to the
     <a href="http://www.openssh.com/txt/release-4.8">Release Notes</a>.</em>
     </li>
  </ul></li>
</ul>
<p>

<li>超过 4,900 个 ports，package 工具的健壮性有所改进。
<li>每种架构都有许多预先构建的包:
    <table border=0 cellspacing=0 cellpadding=2 width="95%">
    <tr>
    <td valign="top" width="25%">
    <ul>
    <li>i386:       4782
    <li>sparc64:    4613
    <li>alpha:      4233
    <li>sh:          XXX
</ul></td><td valign=top width="25%"><ul>
    <li>amd64:      4708
    <li>powerpc:    4634
    <li>sparc:      3159
    <li>m68k:        830
</ul></td><td valign=top width="25%"><ul>
    <li>arm:        XXXX
    <li>hppa:       3971
    <li>vax:         XXX
    <li>mips64:     1897
</ul></td><td valign=top width="25%"><ul>
    <li>m88k:         27
</ul></td></tr></table>
一些精彩程序:
<ul>
<li>Gnome 2.20.3.
<li>GNUstep 1.14.2.
<li>KDE 3.5.8.
<li>Mozilla Firefox 2.0.0.12.
<li>Mozilla Thunderbird 2.0.0.12.
<li>MySQL 5.0.51a.
<li>OpenMotif 2.3.0.
<li>OpenOffice.org 2.3.1.
<li>PostgreSQL 8.2.6.
<li>Xfce 4.4.2.
</ul>
<p>

<li>按照惯例，手册或其它文档也有相应补充和修改。
<p>

<li>以下是系统包含的外部提供的重要程序:
<ul>
<li>Xenocara (based on X.Org 7.3 + patches, freetype 2.3.5, fontconfig
2.4.2, Mesa 7.0.2, xterm 232 and more)
<li>Gcc 2.95.3
(+ <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc-local&amp;sektion=1">patches</a>)
and 3.3.5
(+ <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc-local&amp;sektion=1">patches</a>)
<li>Perl 5.8.8 (+ patches)
<li>Our improved and secured version of Apache 1.3, with SSL/TLS and DSO support
<li>OpenSSL 0.9.7j (+ patches)
<li>Groff 1.15
<li>Sendmail 8.14.1, with libmilter
<li>Bind 9.4.2 (+ patches)
<li>Lynx 2.8.5rel.4 with HTTPS and IPv6 support (+ patches)
<li>Sudo 1.6.9p12
<li>Ncurses 5.2
<li>Latest KAME IPv6
<li>Heimdal 0.7.2 (+ patches)
<li>Arla 0.35.7
<li>Binutils 2.15 (+ patches)
<li>Gdb 6.3 (+ patches)
</ul>
<p>

</ul>

<a name="install"></a>
<hr>
<p>
<h3><font color="#0000e0">如何安装</font></h3>
<p>
如果通过购买的 CD 安装，请按照下述指令操作。使用
FTP(或其它安装方式)安装与之类似；CDROM 中的安装是自治的，
它会让你知道如果使用购买的 CD 安装是多么方便。
<p>

<hr>
有关安装 OpenBSD 4.3 更详细的信息，请参阅在三张 CD 或相关 FTP
镜像站点中的以下文件:
<p>
<ul>
<li>CD1:4.3/i386/INSTALL.i386
<p>
<li>CD2:4.3/amd64/INSTALL.amd64
<li>CD2:4.3/macppc/INSTALL.macppc
<p>
<li>CD3:4.3/sparc64/INSTALL.sparc64
<p>
<li>FTP:.../OpenBSD/4.3/alpha/INSTALL.alpha
<li>FTP:.../OpenBSD/4.3/armish/INSTALL.armish
<li>FTP:.../OpenBSD/4.3/hp300/INSTALL.hp300
<li>FTP:.../OpenBSD/4.3/hppa/INSTALL.hppa
<li>FTP:.../OpenBSD/4.3/landisk/INSTALL.landisk
<li>FTP:.../OpenBSD/4.3/mac68k/INSTALL.mac68k
<li>FTP:.../OpenBSD/4.3/mvme68k/INSTALL.mvme68k
<li>FTP:.../OpenBSD/4.3/mvme88k/INSTALL.mvme88k
<li>FTP:.../OpenBSD/4.3/sgi/INSTALL.sgi
<li>FTP:.../OpenBSD/4.3/sparc/INSTALL.sparc
<li>FTP:.../OpenBSD/4.3/vax/INSTALL.vax
<li>FTP:.../OpenBSD/4.3/zaurus/INSTALL.zaurus
</ul>
<hr>

<p>
快速安装仅适合熟悉 OpenBSD 和“disklabel -E”命令用法的人。如果你根本不懂安装
OpenBSD，请参阅上面罗列的相应 INSTALL.* 文件!
<p>

<h3><font color="#e00000">OpenBSD/i386:</font></h3>
<ul>
设置 BIOS 可以从 CD 启动。OpenBSD/i386 发行版本在 CD1 中。如果你的 BIOS
不支持从 CD 启动，就可能需要制作启动软盘。通过将 <i>CD1:4.3/i386/floppy43.fs</i>
写入软盘来制作启动软盘，通过软盘驱动器启动。

<p>
使用 <i>CD1:4.3/i386/floppyB43.fs</i> 来制作引导软盘，可以获得更好的 SCSI
支持，或者使用 <i>CD1:4.3/i386/floppyC43.fs</i> 来制作引导软盘，
获得更好的笔记本电脑支持。

<p>
如果你不能从 CD 或软盘启动的话，还可以用 PXE 通过网络安装，请参阅
INSTALL.i386 文件。

<p>
如果计划让 OpenBSD 与另一操作系统共存，双重启动，请参阅 INSTALL.i386
文件。

<p>
在 MS-DOS 环境制作启动软盘，请使用位于 <i>CD1:4.3/tools/rawrite.exe</i>
的"rawrite"工具。在 Unix OS 环境制作启动软盘，请使用 <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&amp;sektion=1">dd(1)</a>
工具。下面是使用 <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&amp;sektion=1">dd(1)</a>
的例子，"device"可以是"floppy"，"rfd0c"，或"rfd0a"。

<ul><pre>
# <strong>dd if=&lt;file&gt; of=/dev/&lt;device&gt; bs=32k</strong>
</pre></ul>

<p>
请确保你的软盘无坏道，已经正确格式化。否则很可能会安装失败。
有关制作启动软盘和安装 OpenBSD/i386 的信息请参阅
<a href="../faq/zh/faq4.html#MkFlop">FAQ 4.3.1</a>。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/amd64:</font></h3>
<ul>
OpenBSD/amd64 的 4.3 版本在 CD2 中。设置 BIOS 可以从 CD 启动，然后用 CD
启动，开始安装。
如果不能从 CD 启动，可以通过制作启动软盘来安装。用
<i>CD2:4.3/amd64/floppy43.fs</i> 来制作启动软盘，然后用软驱来启动。

<p>
如果不能从 CD 或软盘启动，可以用 PXE 通过网络来安装，有关信息请参阅
INSTALL.amd64 文件。

<p>
如果计划让 OpenBSD 与另一个操作系统共存，双重启动，请参阅
INSTALL.amd64。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/macppc:</font></h3>
<ul>
将 CD2 放入 CDROM，开机后一直按着 <i>C</i> 键，直到显示器显示
<i>OpenBSD/macppc boot</i> 。

<p>
或者在出现 Open Firmware 提示时，输入
<i>boot cd:,ofwboot /4.3/macppc/bsd.rd</i> 。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/sparc64:</font></h3>
<ul>
将 CD3 放入 CDROM，输入 <i>boot cdrom</i> 。

<p>
如果这个没用，或没有光驱，你可以把 <i>CD3:4.3/sparc64/floppy43.fs</i> 或
<i>CD3:4.3/sparc64/floppyB43.fs</i>
(依赖于你的机器)写入软盘，用它作为启动盘，输入
<i>boot floppy</i> 来启动。详细内容参阅 INSTALL.sparc64。

<p>
请确保你的软盘无坏道，已经正确格式化。否则很可能会安装失败。

<p>
你也可以将 <i>CD3:4.3/sparc64/miniroot43.fs</i> 写入磁盘中的 swap 分区，
然后在启动时输入 <i>boot disk:b</i> 。

<p>
如果以上都不行，你可以按照 INSTALL.sparc64 中的描述通过网络来启动安装
</ul>

<p>
<h3><font color="#e00000">OpenBSD/alpha:</font></h3>
<ul>
<p>
将 <i>FTP:4.3/alpha/floppy43.fs</i> 或
<i>FTP:4.3/alpha/floppyB43.fs</i>
(依赖于你的机器)写入软盘，用它作为启动盘，输入
<i>boot dva0</i> 来启动。详细内容参阅 INSTALL.alpha。

<p>
请确保你的软盘无坏道，已经正确格式化。否则很可能会安装失败。

</ul>

<p>
<h3><font color="#e00000">OpenBSD/armish:</font></h3>
<ul>
<p>
连接串口之后，Thecus 能直接通过网络用 tftp 或 http 启动。使用 fconfig
配置网络，重置之后，加载 bsd.rd，详细信息请参阅 INSTALL.armish 。
IOData HDL-G 只能从 EXT2 格式分区启动。进入
linux，复制"boot"和"bsd.rd"到第一个分区 wd0(hda1)，
然后加载和运行 bsd.rd，保留 wd0i(hda1) 上的 EXT2 分区。请参阅 INSTALL.armish
以获得更多信息。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/hp300:</font></h3>
<ul>
<p>
按照 INSTALL.hp300 的相关说明通过网络来启动安装。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/hppa:</font></h3>
<ul>
<p>
按照 INSTALL.hppa 或 <a href="../hppa.html#install">hppa</a>
平台的相关说明通过网络来启动安装。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/landisk:</font></h3>
<ul>
<p>
将 <i>miniroot43.fs</i> 写入 CF 卡或磁盘的开始，正常启动后安装。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/mac68k:</font></h3>
<ul>
<p>
正常启动 MacOS，将 <i>FTP:4.3/mac68k/utils</i> 下的程序
“BSD/Mac68k Booter” 解压到硬盘。用 bsd.rd 内核文件的位置配置
“BSD/Mac68k Booter”，启动后进入安装程序。更多相关信息请参阅
INSTALL.mac68k 。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/mvme68k:</font></h3>
<ul>
<p>
可以制作启动磁带或通过网络来安装。<br>
网络启动需要支持 <i>NIOT</i> 和 <i>NBO</i> 调试命令的 MVME68K BUG 版本。
更多相关信息请参阅 INSTALL.mvme68k 。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/mvme88k:</font></h3>
<ul>
<p>
可以制作启动磁带或通过网络来安装。<br>
网络启动需要支持 <i>NIOT</i> 和 <i>NBO</i> 调试命令的 MVME88K BUG 版本。
更多相关信息请参阅 INSTALL.mvme88k。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/sparc:</font></h3>
<ul>
从提供的 ISO 安装文件引导，根据你所用的 ROM 版本，
需用到下面两个命令中的一个。

<ul><pre>
ok <strong>boot cdrom 4.3/sparc/bsd.rd</strong>
或
&gt; <strong>b sd(0,6,0)4.3/sparc/bsd.rd</strong>
</pre></ul>

<p>
如果你的 SPARC 系统没有 CD 驱动器，可以通过将 <i>floppy43.fs</i> 写入软盘，
使用软盘来启动安装。更多的信息请参阅
<a href="../faq/zh/faq4.html#MkFlop">FAQ 4.3.1</a>。根据 ROM 版本的不同，
从软盘启动安装需要下面两个命令中的一个。

<ul><pre>
ok <strong>boot floppy</strong>
或
&gt; <strong>b fd()</strong>
</pre></ul>

<p>
请确保你的软盘无坏道，已经正确格式化。否则很可能会安装失败。

<p>
如果你的 SPARC 系统没有软驱和 CD，你可以制作可启动磁带，
或者通过网络来安装。相关内容在 INSTALL.sparc 中。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/sgi:</font></h3>
<ul>
<p>
将 cd43.iso 刻录到光盘，将其放入光驱中，从系统维护菜单中选择
<i>Install System Software</i> 进行安装。

<p>
如果没有光驱，可以通过 DHCP 或 tftp 连接到网络服务器的话，用
bootp()/bsd.rd 来引导启动安装。更多相关信息请参阅 INSTALL.sgi。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/vax:</font></h3>
<ul>
用 mopbooting 通过网络启动来安装，相关信息请参阅 INSTALL.vax。
</ul>

<p>
<h3><font color="#e00000">OpenBSD/zaurus:</font></h3>
<ul>
<p>
用 Linux 内置的图形化安装程序 ipkg 来安装 openbsd43_arm.ipk 包。
重启之后，即可运行。更多信息请参阅 INSTALL.zaurus。
</ul>

<p>
<h3><font color="#e00000">关于源代码的说明:</font></h3>
<ul>
src.tar.gz 包含的源代码文件开始路径是 /usr/src。
该文件包括除了内核代码之外的所有源代码，内核代码位于单独的档案文件中。
解压方法:
<p>
<ul><pre>
# <strong>mkdir -p /usr/src</strong>
# <strong>cd /usr/src</strong>
# <strong>tar xvfz /tmp/src.tar.gz</strong>
</pre></ul>
<p>
sys.tar.gz 包含的源代码文件路径开始是 /usr/src/sys。
该文件包括了重建内核需要的所有源代码。解压方法:
<p>
<ul><pre>
# <strong>mkdir -p /usr/src/sys</strong>
# <strong>cd /usr/src</strong>
# <strong>tar xvfz /tmp/sys.tar.gz</strong>
</pre></ul>
<p>
这些文件是 CVS 检出格式。可以使用<a href="anoncvs.html">匿名 CVS
服务器</a>基于它们获得最新的版本。基于这些文件更新，比完全重新从 CVS
检出的速度要快得多。
<p>
</ul>

<a name="upgrade"></a>
<hr>
<p>
<h3><font color="#0000e0">如何升级</font></h3>
<p>
如果你已经安装了OpenBSD 4.2，不想重新安装，可以在<a
href="../faq/zh/upgrade43.html">升级指南</a>中找到升级方法和忠告。

<a name="ports"></a>
<hr>
<p>
<h3><font color="#0000e0">使用 ports 的方法</font></h3>
<p>
也提供了 ports 的档案文件。解压方法:
<p>
<ul><pre>
# <strong>cd /usr</strong>
# <strong>tar xvfz /tmp/ports.tar.gz</strong>
# <strong>cd ports</strong>
</pre></ul>
<p>
<i>ports/</i> 子目录是 OpenBSD ports 版本库检出副本。假如你不了解 ports，
请浏览 <a href="../ports.html">ports</a> 页面。该文件并非是如何使用 ports 的手册，
它只是 OpenBSD ports 系统用户的初级读本。
<p>
<i>ports/</i> 目录是我们从 CVS(如果你不熟悉 CVS，请参阅手册 <a
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&amp;apropos=0&amp;sektion=1&amp;manpath=OpenBSD+Current&amp;arch=i386&amp;format=html">
cvs(1)</a>) 检出的 ports 副本。与我们的代码一样，ports 也可以通过匿名 CVS
服务器更新。因此，为了确保版本是最新的，必须使 <i>ports/</i> 在可读写的介质中，
更新的命令是:

<p>
<ul><pre>
# <strong>cd [portsdir]/; cvs -d anoncvs@server.openbsd.org:/cvs update -Pd -rOPENBSD_4_3</strong>
</pre></ul>
<p>
[当然，在实际操作时需要将本地目录和服务器名称替换成你的 ports
所在位置和较近的匿名 CVS 服务器。]
<p>
注意大部分的 ports 可以通过 FTP 获得预先编译的二进制包。如果发现问题，会为
4.3 版本发布升级包。
<p>
如果你有兴趣观察 ports 的变动信息，或者帮助我们，或者只是想获得更多的信息，
请加入邮件列表 ports@openbsd.org 。
<p>

<hr>
<a href="index.html"><img height="24" width="24" src="../back.gif" border="0"
alt="OpenBSD"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br><small>
$OpenBSD: 43.html,v 1.1 2008/04/28 09:35:19 tobias Exp $
</small>

</body>
</html>
<!--
Originally [OpenBSD: 43.html,v 1.73]<br>
$Translation: 43.html,v 1.10 2008/04/20 07:55:52 dongsheng Exp $<br>
-->

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>OpenBSD 4.2 发行版本</title>
  <link rev="made" href="mailto:www@openbsd.org">
  <meta name="resource-type" content="document">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="description" content="OpenBSD 4.2">
  <meta name="keywords" content="openbsd,main">
  <meta name="distribution" content="global">
  <meta name="copyright" content="This document copyright 2007 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#24248E">
  <a href="index.html"><img alt="[OpenBSD]" height="30" width="141" hspace="24" src="../images/smalltitle.gif" border="0"></a>
  <hr>

  <p><a href="../images/Marathon.jpg"><img align="left" width="227" height="343" hspace="24" vspace="30" src="../images/Marathon.jpg" alt="OpenBSD 4.2 logo"></a>

  <h2><font color="#0000e0">OpenBSD 4.2 版本:</font></h2>

  <p>发布于2007年11月1日<br>
  Copyright 1997-2007, Theo de Raadt.<br>
  <font color="#e00000">ISBN 978-0-9784475-0-2</font><br>
  <a href="../lyrics.html#42">4.2 歌曲: "100001 1010101"</a>

  <p><a href="#new">新特性</a><br>
  <a href="#install">如何安装</a><br>
  <a href="#upgrade">如何升级</a><br>
  <a href="#ports">使用 ports 的方法</a><br>
  <a href="orders.html">购买 CD</a><br>

<p>
<h3><font color="#0000e0">如何得到此版本的文件:
  <ul>
    <li>从我们的<a href="orders.html">订购系统</a>中购买 CDROM。
    <li>从镜像站点的 <a href="ftp.html">FTP 页面</a>中选择合适的镜像。
    <li>进入镜像站点的 <font color="#e00000">pub/OpenBSD/4.2/</font> 目录。
    <li>简要阅读本文档的剩余部分。
    <li>阅读 <a href="errata42.html">4.2 勘误表</a>获得问题列表和背景。
    <li>阅读 4.1 与 4.2 之间的<a href="../plus42.html">详细修改记录</a>。
</ul>
</font></h3>
<br clear=all>
  <strong>说明:</strong> 所有相关的版权和荣誉声明在 src.tar.gz，sys.tar.gz 和
xenocara.tar.gz 文件中，或在通过 ports.tar.gz 下载的文件中。由于空间不足，
用于构建 ports.tar.gz 文件中的程序包的发行文件并未包括在 CDROM 中。

  <p><a name="new"></a>
  <hr>
  <p>
  <h3><font color="#0000e0">新特性</font></h3>

  <p>以下是仅 OpenBSD 4.2 中新特性和新系统功能的部分列表。 完整的列表位于 4.2
的<a href="../plus42.html">修改记录</a>中。
  <p>
  <ul>
    <li>新增/扩展的构架平台:

      <ul>
        <li><a href="../sparc64.html">OpenBSD/sparc64</a>.<br>
        The PCIe UltraSPARC IIIi machines like the V215 and V245 are now supported.

        <li><a href="../hppa.html">OpenBSD/hppa</a>.<br>
        Four-digit B/C/J-class workstations like the B2000, C3750 or J6750 are
now supported (in 32-bit mode).

        <li><a href="../alpha.html">OpenBSD/alpha</a>.<br>
        Add support in the alpha platform for a couple of new Alpha models,
AlphaServer 1200 and 4100.
      </ul>
      <p>


    <li>遗漏的构架平台:

      <ul>
        <li><a href="../sgi.html">OpenBSD/sgi</a>.<br>
        Due to various issues, this architecture will not be released this
time.
      </ul>
      <p>


    <li>更新了硬件支持, 包括:

      <ul>
        <li>Native Serial-ATA support:

          <ul>
            <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahci&sektion=4">ahci(4)</a>
driver for SATA controllers conforming to the Advanced Host Controller
Interface specification.

            <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=jmb&amp;sektion=4&amp;arch=i386">jmb(4)</a>
driver for the JMicron JMB36x SATA II and PATA Host Controller.

            <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sili&sektion=4">sili(4)</a>
driver for SATA controllers using the Silicon Image 3124/3132/3531 SATALink
chipsets.
          </ul>

        <li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pciide&amp;sektion=4">pciide(4)</a>
driver has had support added for newer chipsets, including:

          <ul>
            <li>Intel ICH8M PATA
            <li>JMicron JMB36x PATA
            <li>VIA CX700/VX700 PATA
          </ul>


        <li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lm&amp;sektion=4">lm(4)</a>
driver now supports Winbond W83627DHG and W83627EHF-A Super I/O Hardware
Monitors.

        <li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=siop&sektion=4">siop(4)</a>
driver now has support for NCR 53C720/770 controllers in big endian mode. In
particular this means that the onboard Fast-Wide SCSI on many hppa machines is
supported now.

        <li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tht&sektion=4">tht(4)</a>
driver for Tehuti Networks 10Gb Ethernet controllers.

        <li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=malo&sektion=4">malo(4)</a>
driver now supports Marvell 88W8385 802.11g based Compact Flash devices.

        <li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uts&sektion=4">uts(4)</a>
driver for USB touch screens, and the
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xtsscale&sektion=1">
xtsscale(1)</a> calibration utility.

        <li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=i810&sektion=4">i810(4)</a>
X.Org driver and the PCI AGP driver now support Intel i965GM chips.

        <li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=led&arch=sparc64">led(4)</a>
driver for the front panel LEDs on the V215/245.

        <li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bbc&arch=sparc64">bbc(4)</a>
driver providing support for the BootBus Controllers in UltraSparc III systems.

        <li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pmc&arch=sparc64">pmc(4)</a>
driver for the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=watchdog&section=4">watchdog(4)</a>
timer on the National Semiconductor PC87317 SuperIO chip.

        <li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pyro&amp;sektion=4&amp;arch=sparc64">pyro(4)</a>
driver for the SPARC64 Host/PCIe bridge.

        <li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=astro&amp;sektion=4&amp;arch=hppa">astro(4)</a>
driver for the Astro Memory and I/O controller on hppa.

        <li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=elroy&amp;sektion=4&amp;arch=hppa">elroy(4)</a>
driver for the Elroy PCI hostbridge on hppa.

        <li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lcd&amp;sektion=4&amp;arch=hppa">lcd(4)</a>
driver for the front panel LCD display on hppa.

        <li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssio&amp;sektion=4&amp;arch=hppa">ssio(4)</a>
driver for the National Semiconductor PC87560 Legacy IO on hppa.

        <li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pxammc&amp;sektion=4&amp;arch=zaurus">pxammc(4)</a>
driver for the MMC/SD/SDIO controller on zaurus.
        <li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=&amp;sektion=4&amp;arch=macppc">xlights(4)</a>
driver for the front panel lights on the Xserve G4.
        <li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysbutton&sektion=4&arch=macppc">sysbutton(4)</a>
driver for the system identification button on the Xserve G4.
        <li>New <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=piixpcib&sektion=4&arch=i386">piixpcib(4)</a>
driver for System Management Mode initiated speedstep frequency scaling on
certain pairings of the Intel PIIX4 ISA bridges and Intel Pentium 3
processors.
        <li>CPU frequency and voltage can now be scaled on all CPUs when running
GENERIC.MP on a multiprocessor i386 or AMD64 machine with enhanced speedstep or
powernow.
        <li>Intel enhanced speedstep is now supported on OpenBSD/amd64.
        <li>New support for the on die CPU temperature sensor found on the Intel
Core family of processors.
        <li>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nvram&amp;sektion=4&amp;arch=amd64">nvram(4)</a>
driver is now available on OpenBSD/amd64.
      </ul>
      <p>

    <li>新工具:

      <ul>
        <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cwm&sektion=1">cwm(1)</a>
has replaced wm2 as a simple-looking low-resource window manager.
        <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=zless&sektion=1">zless(1)</a>,
view compressed files with <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=less&sektion=1">less(1)</a>.
        <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mount_vnd&amp;sektion=8&amp;arch=i386">mount_vnd(8)</a>,
a utility to configure vnode disks from <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=fstab&amp;sektion=5&amp;arch=i386">fstab(5)</a>.
      </ul>
      <p>

    <li>新功能:
      <ul>
        <li>FFS2, the updated version of the fast file system.
        <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&sektion=1">ftp(1)</a>
now can send cookies loaded from a netscape-like cookiejar, supports proxies
requiring a password, and has a keep-alive option to avoid overly aggressive
control connection dropping.
        <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&sektion=1">pkg_add(1)</a>
has been vastly improved. It is more robust, outputs more consistent error
messages, and can deal with a lot more update scenarios gracefully. It also
has much better look-up capabilities for multiple entries in
<code>PKG_PATH</code>, stopping at the first directory with suitable
candidates.
        <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp-proxy&sektion=8">ftp-proxy(8)</a>
is now able to automatically tag packets passing through the <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&sektion=4">pf(4)</a>
rule with a supplied name.
        <li>Kernel work queues, <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=workq_add_task&amp;sektion=9&amp;arch=i386">workq_add_task(9)</a>,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=workq_create&amp;sektion=9&amp;arch=i386">workq_create(9)</a>,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=workq_destroy&amp;sektion=9&amp;arch=i386">workq_destroy(9)</a>
provides a mechanism to defer tasks to a process context when it is impossible
to run such a task in the current context.
        <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ifconfig&sektion=8">ifconfig(8)</a>
now understands IP address/mask in CIDR notation.
        <li>Add IP (v4 and v6) load balancing to <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&sektion=4&format=html">carp(4)</a>,
similar to the ARP balancing.
        <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sensorsd&sektion=8">sensorsd(8)</a>
now supports a zero-configuration monitoring and has a more intuitive logging
for all sensors that automatically provide sensor state. It also features
advancements in user-specified monitoring, including monitoring of sensors
that are periodically flagged as invalid.
        <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sensorsd.conf&sektion=5">sensorsd.conf(5)</a>
now supports sensor matching by sensor type, allowing easier configuration.
        <li>The i386 bootloader can now load amd64 kernels.
        <li>The amd64 bootloader can now load i386 kernels.
      </ul>
      <p>

    <li>各种改进和代码清理:

      <ul>
        <li>Huge performance improvements in the network stack, including:
          <ul>
            <li>In pf, store routing table ID, queue ID etc directly in the
packet header mbuf instead of using mbuf tags (which use malloc'd memory).
This yields a 100% improvement in pf performance.
            <li>Packet forwarding can skip IPSEC stack if no IPSEC flows are
defined. This yields a further 5% improvement in packet forwarding
performance.
            <li>Skip TCP/UDP/ICMP/ICMP6 checksumming when not necessary. This
yields a further 10% improvement in pf performance.
            <li>A change in the way the kernel random pool is stirred greatly
increases performance with network interface cards that support interrupt
mitigation, especially on architectures where reading the clock is expensive
(such as amd64).
            <li>Enable interrupt holdoff on <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=sis&sektion=4">sis(4)</a>
chips that support it. Significant performance gain for slower CPU devices with
sis(4), such as Soekris.
          </ul>
        <li>Large (&gt;1TB) disk and partition support in the disklabel and
buffer cache code and in the userland utilities that manipulate disk blocks.
Note that some parts of the system are not 64-bit disk block clean yet, so
partition larger than 2TB cannot be used at the moment.
        <li>Large (&gt;2^32-1 sectors) SCSI disk sizes now probed.
        <li>Thread support for the Objective-C library (libobjc).
        <li><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=carp&sektion=4">carp</a>
route handling has been fixed, solving some problems the routing daemons were
exhibiting.
        <li>i386 TLB handling improved to avoid possible corruption on Core2Duo
processors.
        <li>Rework TLB shootdown code for i386 and amd64, gives fairly large
speed improvements.
        <li>i386 and amd64 use the BIOS disk geometry when creating default
disklabels.
        <li>Default disk geometry changed from 64 heads/32 sectors to 255
heads/63 sectors.
        <li>More usb devices with various quirks coaxed to work.
        <li>Archive/Wangtek cartridge tape drives (wt*) no longer supported.
        <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rcs&sektion=1">rcs</a>
has improved GNU compatibility.
        <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&sektion=1">make(1)</a>
has improved stability of -j option.
        <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&sektion=8">isakmpd(8)</a>
now allows key exchange with RSA signature authentication to work with Cisco IOS.
        <li>Fixed <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&sektion=8">isakmpd(8)</a>
interop-issues with peers, that start rekeying on port 4500 for NAT-T (e.g. Cisco, Openswan)
        <li>The stability of <a href="../alpha.html">OpenBSD/alpha</a> has been greatly improved.
        <li>The stability of <a href="../hppa.html">OpenBSD/hppa</a> has been greatly improved.
      </ul>
      <p>


    <li>对安装/升级过程的修改:
      <ul>
        <li>Allow the specification of an NTP server during installation.
        <li>Allow no fsck'ing of clean non-root partitions during upgrade.
        <li>Check for INSTALL.&lt;arch&gt; to confirm sets are for the correct architecture.
        <li>Create and format the MSDOS partition for macppc installs in a more flexible and reliable way.
      </ul>
      <p>

    <li>OpenBGPD 4.2:
      <ul>
        <li>Include support for Four-octet AS Number Space.
        <li>Allow matching on communities using 0 in the AS part.
        <li>Filtering on IPv6 prefixes is now possible.
        <li>Various bugs in the encoding of multiprotocol updates were fixed.
        <li>Allow the use of pkill -HUP bgpd to reload the config.
        <li>bgpctl can filter prefix output by community now
      </ul>
      <p>

    <li>OpenNTPD 4.2:
      <ul>
        <li>Improved support for timedelta sensors.
      </ul>
      <p>

    <li>OpenOSPFD 4.2:
      <ul>
        <li>Added support for RFC 3137: OSPF Stub Router Advertisement
        <li>It is possible to specify a carp demote group on interfaces and areas.
        <li>Added support for mapping route labels to AS-external route tags and vice versa.
        <li>Allow the use of pkill -HUP ospfd to reload the config.
      </ul>
      <p>

    <li>Hoststated 4.2:
      <ul>
        <li>Added support for Layer 7 load balancing (or relay).</li>
        <li>Added support for reloading through hoststatectl or SIGHUP.</li>
      </ul>
      <p>

    <li>OpenSSH 4.7:

      <ul>
        <li>Prevent <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1">ssh(1)</a>
from using a trusted X11 cookie if creation of an untrusted cookie fails; found
and fixed by Jan Pechanec.

        <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&sektion=8">sshd(8)</a>
in new installations defaults to SSH Protocol 2 only. Existing installations are
unchanged.

        <li>The SSH channel window size has been increased, and both <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1">ssh(1)</a>
and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&sektion=8">sshd(8)</a>
now send window updates more aggressively.<br>
        These improves performance on high-BDP (Bandwidth Delay Product) networks.

        <li><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1">ssh(1)</a>
and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&sektion=8">sshd(8)</a>
now preserve MAC contexts between packets, which saves 2 hash calls per packet
and results in 12-16% speedup for arcfour256/hmac-md5.

        <li>A new MAC algorithm has been added, UMAC-64 (RFC4418) which is
approximately 20% faster than HMAC-MD5.

        <li>A -K flag was added to <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1">ssh(1)</a>
to set GSSAPIAuthentication=Yes.

        <li>Failure to establish a <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1">ssh(1)</a>
TunnelForward is now treated as a fatal error when the ExitOnForwardFailure
option is set.

        <li><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&sektion=1">ssh(1)</a>
returns a sensible exit status if the control master goes away without passing
the full exit status. (bz #1261)
      </ul>
      <p>


    <li>超过 4,500 个 ports，改进的 package 工具。

    <li>每种架构都有许多预先构建的包:

      <table border="0" cellspacing="0" cellpadding="2" width="95%">
        <tr>
          <td valign="top" width="33%">
            <ul>
              <li>i386: 4360
              <li>sparc64: 4205
              <li>alpha: 3779
              <li>sh: 817
            </ul>
          </td>

          <td valign="top" width="33%">
            <ul>
              <li>amd64: 4283
              <li>powerpc: 4230
              <li>sparc: 3283
              <li>m68k: 1107
            </ul>
          </td>

          <td valign="top" width="33%">
            <ul>
              <li>arm: 2131
              <li>hppa: 3215
              <li>vax: 108
            </ul>
          </td>
        </tr>
      </table>一些精彩程序:

      <ul>
        <li>Gnome 2.18.
        <li>GNUstep 1.14.
        <li>KDE 3.5.7 and koffice 1.6.3.
        <li>Xfce 4.4.1.
        <li>OpenMotif 2.3.0.
        <li>OpenOffice.org 2.2.1.
        <li>Mozilla Firefox 2.0.0.6.
        <li>PostgreSQL 8.2.4.
        <li>GHC 6.6.1 (amd64 and i386 only)
      </ul>
      <p>

    <li>按照惯例，手册或其它文档也有相应补充和修改。
    <p>

    <li>以下是系统包含的外部提供的重要程序:

      <ul>
        <li>Xenocara (based on X.Org 7.2 + patches, freetype 2.2.1, fontconfig
2.4.2, expat 2.0.0, Mesa 6.5.2, xterm 225 and more)
        <li>Gcc 2.95.3 (+ <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc-local&amp;sektion=1">
patches</a>) and 3.3.5 (+ <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc-local&amp;sektion=1">
patches</a>)
        <li>Perl 5.8.8 (+ patches)
        <li>Our improved and secured version of Apache 1.3, with SSL/TLS and DSO support
        <li>OpenSSL 0.9.7j (+ patches)
        <li>Groff 1.15
        <li>Sendmail 8.14.1, with libmilter
        <li>Bind 9.3.4 (+ patches)
        <li>Lynx 2.8.5rel.4 with HTTPS and IPv6 support (+ patches)
        <li>Sudo 1.6.9p4
        <li>Ncurses 5.2
        <li>Latest KAME IPv6
        <li>Heimdal 0.7.2 (+ patches)
        <li>Arla 0.35.7
        <li>Binutils 2.15 (+ patches)
        <li>Gdb 6.3 (+ patches) <!-- XXX double check versions -->
</ul>
<p>

</ul><a name="install"></a>
  <hr>
  <p>
  <h3><font color="#0000e0">如何安装</font></h3>

  <p>如果通过购买的 CD 安装，请按照下述指令操作。使用
FTP(或其它安装方式)安装与之类似；CDROM 中的安装说明，
会让你知道如果使用购买的 CD 安装是多么方便。
<p>
  <hr>
  有关安装 OpenBSD 4.2 更详细的信息，请参阅在三张 CD 或相关 FTP
镜像站点中的以下文件:
    <p>
  <ul>
    <li>CD1:4.2/i386/INSTALL.i386
    <p>
    <li>CD2:4.2/amd64/INSTALL.amd64
    <li>CD2:4.2/macppc/INSTALL.macppc
    <p>
    <li>CD3:4.2/sparc64/INSTALL.sparc64
    <p>
    <li>FTP:.../OpenBSD/4.2/alpha/INSTALL.alpha
    <li>FTP:.../OpenBSD/4.2/armish/INSTALL.armish
    <li>FTP:.../OpenBSD/4.2/hp300/INSTALL.hp300
    <li>FTP:.../OpenBSD/4.2/hppa/INSTALL.hppa
    <li>FTP:.../OpenBSD/4.2/landisk/INSTALL.landisk
    <li>FTP:.../OpenBSD/4.2/mac68k/INSTALL.mac68k
    <li>FTP:.../OpenBSD/4.2/mvme68k/INSTALL.mvme68k
    <li>FTP:.../OpenBSD/4.2/mvme88k/INSTALL.mvme88k
    <li>FTP:.../OpenBSD/4.2/sparc/INSTALL.sparc
    <li>FTP:.../OpenBSD/4.2/vax/INSTALL.vax
    <li>FTP:.../OpenBSD/4.2/zaurus/INSTALL.zaurus
  </ul>
  <hr>

  <p>快速安装仅适合熟悉 OpenBSD 和"isklabel -E"命令用法的人。如果你根本不懂安装
OpenBSD，请参阅上面罗列的相应 INSTALL.* 文件!
<p>
  <h3><font color="#e00000">OpenBSD/i386:</font></h3>
<ul>
    设置 BIOS 可以从 CD 启动。OpenBSD/i386 发行版本在 CD1 中。如果你的 BIOS
不支持从 CD 启动，就可能需要制作启动软盘。用的 <i>CD1:4.2/i386/floppy42.fs</i>
来制作启动软盘，通过软盘驱动器启动。

    <p>使用 <i>CD1:4.2/i386/floppyB42.fs</i> 来制作引导软盘，可以获得更好的 SCSI
支持，或者使用 <i>CD1:4.2/i386/floppyC42.fs</i> 来制作引导软盘，
获得更好的笔记本电脑支持。

    <p>注意: 一些陈旧的 BIOS 不能从 CD 启动。解决方法参见
<a href="errata42.html#003_i386_boot">4.2 刊误页</a>。

    <p>如果你不能从 CD 或软盘启动的话，还可以用 PXE 通过网络安装，请参阅
INSTALL.i386 文件。

    <p>如果计划让 OpenBSD 与另一操作系统共存，双重启动，请参阅 INSTALL.i386
文件。

    <p>在 MS-DOS 环境制作启动软盘，请使用位于 <i>CD1:4.2/tools/rawrite.exe</i>
的"rawrite"工具。在 Unix OS 环境制作启动软盘，请使用 <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&amp;sektion=1">dd(1)</a>
工具。下面是使用 <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&amp;sektion=1">dd(1)</a>
的例子，"device"可以是"floppy"，"rfd0c"，或"rfd0a"。

<ul><pre>
# <strong>dd if=&lt;file&gt; of=/dev/&lt;device&gt; bs=32k</strong>
</pre></ul>

    <p>请确保你的软盘无坏道，已经正确格式化。否则很可能会安装失败。
有关制作启动软盘和安装 OpenBSD/i386 的信息请参阅
<a href="../faq/faq4.html#MkFlop">FAQ 4.3.1</a>。
</ul>
  <p>
  <h3><font color="#e00000">OpenBSD/amd64:</font></h3>

<ul>
    OpenBSD/amd64 的 4.2 版本在 CD2 中。设置 BIOS 可以从 CD 启动，然后用 CD
启动，开始安装。如果不能从 CD 启动，可以通过制作启动软盘来安装。用
<i>CD2:4.2/amd64/floppy42.fs</i> 来制作启动软盘，然后用软驱来启动。

    <p>如果不能从 CD 或软盘启动，可以用 PXE 通过网络来安装，有关信息请参阅
INSTALL.amd64 文件。

    <p>如果计划让 OpenBSD 与另一个操作系统共存，双重启动，请参阅
INSTALL.amd64。
</ul>
  <p>
  <h3><font color="#e00000">OpenBSD/macppc:</font></h3>
<ul>
将 CD2 放入 CDROM，开机后一直按着 <i>C</i> 键，直到显示器显示
<i>OpenBSD/macppc boot</i> 。

    <p>或者在出现 Open Firmware 提示时，输入
<i>boot cd:,ofwboot /4.2/macppc/bsd.rd</i> 。
</ul>
  <p>
  <h3><font color="#e00000">OpenBSD/sparc64:</font></h3>
<ul>
    将 CD3 放入 CDROM，输入 <i>boot cdrom</i> 。

    <p>如果这个没用，或没有光驱，你可以把 <i>CD3:4.2/sparc64/floppy42.fs</i> 或
<i>CD3:4.2/sparc64/floppyB42.fs</i> 写入软盘，用它作为启动盘，输入
<i>boot floppy</i> 来启动。详细内容参阅 INSTALL.sparc64。

    <p>请确保你的软盘无坏道，已经正确格式化。否则很可能会安装失败。

    <p>你也可以将 <i>CD3:4.2/sparc64/miniroot42.fs</i> 写入磁盘中的 swap 分区，
然后在启动时输入 <i>boot disk:b</i> 。

    <p>如果以上都不行，你可以通过网络来启动安装。相关内容在 INSTALL.sparc64
中。
</ul>
  <p>
  <h3><font color="#e00000">OpenBSD/alpha:</font></h3>
<ul>
<p>根据你的机器类型，将 <i>FTP:4.2/alpha/floppy42.fs</i> 或
<i>FTP:4.2/alpha/floppyB42.fs</i> 写入软盘，然后在启动时输入
<i>boot dva0</i> 。详细内容参阅 INSTALL.alpha。
<p>请确保你的软盘无坏道，已经正确格式化。否则很可能会安装失败。
</ul>
  <p>
  <h3><font color="#e00000">OpenBSD/armish:</font></h3>
<ul>
<p>连接串口之后，Thecus 能直接通过网络用 tftp 或 http 启动。使用 fconfig
配置网络，重置之后，加载 bsd.rd。详细信息请参阅 INSTALL.armish 。IOData HDL-G
只能在 EXT2 格式的分区上启动。进入 linux，复制"boot"和"bsd.rd"到 wd0(hda1)，
然后加载和运行 bsd.rd，保留 wd0i(hda1) 上的 EXT2 分区。请参阅 INSTALL.armish
以获得更多信息。
</ul>
  <p>
  <h3><font color="#e00000">OpenBSD/hp300:</font></h3>
<ul>
    <p>按照 INSTALL.hp300 的相关说明通过网络来启动安装。
</ul>

<p><h3><font color="#e00000">OpenBSD/hppa:</font></h3>
<ul><p>按照 INSTALL.hppa 或 <a href="../hppa.html#install">hppa</a>
平台的相关说明通过网络来启动安装。
</ul>

<p><h3><font color="#e00000">OpenBSD/landisk:</font></h3>
<ul>
<p>
   将 <i>miniroot42.fs</i> 写入 CF 卡或磁盘的开始，正常启动后安装。
</ul>

<p><h3><font color="#e00000">OpenBSD/mac68k:</font></h3>
<ul>
<p>正常启动 MacOS，将 <i>FTP:4.2/mac68k/utils</i> 下的程序
“BSD/Mac68k Booter” 解压到硬盘。用 bsd.rd 内核文件的位置配置
“BSD/Mac68k Booter”，启动后进入安装程序。更多相关信息请参阅
INSTALL.mac68k 。
</ul>

<p><h3><font color="#e00000">OpenBSD/mvme68k:</font></h3>
<ul>
<p>可以制作启动磁带或通过网络来安装。<br>
    网络启动需要支持 <i>NIOT</i> 和 <i>NBO</i> 调试命令的 MVME68K BUG 版本。
更多相关信息请参阅 INSTALL.mvme68k 。
</ul>

<p><h3><font color="#e00000">OpenBSD/mvme88k:</font></h3>
<ul>
<p>可以制作启动磁带或通过网络来安装。<br>
    网络启动需要支持 <i>NIOT</i> 和 <i>NBO</i> 调试命令的 MVME88K BUG 版本。
更多相关信息请参阅 INSTALL.mvme88k。
</ul>

<p><h3><font color="#e00000">OpenBSD/sparc:</font></h3>
<ul>从提供的 ISO 安装文件引导，根据你所用的 ROM 版本，
需用到下面两个命令中的一个。

<ul><pre>
ok <strong>boot cdrom 4.2/sparc/bsd.rd</strong>
或
&gt; <strong>b sd(0,6,0)4.2/sparc/bsd.rd</strong>
</pre></ul>

    <p>如果你的 SPARC 系统没有 CD 驱动器，将 <i>floppy42.fs</i> 写入软盘，
通过软盘来启动安装。更多的信息请参阅
<a href="../faq/faq4.html#MkFlop">FAQ 4.3.1</a>。根据 ROM 版本的不同，
从软盘启动安装需要下面两个命令中的一个。

<ul><pre>
ok <strong>boot floppy</strong>
或
&gt; <strong>b fd()</strong>
</pre></ul>

    <p>请确保你的软盘无坏道，已经正确格式化。否则很可能会安装失败。

    <p>如果你的 SPARC 系统没有软驱和 CD，你可以制作可引导磁带，
或者通过网络来安装。相关内容在 INSTALL.sparc 中。
</ul>

<p><h3><font color="#e00000">OpenBSD/vax:</font></h3>
<ul>
    用 mopbooting 通过网络启动来安装，相关信息请参阅 INSTALL.vax。
</ul>

<p><h3><font color="#e00000">OpenBSD/zaurus:</font></h3>
  <ul>
<p>用 Linux 内置的图形化安装程序 ipkg 来安装 openbsd42_arm.ipk 包。
重启之后，即可运行。更多信息请参阅 INSTALL.zaurus。
</ul>

<p><h3><font color="#e00000">关于源代码的说明:</font></h3>
  <ul>src.tar.gz 包含的源代码文件开始路径是 /usr/src。
该文件包括除了内核代码之外的所有源代码，内核代码位于单独的档案文件中。
解压方法:
<p>
<ul><pre>
# <strong>mkdir -p /usr/src</strong>
# <strong>cd /usr/src</strong>
# <strong>tar xvfz /tmp/src.tar.gz</strong>
</pre></ul>
<p>sys.tar.gz 包含的源代码文件路径开始是 /usr/src/sys。
该文件包括了重建内核需要的所有源代码。解压方法:
<p>
<ul><pre>
# <strong>mkdir -p /usr/src/sys</strong>
# <strong>cd /usr/src</strong>
# <strong>tar xvfz /tmp/sys.tar.gz</strong>
</pre></ul>

    <p>这些文件是 CVS 检出格式。可以使用<a href="anoncvs.html">匿名 CVS
服务器</a>基于它们获得最新的版本。基于这些文件更新，比完全重新从 CVS
检出的速度要快得多。
<p>
</ul>

  <a name="upgrade"></a>
  <hr>
  <p>
  <h3><font color="#0000e0">如何升级</font></h3>

  <p>如果你已经安装了OpenBSD 4.1，不想重新安装，可以在<a
href="../faq/upgrade42.html">升级指南</a>中找到升级方法和忠告。

  <a name="ports"></a>
  <hr>
  <p>
  <h3><font color="#0000e0">使用 ports 的方法</font></h3>

  <p>也提供了 ports 的档案文件。解压方法:
<p>
<ul><pre>
# <strong>cd /usr</strong>
# <strong>tar xvfz /tmp/ports.tar.gz</strong>
# <strong>cd ports</strong>
</pre></ul>

  <p><i>ports/</i> 子目录是 OpenBSD ports 树的检出副本。假如你不了解 ports，
请浏览 <a href="../ports.html">ports</a> 页面。该文件并非是如何使用 ports 的手册，
它只是 OpenBSD ports 系统用户的初级读本。

  <p><i>ports/</i> 目录是我们从 CVS(如果你不熟悉 CVS，请参阅手册 <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&amp;apropos=0&amp;sektion=1&amp;manpath=OpenBSD+Current&amp;arch=i386&amp;format=html">
cvs(1)</a>) 检出的 ports 副本。与我们的代码一样，ports 也可以通过匿名 CVS
服务器更新。因此，为了确保版本是最新的，必须使 <i>ports/</i> 在可读写的介质中，
更新的命令是:
<p>
<ul><pre>
# <strong>cd [portsdir]/; cvs -d anoncvs@server.openbsd.org:/cvs update -Pd -rOPENBSD_4_2</strong>
</pre></ul>

  <p>[当然，在实际操作时需要将本地目录和服务器名称替换成你的 ports
所在位置和较近的匿名 CVS 服务器。]

  <p>注意大部分的 ports 可以通过 FTP 获得预先编译的二进制包。如果发现问题，会为
4.2 版本发布升级包。

  <p>如果你有兴趣观察 ports 的变动信息，或者帮助我们，或者只想获得更多的信息，
请加入邮件列表 ports@openbsd.org 。<p>
  <hr>
  <a href="index.html"><img height="24" width="24" src="../back.gif" border="0" alt="OpenBSD"></a>
  <a href="mailto:www@openbsd.org">www@openbsd.org</a><br>
  <small>
   $OpenBSD: 42.html,v 1.3 2008/03/20 15:57:36 saad Exp $</small>
</body>
</html>
<!--
Originally [OpenBSD: 42.html,v 1.68 ]<br>
$Translation: 42.html,v 1.11 2008/03/11 06:30:10 dongsheng Exp $<br>
-->

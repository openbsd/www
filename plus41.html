<!doctype html>
<html lang=en id=plus>
<meta charset=utf-8>
<title>OpenBSD 4.1 Changelog</title>
<meta name="description" content="OpenBSD 4.1 changes">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="openbsd.css">
<link rel="canonical" href="https://www.openbsd.org/plus41.html">
<style>
a[href="stable.html"] {
	color: var(--green);
}

strong {
	color: var(--red);
}

h3 {
	color: var(--blue);
}

p strong {
	font-weight: normal;
}
</style>

<h2 id=OpenBSD>
<a href="index.html">
<i>Open</i><b>BSD</b></a>
4.1 Changelog
</h2>
<hr>

<p>
This is a partial list of the major machine-independent changes
(i.e., these are the changes people ask about most often).  Machine
specific changes have also been made, and are sometimes mentioned
in the pages for the specific <a href="plat.html">platforms</a>.

<p>
Note: <strong>Problems for which patches exist are marked in red</strong>.

<p>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus25.html">2.5</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>,
<a href="plus35.html">3.5</a>,
<a href="plus36.html">3.6</a>,
<br>
<a href="plus37.html">3.7</a>,
<a href="plus38.html">3.8</a>,
<a href="plus39.html">3.9</a>,
<a href="plus40.html">4.0</a>,
<a href="plus42.html">4.2</a>,
<a href="plus43.html">4.3</a>,
<a href="plus44.html">4.4</a>,
<a href="plus45.html">4.5</a>,
<a href="plus46.html">4.6</a>,
<a href="plus47.html">4.7</a>,
<a href="plus48.html">4.8</a>,
<a href="plus49.html">4.9</a>,
<a href="plus50.html">5.0</a>,
<a href="plus51.html">5.1</a>,
<a href="plus52.html">5.2</a>,
<a href="plus53.html">5.3</a>,
<a href="plus54.html">5.4</a>,
<br>
<a href="plus55.html">5.5</a>,
<a href="plus56.html">5.6</a>,
<a href="plus57.html">5.7</a>,
<a href="plus58.html">5.8</a>,
<a href="plus59.html">5.9</a>,
<a href="plus60.html">6.0</a>,
<a href="plus61.html">6.1</a>,
<a href="plus62.html">6.2</a>,
<a href="plus63.html">6.3</a>,
<a href="plus64.html">6.4</a>,
<a href="plus65.html">6.5</a>,
<a href="plus.html">current</a>.
<br>

<p>
<h3>Changes made between OpenBSD 4.0 and 4.1</h3>
<p>

<ul>
<!-- 2007/02/26 -->
<li>Fix page fault trap in <a href="https://man.openbsd.org/bcw.4">bcw(4)</a> radio init code.
<li><a href="https://man.openbsd.org/spamd.8">spamd(8)</a> config files moved to /etc/mail, -g goes away - greylisting is the default. -b renamed to -l.
<li>Make <a href="https://man.openbsd.org/spamdb.8">spamdb(8)</a> error out if the -t or -T options are specified without -a or -d.
<li>Fix for mbuf cluster allocations.
<li>Handle requests with chunked transfer-encoding in <a href="https://man.openbsd.org/hoststated.8">hoststated(8)</a>.
<li>Make <a href="https://man.openbsd.org/hoststated.8">hoststated(8)</a> re-use the retry value from table host entries for inbound relay connections.
<li>Do not enforce RLIMIT_FSIZE on <a href="https://man.openbsd.org/vnd.4">vnd(4)</a> I/O operations.
<!-- 2007/02/25 -->
<li>Fix memory leak in <a href="https://man.openbsd.org/dhclient.8">dhclient(8)</a>.
<li>Add <a href="https://man.openbsd.org/cas.4">cas(4)</a> to sparc64 GENERIC and RAMDISK kernels.
<li>Add code to <a href="https://man.openbsd.org/cas.4">cas(4)</a> to make receiving packets to work also.
<li>Make <a href="https://man.openbsd.org/systat.1">systat(1)</a> use the 1 line load from 'systat vm' on all other displays, giving them more room.
<li>Make firmware upload work on BCM4318 <a href="https://man.openbsd.org/bcw.4">bcw(4)</a> devices.
<li>Make <a href="https://man.openbsd.org/bcw.4">bcw(4)</a> count the number of cores better.
<!-- 2007/02/24 -->
<li>Work around a transmit hang problem in <a href="https://man.openbsd.org/cdce.4">cdce(4)</a> and make it count dropped packets as input errors.
<li>Initial import of a Sun Cassini gigabit ethernet driver, <a href="https://man.openbsd.org/cas.4">cas(4)</a>.
<li>Make <a href="https://man.openbsd.org/hoststated.8">hoststated(8)</a> SSL proxy default to HIGH encryption, disable SSLv2 and disable anonymous DH.
<!-- 2007/02/23 -->
<li>Add support in <a href="https://man.openbsd.org/hoststated.8">hoststated(8)</a> to specify the allowed cipher suites and SSL protocols, as well as some other smaller improvements to the SSL and networking code.
<li>Change <a href="https://man.openbsd.org/spamd.8">spamd(8)</a> to include the HELO/EHLO identification string in the tuple key when greylisting.
<li>More endian fixes for <a href="https://man.openbsd.org/acx.4">acx(4)</a> on big endian systems.
<li>Add a display for hardware sensors to <a href="https://man.openbsd.org/systat.1">systat(1)</a>.
<li>Make <a href="https://man.openbsd.org/pf.4">pf(4)</a> default to 200k max table entries if the machine has more than 100MB physical memory.
<li>Some greytrapping improvements for <a href="https://man.openbsd.org/spamd.8">spamd(8)</a>.
<li>Add support for "Auto-Submitted: no" to <a href="https://man.openbsd.org/vacation.1">vacation(1)</a>.
<!-- 2007/02/22 -->
<li>Add support for Winbond W83627EHF chips to the lm78 <a href="https://man.openbsd.org/lm.4">lm(4)</a> sensor.
<li>Fixes for multihead support in XF4 on radeon cards.
<li>Make <a href="https://man.openbsd.org/gif.4">gif(4)</a> <a href="https://man.openbsd.org/altq.9">altq(9)</a>-aware, simplifies traffic shaping on <a href="https://man.openbsd.org/gif.4">gif(4)</a> tunnels.
<li>In <a href="https://man.openbsd.org/pf.4">pf(4)</a>, make urpf-failed work with multipath routes.
<li>Make sure <a href="https://man.openbsd.org/bgpd.8">bgpd(8)</a> does not try to set IP_TTL on non-INET listening sockets.
<li>For amd64, enable ACPI interrupts in APIC mode.
<!-- 2007/02/21 -->
<li>Add Layer-7 functionality to <a href="https://man.openbsd.org/hoststated.8">hoststated(8)</a>, used for L7 load balancing, SSL acceleration, general TCP relaying and transparent proxying.
<li>Make <a href="https://man.openbsd.org/disklabel.8">disklabel(8)</a> always write the label to disk when asked, even if it appears unchanged.
<li>In <a href="https://man.openbsd.org/diff.1">diff(1)</a>, defer printing of per-file diff header until after the regexp "ignore" processing has finished.
<li>Make ACPI-enabled GENERIC.MP kernels work on systems that only supports PIC mode.
<li>Fix to prevent <a href="https://man.openbsd.org/syslogd.8">syslogd(8)</a> SIGPIPE race on restarts.
<li>Make <a href="https://man.openbsd.org/acx.4">acx(4)</a> firmware loading work on big endian systems too.
<li>Boot console now only echoes certain characters and ignore the rest.
<li>Make <a href="https://man.openbsd.org/sshd.8">sshd(8)</a> clear SIGARLM before restarting <a href="https://man.openbsd.org/sshd.8">sshd(8)</a> on SIGHUP, other the new process will get SIGARLM before the handler is set up and terminate.
<!-- 2007/02/20 -->
<li>Add GlobeTrotter 3G+ to the list of supported <a href="https://man.openbsd.org/ubsa.4">ubsa(4)</a> devices.
<li>Prevent the <a href="https://man.openbsd.org/sd.4">sd(4)</a> scsi driver from unconditionally spin up SDEV_UMASS devices.
<li>ACPI fix for hpet, makes <a href="https://man.openbsd.org/bnx.4">bnx(4)</a> work on amd64 machines.
<li>Revert PAE pmap for now, stops freezes commonly seen on amd64 machines running in i386 mode.
<li>BPF hook fix for etherip_input(), fixes tcpdump on bridged <a href="https://man.openbsd.org/gif.4">gif(4)</a> interfaces.
<li>Make sure sensors do not leak kernel pointers when <a href="https://man.openbsd.org/sysctl.8">sysctl(8)</a> is copying out to userland.
<li>Add PCI-based <a href="https://man.openbsd.org/ral.4">ral(4)</a> to amd64 install RAMDISK kernel.
<li>Implement code to allow <a href="https://man.openbsd.org/syslogd.8">syslogd(8)</a> to log into another program's stdin.
<li>In <a href="https://man.openbsd.org/ssh.1">ssh(1)</a>, set the maximum packet and windows sizes the same for multiplexed connections as for normal connections.
<!-- 2007/02/19 -->
<li>Various bits to support pthreads on SH-based machines.
<li>Fixes for <a href="https://man.openbsd.org/rum.4">rum(4)</a>, <a href="https://man.openbsd.org/ral.4">ral(4)</a> and <a href="https://man.openbsd.org/uath.4">uath(4)</a> to help them work on macppc.
<li>Add support for building X11 on the landisk platform.
<li>Initial import of atascsi code, a scsi to ata translation layer.
<li>Add handling in <a href="https://man.openbsd.org/pf.4">pf(4)</a> on skip steps for urpf-failed addresses.
<li>Add support for ESP+NULL encryption for ipsec. Useful for traversing NAT where AH can't be used.
<!-- 2007/02/18 -->
<li>Make <a href="https://man.openbsd.org/rcs.1">rcs(1)</a> keep correct permissions when locking/unlocking file with ci/co.
<li>Another fix for macppc shutdown code to prevent it from booting again after shutdown.
<li>Add functions for getting EDID information from monitors to the vesa framebuffer driver. Currently unused.
<li>Add support for ShanTou ST268 in the <a href="https://man.openbsd.org/udav.4">udav(4)</a> driver.
<li>Make sure vax read the disklabel sector before rewriting it, to preserve non-disklabel contents.
<!-- 2007/02/17 -->
<li>Add ACPI to amd64 and i386 install images.
<li>In DDB, fix buf printing for 64 bit daddr_t.
<li>Same checks for the i386 platform.
<li>Add code on the amd64 platform to check for the AMD amd64 errata, and correct them where possible.
<!-- 2007/02/16 -->
<li>Add some <a href="https://man.openbsd.org/axe.4">axe(4)</a> and <a href="https://man.openbsd.org/uslcom.4">uslcom(4)</a> id's to the list of supported devices.
<li>Enable <a href="https://man.openbsd.org/malo.4">malo(4)</a> on macppc GENERIC kernels.
<li>Restrict which flags <a href="https://man.openbsd.org/ppp.8">ppp(8)</a> can change when running over a <a href="https://man.openbsd.org/tun.4">tun(4)</a> interface.
<li>Fix to allow <a href="https://man.openbsd.org/mv.1">mv(1)</a> to move files starting with a dash across file system boundaries.
<li>Fixes for <a href="https://man.openbsd.org/fsck_ffs.8">fsck_ffs(8)</a> calculation of alternate superblocks based on the disklabel.
<!-- 2007/02/15 -->
<li>Fixes for multicast on PCI-Express <a href="https://man.openbsd.org/re.4">re(4)</a> devices.
<li>For bridges using Spanning Tree Protocol, make sure topology change is propagated on all ports except the caller.
<!-- 2007/02/14 -->
<li>Workaround for <a href="https://man.openbsd.org/cdce.4">cdce(4)</a> USB host scanning if attached but not up. Will not send any packets until a packet has been received.
<li>Added a small program to return sysctl hw.disknames so install scripts do not have a dependency on a clean dmesg to scan for disks and cds.
<li>Add SIOCADDMULTI and SIOCDELMULTI ioctl handlers to <a href="https://man.openbsd.org/pgt.4">pgt(4)</a> and <a href="https://man.openbsd.org/malo.4">malo(4)</a>, without them IPv6 does not work.
<li>GNU RCS removed from source tree, OpenRCS has replaced it.
<!-- 2007/02/13 -->
<li>Fix for <a href="https://man.openbsd.org/grep.1">grep(1)</a> when using empty files as search patterns.
<li>Fix 64 bit compiles for <a href="https://man.openbsd.org/httpd.8">httpd(8)</a>.
<li>More work on the <a href="https://man.openbsd.org/cdce.4">cdce(4)</a> driver for ARM platforms.
<li>Fix a problem in <a href="https://man.openbsd.org/mg.1">mg(1)</a> with wrapped incremental searches.
<li>Make <a href="https://man.openbsd.org/fsck_ffs.8">fsck_ffs(8)</a> do some extra validation of the superblock, otherwise a corrupt superblock might lead to crashes.
<!-- 2007/02/12 -->
<li>Smarter _INI code to <a href="https://man.openbsd.org/acpi.4">acpi(4)</a>, helps with some disappearing devices.
<li>On i386, check the xPTR result of the CPUID test.
<li>Check for some CPUID flags found on newer Intel processors in the amd64 platform code.
<li>Avoid unnecessary resets on fiber based 88E8021/22 <a href="https://man.openbsd.org/msk.4">msk(4)</a> devices.
<li>Fixes for macppc power management to enable wake on AC loss.
<li>Provide a libc internal interface to get random numbers for malloc without calling getpid().
<li>Fix the hw.vendor/product <a href="https://man.openbsd.org/sysctl.8">sysctl(8)</a>s on sparc64, handle the case where banner-name begins with "SUNW," and copy the platform_type buffer before chopping it up.
<li>Fix for sparc64 __fpu_ftox() code.
<li>In <a href="https://man.openbsd.org/bgpd.8">bgpd(8)</a>, switch address and AS fields in the mrt dump messages so source and destination match the actual traffic flow.
<li>Various fixes in <a href="https://man.openbsd.org/fsck.8">fsck(8)</a>.
<li>Enable AES on AMD Geode LX CPUs. Used by OpenSSL, but not IPSec.
<li>Fix a crash in <a href="https://man.openbsd.org/ospfd.8">ospfd(8)</a> when redistributed routes were removed shortly after startup.
<li>Move to 4.1-beta.
<li>Add HP Proliant NC360T PCI Express Dual Port Gigabit NIC to the list of supported <a href="https://man.openbsd.org/em.4">em(4)</a> devices.
<li>Make sure uvm code compiles with "option DEBUG".
<!-- 2007/02/11 -->
<li>Make <a href="https://man.openbsd.org/mount.8">mount(8)</a> rely on the filesystem information provided by disklabel, and when there is only one usable partition on the selected disk, just mount it without asking.
<li>Add support for fiber on the 88E1112 PHY.
<li>Various fixes for I/O mapping and cache routines on the m88k platforms.
<!-- 2007/02/10 -->
<li>Add Dlink DGE-550T B1 to the list of supported <a href="https://man.openbsd.org/msk.4">msk(4)</a> devices.
<li>Add preliminary support for Marvell Yukon-II Extreme chips in the <a href="https://man.openbsd.org/msk.4">msk(4)</a> driver.
<!-- 2007/02/09 -->
<li>Small improvement in i386 interrupt register load/dump.
<li>Fix off-by-one in <a href="https://man.openbsd.org/spamd.8">spamd(8)</a> blacklist memory allocation.
<li>Make readdir buffers depend on file system block size, rounded up to page size in libc and <a href="https://man.openbsd.org/ld.so.1">ld.so(1)</a>.
<li>Improvements in the luna88k LCD device driver.
<li>Allow <a href="https://man.openbsd.org/pf.4">pf(4)</a> counters to be reset with DIOCGETRULES, so atomic read and reset counters is possible.
<li>Add more hardware to the list of supported <a href="https://man.openbsd.org/zyd.4">zyd(4)</a> devices.
<!-- 2007/02/08 -->
<li>Plug memory leaks in <a href="https://man.openbsd.org/fsck.8">fsck(8)</a> which can occur when checking multiple file systems in a row.
<li>Prevent <a href="https://man.openbsd.org/vnconfig.8">vnconfig(8)</a> from asking for a key when unconfiguring or listing devices.
<li>Fixes for ipsec in IPv6.
<li>In <a href="https://man.openbsd.org/pf.4">pf(4)</a>, compute IPv6 pseudo header checksum based on final destination as ip6_dst.
<li>Fix for <a href="https://man.openbsd.org/fsck.8">fsck(8)</a> where a corrupt inode might lead to invalid dir sizes.
<li>Add support for the Quantis USB random number generator.
<!-- 2007/02/07 -->
<li>Add more hardware to the list of supported <a href="https://man.openbsd.org/rum.4">rum(4)</a> devices.
<li>Fixes for <a href="https://man.openbsd.org/nm.1">nm(1)</a> memory allocation and deallocation in elf_symload().
<li>Add new "log (updates|all)" configuration option to <a href="https://man.openbsd.org/hoststated.8">hoststated(8)</a>.
<!-- 2007/02/06 -->
<li>Add -D option to <a href="https://man.openbsd.org/hoststated.8">hoststated(8)</a> to define macros on the command line.
<li>Fix for <a href="https://man.openbsd.org/nm.1">nm(1)</a> so checks for st_name validity also check for overflow.
<li>On macppc, enable <a href="https://man.openbsd.org/arc.4">arc(4)</a> on GENERIC and RAMDISK kernels.
<li>Add <a href="https://man.openbsd.org/bio.4">bio(4)</a> to macppc platforms.
<li>Define trap 0x81 for cache range flush on SH CPUs, needed for <a href="https://man.openbsd.org/gcc.1">gcc(1)</a> trampoline code and <a href="https://man.openbsd.org/ld.so.1">ld.so(1)</a>.
<li>Make landisk get memory size from SH-IPL+g instead of hardcoded size of 64M.
<li>Timezone code updated to tzcode2007a, adds support for 64 bit time_t if needed in the future.
<li>Use new mutex for manipulating p_siglist in struct proc, solves problem with lost signals on MP kernels.
<li>New mutex implementation for atomic operations.
<li>Change behaviour of <a href="https://man.openbsd.org/tun.4">tun(4)</a> on close. If auto-created, destroy on close, otherwise only mark as not running.
<li>Make <a href="https://man.openbsd.org/hoststated.8">hoststated(8)</a> inform <a href="https://man.openbsd.org/hoststatectl.8">hoststatectl(8)</a> of ruleset changes and table syncs.
<!-- 2007/02/05 cvs down -->
<!-- 2007/02/04 -->
<li>PCI space map fixes for <a href="https://man.openbsd.org/macppc/kauaiata.4">kauaiata(4)</a> on macppc.
<li>Add <a href="https://man.openbsd.org/zyd.4">zyd(4)</a> to amd64 and i386 CD ramdisk images.
<li>Make <a href="https://man.openbsd.org/top.1">top(1)</a> complain if user enters negative time specification for delay between updates.
<li>Timezone data updated to tzdata2007a.
<li>Introduced '+' interactive command in <a href="https://man.openbsd.org/top.1">top(1)</a> to reset all filters.
<li>Two fixes for libevent.
<li>Clean up unix domain socket on exit from Xorg(1) -configure.
<li>Update sendmail to 8.14.0.
<!-- 2007/02/03 -->
<li>Stop OpenCVS from trying to parse empty lines as dates, saves lots of time.
<li>Make <a href="https://man.openbsd.org/bc.1">bc(1)</a> save and restore not only scale, but ibase as well.
<li>Fix for spurious "i" partitions on newer iPod Shuffle devices with a FAT32 but without an MBR.
<li>Enable all of the cache on 7751 landisk machines.
<!-- 2007/02/02 -->
<li>Plug memory leak in <a href="https://man.openbsd.org/ftp.1">ftp(1)</a>.
<li>Fix for <a href="https://man.openbsd.org/gcc.1">gcc(1)</a> on sh where it would clobber registers when __udivsi3 was issued through the PLT.
<li>Add a new "accounting" variable to <a href="https://man.openbsd.org/rc.8">rc(8)</a> to enable accounting, creating /var/account/acct if it does not already exist.
<!-- 2007/02/01 -->
<li>In <a href="https://man.openbsd.org/vnconfig.8">vnconfig(8)</a>, make -c, -l and -u mutually exclusive.
<li>On amd64, make sure signals to processes on other CPUs are delivered as soon as possible.
<li>Add a monitor mode to <a href="https://man.openbsd.org/hoststatectl.8">hoststatectl(8)</a> to continuously report changes in <a href="https://man.openbsd.org/hoststated.8">hoststated(8)</a>.
<li>Make sure OpenCVS expands keywords before checking if a checked-out copy is the same as what is in the repo.
<li>Initial version of reload support in <a href="https://man.openbsd.org/ospfd.8">ospfd(8)</a>.
<li>In <a href="https://man.openbsd.org/ospfd.8">ospfd(8)</a>, send out an empty OSPF hello packet when an interface is going down, so that other routers will drop the session immediately.
<li>Add support for [-k mode] in OpenCVS.
<!-- 2007/01/31 -->
<li>Do not throttle and serialize I/O operations on <a href="https://man.openbsd.org/vnd.4">vnd(4)</a> devices.
<li>Fix for disappearing EST/Powernow when booting kernels with ACPI enabled.
<li>In <a href="https://man.openbsd.org/bgpd.8">bgpd(8)</a>, do not check that the aspath is loopfree for the peer when sending updates. Fails when using AS 23456 as a placeholder for 4-byte ASNs.
<li>Bump default openfiles-cur limit to 128 so firefox has enough file descriptors for most uses.
<li>Workaround for the SD card reader where it stops responding after a card is ejected.
<li>hoststated(8) linked to builds.
<!-- 2007/01/30 -->
<li>Make link state in <a href="https://man.openbsd.org/trunk.4">trunk(4)</a> report full duplex if it has at least two ports.
<li>Make <a href="https://man.openbsd.org/apachectl.8">apachectl(8)</a> pick up httpd_flags so restart and graceful does not try to start another instance of <a href="https://man.openbsd.org/httpd.8">httpd(8)</a>.
<li>Rework AGP memory allocation, so it does not try to allocate big chunks of contiguous memory in a loop.
<li>Fixes for <a href="https://man.openbsd.org/pckbd.4">pckbd(4)</a>, allows oqo model 01/01+ to work.
<li>Plugged small memleak in <a href="https://man.openbsd.org/hoststated.8">hoststated(8)</a>.
<!-- 2007/01/29 -->
<li>Allow the <a href="https://man.openbsd.org/bnx.4">bnx(4)</a> driver to make use of all available hardware multicast hash slots.
<li>Add SSL support to <a href="https://man.openbsd.org/hoststated.8">hoststated(8)</a>.
<li>Initial import of LCD device driver for luna88k.
<li>Bump the fixed part of the stackgap to 2048 bytes, allows two full paths to be stored, needed by systrace.
<!-- 2007/01/28 -->
<li>Various fixes for vesabios code.
<li>Make libpthread return ESRCH instead of segfaulting when a thread ID could not be found.
<li>Make sure <a href="https://man.openbsd.org/hexdump.1">hexdump(1)</a> does not access uninitialized variables and make it accept a leading 0x for the -n length parameter.
<!-- 2007/01/27 -->
<li>Add merging support to OpenCVS, both local and remote sides.
<!-- 2007/01/26 -->
<li>Enable transmit TCP/UDP checksum offload for <a href="https://man.openbsd.org/bnx.4">bnx(4)</a> devices.
<li>Add an -S option to <a href="https://man.openbsd.org/vnconfig.8">vnconfig(8)</a> for specifying the salt file for -K.
<li>Make OpenCVS add command support the -k mode.
<li>Massive rework of the control imsg flow in <a href="https://man.openbsd.org/bgpd.8">bgpd(8)</a>, resulting in dramatic decrease of memory consumption op operations like "bgpctl show rib".
<li>Workaround for <a href="https://man.openbsd.org/em.4">em(4)</a> interfaces on Lenovo X60/T60 laptops where the interface will fail to initialize if the link is down during boot.
<!-- 2007/01/25 -->
<li>Reduced memory usage in OpenCVS in server mode by immediately removing the temporary copy of a recently checked out file.
<li>Add sensor to <a href="https://man.openbsd.org/acpidock.4">acpidock(4)</a> to see if we are docked or not.
<li>Update BIND to 9.3.4.
<!-- 2007/01/24 -->
<li>Plug a memory leak in OpenCVS remote code.
<li>Make <a href="https://man.openbsd.org/fsck.8">fsck(8)</a> create lost+found directories with the same owner as the root directory, not the user running <a href="https://man.openbsd.org/fsck.8">fsck(8)</a>.
<li>Crash fixes in <a href="https://man.openbsd.org/bgpd.8">bgpd(8)</a> by locking the nexthop while parsing an update.
<li>Make <a href="https://man.openbsd.org/ripd.8">ripd(8)</a> and <a href="https://man.openbsd.org/dvmrpd.8">dvmrpd(8)</a> and <a href="https://man.openbsd.org/hoststated.8">hoststated(8)</a> ignore SIGPIPE in parent and RDE, needed to correctly report crashes.
<!-- 2007/01/23 -->
<li>Better handling of escaped CR-LF in <a href="https://man.openbsd.org/hoststated.8">hoststated(8)</a> configuration file.
<li>Fix "Device Busy" error in OpenCVS.
<li>Introduced -Q option to <a href="https://man.openbsd.org/pkg_info.1">pkg_info(1)</a>, shows all packages in $PKG_PATH which match the given query.
<!-- 2007/01/22 -->
<li>Prevent OpenCVS from doing a fatal exit when unexpected files are encountered in the working directory.
<li>Initial version of <a href="https://man.openbsd.org/acpidock.4">acpidock(4)</a>, a driver for ACPI docking stations.
<li>Improvements for cache handling and flushing on MicroSPARC-1 based CPUs.
<li>Make <a href="https://man.openbsd.org/scp.1">scp(1)</a> decide if progress meter should be shown by testing if stdout is a tty, not stderr.
<!-- 2007/01/21 -->
<li>Make <a href="https://man.openbsd.org/sftp.1">sftp(1)</a> report error when uploading write fails due to full device.
<li>Make <a href="https://man.openbsd.org/cdce.4">cdce(4)</a> iterate over endpoints looking for appropriate interface descriptors to use. Makes certain adsl modems work.
<li>In the NFS vnops code, do not assume our directory vnode will be flushed out, fixes crash when unmounting nfs volumes.
<li>Add support in OpenCVS admin mode for the -A flag.
<!-- 2007/01/20 -->
<li>Add -Wstack-larger-than-X support to alpha <a href="https://man.openbsd.org/gcc.1">gcc(1)</a>.
<li>Make the <a href="https://man.openbsd.org/st.4">st(4)</a> SCSI Tape midlayer return values when receiving a MTIOCGET ioctl, allows things like Bacula to work much faster.
<li>Prevent sparc64 <a href="https://man.openbsd.org/sparc64/schizo.4">schizo(4)</a> panics on non-fatal iommu errors.
<!-- 2007/01/19 -->
<li>Move interrupt establishment in <a href="https://man.openbsd.org/bnx.4">bnx(4)</a> till after everything in the softc is set up and allocated. Prevents problems when the <a href="https://man.openbsd.org/bnx.4">bnx(4)</a> device is sharing interrupts with other devices.
<li>Fix for OpenCVS when having CVSROOT on AFS or NFS.
<!-- 2007/01/18 -->
<li>Workaround for DMA HW errata on <a href="https://man.openbsd.org/bge.4">bge(4)</a> PCI Express chips.
<li>Make sure <a href="https://man.openbsd.org/compress.1">compress(1)</a> only uses gzip when called with names like "gzip, gunzip, gzcat" and so on.
<li>In <a href="https://man.openbsd.org/pfctl.8">pfctl(8)</a>, implement "-T expire", so you can expire all entries in a given table that are older than a certain number of seconds.
<li>Allow kernels with TCP_SIGNATURE but without IPSEC to compile.
<li>Add support for remote import in OpenCVS client and server.
<li>Make <a href="https://man.openbsd.org/ciss.4">ciss(4)</a> handle situations where it cannot map physical drives into volumes.
<!-- 2007/01/17 -->
<li>Do not reinitialize <a href="https://man.openbsd.org/sk.4">sk(4)</a> devices at every media change.
<li>Add support for AX88772 based <a href="https://man.openbsd.org/axe.4">axe(4)</a> devices.
<li>Added support for remote checkout in both OpenCVS client and server.
<!-- 2007/01/16 -->
<li>Fix potential integer overflow in libc <a href="https://man.openbsd.org/printf.3">printf(3)</a>, when passing in very large values for the field width.
<li>Fix for uvm, which should stop crashes in X11 startup seen after activities that exercise memory a lot.
<!-- 2007/01/15 -->
<li>Make the scsi layer report SDEV_UMASS devices as non-scsi when asked via SCIOCIDENTIFY. Fixes cdparanoia on USB CD devices.
<li>Make <a href="https://man.openbsd.org/em.4">em(4)</a> drivers report flow control status.
<li>Initial import of a <a href="https://man.openbsd.org/landisk/power.4">power(4)</a> driver for the Landisk platform.
<li>Fix infinite loop in case nip6 and nicmp6 are not on the same mbuf.
<li>Fix for <a href="https://man.openbsd.org/chpass.1">chpass(1)</a> -a handling when given an entry with an already existing user.
<!-- 2007/01/14 -->
<li>Shrink memory requirements in OpenCVS when dealing with very large trees.
<li>Make OpenCVS reset sticky tags when using -A.
<li>Fixes for <a href="https://man.openbsd.org/ntpd.8">ntpd(8)</a> when using sensor time sources.
<!-- 2007/01/13 -->
<li>Add Philips SNU5600 to the list of supported <a href="https://man.openbsd.org/zyd.4">zyd(4)</a> devices.
<li>Various fixes for option handling in <a href="https://man.openbsd.org/dhclient.8">dhclient(8)</a> BOOTP and DHCP.
<li>Match some additional devices in the <a href="https://man.openbsd.org/zyd.4">zyd(4)</a> driver.
<li>Make sparc64 vgafb code not attach to Expert3D and Expert3D-Lite cards, these will require a different driver.
<li>Do not keep entire file in memory in OpenCVS when sending or receiving it, fix memory leaks and remote update.
<!-- 2007/01/12 -->
<li>Major rework of the RCS api in OpenCVS, resulting in huge speedups and reduced memory usage.
<li>Turn secondary CMMUs data cache on for luna88k to not hog the bus while they spin.
<li>Move kernel virtual address space on sparc64 to make sure it doesn't overlap with physical memory on US3 and US3+ based machines.
<li>Complete binary support for OpenCVS. Adding/importing binary files now works too.
<li>Fix <a href="https://man.openbsd.org/altq.9">altq(9)</a> support for <a href="https://man.openbsd.org/mac68k/mc.4">mc(4)</a> on mac68k
<li>Add a few more video cards to mac68k.
<li>Make <a href="https://man.openbsd.org/user.8">user(8)</a> compare against the username, so listing groups when given a numeric user id to userinfo works.
<!-- 2007/01/11 -->
<li>Add support for <a href="https://man.openbsd.org/sti.4">sti(4)</a> on pci to be used as hppa console.
<li>Add callbacks to enable and disable <a href="https://man.openbsd.org/sti.4">sti(4)</a> rom. Allows dual-sti@pci setups work.
<li>Make acpi assume the first cpu in the table is the boot processor, instead of the cpu with apic id 0.
<li>Merge icmp4 and icmp6 in <a href="https://man.openbsd.org/hoststated.8">hoststated(8)</a>, and use real asynchronous events for checks.
<li>Rework OpenCVS so it can deal with binary files.
<li>Make FFS correctly deallocate dependencies when growing into an indirect block and failing to acquire a data block.
<!-- 2007/01/10 -->
<li>Make OpenCVS validate all options before connecting to the remote server.
<li>Make <a href="https://man.openbsd.org/dhclient.8">dhclient(8)</a> reject all packets with an option claiming to extend past the end of an option buffer.
<li>Add flow control support to <a href="https://man.openbsd.org/bge.4">bge(4)</a> and <a href="https://man.openbsd.org/brgphy.4">brgphy(4)</a>.
<li>Upgraded BIND to 9.3.3.
<li>Moved <a href="https://man.openbsd.org/bnx.4">bnx(4)</a> microcode to network byte order.
<li>In <a href="https://man.openbsd.org/ipsecctl.8">ipsecctl(8)</a>, allow rule if there is at least one matching address family combination.
<!-- 2007/01/09 -->
<li>kue(4) microcode moved to network byte order.
<!-- 2007/01/08 -->
<li>hostated renamed to <a href="https://man.openbsd.org/hoststated.8">hoststated(8)</a>. Do not forget to update the passwd file.
<li>When printing bootp option numbers, use unsigned chars in <a href="https://man.openbsd.org/tcpdump.8">tcpdump(8)</a>.
<li>Moved <a href="https://man.openbsd.org/hostated.8">hostated(8)</a> regexp interface to shell globbing rules instead.
<li>Add Gigabyte GN-WI05GS adapters to the list of supported <a href="https://man.openbsd.org/rum.4">rum(4)</a> devices.
<li>Add support for HW TCP/IP checksum offloading on the <a href="https://man.openbsd.org/nfe.4">nfe(4)</a> adapters that support it.
<li>Allow <a href="https://man.openbsd.org/hostated.8">hostated(8)</a> to use service names in addition to numberical port numbers.
<li>Allow <a href="https://man.openbsd.org/sasyncd.8">sasyncd(8)</a> to use shared key specification in hex.
<li>Add a generic send/expect check using regexps in <a href="https://man.openbsd.org/hostated.8">hostated(8)</a>.
<li>Add support for Leadtek Winfast TV 2000 XP in the <a href="https://man.openbsd.org/bktr.4">bktr(4)</a> driver.
<!-- 2007/01/07 -->
<li>Fix for <a href="https://man.openbsd.org/gdb.1">gdb(1)</a> to allow unwinding through sparc64 kernel trap frames.
<li>Rework wscons VT100 emulation code to run in degraded mode if some of the non-vital dynamically allocated elements aren't available.
<!-- 2007/01/06 -->
<li>OpenCVS now accepts log messages from external editors.
<li>Stop FFS from printing messages when switching between optimizations for space/time.
<li>Preliminary support for the hp300 single ISA slot found in 4xx "t" models.
<li>Updated <a href="https://man.openbsd.org/bcw.4">bcw(4)</a> for the new network byte order firmware file.
<!-- 2007/01/05 -->
<li>Fix for microcode loading so it becomes byte order independent. Will require that people update the microcode files.
<li>Fix two memleaks in hostated.
<li>Make <a href="https://man.openbsd.org/bcw.4">bcw(4)</a> understand combined firmware files, so we can have one instead of 15 files.
<!-- 2007/01/04 -->
<!-- 2007/01/03 -->
<li>Make <a href="https://man.openbsd.org/bgpd.8">bgpd(8)</a> not run rde_shutdown() unless <a href="https://man.openbsd.org/bgpd.8">bgpd(8)</a> is started with -d.
<li>Add support for OpenCVS "remove" in a remote setup.
<li>Fix for OpenCVS client logging.
<li>Add a 'g' command to <a href="https://man.openbsd.org/top.1">top(1)</a> to only show processes having a certain string in their command name.
<li>Do not leak mbuf tag memory in the <a href="https://man.openbsd.org/an.4">an(4)</a>, <a href="https://man.openbsd.org/ath.4">ath(4)</a>, <a href="https://man.openbsd.org/atw.4">atw(4)</a>, <a href="https://man.openbsd.org/rtw.4">rtw(4)</a>, <a href="https://man.openbsd.org/ipw.4">ipw(4)</a>, <a href="https://man.openbsd.org/iwi.4">iwi(4)</a> and <a href="https://man.openbsd.org/wpi.4">wpi(4)</a> drivers either.
<li>Fixes for group handling in <a href="https://man.openbsd.org/adduser.8">adduser(8)</a>.
<li>Added support to <a href="https://man.openbsd.org/syslogd.8">syslogd(8)</a> for continuous reading of syslog memory buffers.
<!-- 2007/01/02 -->
<li>Initial code for <a href="https://man.openbsd.org/bcw.4">bcw(4)</a> firmware upload.
<li>Added better support for IPv6 hostname/numeric representation in the <a href="https://man.openbsd.org/ipsecctl.8">ipsecctl(8)</a> parser.
<li>Fix support for checking out binary files in <a href="https://man.openbsd.org/rcs.1">rcs(1)</a>.
<li>Fix keyboard problem for Intel Macs, where only first keypress is seen by boot.
<li>Prevent mbuf tag memory leak on <a href="https://man.openbsd.org/atu.4">atu(4)</a>, <a href="https://man.openbsd.org/ral.4">ral(4)</a> <a href="https://man.openbsd.org/uath.4">uath(4)</a> and <a href="https://man.openbsd.org/zyd.4">zyd(4)</a> too, just like <a href="https://man.openbsd.org/rum.4">rum(4)</a>.
<li>When creating an X11/Xorg config, do not force a Mouse section if none was found. 
<!-- 2007/01/01 -->
<li>Make <a href="https://man.openbsd.org/acpiec.4">acpiec(4)</a> be the first device to attach to <a href="https://man.openbsd.org/acpi.4">acpi(4)</a>. Some systems require this.
<li>Add support for -s state to OpenCVS.
<li>Make <a href="https://man.openbsd.org/rndc.8">rndc(8)</a> create output files in /var/named/tmp, which is writeable by the 'named' user.
<!-- 2006/12/31 -->
<li>Make malo_init() check for firmware loading errors, and reset the card in case of an error, so later malo_init() can work.
<!-- 2006/12/30 -->
<li>Fix for mbuf handling on <a href="https://man.openbsd.org/rum.4">rum(4)</a>, fixes mtag memory leaks on armish platform. Same fix applied to <a href="https://man.openbsd.org/acx.4">acx(4)</a>, <a href="https://man.openbsd.org/malo.4">malo(4)</a> and <a href="https://man.openbsd.org/pgt.4">pgt(4)</a>.
<li>Enable jumbo frames on <a href="https://man.openbsd.org/msk.4">msk(4)</a>, except for Yukon-2 FE devices.
<li>Rewrite of <a href="https://man.openbsd.org/eephy.4">eephy(4)</a> code, allows auto MDI/MDI-X on various chipsets.
<!-- 2006/12/29 -->
<li>Add flow control to <a href="https://man.openbsd.org/re.4">re(4)</a> devices.
<li>Fix for 802.11 WEP key buffer size when using non-standard wep keys >= 104 bits.
<li>Added support for the Meinberg PCI511 and GPS170PCI-based <a href="https://man.openbsd.org/mbg.4">mbg(4)</a> devices.
<li>Remove warnings about illegal prefixlength when a default inet6 route is present in <a href="https://man.openbsd.org/route.8">route(8)</a> and <a href="https://man.openbsd.org/netstat.1">netstat(1)</a>.
<!-- 2006/12/28 -->
<li>Fix another problem with sparc64 US3 D-cache flushing, fixes problems with <a href="https://man.openbsd.org/svnd.4">svnd(4)</a> on such machines.
<li>Add support for ST16C654 <a href="https://man.openbsd.org/com.4">com(4)</a> devices.
<!-- 2006/12/27 -->
<li>Add MC8755 to the list of supported <a href="https://man.openbsd.org/umsm.4">umsm(4)</a> devices.
<li>A few more D-cache fixes for US3-based sparc64 machines.
<li>Add code to change video mode on the fly for <a href="https://man.openbsd.org/sparc/pnozz.4">pnozz(4)</a> on the sparc platform.
<li>Switch ARM platforms to new syscall ABI. This is a flag day for binaries from before the middle of November.
<li>Add "C" as command line argument to <a href="https://man.openbsd.org/top.1">top(1)</a>.
<!-- 2006/12/26 -->
<li>Fixes for exception handling in <a href="https://man.openbsd.org/gcc.1">gcc(1)</a> for alpha.
<li>Add support for ADT7475 in the <a href="https://man.openbsd.org/adt.4">adt(4)</a> driver.
<li>Make sure <a href="https://man.openbsd.org/fxp.4">fxp(4)</a> devices do not re-initialize the card every time the IP address changes.
<li>Fix for inline x86/x86_64 asm in libstdc++.
<li>Make <a href="https://man.openbsd.org/sysctl.8">sysctl(8)</a> show more digits in timedelta sensors as the timedelta sensors become increasingly more precise.
<!-- 2006/12/25 -->
<li>Make <a href="https://man.openbsd.org/tcpdump.8">tcpdump(8)</a> print icmpv6 inside security header (AH/ESP).
<!-- 2006/12/24 -->
<li>Make non-autonegotiated 10BaseT and 100BaseTX work on <a href="https://man.openbsd.org/msk.4">msk(4)</a>.
<li>For <a href="https://man.openbsd.org/bnx.4">bnx(4)</a>, use the correct size when loading the RX/TX descriptor bus DMA maps.
<!-- 2006/12/23 -->
<li>Fix for <a href="https://man.openbsd.org/mg.1">mg(1)</a> where inserting a file resulted in an incorrect line-number count.
<li>Add column-number indication to the <a href="https://man.openbsd.org/mg.1">mg(1)</a> status line.
<li>Added a two-level sysctl sensor API.
<!-- 2006/12/22 -->
<li>For Ultrasparc-III machines, patch some crucial D-cache flush instructions and enable the cache.
<li>Make sure the kernel only add sensors for NMEA devices if there was no error in nmeaopen().
<li>Add special handling in URPF code to handle urpf-failed on carp interfaces.
<!-- 2006/12/21 -->
<li>Fix for Core 2 Duo X6800 setperf code where it would report invalid setperf MSR leading to a divide by zero.
<li>Let <a href="https://man.openbsd.org/hme.4">hme(4)</a> use the arpcom copy of the ethernet address so that updates to lladdr can work.
<li>Add Avlab PCI 2S to the list of supported <a href="https://man.openbsd.org/puc.4">puc(4)</a> devices.
<li>Eliminate BSMAP #ifdef in <a href="https://man.openbsd.org/mg.1">mg(1)</a>, exposing bsmap-mode which swaps ^H and DEL.
<li>In <a href="https://man.openbsd.org/ospfd.8">ospfd(8)</a>, unbreak "redistribute default" and make it possible to specify a metric for the default route as well.
<li>Plug memory leaks in OpenCVS and OpenRCS code.
<li>Fix a potential panic in pf_route().
<!-- 2006/12/20 -->
<li>In <a href="https://man.openbsd.org/mg.1">mg(1)</a>, enable auto-complete for the Execute: prompt when using auto-execute.
<li>Enable recursive interrupts on the armish platform.
<!-- 2006/12/19 -->
<li>ACPI code added to various amd64 and i386 install images, though disabled.
<li>Add <a href="https://man.openbsd.org/rum.4">rum(4)</a> to amd64 and i386 RAMDISK_CD kernels.
<li>Hook up acpicpu to the hw.setperf <a href="https://man.openbsd.org/sysctl.8">sysctl(8)</a> mechanism, allowing people running ACPI kernels to scale processor and frequency voltage.
<!-- 2006/12/18 -->
<li>Make IPv6 input code reject packets from outside with interface-local multicast address in ip6_dst.
<li>Sync KerberosV code with heimdal.
<li>Add support for pci-based <a href="https://man.openbsd.org/sti.4">sti(4)</a> devices on hppa.
<li>Enable <a href="https://man.openbsd.org/mbg.4">mbg(4)</a> on macppc and sparc64 GENERIC kernels too.
<li>For <a href="https://man.openbsd.org/sensorsd.8">sensorsd(8)</a>, provide dampening on negative events for sensors that flip due to bugs or erroneous readings, and increase polling frequency accordingly to provide same rate of reporting.
<li>Activate <a href="https://man.openbsd.org/mbg.4">mbg(4)</a> on i386 GENERIC kernels.
<!-- 2006/12/17 -->
<li>For landisk <a href="https://man.openbsd.org/pciide.4">pciide(4)</a>, force speed down to PIO mode 4 until some DMA issues are sorted out.
<li>wscons fixes for accented keys.
<li>Import of <a href="https://man.openbsd.org/mbg.4">mbg(4)</a>, a driver for Meinberg FunkUhren time signal station receivers. Currently, DCF77 PCI32 receiver card is supported.
<li>Fix index of ERP information element in beacons for rt2560 and rt2661-based devices.
<!-- 2006/12/16 -->
<li>Fix for dual port <a href="https://man.openbsd.org/msk.4">msk(4)</a> cards, now second port is enabled again.
<li>On hppa platforms, make <a href="https://man.openbsd.org/hil.4">hil(4)</a> aware of shared interrupts, hil_intr() gets invoked when serial ports interrupt too.
<li>Update the xenocara XOrg code to X.Org7.2RC3.
<li>Import of <a href="https://man.openbsd.org/hostated.8">hostated(8)</a> to monitor remote hosts and dynamically alter <a href="https://man.openbsd.org/pf.4">pf(4)</a> tables and redirection rules.
<!-- 2006/12/15 -->
<li>Added acpi code to amd64 and i386 RAMDISK_CD kernels.
<li>Generic fixes for MII code to allow correct duplex reporting for ethernet drivers.
<li>Fix for <a href="https://man.openbsd.org/msk.4">msk(4)</a> when processing status descriptors. Makes Yukon-2 XL Rev A3 devices work.
<li>Add HP NC373i PCIe Gigcards to the list of supported <a href="https://man.openbsd.org/bnx.4">bnx(4)</a> devices.
<!-- 2006/12/14 -->
<li>OpenCVS now can handle Sticky bits on client and server side.
<li>Removed GEMDOSFS from MS-DOS filesystem code.
<li>Add <a href="https://man.openbsd.org/macppc/esp.4">esp(4)</a> driver to macppc, supports NCR53c94 SCSI controller found on old world macs.
<li>Fix for <a href="https://man.openbsd.org/man.1">man(1)</a>, make sure it closes fp before returning.
<!-- 2006/12/13 -->
<li>Fix a minor bug in the TX data queue setup for <a href="https://man.openbsd.org/ath.4">ath(4)</a> devices.
<li>Fix for MS-DOS filesystem code where the fs claims to have more clusters than can be represented in the FAT.
<li>Enable nested interrupts on the Zaurus platform, so interrupts are counted correctly.
<li>Partial fix for <a href="https://man.openbsd.org/acx.4">acx(4)</a> regarding broken beacon frames when running in AP mode.
<!-- 2006/12/12 -->
<li>For <a href="https://man.openbsd.org/ssh.1">ssh(1)</a>, make PermitOpen work with multiple values.
<li>Added IPv6 passive OS fingerprinting in <a href="https://man.openbsd.org/pf.4">pf(4)</a> and <a href="https://man.openbsd.org/tcpdump.8">tcpdump(8)</a>.
<li>Make the <a href="https://man.openbsd.org/bgplg.8">bgplg(8)</a> produce valid XHTML1.1 code.
<li>Add a workaround for hardware ip4csum-tx on <a href="https://man.openbsd.org/re.4">re(4)</a> chips, it would be mangled on IP packets less than 28 bytes. 
<li>Make <a href="https://man.openbsd.org/malo.4">malo(4)</a> work on macppc by adding lots of endian fixes.
<!-- 2006/12/11 -->
<li>Make ftp-proxy(8) handle SIGPIPE, fixes a race where ftp-proxy(8) would silently exit.
<li>In the SCSI layer, add the ability to requeue I/O rejected by a driver using the new NO_CCB result.
<li>Imported a looking glass for <a href="https://man.openbsd.org/bgpd.8">bgpd(8)</a> to be used for CGI web interfaces and so on. See <a href="https://man.openbsd.org/bgplg.8">bgplg(8)</a> for usage.
<li>In the TCP input code, allow RST with th_seq incremented.
<li>Change sig_atomic_t on alpha from long to int.
<li>In the <a href="https://man.openbsd.org/ppp.8">ppp(8)</a> code, if the remote peer rejects our MRU request, but our request is smaller than what the peer accepts, set the MRU anyway.
<!-- 2006/12/10 -->
<li>Make OpenCVS permit readonly checkouts using -R or the CVSREADONLYFS env. variable.
<li>Make "flags 0" disable <a href="https://man.openbsd.org/sparc/si.4">si(4)</a> and <a href="https://man.openbsd.org/sparc/sw.4">sw(4)</a> DMA on sparc.
<li>In <a href="https://man.openbsd.org/udcf.4">udcf(4)</a>, handle unexpected minute gaps better and restart collecting bits immediately after a parity error.
<li>In ip6_output(), make sure ia is initialized before use.
<!-- 2006/12/09 -->
<li>Add USR5423 to the list of supported <a href="https://man.openbsd.org/zyd.4">zyd(4)</a> devices.
<li>Sparc and sparc64 wscons rework, and vt100 emulation removal. Saves 16KB on kernels.
<li>Make <a href="https://man.openbsd.org/spamd.8">spamd(8)</a> take multiple add/delete arguments, thus making it much easier to do bulk add/deletes without opening and locking the database for each one.
<li>Enable <a href="https://man.openbsd.org/udcf.4">udcf(4)</a> on Zaurus GENERIC kernels.
<!-- 2006/12/08 -->
<li>Initial code for a coming <a href="https://man.openbsd.org/ahci.4">ahci(4)</a> driver.
<li>Switch IPv6 API from RFC2292 to RFC3542. Kernel still handles RFC2292 set/getsockopts so old binaries still work.
<li>Better check for powernow on AMD K8 and AMD64 cpus.
<li>In <a href="https://man.openbsd.org/ospfd.8">ospfd(8)</a>, fix a crash seen on busy area border routers.
<!-- 2006/12/07 -->
<li>Fix some channel tweaks in <a href="https://man.openbsd.org/pgt.4">pgt(4)</a>.
<li>Make it possible to set the metric and LSA type for redistributed routes in <a href="https://man.openbsd.org/ospfd.8">ospfd(8)</a>.
<li>Cleanups and fixes for <a href="https://man.openbsd.org/axe.4">axe(4)</a>.
<!-- 2006/12/06 -->
<li>Fixes for TX DMA on <a href="https://man.openbsd.org/sk.4">sk(4)</a> and <a href="https://man.openbsd.org/msk.4">msk(4)</a> devices.
<li>Add <a href="https://man.openbsd.org/sf.4">sf(4)</a> to amd64 GENERIC kernels too.
<li>Enable <a href="https://man.openbsd.org/macppc/mesh.4">mesh(4)</a> and <a href="https://man.openbsd.org/mc.4">mc(4)</a> in macppc GENERIC and RAMDISK kernels.
<li>Replace Adaptec AIC-6915 <a href="https://man.openbsd.org/sf.4">sf(4)</a> driver with fully <a href="https://man.openbsd.org/bus_dma.9">bus_dma(9)</a>-able driver from NetBSD.
<li>Fix NULL dereference in NFS code, and make sure current buffer is big enough before caching current entry.
<li>Added ZyXEL ZyAIR G-100 to list of supported <a href="https://man.openbsd.org/pgt.4">pgt(4)</a> devices.
<!-- 2006/12/05 -->
<li>Add dutch keymap to hppa map listings.
<li>Implement correct fix for PCI scanning routines for old world macs.
<li>Imported fixcoff for macppc and made some changes to ofwboot makes it possible to boot OpenBSD on Power Macintosh 9500 and 9600.
<li>Fix memory leak in <a href="https://man.openbsd.org/isakmpd.8">isakmpd(8)</a>.
<li>Make sure <a href="https://man.openbsd.org/isakmpd.8">isakmpd(8)</a> does not leak message structures when unsupported payloads appear or when payload allocation fails.
<li>Implement TTL security hack in <a href="https://man.openbsd.org/bgpd.8">bgpd(8)</a>.
<li>For tcp input code, make the syncache code inherit the TTL from the listening socket when sending the SYN/ACK response.
<li>Do not install pmtu routes for transport mode SAs.
<!-- 2006/12/04 -->
<li>Add Sweex LW053 to the list of supported <a href="https://man.openbsd.org/rum.4">rum(4)</a> devices.
<li>Make <a href="https://man.openbsd.org/axe.4">axe(4)</a> devices avoid unnecessary memcpy() operations in the TX path.
<li>Report half/full duplex state on <a href="https://man.openbsd.org/bge.4">bge(4)</a>, <a href="https://man.openbsd.org/em.4">em(4)</a>, <a href="https://man.openbsd.org/ixgb.4">ixgb(4)</a> and <a href="https://man.openbsd.org/vge.4">vge(4)</a> devices.
<li>For <a href="https://man.openbsd.org/pppoe.4">pppoe(4)</a>, wrap authname and authkey in quotes to prevent problems when using special chars.
<!-- 2006/12/03 -->
<li>Added rde_check_route to <a href="https://man.openbsd.org/dvmrpd.8">dvmrpd(8)</a>, still not complete.
<li>Fix for sparc colormaps when using cgtwo graphics.
<li>Fixes for <a href="https://man.openbsd.org/uath.4">uath(4)</a> regarding detach and firmware RX.
<li>Make the virtual vmware <a href="https://man.openbsd.org/vic.4">vic(4)</a> always assume full duplex when up.
<li>Added Rapid Spanning Tree Protocol support to <a href="https://man.openbsd.org/bridge.4">bridge(4)</a>.
<li>First shot at endian fixing <a href="https://man.openbsd.org/malo.4">malo(4)</a>, still needs work.
<!-- 2006/12/02 -->
<li>Fix for sparc64 machines using a frame buffer whose endianness differs from the host CPU.
<!-- 2006/12/01 -->
<li>pthread fixes for pipes left in non-blocking mode after being closed.
<li>Two fixes for <a href="https://man.openbsd.org/compress.1">compress(1)</a>, one for using stdin and destdir not writeable, and the other for having a file called '-'.
<!-- 2006/11/30 -->
<li>Make <a href="https://man.openbsd.org/ipsecctl.8">ipsecctl(8)</a> handle multiple SAs with same src/dst but different port.
<!-- 2006/11/29 -->
<li>Added some more ZD1211B variants to the list of supported <a href="https://man.openbsd.org/zyd.4">zyd(4)</a> devices.
<li>In <a href="https://man.openbsd.org/malo.4">malo(4)</a>, enable short slots, should stabilize and increase throughput.
<li>Add support in XF4 for vesafb to the wsfb driver. Allows unaccelerated and unprivileged X server on i386, with allowaperture=0.
<li>Remaining bits for ZD1211B support in <a href="https://man.openbsd.org/zyd.4">zyd(4)</a>.
<li>Endian fix in <a href="https://man.openbsd.org/ips.4">ips(4)</a> firmware handling code.
<li>Fix for block address calculation in specfs code for devices with blocksize other than 512.
<li>Enable monitor mode on <a href="https://man.openbsd.org/malo.4">malo(4)</a> devices.
<li>Make kernel stack non-swappable.
<li>Make sure amd64 and i386 only enable acpi if ACPI_ENABLE is defined in the kernel config.
<!-- 2006/11/28 -->
<li>Move the <a href="https://man.openbsd.org/isakmpd.8">isakmpd(8)</a> autogenerated public key into /etc/isakmpd, making it readable for unprivileged uses too.
<li>Let <a href="https://man.openbsd.org/nmea.4">nmea(4)</a> use tty timestamps if enabled, increases precision and lessens jitter.
<li>Code added to allow <a href="https://man.openbsd.org/bgpd.8">bgpd(8)</a> to work on alternate routing tables.
<li>Make sure apm code handles the case when acpi steals power management functionality.
<li>Enable <a href="https://man.openbsd.org/usbf.4">usbf(4)</a> and <a href="https://man.openbsd.org/cdcef.4">cdcef(4)</a> on Zaurus RAMDISK kernels so it can be used during install.
<li>On i386, make sure Enhanced Speedstep and other non-acpi setperf mechanisms are used only if acpi is not attached.
<li>Make the kernel malloc() print out a warning when returning NULL due to M_CANFAIL.
<!-- 2006/11/27 -->
<li>Fixes for DMA TX handling on the <a href="https://man.openbsd.org/ixgb.4">ixgb(4)</a> devices.
<li>Make <a href="https://man.openbsd.org/spamd.8">spamd(8)</a> error out for a greylisted session only after the DATA command, not after the RCPT command. Helps out with sender verification schemes.
<li>Change the way dhclient sends to a unicast destination IP address.
<li>Added support for different video modes on <a href="https://man.openbsd.org/cfxga.4">cfxga(4)</a> devices. 8-bit modes disabled for now, and default still 640x480x16.
<li>Added acpi support to i386 and amd64 GENERIC kernels, though disabled.
<li>Initial import of vesabios for i386.
<li>Enable kvm86 in the i386 GENERIC kernels.
<li>Initial import of <a href="https://man.openbsd.org/ips.4">ips(4)</a>, a driver for the IBM ServeRAID controllers.
<li>Only use the ichpcib speedstep feature if we're running in a (Mobile) Pentium 4, since celerons do not support it.
<li>Add portugese LK-201 keyboard layout to vax machines.
<li>First attempt at making kvm86 multiprocessor safe.
<li>Prevent panics when booting GENERIC.MP with a vesabios kernel.
<li>Initial bits for ZD1211B support in <a href="https://man.openbsd.org/zyd.4">zyd(4)</a>. Untested.
<li>Enable WEP on <a href="https://man.openbsd.org/malo.4">malo(4)</a> devices.
<li>Speed up <a href="https://man.openbsd.org/cfxga.4">cfxga(4)</a> by not storing complete bitmaps as a backing store for multiple screens, but remember character cells instead.
<li>Separate solid fills ops from regurlar raster ops in <a href="https://man.openbsd.org/cfxga.4">cfxga(4)</a>, brings us accelerated copyrows and copycols.
<li>Enable <a href="https://man.openbsd.org/uberry.4">uberry(4)</a> on i386 and amd64 GENERIC kernels.
<li>Make use of the multiple routing tables in the IPv4 and IPv6 input and forward handling code.
<li>Initial import of <a href="https://man.openbsd.org/uberry.4">uberry(4)</a>, for battery charging and powering of the USB Blackberry device.
<!-- 2006/11/26 -->
<li>For <a href="https://man.openbsd.org/cfxga.4">cfxga(4)</a>, always update cfxga_scr emulops field when creating a new screen, in case the card was removed and reinserted.
<li>Fixes for <a href="https://man.openbsd.org/malo.4">malo(4)</a> reset handling, so ifconfig up/down works on amd64 too.
<li>Fix the blitter functions on pcmcia based <a href="https://man.openbsd.org/cfxga.4">cfxga(4)</a> graphics, providing an accelerated putchar and fix synchronization points.
<li>Enable <a href="https://man.openbsd.org/mpi.4">mpi(4)</a> on sparc64 GENERIC kernels.
<li>Reworked the raster ops code for pcmcia based <a href="https://man.openbsd.org/cfxga.4">cfxga(4)</a> graphics when monitoring cpu-to-display operation. Much faster that before.
<li>Enable <a href="https://man.openbsd.org/malo.4">malo(4)</a> on amd64 GENERIC kernels.
<li>Silence some dmesg noise on Sun x4100 virtual consoles.
<li>Activate <a href="https://man.openbsd.org/pwdog.4">pwdog(4)</a> on i386 and macppc GENERIC kernels.
<!-- 2006/11/25 -->
<li>Added support in the scsi midlayer to handle detached targets better.
<li>Fix malloc() panic in msdos_mountfs().
<li>Remove <a href="https://man.openbsd.org/dpt.4">dpt(4)</a> from alhpa, amd64 and i386 kernels.
<li>Enable new devices (flash, usbf, cdcef) on Zaurus GENERIC.
<li>Initial USB device controller (UDC) and USB CDC Ethernet function support for PXA27x/Zaurus.
<li>Add code to detect if the <a href="https://man.openbsd.org/pwdog.4">pwdog(4)</a> card is jumpered to work I/O or memory mapped.
<li>Enable <a href="https://man.openbsd.org/malo.4">malo(4)</a> on i386 GENERIC kernels.
<li>Add support for the Quancom PWDOG1, watchdog timer card.
<li>Sync the amd64 acpi code to i386, also fix interrupt routing for multi-ioapic systems.
<li>Fix for acpiec handler code, fixes deadlocks.
<li>Initial import of X.org 7.2 called xenocara. Not hooked in the build tree yet.
<li>Initial NAND flash support for Zaurus platform, not enabled yet.
<!-- 2006/11/24 -->
<li>Also enable <a href="https://man.openbsd.org/malo.4">malo(4)</a> devices to have fixed rates set.
<li>Fix for double free panic when detaching interfaces.
<li>Enable automatic rate adaptation on <a href="https://man.openbsd.org/malo.4">malo(4)</a> devices.
<li>Complete rewrite of the reset routine on <a href="https://man.openbsd.org/bcw.4">bcw(4)</a> devices, clears up the random attach warning on warm boots.
<li>Make sure we zero out the fsid field when copying out a statfs struct to userland in the VFS code.
<li>Add support in <a href="https://man.openbsd.org/pf.4">pf(4)</a> to tag ipsec traffic belonging to specific IKE-initiated phase 2 traffic. Allows policy-based filtering of encrypted and unencrypted ipsec traffic.
<li>Fix for the STP bridging code, allows to use bridge STP with USB ethernet devices.
<!-- 2006/11/23 -->
<li>On arm platforms, use correct define to detect soft cpu.
<li>Remove 802.11a stuff from <a href="https://man.openbsd.org/malo.4">malo(4)</a>.
<li>For now, do not attach the second port on dual port <a href="https://man.openbsd.org/msk.4">msk(4)</a> cards. Makes the first port work.
<li>Add 88W8310 chipsets to the list of <a href="https://man.openbsd.org/malo.4">malo(4)</a> devices.
<!-- 2006/11/22 -->
<li>Add BCM4312 to the list of <a href="https://man.openbsd.org/bcw.4">bcw(4)</a> devices.
<li>Fix an int overflow in <a href="https://man.openbsd.org/banner.1">banner(1)</a>.
<li>Make sure the kernel malloc() return NULL on too large sizes when caller has set M_CANFAIL instead of panic()ing.
<li>Attach to cardbus <a href="https://man.openbsd.org/bcw.4">bcw(4)</a> cards.
<li>Redo line parsing in <a href="https://man.openbsd.org/ypserv.8">ypserv(8)</a>, fixes out of bounds array access for short strings.
<!-- 2006/11/21 -->
<li>Make wi_get_txpower() fail on USB <a href="https://man.openbsd.org/wi.4">wi(4)</a>, so we do not CSR_READ on them.
<li>In <a href="https://man.openbsd.org/malo.4">malo(4)</a>, free allocated mbufs at TX done. Also reset some TX descriptor values. Fixes "mclpool" warnings.
<li>In <a href="https://man.openbsd.org/ipsecctl.8">ipsecctl(8)</a>, do not delete sections that might be shared with other connections. This workaround might leak <a href="https://man.openbsd.org/isakmpd.8">isakmpd(8)</a> entries, but is ok for now.
<!-- 2006/11/20 -->
<li>Added sysctl net.inet6.ip6.multicast_mtudisc for multicast routers.
<li>Fixes for external editor launch in <a href="https://man.openbsd.org/lynx.1">lynx(1)</a>.
<li>Remove watchdog handler workaround in <a href="https://man.openbsd.org/em.4">em(4)</a>, not necessary anymore.
<li>Reenable hardware vlan tagging on <a href="https://man.openbsd.org/ti.4">ti(4)</a> devices.
<li>Fix a 32 bit overflow on 32 bit platforms for <a href="https://man.openbsd.org/ksh.1">ksh(1)</a> ulimit.
<li>Make <a href="https://man.openbsd.org/bnx.4">bnx(4)</a> only do hardware checksum offload on UDP and TCP.
<li>Fix vlan support in <a href="https://man.openbsd.org/bnx.4">bnx(4)</a> when transmitting frames.
<li>Enable support for audio on landisk platforms.
<li>Add support in <a href="https://man.openbsd.org/pfctl.8">pfctl(8)</a> for -K, to kill source tracking nodes explicitly, behaves like -k for killing states.
<!-- 2006/11/19 -->
<li>Re-enable Intel i31244 support in <a href="https://man.openbsd.org/pciide.4">pciide(4)</a>.
<li>Add support in <a href="https://man.openbsd.org/tcpdump.8">tcpdump(8)</a> for displaying Rapid Spanning Tree Protocol frames.
<li>Fixes for <a href="https://man.openbsd.org/bnx.4">bnx(4)</a> transmit code which would drop sent packets at mediom/high load.
<li>Add PCI hookup code to <a href="https://man.openbsd.org/malo.4">malo(4)</a> devices.
<!-- 2006/11/18 -->
<li>Fixes for <a href="https://man.openbsd.org/mg.1">mg(1)</a> regarding isearch.
<li>Fix line number bugs regarding marks while opening same file several times and one concerning pgup/pgdown in <a href="https://man.openbsd.org/mg.1">mg(1)</a>.
<!-- 2006/11/17 -->
<li>On amd64, decide whether we need to attach the primary cpu by checking the CPUF_PRESENT, like we do on i386.
<li>Initial import of <a href="https://man.openbsd.org/bcw.4">bcw(4)</a>, a driver for IEEE 802.11 Broadcom BCM43xx chipset based devices. Not usable yet.
<li>Add support for multiple networks on one interface for <a href="https://man.openbsd.org/ospfd.8">ospfd(8)</a>.
<li>In <a href="https://man.openbsd.org/pax.1">pax(1)</a>, fix extracting and setting permissions for tar archives when multiple -C options are present and/or multiple file selection args are used.
<li>Make getpeereid() work on both sides of the connection. The client can now get the euid/egid of the server it connects to.
<!-- 2006/11/16 -->
<li>Make sure we copy the IV back into the session structure instead of the softc for VIA cpu-based crypto.
<li>Fix a segfault in <a href="https://man.openbsd.org/mg.1">mg(1)</a> when using isearch.
<li>Add a lower TX treshold value in <a href="https://man.openbsd.org/em.4">em(4)</a> and use this when checking the number of available TX descriptors, in the case that em_encap() has tried to reclaim descriptors.
<li>In <a href="https://man.openbsd.org/grep.1">grep(1)</a>, reset the number of lines of tail context before processing each file, to avoid printing lines from the previous file.
<li>Changed the semantics of ff01::/16 to local interface multicast in the IPv6 stack.
<li>In md5(1), add support for -r and -q options.
<li>Add support for four new radios in <a href="https://man.openbsd.org/zyd.4">zyd(4)</a>, AL2210, CGT, Maxim New and Maxim New2. Untested.
<li>All network interface code create empty groups, so the rc scripts can do carp demotion early in the boot process.
<!-- 2006/11/15 -->
<li>Various IPv6 utilities transitioned from RFC2292 to RFC3542 behaviour.
<li>Hook up acpi apic interrupt routing support to generic acpi code.
<li>Fix for infinite loop in malo_tx_intr() for <a href="https://man.openbsd.org/malo.4">malo(4)</a> devices and enable data packet transmission.
<li>Fix integer promotion on 64 bit arches in <a href="https://man.openbsd.org/udcf.4">udcf(4)</a> code.
<!-- 2006/11/14 -->
<li>Fix for <a href="https://man.openbsd.org/vge.4">vge(4)</a> when vge_encap fails, would leave an mbuf in the if_snd queue otherwise.
<li>Add rlog and rannotate commands to OpenCVS.
<!-- 2006/11/13 -->
<li>Rework <a href="https://man.openbsd.org/em.3">em(3)</a> transmit register handling, required for future chipsets.
<li>Make <a href="https://man.openbsd.org/ipsecctl.8">ipsecctl(8)</a> handle rules with addresses from mismatched address families correctly.
<!-- 2006/11/12 -->
<li>Remove a delay() in <a href="https://man.openbsd.org/malo.4">malo(4)</a> by actually waiting for the command to finish.
<!-- 2006/11/11 -->
<li>For i386, get rid of magic ISA and EISA bus numbers in mpbios code, paves way for alternative sources for interrupt information.
<li>Fix memory leak in <a href="https://man.openbsd.org/fsck_msdos.8">fsck_msdos(8)</a>.
<li>Add support for the 3Com 3CRWE154G72 <a href="https://man.openbsd.org/pgt.4">pgt(4)</a> device.
<!-- 2006/11/10 -->
<li>Add support for Sun 1000baseSX cards in <a href="https://man.openbsd.org/gem.4">gem(4)</a>.
<li>Make <a href="https://man.openbsd.org/mopd.8">mopd(8)</a> check the correct bits in the control byte.
<li>Fix DMA firmware command interface in <a href="https://man.openbsd.org/malo.4">malo(4)</a>, now can associate successfully with an AP.
<li>Have <a href="https://man.openbsd.org/em.4">em(4)</a> pre-allocate TX DMA maps instead of creating and destroying a DMA map per packet sent.
<li>In the <a href="https://man.openbsd.org/nfe.4">nfe(4)</a> driver, defer setting the valid bit in the first TX descriptor until all descriptors have been set up, otherwise hardware may start processing descriptors faster than us.
<li>In <a href="https://man.openbsd.org/ifconfig.8">ifconfig(8)</a> for wlan settings, allow -nwid to clear the prefered nwid, just like -nwkey clears the key.
<li>Make m88k-base platforms fetch syscall arguments beyond r9 with copyin() from the userland stack, instead of having the userland code put the first three arguments in r10-r12.
<li>Fix set_rpc_maxgrouplist, so <a href="https://man.openbsd.org/mount_nfs.8">mount_nfs(8)</a> -g works again.
<li>Have md5(1) accept both upper case and lower case letters.
<li>Make <a href="https://man.openbsd.org/ipsecctl.8">ipsecctl(8)</a> check both source and destination when grouping SAs.
<li>Fix grouping for SAs in <a href="https://man.openbsd.org/ipsecctl.8">ipsecctl(8)</a>, now all combinations of SAs are possible, not only ESP+AH.
<li>Make sure <a href="https://man.openbsd.org/ipsecctl.8">ipsecctl(8)</a> does not count sa, ike and tcpmd5 rules twice.
<li>Introduce reference count in <a href="https://man.openbsd.org/dvmrpd.8">dvmrpd(8)</a> for route_report so it can be shared and freed correctly.
<li>Make <a href="https://man.openbsd.org/ripd.8">ripd(8)</a> clear lists before deleting neighbor.
<li>Fix an mbuf leak in <a href="https://man.openbsd.org/tun.4">tun(4)</a> error path.
<!-- 2006/11/09 -->
<li><a href="https://man.openbsd.org/bpf.4">bpf(4)</a> fixes for the <a href="https://man.openbsd.org/acx.4">acx(4)</a> driver.
<li>Lots of USB devices added to the landisk GENERIC and RAMDISK kernels.
<li>Initial support for OpenBSD/sh support in <a href="https://man.openbsd.org/gdb.1">gdb(1)</a>.
<li>Add multicast filter to <a href="https://man.openbsd.org/vic.4">vic(4)</a> instead of using ALLMULTI all the time.
<li>Make sure <a href="https://man.openbsd.org/diff3.1">diff3(1)</a> respects TMPDIR.
<li>More fixes in <a href="https://man.openbsd.org/malo.4">malo(4)</a> for the firmware commands.
<li>Make <a href="https://man.openbsd.org/isakmpd.8">isakmpd(8)</a> support public keys without SubjectPublicKeyInfo.
<!-- 2006/11/08 -->
<li>OpenCVS now can do remote tag command.
<li>On landisk platforms, force TS_CARR_ON for the serial console, since they have no DCD line.
<li>Make <a href="https://man.openbsd.org/ospfd.8">ospfd(8)</a> and <a href="https://man.openbsd.org/ripd.8">ripd(8)</a> properly indicate the state of "fib-update".
<li>Add a -y flag to <a href="https://man.openbsd.org/i386/fdisk.8">fdisk(8)</a> for non-interactive use.
<li>Make <a href="https://man.openbsd.org/sk.4">sk(4)</a> XMAC work on big-endian systems too.
<!-- 2006/11/07 -->
<li>Add support for Decision Computer multiport serial cards in <a href="https://man.openbsd.org/puc.4">puc(4)</a>.
<li>Fix sigmask handling bug for landisk platform that caused SIGCHLD to be almost always masked.
<li>Various fixes for <a href="https://man.openbsd.org/em.4">em(4)</a>.
<li>Add <a href="https://man.openbsd.org/xmphy.4">xmphy(4)</a> to macppc GENERIC and RAMDISK kernels.
<li>Fix <a href="https://man.openbsd.org/dd.1">dd(1)</a> so checks for seekability is done using isatty() instead.
<li>Various fixes for the landisk platform.
<li>Fixes for softdep mkdir syncing during pagedep flush.
<li>Correctly check for bad signature in the <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> monitor, otherwise the monitor and unprivieged process can get out of sync.
<li>Add timecounters to the adm64 platform.
<!-- 2006/11/06 -->
<li>In <a href="https://man.openbsd.org/dd.1">dd(1)</a>, fix skipping then reading from a tty.
<li>Add support in <a href="https://man.openbsd.org/ne.4">ne(4)</a> for AX88790 chipsets, and fix AX88796 waiting after sending a packet, since it seems to lack "remote DMA complete" bit in ISR.
<li>Fix in <a href="https://man.openbsd.org/pfctl.8">pfctl(8)</a> to unbreak <a href="https://man.openbsd.org/authpf.8">authpf(8)</a> by handling non-inline anchors separately.
<li>When stopping <a href="https://man.openbsd.org/malo.4">malo(4)</a> devices, also reset the TX ring.
<li>Correction in <a href="https://man.openbsd.org/trek.6">trek(6)</a> where signed char fixes prevents infinite loops.
<li>For vax, do not let memset() behave as bzero() for lengths over 64KB.
<li>In <a href="https://man.openbsd.org/ssh.1">ssh(1)</a>, add missing checks for OpenSSL return codes.
<li>Fixes for HPPA savecore.
<li>Initial import of MFM controller code for Vax VS2000 and some VS3100, enabled in GENERIC and RAMDISK kernels.
<li>For <a href="https://man.openbsd.org/tip.1">tip(1)</a>, replace -### with -s### for the speed string.
<li>Enable <a href="https://man.openbsd.org/malo.4">malo(4)</a> to transmit management frames. Fix/add firmware commands.
<li>Landisk/SuperH platform switched back to softfloat code generation for now.
<li>bgpd(8) would announce restart capabilities when announcing refresh capabilities. Fixed.
<li>Force a new sensor task to be run as soon as possible in order to collect early values instead of waiting for the first timeout.
<li>Make USB <a href="https://man.openbsd.org/wi.4">wi(4)</a> adapters not advertise themselves as supported hostap devices.
<li>In <a href="https://man.openbsd.org/vic.4">vic(4)</a>, set the RX filters after setting the shared data address. Fixes a crash of the VMWare host when running an OpenBSD guest.
<!-- 2006/11/05 -->
<li>Add MCP67 SMBus controller to list of supported nviic(4) devices.
<li>Sync <a href="https://man.openbsd.org/em.4">em(4)</a> to Intels 6.2.9 version. Adds support for a few newer Intel PCIe boards and a few bug fixes.
<li>Add <a href="https://man.openbsd.org/gem.4">gem(4)</a> and <a href="https://man.openbsd.org/gentbi.4">gentbi(4)</a> to amd64 and i386 GENERIC kernels.
<li>Endian fix in <a href="https://man.openbsd.org/httpd.8">httpd(8)</a> for mod_proxy code.
<li>Add MCP67 PATA and SATA to the list of supported <a href="https://man.openbsd.org/pciide.4">pciide(4)</a> devices.
<li>Add NVidia MCP67 LAN to the list of supported <a href="https://man.openbsd.org/nfe.4">nfe(4)</a> devices.
<li>Add power state table for 1GHz VIA Eden 90nm 'Esther' CPUs.
<li>Do not enable hardware cursor on vax in the Brooktree DAC on the 8 bpp model.
<li>Wait two seconds after reset before probing for devices on vax, lets RX23 devices get detected again.
<li>Handle <a href="https://man.openbsd.org/hil.4">hil(4)</a> loop reconfiguration in a kernel thread instead of doing it from interrupt context.
<!-- 2006/11/04 -->
<li>Do not let <a href="https://man.openbsd.org/pfctl.8">pfctl(8)</a> open a transaction for a ruleset unless it is a brace expansion that contain rules.
<li>Fix a potential memory leak in libevent.
<li>Make <a href="https://man.openbsd.org/arc.4">arc(4)</a> query the firmware for the number of devices, and then iterate through them to get the right names for sensor creation.
<li>Fix a bug in <a href="https://man.openbsd.org/awk.1">awk(1)</a> when converting a variable from numeric type to string.
<li>Fix in X11 for video playback in the Radeon driver for Mobility M6 based machines.
<!-- 2006/11/03 -->
<li>Add AL7230B to list of supported <a href="https://man.openbsd.org/zyd.4">zyd(4)</a> devices. Untested for now.
<li>In <a href="https://man.openbsd.org/ripd.8">ripd(8)</a>, if the nexthop is not reachable through outgoing interface, set it to INADDR_ANY.
<!-- 2006/11/02 -->
<li>If the hardware does not say it can do scatter gather lists for tx on <a href="https://man.openbsd.org/vic.4">vic(4)</a> devices, limit it to only one dma segment.
<li>Enable <a href="https://man.openbsd.org/vic.4">vic(4)</a> on i386 GENERIC and RAMDISK kernels.
<li>Make <a href="https://man.openbsd.org/raidctl.8">raidctl(8)</a> error out when passed an empty string as device name.
<!-- 2006/11/01 -->
<li>Make the <a href="https://man.openbsd.org/vic.4">vic(4)</a> driver set a tick up to check the link state every second.
<li>Add active cooling support to acpi.
<li>Fix <a href="https://man.openbsd.org/vic.4">vic(4)</a> initialization so ifconfig up and down now work.
<li>Add German LK-[24]01 keyboard layout for vax platform.
<li>Have <a href="https://man.openbsd.org/zyd.4">zyd(4)</a> abort bulk-in and bulk-out pipes before freeing the RX/TX transfer lists.
<li>Fix firmware fatal errors on re-associations in <a href="https://man.openbsd.org/wpi.4">wpi(4)</a>.
<li>In <a href="https://man.openbsd.org/vic.4">vic(4)</a>, fix the TX path so it can use more than one scatter gather entry when sending the packet.
<!-- 2006/10/31 -->
<li>Fix range checking in the argument parser for <a href="https://man.openbsd.org/dd.1">dd(1)</a>.
<li>Make <a href="https://man.openbsd.org/vic.4">vic(4)</a> handle slightly short frames, such as those coming from VMWare.
<li>Add support in <a href="https://man.openbsd.org/ipsecctl.8">ipsecctl(8)</a> for aggressive mode.
<li>Make <a href="https://man.openbsd.org/pfctl.8">pfctl(8)</a> allow a user to recursively print anchors, including those without reserved names if a trailing * is specified in the anchor name.
<li>Make <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> check DH_compute_key() for -1 even though it should be valid due to earlier checks.
<li>In the TCP code, do not regenerate the timestamp modulation offset for SYN-ACK retransmits.
<li>Initial code for adding sensors to <a href="https://man.openbsd.org/arc.4">arc(4)</a> devices.
<li>Make pfsync devices to be cloned, but prevent more than one instance for now.
<li>In <a href="https://man.openbsd.org/pf.conf.5">pf.conf(5)</a> allow <a href="https://man.openbsd.org/pfctl.8">pfctl(8)</a> ruleset optimizer to be controlled from within the ruleset, or optionally on the command-line.
<li>Fix infinite loop in <a href="https://man.openbsd.org/gcc.1">gcc(1)</a> for i386 code when passing objects with 3+ base classes by value.
<!-- 2006/10/30 -->
<li>Major work on the <a href="https://man.openbsd.org/vic.4">vic(4)</a> driver. Closer to working now, but the TX code path still needs work.
<li>Added a timecounter based implementation of <a href="https://man.openbsd.org/adjfreq.2">adjfreq(2)</a>.
<li>Fix dynamic tuning of the radio sensitivity on rt2661 based devices.
<li>On luna88k, have the primary CPU start the CMMU for secondary CPUs because secondary CPUs will run endless loops without cache otherwise.
<li>Change CMMU probing method on luna88k machines.
<!-- 2006/10/29 -->
<li>Fix in output of "show vnode" in <a href="https://man.openbsd.org/ddb.4">ddb(4)</a>.
<li>Plug a memory leak in <a href="https://man.openbsd.org/talk.1">talk(1)</a>.
<li>Let <a href="https://man.openbsd.org/ospfd.8">ospfd(8)</a> allow braces to fit on a single line if only one or no argument is used.
<li>In libc, make __dtoa() and strtod() thread safe.
<li>Fix in <a href="https://man.openbsd.org/isakmpd.8">isakmpd(8)</a> TAILQ usage, preventing crashes.
<li>On amd64 and i386 platforms, make sure swap defaults to partition "b" on the same disk as root, not partition "b" on unit 0.
<li>Make landisk booting more reliable by disabling cache before jumping into the kernel.
<!-- 2006/10/28 -->
<li>In the NFS socket code, make sure nm_srtt and nm_sdrtt arrays are not initialized out of bounds.
<li>In <a href="https://man.openbsd.org/ld.so.1">ld.so(1)</a>, only <a href="https://man.openbsd.org/mprotect.2">mprotect(2)</a> pages during relocation if the library is marked TEXTREL.
<li>In <a href="https://man.openbsd.org/pf.conf.5">pf.conf(5)</a>, add support for anchors loaded inline., enclosed in a brace-delimited block.
<!-- 2006/10/27 -->
<li>On macppc, have <a href="https://man.openbsd.org/gcc.1">gcc(1)</a> make stack executable when doing trampoline code.
<li>On vax, hide hardware cursor on 4 bpp gpx displays.
<li>For sparc machines, blank then screen immediately if the lid is closed during boot.
<li>In <a href="https://man.openbsd.org/ntpd.8">ntpd(8)</a>, use clock_gettime(CLOCK_MONOTONIC,..) to get a monotonically increasing time, and make <a href="https://man.openbsd.org/ntpd.8">ntpd(8)</a> use that to send the next query to an ntp peer.
<li>Make <a href="https://man.openbsd.org/udcf.4">udcf(4)</a> degrade the sensor status to WARNING on first error condition and to CRITICAL if valid time information comes within 15 minutes.
<li>Partially revert some of the macppc PCI range calculations, since it broke some newer machines.
<!-- 2006/10/26 -->
<li>Fix <a href="https://man.openbsd.org/fxp.4">fxp(4)</a> so it will reset the link when you change speed.
<li>Have <a href="https://man.openbsd.org/bgpd.8">bgpd(8)</a> store copies of everything needed to remove SAs and flows later. Allows for migration from tcp md5sig to ipsec esp ike with just bgpctl reload on both sides and bgpctl neighbor $foo clear on one side.
<li>Make sure <a href="https://man.openbsd.org/bgpd.8">bgpd(8)</a> store SPIs for tcpmd5 outside the conf struct so it can clear old SAs when the session is restarted after a config reload.
<!-- 2006/10/25 -->
<li>Add support for AMD Geode LX security block. Currently only RNG, AES to be added later.
<li>Initial driver for MosChip MCS7703 based USB serial devices. No hardware flow control yet.
<li>Allow pflogd to listen on alternate pflog interfaces.
<li>On sparc64 USIII-based machines, make sure we flush the I-TLB from the primary context and not the secondary.
<li>Allow spamlogd to use an alternate pflog interface.
<!-- 2006/10/24 -->
<li>Fix localhost DoS when using oversized values with crypto devices.
<li>Fix for segfaults in pthreads code in _thread_kern_poll when descriptor is in closing state.
<li>Add code to allow up to 16 pflog interfaces, and add support in <a href="https://man.openbsd.org/pf.conf.5">pf.conf(5)</a> to specify which interface to log certain lines to.
<li>Make a RAMDISK kernel image for the landisk platform.
<li>Fix RX DMA handling in <a href="https://man.openbsd.org/malo.4">malo(4)</a> and make sure we reset the RX descriptor ring on ifconfig down/up.
<li>Add new trace function to <a href="https://man.openbsd.org/ddb.4">ddb(4)</a>, "machine acpi trace" so users can send useful traces without enabling acpi debug.
<li>Improvements in <a href="https://man.openbsd.org/ntpd.8">ntpd(8)</a> when updating from timedelta sensors.
<!-- 2006/10/23 -->
<li>Fix a crash in <a href="https://man.openbsd.org/as.1">as(1)</a> when using --statistics.
<li>Build rthreads by default for easy testing.
<li>Reworked <a href="https://man.openbsd.org/malloc.3">malloc(3)</a> to keep pginfo and pgfree structs away from application memory by using special allocators for those instead of imalloc. For chunks, return randomly from a short list of recently freed chunk.
<li>Make the pflog interface cloneable.
<!-- 2006/10/22 -->
<li>Add Sundance TC9021 to list of supported <a href="https://man.openbsd.org/stge.4">stge(4)</a> devices.
<li>Fixes for PCI configuration on old-world macppc machines with non-contiguous PCI memory spaces.
<li>Make <a href="https://man.openbsd.org/bge.4">bge(4)</a> recognize BCM5715 A3-based devices.
<li>Fix colormap in 4bpp mode on vax gpx displays.
<li>Make <a href="https://man.openbsd.org/zyd.4">zyd(4)</a> devices blink the LED on transmit.
<li>"Bogus xmit rate" panic fixed for <a href="https://man.openbsd.org/rum.4">rum(4)</a> too.
<li>Replace rate control code in <a href="https://man.openbsd.org/ral.4">ral(4)</a>, should also fix "bogus xmit rate" panics in HostAP mode.
<li>Make <a href="https://man.openbsd.org/zyd.4">zyd(4)</a> handle per-node rate control.
<li>Add Edimax EW-7318USG to the list of supported <a href="https://man.openbsd.org/rum.4">rum(4)</a> devices.
<li>Fixes for rate handling in <a href="https://man.openbsd.org/iwi.4">iwi(4)</a>.
<!-- 2006/10/21 -->
<li>Fix RX handling in <a href="https://man.openbsd.org/malo.4">malo(4)</a> devices, now can receive management frames.
<li>Make sure <a href="https://man.openbsd.org/bnx.4">bnx(4)</a> keeps at least 16 TX descriptors unused, and handle TX loads problems better.
<li>Enable <a href="https://man.openbsd.org/zyd.4">zyd(4)</a> on i386 and amd64 GENERIC kernels.
<li>Major rework on <a href="https://man.openbsd.org/zyd.4">zyd(4)</a> to bring it into a working state. Should work with ZD1211 chipsets, though IBSS and HostAP modes does not work yet.
<li>Fixes for the client part of OpenNTPD.
<!-- 2006/10/20 -->
<li>Add ASIX 88190 to the list of supported <a href="https://man.openbsd.org/ne.4">ne(4)</a> devices.
<li>More fixes for VFS softdep code.
<!-- 2006/10/19 -->
<li>Boot fixes for the landisk platform, now supports "boot -c".
<li>Reworked the TX path of <a href="https://man.openbsd.org/bnx.4">bnx(4)</a> devices.
<li>Another fix for the wscons jump scrolling code which can occur if autowrapping is on and certain control characters are encountered.
<li>In the VFS layer, promote certain bdwrite calls to bawrite for some cases so they wont get deferred due to pending softdeps.
<li>Make <a href="https://man.openbsd.org/pciide.4">pciide(4)</a> match the CS5536 IDE controller in AMD Geode LX-800-based system.
<li>Replace ACPI ioctls with APM ioctls, now <a href="https://man.openbsd.org/i386/apmd.8">apmd(8)</a> can be forced to use /dev/acpi.
<!-- 2006/10/18 -->
<li>Various acpi fixes.
<li>In <a href="https://man.openbsd.org/sort.1">sort(1)</a>, remove code that could cause a SEGV if a buffer is realloc()ed, instead allocate two buffers early.
<li>FPU detection fixes for AMD Geode LX-800-based machines.
<li>For the SGI platform, enable ipv6 on the RAMDISK image.
<li>Do not enable Geode watchdog if building small kernels.
<li>On <a href="https://man.openbsd.org/gcc.1">gcc(1)</a> for alpha, do not force -msmall-data for -fpic and -mlarge-data for -fPIC. Makes -fpic and -fPIC equivalent, as was the case with gcc 2.x.
<li>Initial import of <a href="https://man.openbsd.org/ripd.8">ripd(8)</a>, a routing daemon for the RIP protocol.
<li>Return ECONNABORTED when a non-blocking socket has been shutdown() for receives instead of returning EWOULDBLOCK, since that misleads applications to think accept() may eventually succeed. Corrects a pthreads deadlock.
<!-- 2006/10/17 -->
<li>Change the way <a href="https://man.openbsd.org/wd.4">wd(4)</a> calculates the number of cylinders on non-CPU_BIOS architectures.
<li>Disable firmware fastboot feature in <a href="https://man.openbsd.org/bge.4">bge(4)</a> for 5752/5755 and 5787 ASICS, eliminates firmware timeouts.
<li>Reset fixes for non-SC100 Geode cpus.
<li>Deadlock fixes in libpthread regarding _FD_LOCK.
<li>Make sure i386 and amd64 uses partition 'b' for swap, not just the first partition after root.
<li>Increase max <a href="https://man.openbsd.org/pf.4">pf(4)</a> tag name size from 16 to 64 characters.
<!-- 2006/10/16 -->
<li>Make sure <a href="https://man.openbsd.org/pf.4">pf(4)</a> doesn't set 'flags S/SA' on stateless rules.
<li>In <a href="https://man.openbsd.org/re.4">re(4)</a>, fix for watchdog timeouts experienced with some RealTek adapters.
<li>In <a href="https://man.openbsd.org/ps.1">ps(1)</a>, make the session field 8 chars for 32-bit cpus and 16 chars for 64-bit cpus since it is a pointer. Also, left-justify the state field name to match the state data.
<li>Use 64 bit daddr_t for logical blocks in the file system layer too.
<!-- 2006/10/15 -->
<li>Initial import of <a href="https://man.openbsd.org/malo.4">malo(4)</a> code, a new driver for the Marvell Libertas chips.
<li>Remove a potential race in ftp-proxy(8) by closing file descriptors before cleaning up events.
<li>For <a href="https://man.openbsd.org/gem.4">gem(4)</a>, get MAC address from VPD, like we do for <a href="https://man.openbsd.org/hme.4">hme(4)</a>.
<li>Add BCM5787 A2 to the list of supported <a href="https://man.openbsd.org/bge.4">bge(4)</a> devices.
<!-- 2006/10/14 -->
<li>Enable <a href="https://man.openbsd.org/bce.4">bce(4)</a> on amd64 GENERIC and RAMDISK kernels.
<li>Also add cross-compiling hints to crunchgen to allow for a different obj/ directory.
<li>Fixes to allow cross-compiling of <a href="https://man.openbsd.org/less.1">less(1)</a>.
<!-- 2006/10/13 -->
<li>New checks in ACPI code for Embedded Controllers, should be detected correctly now.
<li>Fix for <a href="https://man.openbsd.org/ath.4">ath(4)</a> reset procedure of single-chip variants. Should make AR5424 PCIe chipsets work.
<li>Fix kernel page fault in <a href="https://man.openbsd.org/pgt.4">pgt(4)</a> when the device gets detached after the firmware failed to load.
<li>In <a href="https://man.openbsd.org/lynx.1">lynx(1)</a>, add checks for mkdtemp() failure, prevents segfaults when TMP or TMPDIR environment variables are set to non-existent directories.
<!-- 2006/10/12 -->
<li>Massive ACPI changes.
<!-- 2006/10/11 -->
<li>Make <a href="https://man.openbsd.org/file.1">file(1)</a> recognize OpenBSD/sh binaries too.
<li>Fix a potential null dereference, and a memory leak in the <a href="https://man.openbsd.org/pgt.4">pgt(4)</a> error path.
<li>Make sure <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> exits instead of doing a blocking tcp send if we detect a client/server timeout, since the tcp sendqueue might be full of alive requests.
<li>Fixes for SIGCONT, may be sent to any process with the same session ID as the caller, not to any process that is a descendant of the current process.
<li>Add <a href="https://man.openbsd.org/udcf.4">udcf(4)</a> to amd64 GENERIC.
<li>Implemented the IP_MINTTL tcp socket option.
<li>Implemented the IP_RECVTTL socket option for raw or udp sockets.
<!-- 2006/10/10 -->
<li>In <a href="https://man.openbsd.org/pf.conf.5">pf.conf(5)</a>, allow the 'quick' keyword on an anchor.
<li>Various fixes for <a href="https://man.openbsd.org/xge.4">xge(4)</a>.
<li>Revert firmware synchronization change in <a href="https://man.openbsd.org/bge.4">bge(4)</a>, since breaks dual-port cards.
<li>Make <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> sleep before retrying, not after, since sleeping affects errno.
<!-- 2006/10/09 -->
<li>Stop spoofing NetBSD/FreeBSD MBR partitions as the 'a' partition in a disklabel when no OpenBSD partition is found.
<li>Fixes in the delay routines for dp8390-based devices on fast machines.
<li>Add powerhooks to the <a href="https://man.openbsd.org/pgt.4">pgt(4)</a> driver.
<!-- 2006/10/08 -->
<li>Fix glitch in jump scroll code for wscons vt100 emulation.
<li>SuperH additions to <a href="https://man.openbsd.org/ld.1">ld(1)</a> and <a href="https://man.openbsd.org/as.1">as(1)</a> in binutils.
<li>Fixes for linux emulation regarding linux_sys_waitpid() calls.
<!-- 2006/10/07 -->
<li>Add PCI Express Fibre Channel FC949E to the list of supported <a href="https://man.openbsd.org/mpi.4">mpi(4)</a> devices.
<li>Fix for macppc <a href="https://man.openbsd.org/macppc/mc.4">mc(4)</a> by using the "Enforce in-order Execution" to stop it from crashing under heavy load.
<li>Make cd-roms retry forever while the device indicates that it is becoming ready, in the same way it was done for tapes in st.c.
<!-- 2006/10/06 -->
<li>Enable <a href="https://man.openbsd.org/pgt.4">pgt(4)</a> on cardbus for the i386 and amd64 GENERIC kernels.
<li>Fix cardbus support for <a href="https://man.openbsd.org/pgt.4">pgt(4)</a>.
<li>Initial import of the SuperH-based landisk platform.
<li>Various binutils and <a href="https://man.openbsd.org/gcc.1">gcc(1)</a> additions to handle 32-bit SuperH cpus.
<li>In <a href="https://man.openbsd.org/pf.conf.5">pf.conf(5)</a>, make 'flags S/SA keep state' the implicit default for filter rules.
<!-- 2006/10/05 -->
<li><strong>SECURITY FIX: Integer overflow in <a href="https://man.openbsd.org/systrace.4">systrace(4)</a>'s STRIOCREPLACE support. This could be exploited for DoS, limited kmem reads or local privilege escalation.</strong><br><a href="errata40.html#systrace">A source code patch is available</a>.<br><a href="stable.html">[Applied to stable]</a>
<li>Update OpenSSH to 4.4.
<li>Always allow read-only opens on (s)vnd devices, despite the type of the first open (svnd vs vnd).
<!-- 2006/10/04 -->
<li>Add <a href="https://man.openbsd.org/macppc/mc.4">mc(4)</a> driver for AMD AM79C940 (MACE) ethernet chip to macppc.
<li>Make sure bufcache calculation on i386 does not take memory above 4g into account since it wont be used anyhow.
<li>Fix for <a href="https://man.openbsd.org/write.1">write(1)</a> to handle cases where the utmp file is missing.
<li>Fixes for <a href="https://man.openbsd.org/pci.4">pci(4)</a> where unit numbers do not match PCI Bus number.
<li><strong>SECURITY FIX: Several problems have been found in OpenSSL. While parsing certain invalid ASN.1 structures an error condition is mishandled, possibly resulting in an infinite loop. A buffer overflow exists in the SSL_get_shared_ciphers function. A NULL pointer may be dereferenced in the SSL version 2 client code. In addition, many applications using OpenSSL do not perform any validation of the lengths of public keys being used.</strong><br>
<a href="errata40.html#openssl2">A source code patch is available</a>.<br>
<a href="stable.html">[Applied to stable]</a>
<!-- 2006/10/03 -->
<li>Use 64 bit daddr type for physical block numbers in the filesystem code.
<li>Enable altq on <a href="https://man.openbsd.org/acx.4">acx(4)</a> devices.
<li>Altq fixes for <a href="https://man.openbsd.org/pgt.4">pgt(4)</a>, <a href="https://man.openbsd.org/vge.4">vge(4)</a> and <a href="https://man.openbsd.org/axe.4">axe(4)</a> based devices.
<!-- 2006/10/02 -->
<li>Fixes for libpthread regarding dup2() and _thread_fd_table_init() return values.
<li>Add ServerWorks PCIe bridge ids to pcidevs.
<!-- 2006/10/01 -->
<li>OpenBSD/cats platform now discontinued.
<li>Switch i386 fpu control too, i386 also has proper "long double" support now.
<li>Initial code for 88E3082 Fast Ethernet PHY. Untested at the moment.
<li>Switch amd64 fpu control word to hardware default, makes us use 64-bit precision instead of 53-bit, giving us proper support for "long double".
<li>Make sure SAF/TE and SES free their sensors on detach.
<!-- 2006/09/30 -->
<li>Small fixes for running <a href="https://man.openbsd.org/nm.1">nm(1)</a> on ELF binaries.
<!-- 2006/09/29 -->
<li>Improved CPU signature detection in the powernow K7 code.
<li>Various small fixes in the <a href="https://man.openbsd.org/re.4">re(4)</a>.
<li>Make sure rtl81x9 code discards packets in the receive handler if they are too short or too large.
<li>Small fix for powerpc pthread stack allocation code.
<li>Add support for HenTong WK-668 to list of supported <a href="https://man.openbsd.org/udav.4">udav(4)</a> devices.
<!-- 2006/09/28 -->
<li>Make sure rtl81x9 code free the mbuf chain on certain failures.
<li>Tree search speedup in <a href="https://man.openbsd.org/hostapd.8">hostapd(8)</a> via inlined compare function.
<li>Fix <a href="https://man.openbsd.org/hostapd.8">hostapd(8)</a> parser for event rules and handling of multiple matches of the "not" grammar rule.
<!-- 2006/09/27 -->
<li>Add cardbus support for <a href="https://man.openbsd.org/pgt.4">pgt(4)</a>.
<li>Add <a href="https://man.openbsd.org/uath.4">uath(4)</a> to sparc64 GENERIC. Almost works.
<li>Add <a href="https://man.openbsd.org/an.4">an(4)</a>, <a href="https://man.openbsd.org/atw.4">atw(4)</a>, <a href="https://man.openbsd.org/auth.4">auth(4)</a> and <a href="https://man.openbsd.org/wi.4">wi(4)</a> to alpha GENERIC.
<li>Add <a href="https://man.openbsd.org/ifstated.8">ifstated(8)</a> to rc startup bits.
<li>Enable <a href="https://man.openbsd.org/uath.4">uath(4)</a> on amd64.
<li>Fix in <a href="https://man.openbsd.org/ospfd.8">ospfd(8)</a> to better detect on which interface incoming OSPF packets arrived.
<!-- 2006/09/26 -->
<li>Add <a href="https://man.openbsd.org/uow.4">uow(4)</a> 1-Wire support to all USB-capable arches.
<li>Add <a href="https://man.openbsd.org/pgt.4">pgt(4)</a> and <a href="https://man.openbsd.org/acx.4">acx(4)</a> to sparc64 GENERIC too.
<li>Plug memory leak in OpenRCS diff code.
<li>Add <a href="https://man.openbsd.org/acx.4">acx(4)</a> to alpha GENERIC kernels.
<li>Switch alpha to gcc3.
<li>Initial support for HostAP mode on <a href="https://man.openbsd.org/pgt.4">pgt(4)</a>.
<li>Make sure port number 664 isn't used since packets might get stolen by IPMI/asf.
<li>Reduce number of unsafe signal operations in the X server logging functions.
<li>In <a href="https://man.openbsd.org/grep.1">grep(1)</a>, allow zero-length patterns with -x.
<li>Make pthreads allocate stack using mmap instead of malloc.
<li>More of the fd race and deadlock corrections in pthread code.
<li>Make sure <a href="https://man.openbsd.org/bge.4">bge(4)</a> does not allocate jumbo buffers and also does not allow reception of large frames until mtu is set to higher value.
<li>On <a href="https://man.openbsd.org/acx.4">acx(4)</a>, make HostAP mode work, and fix IBSS tweaks.
<li>Add ELECOM LD-USB20 to list of supported <a href="https://man.openbsd.org/aue.4">aue(4)</a> devices.
<li>Endian fix for ISO chksum in <a href="https://man.openbsd.org/dvmrpd.8">dvmrpd(8)</a>.
<li>Fix races in FFS code which may violate softdep processing and create inconsistant on-disk ffs state and absuse kmem aswell.
<!-- 2006/09/25 -->
<li>Fix in <a href="https://man.openbsd.org/httpd.8">httpd(8)</a> for error response to unsupported Expect: header.
<li>Fix for the shutdown hooks on <a href="https://man.openbsd.org/arc.4">arc(4)</a> so it syncs correctly.
<!-- 2006/09/24 -->
<li>Make <a href="https://man.openbsd.org/nc.1">nc(1)</a> also accept "HTTP/1.1 200" as a success response.
<li>In ld.so, fill in the list of loaded segments for the main executable so we can unprotect them if needed for binaries that have TEXTREL set.
<li>Add <a href="https://man.openbsd.org/pgt.4">pgt(4)</a> to alpha GENERIC kernels.
<!-- 2006/09/23 -->
<li>Add TRENDnet TEW-429UB A to list of supported <a href="https://man.openbsd.org/zyd.4">zyd(4)</a> devices.
<!-- 2006/09/22 -->
<li>Make sure sparc64 can dump memory above 4GB.
<li>Fixes for file descriptor races and deadlocks in the pthread code.
<li>Add support for Marvell Yukon 88E8056 to <a href="https://man.openbsd.org/msk.4">msk(4)</a>.
<!-- 2006/09/21 -->
<li>Add support for hot plugging <a href="https://man.openbsd.org/mpi.4">mpi(4)</a> SAS devices, but disabled for now.
<li>In OpenRCS, add support for all other diff flags that are pertinent to files, and do not conflict with rcsdiff-specific flags.
<li>Make libXpm more robust when parsing XPM files with unterminated comments in them.
<li>Make the wsfb driver inform the X server that is does not require direct access to the hardware.
<li>Make sure the SCSI midlayer frees the scsi_link struct on detach now that hotplugging of controllers is possible.
<!-- 2006/09/20 -->
<li>Fix the way delays between retransmissions are calculated in NFS when receiving NFSERR_TRYLATER from the server.
<li>Fix memory leak in <a href="https://man.openbsd.org/top.1">top(1)</a>.
<li>Implement zero-copy RX data path for <a href="https://man.openbsd.org/uath.4">uath(4)</a> devices.
<li>Corrected SpeedStep table for Pentium M 770.
<li>Make <a href="https://man.openbsd.org/vnd.4">vnd(4)</a> work on read-only file systems.
<!-- 2006/09/19 -->
<li>Enable <a href="https://man.openbsd.org/pgt.4">pgt(4)</a> on amd64 GENERIC kernels.
<li>Enable AR2413, 5413 and 5424 based devices.
<li>In <a href="https://man.openbsd.org/tcpdump.8">tcpdump(8)</a>, enable ESP and AH dissectors over IPv6.
<li>Disable 802.11g mode on AR5211 and 5212 based devices for now.
<!-- 2006/09/18 -->
<li>Fixes for <a href="https://man.openbsd.org/re.4">re(4)</a> on cardbus, for kernel faults on halt/reboot.
<li>The macppc platform extended .text and .data segments to 64MB, allowing programs with large .text segments to run.
<!-- 2006/09/17 -->
<li>Re-add Dell PHY LED setup workaround and Jumbo capability flag on <a href="https://man.openbsd.org/bge.4">bge(4)</a>.
<li>Various fixes in the RX path for <a href="https://man.openbsd.org/em.4">em(4)</a> devices regarding mbuf cluster allocations, updating status bits in RX descriptors and DMA map unloading on errors.
<li>Re-add <a href="https://man.openbsd.org/re.4">re(4)</a> link state check, as a workaround for a link state issue found on 8139C+ chips.
<li>Alignment fixes for <a href="https://man.openbsd.org/em.4">em(4)</a> when doing VLAN and jumbo frames together.
<li>Fixes for bge_reset() in <a href="https://man.openbsd.org/bge.4">bge(4)</a>, eliminates firmware timeouts for the BCM5752.
<li>Make <a href="https://man.openbsd.org/rdate.8">rdate(8)</a> ignore ntp responses with ALARM status.
<li>Defer the establishment of interrupts on <a href="https://man.openbsd.org/bge.4">bge(4)</a> until later during attach. Fixes panic on some systems running non-MP kernels.
</ul>

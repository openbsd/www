<!doctype html>
<html lang=en id=plus>
<meta charset=utf-8>
<title>OpenBSD 6.6 Changelog</title>
<meta name="description" content="OpenBSD 6.6 changes">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="openbsd.css">
<link rel="canonical" href="https://www.openbsd.org/plus66.html">
<style>
strong {
	color: var(--red);
	font-weight: normal;
}

h3 {
	color: var(--blue);
}
</style>

<h2 id=OpenBSD>
<a href="index.html">
<i>Open</i><b>BSD</b></a>
6.6 Changelog
</h2>
<hr>

<p>
This selection is intended to include all important
and all user-visible changes.
For a complete record of all changes, please see the "source-changes"
mailing list, called "OpenBSD CVS"
in the <a href="https://marc.info/?l=openbsd-cvs">archives</a>,
or use <a href="anoncvs.html#CVS">CVS</a>.

<p>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus25.html">2.5</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>,
<a href="plus35.html">3.5</a>,
<a href="plus36.html">3.6</a>,
<br>
<a href="plus37.html">3.7</a>,
<a href="plus38.html">3.8</a>,
<a href="plus39.html">3.9</a>,
<a href="plus40.html">4.0</a>,
<a href="plus41.html">4.1</a>,
<a href="plus42.html">4.2</a>,
<a href="plus43.html">4.3</a>,
<a href="plus44.html">4.4</a>,
<a href="plus45.html">4.5</a>,
<a href="plus46.html">4.6</a>,
<a href="plus47.html">4.7</a>,
<a href="plus48.html">4.8</a>,
<a href="plus49.html">4.9</a>,
<a href="plus50.html">5.0</a>,
<a href="plus51.html">5.1</a>,
<a href="plus52.html">5.2</a>,
<a href="plus53.html">5.3</a>,
<br>
<a href="plus54.html">5.4</a>,
<a href="plus55.html">5.5</a>,
<a href="plus56.html">5.6</a>,
<a href="plus57.html">5.7</a>,
<a href="plus58.html">5.8</a>,
<a href="plus59.html">5.9</a>,
<a href="plus60.html">6.0</a>,
<a href="plus61.html">6.1</a>,
<a href="plus62.html">6.2</a>,
<a href="plus63.html">6.3</a>,
<a href="plus64.html">6.4</a>,
<a href="plus65.html">6.5</a>,
<a href="plus67.html">6.7</a>,
<a href="plus68.html">6.8</a>,
<a href="plus69.html">6.9</a>,
<a href="plus70.html">7.0</a>,
<a href="plus71.html">7.1</a>,
<br>
<a href="plus72.html">7.2</a>,
<a href="plus73.html">7.3</a>,
<a href="plus74.html">7.4</a>,
<a href="plus75.html">7.5</a>,
<a href="plus76.html">7.6</a>,
<a href="plus77.html">7.7</a>,
<a href="plus.html">current</a>.
<br>

<p>
<h3>Changes made between OpenBSD 6.5 and 6.6</h3>
<p>

<ul>
<!-- 2019/10/12 -->
<li>Fixed a use-after-free in <a href="https://man.openbsd.org/iwm">iwm(4)</a> interrupt handling.
<!-- 2019/10/11 -->
<li>Fixed a bug probing BCM2835 (Raspberry Pi) devices.
<!-- 2019/10/10 -->
<li>Released <a href="https://www.libressl.org/">LibreSSL 3.0.2</a>.
<li>Stopped setting the IPv4 address in <a href="https://man.openbsd.org/umb">umb(4)</a> unless both address and gateway information are available.
<!-- 2019/10/09 -->
<li>Prevented an <a href="https://man.openbsd.org/acpi">acpi(4)</a> panic when reading past the end of an AML array.
<!-- 2019/10/08 -->
<li>Released <a href="https://www.openssh.com/txt/release-8.1">OpenSSH 8.1</a>.
<li>Returned to counting packets rather than operations to manage interface load.
<li>Added an option to dump <a href="https://man.openbsd.org/rpki-client">rpki-client(8)</a> data in JSON format.
<!-- 2019/10/07 -->
<li>Added <a href="https://man.openbsd.org/moxtet">moxtet(4)</a>, a driver for the Turris Mox modules.
<li>Added <a href="https://man.openbsd.org/mvspi">mvspi(4)</a>, a driver for the SPI controller on the Armada 3700 SoC.
<li>Added SPI clocks to <a href="https://man.openbsd.org/mvclock">mvclock(4)</a>.
<li>Added the <a href="https://man.openbsd.org/amliic">amliic(4)</a> and <a href="https://man.openbsd.org/pcxrtc">pcxrtc(4)</a> drivers to the arm64 ramdisk kernel, adding support for the RTC on the odroid-n2.
<li>Added <a href="https://man.openbsd.org/amliic">amliic(4)</a>, a driver for the I2C controller found on Amlogic SoCs.
<li>Synced arm64 pbuild resource limits with amd64 to allow building larger packages.
<!-- 2019/10/06 -->
<li>Fixed stalls seen in <a href="https://man.openbsd.org/tcpbench">tcpbench(1)</a> for <a href="https://man.openbsd.org/dwge">dwge(4)</a> and <a href="https://man.openbsd.org/dwxe">dwxe(4)</a>.
<li>Added <a href="https://man.openbsd.org/amlclock">amlclock(4)</a> support for i2c clocks.
<li>Added <a href="https://man.openbsd.org/amlpinctrl">amlpinctrl(4)</a> support for i2c pins.
<li>Fixed net80211's accounting of discarded input control frames.
<!-- 2019/10/05 -->
<li>Added a workaround for cdn.openbsd.org occasionally responding with a 503 by attempting a single additional fetch with <a href="https://man.openbsd.org/ftp">ftp(1)</a>.
<li>Added a workaround for Cortex-A73 errata 858921.
<!-- 2019/10/04 -->
<li>Updated <a href="https://man.openbsd.org/unbound">unbound(8)</a> to 1.9.4 and fixed CVE-2019-16866, which could cause Unbound to crash upon receiving a certain query from addresses allowed by Unbound's ACL.
<li>Added support for setting the CPU clock frequencies to <a href="https://man.openbsd.org/amlclock">amlclock(4)</a>, enabling DVFS.
<li>Fixed a padding oracle in PKCS7_dataDecode and CMS_decrypt_set1_pkey, a port of Edlinger's Fix for CVE-2019-1563.
<li>Stopped calling fatal() when pftable additions and deletions mix in <a href="https://man.openbsd.org/bgpd">bgpd(8)</a>.
<li>Fixed a problem where valleyview and cherryview machines would be flooded by HPD events, and allowed both to boot without a display connected.
<!-- 2019/10/03 -->
<li>Properly initialized <a href="https://man.openbsd.org/dhcpd">dhcpd(8)</a> <a href="https://man.openbsd.org/icmp">icmp(4)</a> echo requests to zero to avoid leaking four bytes of uninitialized memory.
<li>Implemented the "set" subcommand in <a href="https://man.openbsd.org/snmp">snmp(1)</a>.
<li>Updated Spleen kernel fonts to 1.5.0.
<!-- 2019/10/02 -->
<li>Mixed information from portions of sysctl hw into /dev/random as part of <a href="https://man.openbsd.org/rc">rc(8)</a> to increase entropy.
<!-- 2019/10/01 -->
<!-- 2019/09/30 -->
<li>Recognized Cortex-A34 and Cortex-A65AE.
<li>Began pruning some unused items at the point of upgrade to help prevent an over-large /usr directory after multiple upgrades.
<li>Enabled CPU voltage regulators for armv7 and arm64.
<li>Added <a href="https://man.openbsd.org/pwmreg">pwmreg(4)</a>, a driver which implements a voltage regulator that uses a PWM controller to set the voltage.
<li>Added <a href="https://man.openbsd.org/amlpwm">amlpwm(4)</a>, a driver for the PWM controller found on various Amlogic SoCs.
<!-- 2019/09/29 -->
<li>Replaced <a href="https://man.openbsd.org/dwge">dwge(4)</a> with a new driver based on <a href="https://man.openbsd.org/dwxe">dwxe(4)</a>.
<li>Added IPI support to armv7.
<!-- 2019/09/28 -->
<!-- 2019/09/27 -->
<li>Made <a href="https://man.openbsd.org/umb">umb(4)</a> add a default route when configuring the interface, to be used only when no other interface is available.
<li>Implemented <a href="https://man.openbsd.org/bgpctl">bgpctl(8)</a> <code>show rib 8.8.8.8 or-shorter</code> to show all routes covering 8.8.8.8.
<!-- 2019/09/26 -->
<li>Added <a href="https://man.openbsd.org/ksmn">ksmn(4)</a>, a driver for the temperature sensor available in the AMD Family 17h processors (Zen/Zen+/Zen2).
<li>Added AMD64 17h/3xh Root Complex device <a href="https://man.openbsd.org/pci">pci(4)</a> id.
<!-- 2019/09/25 -->
<li>Retired support for the sgi platform.
<!-- 2019/09/24 -->
<li>Prevented disconnections due to messages being ignored when the same AP delivers packets on a new channel.
<li>Enabled <a href="https://man.openbsd.org/eephy">eephy(4)</a> on octeon.
<li>Added support for Marvell 88E1545 to <a href="https://man.openbsd.org/mii">mii(4)</a>.
<li>Fixed a <a href="https://man.openbsd.org/vmd">vmd(8)</a> memory leak in the <a href="https://man.openbsd.org/virtio">virtio(4)</a> network TX path.
<!-- 2019/09/23 -->
<li>Implemented DVFS support on armv7.
<!-- 2019/09/22 -->
<!-- 2019/09/21 -->
<li>Allowed <a href="https://man.openbsd.org/sysctl">sysctl(8)</a> to work in single-user mode by ignoring <a href="https://man.openbsd.org/unveil">unveil(2)</a> errors on paths which don't exist because /var is not mounted.
<li>Enabled thermal zone handling code for armv7.
<li>Registered <a href="https://man.openbsd.org/sxitemp">sxitemp(4)</a> as a thermal sensor.
<li>Implemented setting the CPU clock for Allwinner A10/A20 SoCs in <a href="https://man.openbsd.org/sxiccmu">sxiccmu(4)</a>.
<!-- 2019/09/20 -->
<li>Added a <code>-F</code> option to <a href="https://man.openbsd.org/sndiod">sndiod(8)</a> allowing alternate devices to be specified and a <code>-Q</code> option to specify an alternate MIDI port. It is now possible to switch between devices without disconnecting clients.
<li>Added A20 GMAC clocks to <a href="https://man.openbsd.org/sxiccmu">sxiccmu(4)</a>.
<li>Added a basic implementation of SRS to <a href="https://man.openbsd.org/smtpd">smtpd(8)</a>.
<!-- 2019/09/19 -->
<li>Added the RK3328 and RK3399 GMAC clocks to <a href="https://man.openbsd.org/rkclock">rkclock(4)</a>.
<!-- 2019/09/18 -->
<li>Implemented server certificate validation in <a href="https://man.openbsd.org/smtp">smtp(1)</a>.
<li>Added <a href="https://man.openbsd.org/snmp">snmp(1)</a> support for some HP LaserJet systems.
<li>Added initial SNMPv3/USM support to <a href="https://man.openbsd.org/snmp">snmp(1)</a>.
<!-- 2019/09/17 -->
<li>Updated NSD to 4.2.2.
<!-- 2019/09/16 -->
<!-- 2019/09/15 -->
<li>Added support for binary protocol health checking to <a href="https://man.openbsd.org/relayd">relayd(8)</a>.
<li>Fixed <a href="https://man.openbsd.org/sd">sd(4)</a> to stop issuing unhandled READ CAPACITY 16 commands to older USB devices, preventing them from returning bad data for number of sectors.
<li>Made <a href="https://man.openbsd.org/startx">startx(1)</a>/<a href="https://man.openbsd.org/xinit">xinit(1)</a> work again on modern systems using <a href="https://man.openbsd.org/inteldrm">inteldrm(4)</a>, <a href="https://man.openbsd.org/radeondrm">radeondrm(4)</a> and <a href="https://man.openbsd.org/amdgpu">amdgpu(4)</a>.
<li>Added <a href="https://man.openbsd.org/octpip">octpip(4)</a>, a driver for the Octeon packet input processing unit.
<!-- 2019/09/14 -->
<li>Implemented hardware vlan tagging in <a href="https://man.openbsd.org/iavf">iavf(4)</a>.
<li>Corrected multiple <a href="https://man.openbsd.org/unveil">unveil(2)</a> violations due to login.conf.db access and <a href="https://man.openbsd.org/stat.2">stat(2)</a> on _PATH_MASTERPASSWD_LOCK.
<li>Allowed quoted SSIDs in the installer, rather than ignoring those containing whitespace.
<!-- 2019/09/13 -->
<!-- 2019/09/12 -->
<li>Made wireless drivers call if_input() only once per interrupt, reducing drops caused by the ifq pressure drop mechanism and increasing throughput.
<!-- 2019/09/11 -->
<li>Updated <a href="https://man.openbsd.org/unbound">unbound(8)</a> to 1.9.3.
<!-- 2019/09/10 -->
<li>Prevented a potential panic caused by <a href="https://man.openbsd.org/vmm">vmm(4)</a> decrementing the number of VMs twice in one of the vm_create() error paths.
<!-- 2019/09/09 -->
<li>Added information about system call memory write protection and stack mappion violations to system accounting. Now <a href="https://man.openbsd.org/daily">daily(8)</a> will print a list of affected processes and <a href="https://man.openbsd.org/lastcomm">lastcomm(1)</a> will flag violations with 'M'.
<!-- 2019/09/08 -->
<li>Increased datasize-cur for pbuild in <a href="https://man.openbsd.org/login.conf">login.conf(5)</a> to 4GB for sparc64.
<!-- 2019/09/07 -->
<li>Enabled <a href="https://man.openbsd.org/nvme">nvme(4)</a> on octeon.
<li>Added <a href="https://man.openbsd.org/octpcie">octpcie(4)</a>, a driver for the PCIe controller found on OCTEON II and OCTEON III.
<li>Added <a href="https://man.openbsd.org/sfp">sfp(4)</a>, a driver allowing communication with SFPs connected over an I2C bus and reading pages over the SFP framework.
<li>Added SFP and I2C ofw frameworks.
<!-- 2019/09/06 -->
<li>Removed tz, the kernel timezone.
<li>Disabled base-gcc on armv7.
<li>Allowed prepending a list of algorithms to the default set in <a href="https://man.openbsd.org/ssh">ssh(1)</a> by starting the list with the ^ character.
<li>Added <a href="https://man.openbsd.org/mcprtc">mcprtc(4)</a>, a driver for the Microchip MCP79400 RTC and similar.
<li>Added <a href="https://man.openbsd.org/mviic">mviic(4)</a>, a driver to support the I2C controller on the Armada 3700 SoC.
<li>Added I2C clock gates to <a href="https://man.openbsd.org/mvclock">mvclock(4)</a>.
<li>Added support for filter-reports to <a href="https://man.openbsd.org/smtpd">smtpd(8)</a>, allowing filters to send freetext reports to other filters/report handlers.
<!-- 2019/09/05 -->
<li>Added <a href="https://man.openbsd.org/mvdog">mvdog(4)</a>, a driver to support the watchdog on the Armada 3700 SoC.
<li>Fixed a crash at power down when Supermicro X8DTH-i/6/iF/6F fails to attach <a href="https://man.openbsd.org/uhci">uhci(4)</a> via PCI and AHCI.
<li>Added support for the Allwinner H6 to <a href="https://man.openbsd.org/sxipio">sxipio(4)</a> and <a href="https://man.openbsd.org/sxiccmu">sxiccmu(4)</a>.
<li>Fixed a potential endless loop when <a href="https://man.openbsd.org/em">em(4)</a> is in an error state.
<li>Added the set_blksz() and set_nblks() <a href="https://man.openbsd.org/audio.9">audio(9)</a> driver functions, allowing audio drivers to easily set the block size, matching both playback and recording constraints.
<!-- 2019/09/04 -->
<li>Introduced "junk" built-in filter actions to <a href="https://man.openbsd.org/smtpd">smtpd(8)</a>.
<!-- 2019/09/03 -->
<li>Added support to <a href="https://man.openbsd.org/amlclock">amlclock(4)</a> for obtaining CPU clock frequency.
<li>Enabled <a href="https://man.openbsd.org/amlmmc">amlmmc(4)</a>, a driver for the SD/MMC controller found on various Amlogic SoCs.
<li>Added <a href="https://man.openbsd.org/clang">clang(1)</a> support to macppc.
<li>Dropped support for building with <a href="https://man.openbsd.org/gcc">gcc(1)</a> on armv7.
<li>Added <a href="https://man.openbsd.org/bnxt">bnxt(4)</a> support for MSI-X.
<li>Added sshsig, a lightweight signature and verification ability for OpenSSH, to <a href="https://man.openbsd.org/ssh-keygen">ssh-keygen(1)</a>. Signatures can be made and verified using <code>ssh-keygen -Y sign|verify</code>.
<!-- 2019/09/02 -->
<li>Implemented setting the CPU clock for Allwinner A64 SoCs in <a href="https://man.openbsd.org/sxiccmu">sxiccmu(4)</a>.
<li>Made net80211 expose reasons for association failures to have <a href="https://man.openbsd.org/ifconfig">ifconfig(8)</a> display them in "scan" output and on the <a href="https://man.openbsd.org/ieee80211">ieee80211(9)</a> status line.
<li>Reset the current wireless PHY mode to "auto" when a scan begins if in media autoselect mode, preventing AP selection error when an interface has been switched to a fixed PHY mode.
<!-- 2019/09/01 -->
<!-- 2019/08/31 -->
<li>Fixed a tap-detection code error in <a href="https://man.openbsd.org/wscons">wscons(4)</a> that may prevent handler switching to the DETECT state when necessary.
<!-- 2019/08/30 -->
<li>Removed configured IPv6 addresses remaining when <a href="https://man.openbsd.org/slaacd">slaacd(8)</a> detects a link-state change but no new router advertisement.
<!-- 2019/08/29 -->
<li>Added <a href="https://man.openbsd.org/amldwusb">amldwusb(4)</a>, <a href="https://man.openbsd.org/amlusbphy">amlusbphy(4)</a> and <a href="https://man.openbsd.org/amlpciephy">amlpciephy(4)</a>, drivers for the USB controller and PHYs on the Amlogic G12A/B SoCs.
<li>Prevented WPA APs from appearing as non-WPA to the AP selection logic if the driver announces RSN support.
<li>Added <a href="https://man.openbsd.org/ure">ure(4)</a> support for RTL8153B.
<li>Fixed <a href="https://man.openbsd.org/iwm">iwm(4)</a> frame length check.
<!-- 2019/08/28 -->
<li>Used <a href="https://man.openbsd.org/acpi">acpi(4)</a> information to attach amd64 PCI busses as on arm64.
<li>Used <a href="https://man.openbsd.org/unveil">unveil(2)</a> at startup for <a href="https://man.openbsd.org/ping">ping(8)</a> and <a href="https://man.openbsd.org/traceroute">traceroute(8)</a> to render the filesystem read-only.
<li>Built and enabled <a href="https://man.openbsd.org/amdgpu">amdgpu(4)</a> on arm64.
<li>Added <a href="https://man.openbsd.org/amlpinctrl">amlpinctrl(4)</a>, a driver to configure pins and control GPIOs on Amlogic SoCs.
<!-- 2019/08/27 -->
<li>Added support for ethernet on Lenovo USB-C docks.
<li>Disabled base <a href="https://man.openbsd.org/gcc">gcc(1)</a> on i386.
<li>Kept <a href="https://man.openbsd.org/ieee80211_node">ieee80211_node(9)</a> structures cached across scans.
<li>Added <a href="https://man.openbsd.org/imxtmu">imxtmu(4)</a>, a driver to upport the temperature sensors on i.MX8M SoCs.
<li>Fixed a crash resulting from <a href="https://man.openbsd.org/radeondrm">radeondrm(4)</a> error handling.
<li>Added <a href="https://man.openbsd.org/amlrng">amlrng(4)</a>, a simple random number generator driver for Amlogic SoCs.
<li>Ensured <code>-n</code> is honored when deleting entries in <a href="https://man.openbsd.org/arp">arp(8)</a>.
<li>Added <a href="https://man.openbsd.org/amclock">amclock(4)</a>, a driver for the Amlogic SoC clocks.
<!-- 2019/08/26 -->
<li>Began reporting qsfp monitor values in <a href="https://man.openbsd.org/ifconfig">ifconfig(8)</a>.
<li>Added <a href="https://man.openbsd.org/amlreset">amlreset(4)</a>, a driver to support signal controller blocks on Amlogic SoCs.
<li>Fixed a kernel crash with <a href="https://man.openbsd.org/pf">pf(4)</a> when "set timeout interval 1" was used in <a href="https://man.openbsd.org/pf.conf">pf.conf(5)</a>.
<li>Added <a href="https://man.openbsd.org/amluart">amluart(4)</a>, a driver for the UARTs found on various Amlogic SoCs.
<!-- 2019/08/25 -->
<!-- 2019/08/24 -->
<li>Allowed for "port smtp" and "port smtps" on listen statement in <a href="https://man.openbsd.org/smtpd">smtpd(8)</a>.
<li>Fixed an <a href="https://man.openbsd.org/iked">iked(8)</a> conflict when IKE SA and Child SA rekeying happened at the same time, resulting in lost messages.
<!-- 2019/08/23 -->
<li>Added Comet Lake <a href="https://man.openbsd.org/pci">pci(4)</a> ids.
<li>Ensured <code>-n</code> is honored when setting <a href="https://man.openbsd.org/ndp">ndp(8)</a> entries.
<li>Stopped <a href="https://man.openbsd.org/smtpd">smtpd(8)</a> processing of records of unexpected types, fixing an issue where CNAME records generate bogus results.
<li>Fixed incorrect <a href="https://man.openbsd.org/vmctl">vmctl(8)</a> output when using <code>vmctl stop</code> with no further arguments.
<!-- 2019/08/22 -->
<li>Added Intel 100 series LP eMMC/SDXC and Intel WHL-U Host <a href="https://man.openbsd.org/pci">pci(4)</a> ids.
<!-- 2019/08/21 -->
<li>Added kern.utc_offset to <a href="https://man.openbsd.org/sysctl.2">sysctl(2)</a>. This is a successor to the DST/TIMEZONE <a href="https://man.openbsd.org/options">options(4)</a>, which are incompatible with KARL. Also switches to using an offset in minutes east of UTC.
<li>Lowered <a href="https://man.openbsd.org/sysupgrade">sysupgrade(8)</a> timeout to 30 minutes per set.
<li>Fixed a race condition in the invalidation of remote TLB entries for mips64.
<li>Removed support for semantically opaque interface identifiers (RFC 7217) for IPv6 link local addresses.
<li>Increased the <code>/usr</code> auto-allocation size in <a href="https://man.openbsd.org/disklabel">disklabel(8)</a>.
<!-- 2019/08/20 -->
<li>Switched to loading the TAL installed in <code>/etc/rpki</code> by default in <a href="https://man.openbsd.org/rpki-client">rpki-client(8)</a>. Added a <code>-t tal</code> option to pass in TAL files by hand and set the argument to the filename of the output file.
<!-- 2019/08/19 -->
<li>Added a configuration option for reverse scrolling to <a href="https://man.openbsd.org/wsmouse">wsmouse(4)</a>.
<li>Added support for additional Elantech-4 touchpad models.
<li>Increased default datasize for pbuild in <a href="https://man.openbsd.org/login.conf">login.conf(5)</a> to 6GB.
<li>Added support for the SMBus System Interfaces (SSIF) to <a href="https://man.openbsd.org/ipmi">ipmi(4)</a>.
<li>Restored MSRs and PAT on main CPU after resume, potentially improving performance of the console on many amd64 machines.
<li>Enabled TCP and UDP checksum offloading by default for <a href="https://man.openbsd.org/ix">ix(4)</a>.
<li>Added missing <a href="https://man.openbsd.org/sxiccmu">sxiccmu(4)</a> OHCI clocks for the Allwinner R40.
<!-- 2019/08/18 -->
<li>Implemented Linux compatibility <a href="https://man.openbsd.org/acpi">acpi(4)</a> interfaces and enabled the ACPI support code in <a href="https://man.openbsd.org/radeon">radeon(4)</a> and <a href="https://man.openbsd.org/amdgpu">amdgpu(4)</a>.
<!-- 2019/08/17 -->
<!-- 2019/08/16 -->
<li>Removed snmpctl(8) in favor of <a href="https://man.openbsd.org/snmp">snmp(1)</a>.
<li>Fixed a segfault in the <a href="https://man.openbsd.org/iked">iked(8)</a> parser when specifying an invalid transform.
<!-- 2019/08/15 -->
<li>Prevented a race condition where the <a href="https://man.openbsd.org/acct">acct(2)</a> syscall and accounting thread both tried to close a vnode.
<!-- 2019/08/14 -->
<li>Fixed an <a href="https://man.openbsd.org/iked">iked(8)</a> NAT traversal detection bug when "local" option is not explicitly set.
<!-- 2019/08/13 -->
<li>Implemented backlight control for <a href="https://man.openbsd.org/amdgpu">amdgpu(4)</a>, allowing setting of the backlight using <a href="https://man.openbsd.org/wsconsctl">wsconsctl(8)</a>.
<li>Modified <a href="https://man.openbsd.org/azalia">azalia(4)</a> to enable speaker routing on the ThinkPad X1C7.
<li>Fixed a segmentation fault in <a href="https://man.openbsd.org/awk">awk(1)</a>.
<li>Allowed PXE booting using U-Boot by relaxing requirements of the EFI PXE protocol.
<li>Enabled <a href="https://man.openbsd.org/amdgpu">amdgpu(4)</a> on amd64.
<!-- 2019/08/12 -->
<li>Added Union Memory NVMe <a href="https://man.openbsd.org/pci">pci(4)</a> ids.
<li>Modified <a href="https://man.openbsd.org/ospfd">ospfd(8)</a> to warn when a neighbor changes its source IP address.
<!-- 2019/08/11 -->
<li>Ensured that mail rejected by the LMTP server in <a href="https://man.openbsd.org/smtpd">smtpd(8)</a> will stay queued, rather than bouncing.
<li>Added clock support to <a href="https://man.openbsd.org/sxirtc">sxirtc(4)</a>, needed by newer Linux DTs.
<li>Added <a href="https://man.openbsd.org/sxisyscon">sxisyscon(4)</a>, a driver for the system controller found on various Allwinner SoCs.
<li>Fixed <a href="https://man.openbsd.org/pluart">pluart(4)</a> output when a machine is under load.
<!-- 2019/08/10 -->
<li>Imported from OpenSSL 1.1.1 to ultimately support CMS in <a href="https://man.openbsd.org/crypto">crypto(3)</a>.
<!-- 2019/08/09 -->
<li>Moved to 6.6-beta.
<li>Used <a href="https://man.openbsd.org/unveil">unveil(2)</a> to restrict <a href="https://man.openbsd.org/ldpd">ldpd(8)</a> filesystem access.
<li>Added TSC synchronization for multiprocessor machines and re-enabled TSC as the default amd64 time source.
<li>Imported <a href="https://man.openbsd.org/snmp">snmp(1)</a>, a new snmp client which aims to be netsnmp-compatible for supported features.
<!-- 2019/08/08 -->
<li>Added <code>--address</code> argument to <a href="https://man.openbsd.org/openrsync">openrsync(1)</a> to bind to the specified address when connecting to an rsync daemon.
<li>Began supporting WPA2 CCMP encryption/decryption in hardware with <a href="https://man.openbsd.org/iwm">iwm(4)</a>.
<li>Disabled filesystem access for <a href="https://man.openbsd.org/dhcpd">dhcpd(8)</a> invoked with -A/-C/-L through use of <a href="https://man.openbsd.org/unveil">unveil(2)</a>.
<!-- 2019/08/07 -->
<li>Removed <code>-d dst</code> and <code>-t minutes_west</code> from <a href="https://man.openbsd.org/date">date(1)</a> as part of the kernel timezone removal effort.
<li>Added recognition of the <a href="https://man.openbsd.org/azalia">azalia(4)</a> Realtek ALC285.
<li>Mitigated CVE-2019-1125, a potential exploit utilizing a variant of the Spectre side-channel vulnerability in Intel CPUs built since 2012.
<li>Added <a href="https://man.openbsd.org/uvideo">uvideo(4)</a> support for dual functions on integrated USB cameras.
<li>Added <a href="https://man.openbsd.org/uvideo">uvideo(4)</a> support for the KSMedia 8-bit IR format.
<li>Improved <a href="https://man.openbsd.org/bgpd">bgpd(8)</a> RIB reload behavior and removed 'route-collector yes|no' from the bgpd config in favor of 'rde rib Loc-RIB no evaluate', which can be altered during runtime.
<!-- 2019/08/06 -->
<li>Fixed random kernel hangs on some sparc64 machines by blocking interrupts while sending an IPI on sunv4 (as on sun4u).
<!-- 2019/08/05 -->
<li>Fixed vnode leak bugs in <a href="https://man.openbsd.org/unveil">unveil(2)</a> and <a href="https://man.openbsd.org/realpath">realpath(3)</a> where <a href="https://man.openbsd.org/namei">namei(9)</a> reference counted the equal parent and lookup vnode twice.
<!-- 2019/08/04 -->
<li>Implemented <a href="https://man.openbsd.org/smbios">smbios(4)</a> support on arm64.
<!-- 2019/08/03 -->
<li>Increased maxusers to 80 on arm64, allowing growth up to 128.
<li>Ensured a one-shot-upgrade on compatible systems by having the bootloader us <code>fchmod -x</code> upon discovering and opening /bsd.upgrade, so that the file cannot be re-executed on the next boot.
<!-- 2019/08/02 -->
<li>Added Ampere vendor and eMAG PCIe <a href="https://man.openbsd.org/pci">pci(4)</a> ids.
<!-- 2019/08/01 -->
<li>Fixed an <a href="https://man.openbsd.org/smtpd">smtpd(8)</a> crash on excessively large input.
<li>Fixed a <a href="https://man.openbsd.org/umount">umount(8)</a> device busy error when <a href="https://man.openbsd.org/unveil">unveil(2)</a> and <a href="https://man.openbsd.org/chroot">chroot(8)</a> are used together.
<!-- 2019/07/31 -->
<li>Added <a href="https://man.openbsd.org/tpmr">tpmr(4)</a>, an 802.1Q two-port MAC relay implementation.
<!-- 2019/07/30 -->
<li>Fixed dual booting of MacOS 9.2.2 formatted disks.
<li>Enabled the AUTOCONF4 <a href="https://man.openbsd.org/dhclient">dhclient(8)</a> flag, set on startup and able to be set/unset by <a href="https://man.openbsd.org/ifconfig">ifconfig(8)</a>.
<!-- 2019/07/29 -->
<li>Prevented a panic when setting up a <a href="https://man.openbsd.org/gre">gre(4)</a> tunnel when IPv6 duplicate address detection sends a packet too soon.
<li>Made <a href="https://man.openbsd.org/nc">nc(1)</a> proxy auth work with http 1.1-speaking webservers.
<li>Added support for 802.11n Tx aggregation to net80211 and <a href="https://man.openbsd.org/iwm">iwm(4)</a>.
<!-- 2019/07/28 -->
<li>Added <a href="https://man.openbsd.org/iavf">iavf(4)</a> driver for Intel Ethernet Adaptive Virtual Functions compatible with SR-IOV virtual functions of Intel 700 series and newer ethernet controllers.
<li>Added octeon bootloader to files copied to the boot partition. To use the bootloader, the firmware must be configured to load file "boot" instead of "bsd."
<li>Increased the maximum channels for <a href="https://man.openbsd.org/uaudio">uaudio(4)</a> devices from 16 to 64.
<!-- 2019/07/27 -->
<li>Fixed booting from <a href="https://man.openbsd.org/nvme">nvme(4)</a> on sparc64.
<li>Moved <a href="https://man.openbsd.org/ldomd">ldomd(8)</a> configuration format from <a href="https://man.openbsd.org/ldomctl">ldomctl(8)</a> into <a href="https://man.openbsd.org/ldom.conf">ldom.conf(5)</a>.
<!-- 2019/07/26 -->
<li>Added recognition of sparc64 PCI buses which don't support INTx.
<!-- 2019/07/25 -->
<li>Added Sun Static Direct I/O <a href="https://man.openbsd.org/pci">pci(4)</a> ids.
<li>Added checks for programs trying to access files hidden by <a href="https://man.openbsd.org/unveil">unveil(2)</a> and added these violators to the <a href="https://man.openbsd.org/lastcomm">lastcomm(1)</a> output and daily mail.
<!-- 2019/07/24 -->
<li>Fixed a <a href="https://man.openbsd.org/pledge">pledge(2)</a> violation in <a href="https://man.openbsd.org/ssh">ssh(1)</a> when a combination of a Yubikey, GnuPG and remote forwarding is used.
<li>Made SMTPS default to port 465 in relay-host.
<li>Ensured that -n overrides -t in <a href="https://man.openbsd.org/lock">lock(1)</a>, irrespective of order.
<!-- 2019/07/23 -->
<!-- 2019/07/22 -->
<li>Skipped sending mail in secure mode (-S) in <a href="https://man.openbsd.org/vi">vi(1)</a> when executing the :pre[serve] command or dying from SIGTERM, allowing creation of the recovery file without adding to the <a href="https://man.openbsd.org/pledge">pledge(2)</a>.
<li>Disabled caches and MMU on 32-bit ARM before jumping to the kernel entry point, to meet OpenBSD/armv7 kernel expectations of a boot with these off while UEFI and U-Boot work with them enabled.
<li>Applied <a href="https://man.openbsd.org/unveil">unveil(2)</a> to <a href="https://man.openbsd.org/switchd">switchd(8)</a>.
<!-- 2019/07/21 -->
<!-- 2019/07/20 -->
<li>Ensured <a href="https://man.openbsd.org/bridge">bridge(4)</a> will choose the physical interface for delivery when multiple ports share the same MAC address.
<!-- 2019/07/19 -->
<li>Removed the default timeout from <a href="https://man.openbsd.org/lock">lock(1)</a>.
<li>Prevented a possible race condition during <a href="https://man.openbsd.org/dhclient">dhclient(8)</a> startup.
<li>Increased efficiency of poll() in <a href="https://man.openbsd.org/bgpd">bgpd(8)</a> by allocating increased send and receive buffers for socketpair().
<!-- 2019/07/18 -->
<li>Allowed the <a href="https://man.openbsd.org/ssh-keygen">ssh-keygen(1)</a> verbose flag when searching for host keys in known hosts, printing the matching hosts's random art signature.
<!-- 2019/07/17 -->
<li>Prevented a kernel crash in <a href="https://man.openbsd.org/pf">pf(4)</a> by adding a check to prevent expired once rules from being added to pf_rule_gcl.
<li>Changed the <a href="https://man.openbsd.org/bgpd">bgpd(8)</a> Adj-RIB-Out to a per-peer set of RB trees, improving speed.
<li>Added a bootloader for octeon to be enabled later. The loader program is accompanied by the <a href="https://man.openbsd.org/octboot">octboot(4)</a> device, which allows loading and launching kernels.
<!-- 2019/07/16 -->
<li>Prevented integer overflow when checking mbuf limits.
<li>Fixed a race condition in <a href="https://man.openbsd.org/ntpd">ntpd(8)</a> and adjusted to re-resolve and retrieve constraints after clock syncing to correct shifts during time adjustment.
<!-- 2019/07/15 -->
<li>Made <a href="https://man.openbsd.org/realpath">realpath(3)</a> posixly correct by changing the kernel implementation not to succeed on final path components which do not exist.
<li>Added support for PKCS8 as an optional format for storage of private <a href="https://man.openbsd.org/ssh">ssh(1)</a> keys, enabled via <code>ssh-keygen -m PKCS8</code>.
<li>Added tls-cert-bundle option to <a href="https://man.openbsd.org/unbound.conf">unbound.conf(5)</a>. TLS connections are not reused by <a href="https://man.openbsd.org/unbound">unbound(8)</a>, so TCP and TLS handshakes will disproportionately increase latency compared to UDP.
<li>Fixed a direct map bug affecting amd64 machines with greater than 1023GB physical memory.
<!-- 2019/07/14 -->
<li>Provided a notification to stderr to indicate messages have been shown when <a href="https://man.openbsd.org/mandoc">mandoc(1)</a> output is printed without a pager, to indicate messages may have preceded the output.
<li>Added an interface to set/update a data property to <a href="https://man.openbsd.org/ldomctl">ldomctl(8)</a>.
<!-- 2019/07/13 -->
<!-- 2019/07/12 -->
<li>Ensured that <a href="https://man.openbsd.org/sndiod">sndiod(8)</a> will not lose track of which volume controls belong to different instances of the same program upon disconnection and reconnection.
<li>Included SHA2-variant RSA key algorithms in KEX proposal, allowing <a href="https://man.openbsd.org/ssh-keyscan">ssh-keyscan(1)</a> to harvest keys from servers that disable SHA1 ssh-rsa.
<!-- 2019/07/11 -->
<li>Added access to <a href="https://man.openbsd.org/timeout.9">timeout(9)</a> status and statistics to <a href="https://man.openbsd.org/sysctl.2">sysctl(2)</a>, allowing throughput tracking of the timeout layer from userspace.
<li>Restricted filesystem access for <a href="https://man.openbsd.org/dhclient">dhclient(8)</a> using <a href="https://man.openbsd.org/unveil">unveil(2)</a>.
<!-- 2019/07/10 -->
<li>Enforced a per connection limit of 128 SACK holes managed at the <a href="https://man.openbsd.org/tcp">tcp(4)</a> socket, further preventing an unlikely attack where the lists of SACK options grow due to an attacker attaching all sack holes to a limited number of TCP connections, consuming CPU.
<li>Added the missing <a href="https://man.openbsd.org/openssl">openssl(1)</a> option <code>dsa -modulus</code>.
<li>Ensured that <a href="https://man.openbsd.org/uvideo">uvideo(4)</a> devices are allowed sufficient probe buffer size for the given version.
<li>Implemented Linux <a href="https://man.openbsd.org/kthread">kthread(9)</a> <a href="https://man.openbsd.org/drm">drm(4)</a> interfaces.
<!-- 2019/07/09 -->
<li>Added OpenBSD::Unveil, a perl interface to <a href="https://man.openbsd.org/unveil">unveil(2)</a>.
<!-- 2019/07/08 -->
<li>Fixed a <a href="https://man.openbsd.org/vfs">vfs(9)</a> unlinking failure due to <a href="https://man.openbsd.org/unveil">unveil(2)</a>, which led to a file system which could not be unmounted.
<!-- 2019/07/07 -->
<li>Added support for version 3.0 of the 'mdstore' protocol to <a href="https://man.openbsd.org/ldomctl">ldomctl(8)</a>.
<li>Fixed a race condition in <a href="https://man.openbsd.org/mpii">mpii(4)</a> devices by waiting for ports to finish scanning.
<li>Added user instructions to manually run <code>/usr/libexec/reorder_kernel</code> in case of <a href="https://man.openbsd.org/syspatch">syspatch(8)</a> kernel update failure.
<li>Handled unreliable ntp peers by removing them from the pool upon non-response in <a href="https://man.openbsd.org/ntpd">ntpd(8)</a>, preserving good peers and re-resolving to find a replacement.
<!-- 2019/07/06 -->
<!-- 2019/07/05 -->
<li>Modified octeon to allow all network interfaces for root device selection when there is no explicit device class match for a given boot device.
<li>Improved file cleanup code for <a href="https://man.openbsd.org/syslogd">syslogd(8)</a> that had been blocked by <a href="https://man.openbsd.org/unveil">unveil(2)</a>, preserving the ability to remove a stale <code>/var/run/syslog.pid</code> file.
<li>Prevented a panic with <a href="https://man.openbsd.org/bwfm">bwfm(4)</a> devices due to an overflowing async ring buffer.
<!-- 2019/07/04 -->
<li>Added <a href="https://man.openbsd.org/aggr">aggr(4)</a>, a dedicated driver to implement 802.1AX link aggregration.
<li>Fixed a <a href="https://man.openbsd.org/free">free(3)</a> size panic when detaching a crypto <a href="https://man.openbsd.org/softraid">softraid(4)</a> volume on i386.
<li>Updated the mac/vlan filters appropriately when the mac address changes on an <a href="https://man.openbsd.org/ixl">ixl(4)</a> device.
<li>Added server time.cloudflare.com to <a href="https://man.openbsd.org/ntpd.conf">ntpd.conf(5)</a>.
<!-- 2019/07/03 -->
<li>Improved handling of Raven, Raven2 and Picasso <a href="https://man.openbsd.org/amdgpu">amdgpu(4)</a> devices.
<li>Added <a href="https://man.openbsd.org/tsleep_nsec">tsleep_nsec(9)</a>, <a href="https://man.openbsd.org/msleep_nsec">msleep_nsec(9)</a> and <a href="https://man.openbsd.org/rwsleep_nsec">rwsleep_nsec(9)</a>, which take timeouts in nanoseconds and use INFSLP to indicate a timeout should not be set.
<li>Stopped a segfault in <a href="https://man.openbsd.org/mandoc">mandoc(1)</a> when /tmp is not writable.
<li>Locked the kernel when removing file descriptors from the descriptor table, preventing a race with <a href="https://man.openbsd.org/kevent">kevent(2)</a>.
<!-- 2019/07/02 -->
<li>Fixed a bug in <a href="https://man.openbsd.org/pf">pf(4)</a> where the next hop interface configured with 'route-to' was not used when using source address tracking.
<li>Added thermal zone handling code to link together thermal sensors and cooling devices to actively or passively cool devices. Registered <a href="https://man.openbsd.org/cpu">cpu(4)</a> as a cooling device to support passive cooling and <a href="https://man.openbsd.org/rktemp">rktemp(4)</a> as a thermal sensor.
<!-- 2019/07/01 -->
<li>Switched the default compiler on octeon to <a href="https://man.openbsd.org/clang">clang(1)</a>.
<li>Updated Mesa to 19.0.8.
<li>Stored the current filter parameter in the <a href="https://man.openbsd.org/smtpd">smtpd(8)</a> session, fixing a bug where filters in a chain received a null parameter.
<!-- 2019/06/30 -->
<li>Reintroduced ifiq_input counting backpressure by counting the number of times a nic has tried to queue packets before the stack processes them as a measure of load on the network stack, and beginning to drop packets when the load is too high.
<li>Implemented proper HDMI audio support for serial DVO.
<!-- 2019/06/29 -->
<!-- 2019/06/28 -->
<li>Updated libexpat to 2.2.7, including a fix for a potential denial-of-service attack (CVE-2018-20843).
<li>Modified amd64 and i386 to write back and invalidate caches before updating CPU microcode and added a compiler-level memory barrier to the instruction.
<li>Updated <a href="https://man.openbsd.org/unbound">unbound(8)</a> to 1.9.2.
<li>Fixed a problem with the <a href="https://man.openbsd.org/bgpd">bgpd(8)</a> session engine which caused it to spin with a poll timeout of 0.
<!-- 2019/06/27 -->
<li>Enabled MSI-X interrupts.
<!-- 2019/06/26 -->
<li>Allowed additional <a href="https://man.openbsd.org/video.4">video(4)</a> ioctls for the video pledge needed by chromium.
<li>Fixed sign handling in emulated floating point operations on sparc64.
<li>Added support for OCSP stapling to <a href="https://man.openbsd.org/relayd">relayd(8)</a>.
<!-- 2019/06/25 -->
<li>Added support for bypassing iommu translation on sparc64, providing potentially substantial performance improvements.
<li>Implemented suspend/resume support for MSI-X interrupts.
<li>Fixed an endless loop of peer_down errors on <a href="https://man.openbsd.org/bgpd">bgpd(8)</a> due to an uninitialized peer id.
<li>Removed irrfilter from <a href="https://man.openbsd.org/bgpctl">bgpctl(8)</a>. Other tools can be used to generate AS and prefix sets based on IRR data, such as bgpq3 (in ports).
<!-- 2019/06/24 -->
<li>Added the <a href="https://man.openbsd.org/glkgpio">glkgpio(4)</a> driver for the gpio controllers on Intel's Gemini Lake SoC.
<li>Stopped retrying to get the usb descriptor in usbd_new_device() when the call times out, making reattaching USB at resume happen more quickly.
<li>Readded communities lost after the <a href="https://man.openbsd.org/bgpd">bgpd(8)</a> community changes by dumping them explicitly with mrt.
<li>Added an option to build octeon kernels using <a href="https://man.openbsd.org/clang">clang(1)</a>.
<li>Unlocked <a href="https://man.openbsd.org/getrlimit">getrlimit(2)</a> and <a href="https://man.openbsd.org/setrlimit">setrlimit(2)</a> syscalls.
<!-- 2019/06/23 -->
<li>Added <a href="https://man.openbsd.org/ps">ps(1)</a> '-o pledge' option, which prints a comma-separated list of pledges active on each process.
<li>Exported the state of <a href="https://man.openbsd.org/unveil">unveil(2)</a> to allow display by <a href="https://man.openbsd.org/ps">ps(1)</a> and added status flags 'u' or 'U' to process installed unveils not yet locked and locked, respectively.
<li>Invalidated icache when changing <a href="https://man.openbsd.org/pmap">pmap(1)</a> mapping on octeon, preventing running of previous instructions.
<li>Made <a href="https://man.openbsd.org/taskq_barrier">taskq_barrier(9)</a> work for multi-threaded task queues.
<li>Updated <a href="https://man.openbsd.org/clang">clang(1)</a> build infrastructure for LLVM 8.0.0.
<li>Updated LLVM to 8.0.0.
<!-- 2019/06/22 -->
<li>Unlocked <a href="https://man.openbsd.org/read">read(2)</a> and <a href="https://man.openbsd.org/write.2">write(2)</a> syscalls.
<!-- 2019/06/21 -->
<li>Switched KARL to using <a href="https://man.openbsd.org/install">install(1)</a> -F rather than cp for <a href="https://man.openbsd.org/fsync">fsync(2)</a> to reduce likelihood of an incomplete kernel transfer to disk.
<li>Fixed conversions to long double on sparc64.
<li>Made resource limit access MP-safe.
<li>Encrypted private <a href="https://man.openbsd.org/ssh">ssh(1)</a> keys that are not in use as protection against speculation and memory sidechannel attacks like Spectre, Meltdown, Rowhammer and Rambleed.
<!-- 2019/06/20 -->
<li>Added a -A flag to show-options in <a href="https://man.openbsd.org/tmux">tmux(1)</a> to show parent options.
<li>Added a DNS probe to determine whether <a href="https://man.openbsd.org/ntpd">ntpd(8)</a> should attempt an (auto) settime or give up.
<!-- 2019/06/19 -->
<li>Added -f flag to reput and reget in <a href="https://man.openbsd.org/sftp">sftp(1)</a> and settled on use of the -p and -R forms of existing switches.
<li>Modified test (aka "[") in <a href="https://man.openbsd.org/ksh">ksh(1)</a> to allow use of string greater/less than operators, matching the behavior of <a href="https://man.openbsd.org/test">test(1)</a> and other shells like bash and dash.
<!-- 2019/06/18 -->
<li>Fixed potentially stalling TCP connections on wifi by stopping probe of Tx rate in the case of transmission failure or excessive retries.
<!-- 2019/06/17 -->
<li>Updated libc++, libc++abi and libunwind to 8.0.0.
<li>Added the <a href="https://man.openbsd.org/aplgpio">aplgpio(4)</a> driver for the gpio controllers on Intel's Apollo Lake SoC.
<li>Imported Kristaps Dzonsons' RPKI validator, <a href="https://man.openbsd.org/rpki-client">rpki-client(8)</a>.
<li>Prevented a panic in <a href="https://man.openbsd.org/pci_intr_establish">pci_intr_establish(9)</a> by assigning an address to the BAR used by the MSI-X tables if none has been assigned.
<li>Rewrote <a href="https://man.openbsd.org/bgpd">bgpd(8)</a> community matching and handling code and improved performance for setups using many communities.
<!-- 2019/06/16 -->
<li>Removed the old userland <a href="https://man.openbsd.org/realpath">realpath(3)</a> and replaced it with __realpath(), a kernel implementation. This will prevent calling readlink() on every component of a path and improve performance for <a href="https://man.openbsd.org/unveil">unveil(2)</a>.
<li>Added a -c option to <a href="https://man.openbsd.org/logger">logger(1)</a> for passing LOG_CONS to <a href="https://man.openbsd.org/syslog">syslog(3)</a>.
<li>Replaced <a href="https://man.openbsd.org/chroot">chroot(2)</a> with <a href="https://man.openbsd.org/unveil">unveil(2)</a> for <a href="https://man.openbsd.org/acme-client">acme-client(1)</a>.
<li>Rewrote <a href="https://man.openbsd.org/doas">doas(1)</a> environment inheritance not to inherit, and instead reset to the target user's values.
<li>Restricted <a href="https://man.openbsd.org/sysctl.2">sysctl(2)</a> filesystem access to read only _PATH_DEVDB and /dev through <a href="https://man.openbsd.org/unveil">unveil(2)</a>.
<!-- 2019/06/15 -->
<!-- 2019/06/14 -->
<li>Stopped <a href="https://man.openbsd.org/tmux">tmux(1)</a> from looping if a menu item contains invisible characters.
<li>Converted assorted kernel code from use of <a href="https://man.openbsd.org/hz">hz(9)</a> to <a href="https://man.openbsd.org/timeout_add_sec">timeout_add_sec(9)</a> et al.
<li>Added additional Apollo Lake <a href="https://man.openbsd.org/pci">pci(4)</a> ids.
<!-- 2019/06/13 -->
<li>Prevented a crash when the environment variable is present but empty in <a href="https://man.openbsd.org/tmux">tmux(1)</a>.
<li>Protected against a kernel crash due to missing inp_ppcb when <a href="https://man.openbsd.org/fstat">fstat(1)</a> was called often and TCP was aborted with reset.
<li>Added regular expression support for the format search, match and substitute modifiers in <a href="https://man.openbsd.org/tmux">tmux(1)</a>.
<!-- 2019/06/12 -->
<li>Implemented elliptic curve (ECDSA) domain keys in <a href="https://man.openbsd.org/acme-client">acme-client(1)</a>.
<li>Modified <a href="https://man.openbsd.org/tmux">tmux(1)</a> to pass the target on to new commands with if -F.
<!-- 2019/06/11 -->
<li>Changed the number of <a href="https://man.openbsd.org/wsmouse">wsmouse(4)</a> devices created by MAKEDEV to 10, allowing X input configs for many devices at once on newer machines.
<!-- 2019/06/10 -->
<li>Implemented SHA-2 support for <a href="https://man.openbsd.org/snmpd">snmpd(8)</a> authentication (RFC 7860).
<li>Added the <a href="https://man.openbsd.org/mcx">mcx(4)</a> driver to sparc64.
<li>Implemented MSI-X support on sparc64.
<!-- 2019/06/09 -->
<li>Allowed <a href="https://man.openbsd.org/drm">drm(4)</a> allocation of memory without constraints if the hardware supports 64-bit DMA.
<li>Introduced <a href="https://man.openbsd.org/ntpd">ntpd(8)</a> automatic settime mode.
<!-- 2019/06/08 -->
<li>Included <a href="https://man.openbsd.org/mount_nfs">mount_nfs(8)</a> on the amd64 ramdisk_cd.
<li>Skipped PCI host bridges and devices not present with <a href="https://man.openbsd.org/acpi">acpi(1)</a> when establishing the mapping between ACPI device nodes and PCI devices.
<!-- 2019/06/07 -->
<li>Added the <a href="https://man.openbsd.org/ukspan">ukspan(4)</a> driver for the Keyspan USA19HS USB serial adapter.
<li>Implemented RFC 8555 "Automatic Certificate Management Environment (ACME)" to enable <a href="https://man.openbsd.org/acme-client">acme-client(1)</a> to communicate with the v02 Let's Encrypt API. IMPORTANT NOTE: Users must change the api url in /etc/acme-client.conf to <a href="https://acme-v02.api.letsencrypt.org/directory">https://acme-v02.api.letsencrypt.org/directory</a>. The v01 API will no longer be usable. Additionally, the <a href="https://man.openbsd.org/acme-client">acme-client(1)</a> -A and -D flags have been removed.
<li>Enabled <a href="https://man.openbsd.org/mcx">mcx(4)</a> on arm64.
<!-- 2019/06/06 -->
<!-- 2019/06/05 -->
<li>Added a -v flag to source-file in <a href="https://man.openbsd.org/tmux">tmux(1)</a> to show the commands and line numbers.
<li>Introduced an ECDSA privsep engine and the code required for <a href="https://man.openbsd.org/smtpd">smtpd(8)</a> to load and use ECDSA certificates.
<!-- 2019/06/04 -->
<li>Supported 64BIT DMA for io in <a href="https://man.openbsd.org/mpii">mpii(4)</a>.
<li>Increased MAXCPUs to 32 in arm64, allowing use of all cores on the Ampere eMAG.
<!-- 2019/06/03 -->
<li>Prevented corruption of the <a href="https://man.openbsd.org/pckbc">pckbc(4)</a> command queue when the first of multiple synchronous commands to timeout clears the command queue.
<li>Allowed <a href="https://man.openbsd.org/mg">mg(1)</a> beginning-of-buffer and end-of-buffer commands the ability to take a numeric argument and remove n/10th of the way from the top or bottom of the current buffer respectively.
<li>Fixed MSI/MSI-X on arm64 machines with agintc.
<li>Implemented <a href="https://man.openbsd.org/mcx">mcx(4)</a> rx filtering using the flow table.
<!-- 2019/06/02 -->
<li>Switched bintime routines to <a href="https://man.openbsd.org/bintimeadd">bintimeadd(9)</a> and introduced <a href="https://man.openbsd.org/bintimecmp">bintimecmp(9)</a>, with similar behavior to the <a href="https://man.openbsd.org/timeradd">timeradd(3)</a> macros.
<li>Used a simple hash table to look up blocks by the fast-hash in <a href="https://man.openbsd.org/openrsync">openrsync(1)</a> and used a rolling computation, putting openrsync speed on par with gpl rsync for file updates.
<li>Added <a href="https://man.openbsd.org/mandoc">mandoc(1)</a> support for 'prefers-color-scheme: dark'.
<!-- 2019/06/01 -->
<li>Called <a href="https://man.openbsd.org/pmap_growkernel">pmap_growkernel(9)</a> before uvm is initialized on arm64 to ensure machines with large amounts of physical memory do not fail to initialize uvm.
<!-- 2019/05/31 -->
<li>Added support for the Cortex-A65 CPU.
<li>Re-enabled RETGUARD leaf function optimization for arm64.
<li>Added <a href="https://man.openbsd.org/relayd">relayd(8)</a> support for SNI with new 'tls keypair' option to load additional certificates.
<li>Checked the type of a network statement when looking for duplicates in <a href="https://man.openbsd.org/bgpd">bgpd(8)</a>. This fixes added network 0.0.0.0/0 after 'network inet static'.
<li>Added MSI-X support for <a href="https://man.openbsd.org/acpipci">acpipci(4)</a>, pciecam, <a href="https://man.openbsd.org/dwpcie">dwpcie(4)</a> and <a href="https://man.openbsd.org/rkpcie">rkpcie(4)</a>.
<!-- 2019/05/30 -->
<!-- 2019/05/29 -->
<li>Changed <a href="https://man.openbsd.org/vmctl">vmctl(8)</a> syntax to specify command options before the create, start and stop commands, matching commonly-expected style.
<li>Added <a href="https://man.openbsd.org/mcx">mcx(4)</a> jumbo frame support, setting the port MTU up to 9500.
<!-- 2019/05/28 -->
<li>Worked around an <a href="https://man.openbsd.org/ntpd">ntpd(8)</a> bootstrap failure in a dnssec environment by repeating a failed DNS lookup after an incorrect time leads to dnssec validation failure and disallows setting the correct time.
<!-- 2019/05/27 -->
<li>Made improvements to <a href="https://man.openbsd.org/bgpd">bgpd(8)</a> peer finding in the case where many peers have been configured.
<li>Fixed <a href="https://man.openbsd.org/ubcmtp">ubcmtp(4)</a> multitouch by properly reading multi-finger data on type4 devices with padding between finger data.
<li>Fixed a <a href="https://man.openbsd.org/tmux">tmux(1)</a> crash when killing the current window.
<!-- 2019/05/26 -->
<li>Supported <a href="https://man.openbsd.org/virtio">virtio(4)</a> 1.0 for virtio_pci.
<li>Modified <a href="https://man.openbsd.org/tcpdump">tcpdump(8)</a> to support '-T erspan' and allow arbitrary gre protocols.
<li>Allowed specifying area by number as well as id in <a href="https://man.openbsd.org/ospf6d">ospf6d(8)</a>.
<!-- 2019/05/25 -->
<!-- 2019/05/24 -->
<li>Updated <a href="https://man.openbsd.org/perl">perl(1)</a> to 5.28.2.
<!-- 2019/05/23 -->
<li>Shutdown the service port when behind a captive portal with <a href="https://man.openbsd.org/unwind">unwind(8)</a>, allowing bypass of captive portals that correctly answer SOA queries for the root zone and return NXDOMAIN for the captive portal redirect domain if edns0 is present.
<li>Implemented 'show mrt neighbors' in <a href="https://man.openbsd.org/bgpctl">bgpctl(8)</a>, a command to print the neighbor table of MRT TABLE_DUMP_V2 dumps.
<li>Replaced the <a href="https://man.openbsd.org/tmux">tmux(1)</a> parser code, unifying parsing of the configuration file and string commands (and allowing constructs formerly unique to configuration to be used in string commands).
<li>Updated Mesa to 19.0.5.
<!-- 2019/05/22 -->
<li>Prevented more than one thread from opening a <a href="https://man.openbsd.org/wscons">wscons(4)</a> device in read/write mode.
<li>Ignored APM_UPDATE_TIME events in i386/amd64 <a href="https://man.openbsd.org/apm">apm(4)</a>. This prevents constant erosion of the system wallclock on certain systems.
<li>Stopped duplicate lease negotiation and application in <a href="https://man.openbsd.org/dhclient">dhclient(8)</a> when RTM_IFINFO reports a change to the MTU of the interface, which had been confusing Google Compute Engine.
<!-- 2019/05/21 -->
<li>Added <a href="https://man.openbsd.org/amdgpu">amdgpu(4)</a> from linux 4.19.44 to support recent AMD Radeon cards.
<!-- 2019/05/20 -->
<li>Modified <a href="https://man.openbsd.org/vmd">vmd(8)</a> to drop fatalx calls when claiming a new vm id, preventing a crash of vmd and existing vms.
<!-- 2019/05/19 -->
<li>Adjusted <a href="https://man.openbsd.org/ssh">ssh(1)</a> to default to using the rsa-sha2-512 signature algorithm when signing certificates with an RSA key. This will render these certificates incompatible with OpenSSH &lt; 7.2 unless the default is overridden by use of the <a href="https://man.openbsd.org/ssh-keygen">ssh-keygen(1)</a> -t flag.
<li>Fixed integer overflow in block size calculation in <a href="https://man.openbsd.org/aucat">aucat(1)</a>, fixing truncation of contents of files with rate above 64kHz generated in offline (-n) mode.
<!-- 2019/05/18 -->
<li>Used <a href="https://man.openbsd.org/unveil">unveil(2)</a> on <a href="https://man.openbsd.org/tetris">tetris(6)</a>.
<!-- 2019/05/17 -->
<li>Prevented <a href="https://man.openbsd.org/dhclient">dhclient(8)</a> from repeatedly obtaining a new/renewed lease when interface-mtu is present in a lease.
<li>Mitigated Intel's Microarchitectural Data Sampling vulnerability by using the new CPU VERW behavior if available or by using the proper sequence from Intel's "Deep Dive" doc in the return-to-userspace and enter-VMM-guest paths. Updated <a href="https://man.openbsd.org/vmm">vmm(4)</a> to pass through the MSR bits so that guests can apply the optimal mitigation.
<li>Added <a href="https://man.openbsd.org/tcpdump">tcpdump(8)</a> handling specific to ERSPAN type I.
<!-- 2019/05/16 -->
<li>Improved <a href="https://man.openbsd.org/athn">athn(4)</a> support for AR9271 to use the correct clock control register.
<li>Fixed <a href="https://man.openbsd.org/vmd">vmd(8)</a> -b to allow use of 'vmctl start foo -b /bsd -d disk.img -cL'.
<li>Adjusted <a href="https://man.openbsd.org/ospfctl">ospfctl(8)</a> to accept address and number format for 'ospfctl show database area XXX'.
<li>Modified <a href="https://man.openbsd.org/vmctl">vmctl(8)</a> to treat vms disabled in vm.conf the same as any other vm which is stopped.
<li>Stopped changing router-id on <a href="https://man.openbsd.org/ospfd">ospfd(8)</a> reload if unspecified.
<!-- 2019/05/15 -->
<li>Attached two <a href="https://man.openbsd.org/dwiic">dwiic(4)</a>-pci devices that are now functioning, enabling correct behavior of the trackpad and trackpoint of the Dell Precision 7520.
<li>Added support to the amd64 BIOS bootloader to load a kernel at a random virtual address.
<!-- 2019/05/14 -->
<li>Allowed specification of a cmdfile for <a href="https://man.openbsd.org/config">config(8)</a> rather than piping in commands for -ef.
<li>Added support for 'boot device' to <a href="https://man.openbsd.org/vm.conf">vm.conf(5)</a> grammar, the '-B device' counterpart from <a href="https://man.openbsd.org/vmctl">vmctl(8)</a>.
<!-- 2019/05/13 -->
<li>Added <a href="https://man.openbsd.org/tee">tee(1)</a> to the ramdisk filesystem to provide a moving progress bar during auto upgrade/install and a clean log.
<li>Emulated kvm pvclock in <a href="https://man.openbsd.org/vmm">vmm(4)</a>, compatible with <a href="https://man.openbsd.org/pvclock">pvclock(4)</a> in OpenBSD.
<!-- 2019/05/12 -->
<li>Added <a href="https://man.openbsd.org/elf">elf(3)</a> support for -znoretpolineplt and made -zretpolineplt the default. Affects i386 and amd64.
<li>Fixed <a href="https://man.openbsd.org/ifconfig">ifconfig(8)</a> newflags. Added a new 'stayauth' nwflag which can be set to let net80211 ignore deauth frames, useful when deauth frames are being spoofed by an attacker.
<li>Ensured the extended <a href="https://man.openbsd.org/acpi">acpi(4)</a> PM register descriptions actually exist before using them, fixing machines with ACPI 1.0.
<li>Added first drm render node to the <a href="https://man.openbsd.org/fbtab">fbtab(5)</a> list of devices to change when logging in on ttyC0. Added drm0 to loongson and added the complete set of wscons and drm devices to arm64.
<li>Added simple menus to <a href="https://man.openbsd.org/tmux">tmux(1)</a> tree, client and buffer modes.
<!-- 2019/05/11 -->
<li>Added the colemak keyboard layout.
<li>Added support for remapping <a href="https://man.openbsd.org/acpi">ACPI(4)</a> PM registers using the 'extended' gasio representation from the FADT, fixing the Lanner NCA-1510.
<li>Enabled reporting of the vm state through use of the <a href="https://man.openbsd.org/vmctl">vmctl(8)</a> 'status' command.
<li>Modified <a href="https://man.openbsd.org/ld.so">ld.so(1)</a> to prune visited leaves when walking dependencies to call init functions in topological sort order, greatly reducing cost.
<li>Repaired and improved v6 default route selection in install.sub, fixing autoinstalls.
<li>Added support for IKEv2 Message Fragmentation (RFC 7383) to <a href="https://man.openbsd.org/iked">iked(8)</a>.
<li>Implemented interrupt controller functionality in <a href="https://man.openbsd.org/rkgpio">rkgpio(4)</a>, allowing use of the <a href="https://man.openbsd.org/fusbtc">fusbtc(4)</a> interrupt on the RockPro64.
<li>Added <a href="https://man.openbsd.org/fusbtc">fusbtc(4)</a> to support the Fairchild FUSB302 USB Type-C controller.
<!-- 2019/05/10 -->
<li>Synced vm state in <a href="https://man.openbsd.org/vmd">vmd(8)</a> when (un)pausing a vm to ensure both <a href="https://man.openbsd.org/vmm">vmm(4)</a> and <a href="https://man.openbsd.org/vmd">vmd(8)</a> processes know the vm is paused.
<li>Handled some unhandled instructions for SVM which led to <a href="https://man.openbsd.org/vmm">vmm(4)</a> guest termination, as well as RDTSCP and INVLPGA instructions.
<li>Added <a href="https://man.openbsd.org/sysupgrade">sysupgrade(8)</a> support to the sparc64 bootloader.
<li>Added logging of <a href="https://man.openbsd.org/ssh">ssh(1)</a> PermitOpen and PermitListen violations.
<li>Added a fallback to <a href="https://man.openbsd.org/ehci">ehci(4)</a> which enables the USB ports on the RockPro64.
<li>Added support for simple <a href="https://man.openbsd.org/tmux">tmux(1)</a> menus usable with mouse or keyboard. Introduced the command "display-menu" to show a menu bound to the mouse on status line by default.
<li>Enabled switching between wireless and wired interfaces in <a href="https://man.openbsd.org/dhclient">dhclient(8)</a>, setting the default route with the interface address and allowing two default routes in the routing table. A wired interface will be preferred when connected.
<li>Explicitly disabled BCM4331 chips present in 2011-2012 Apple Mac systems to prevent an interrupt storm that can result when the Mac EFI firmware enables, but does not disable, the wireless controller.
<li>Added Intel Atom C3000 <a href="https://man.openbsd.org/pci">pci(4)</a> ids.
<li>Added port protection support to <a href="https://man.openbsd.org/switch">switch(4)</a>. Domain membership is checked for unicast, flooded (broadcast) and local (host-network-bound, e.g. trunk) traffic.
<li>Introduced <a href="https://man.openbsd.org/malloc_conceal">malloc_conceal(3)</a> and <a href="https://man.openbsd.org/calloc_conceal">calloc_conceal(3)</a>, which return memory in pages marked MAP_CONCEAL and call freezero() on free().
<li>Implemented DNS block lists in <a href="https://man.openbsd.org/unwind">unwind(8)</a>.
<li>Fixed a <a href="https://man.openbsd.org/bridge">bridge(4)</a> memory leak when multiple interfaces do MAC filtering.
<li>Added support for from/to in <a href="https://man.openbsd.org/relayd">relayd(8)</a> filter rules.
<!-- 2019/05/09 -->
<li>Introduced a -k flag to <a href="https://man.openbsd.org/sysupgrade">sysupgrade(8)</a> to preserve the files in /home/_sysupgrade after upgrading.
<li>Added measurement of poll intervals with monotonic clock to <a href="https://man.openbsd.org/acpisbs">acpisbs(4)</a>.
<li>Added consistent use of 'ifconfig $_if [-inet| -inet6]' to clear existing configurations completely after restarting an install.
<li>Added a <a href="https://man.openbsd.org/sysctl.2">sysctl(2)</a> accessor to struct pf_status to allow export of current status and statistics without super-user rights via sysctl. Used this to print <code>systat pf</code>.
<li>Changed the behavior of swap-window -d in <a href="https://man.openbsd.org/tmux">tmux(1)</a> to match swap-pane.
<li>Preserved dhcp configuration when restarting an install.
<!-- 2019/05/08 -->
<li>Modified <a href="https://man.openbsd.org/systat">systat(1)</a> to allow the use of 'b' to switch to stats since boot.
<li>Added <a href="https://man.openbsd.org/ucrcom">ucrcom(4)</a>, a driver for the serial console of certain chromebooks.
<li>Removed ld.so-local stack-protector handling functions on retguard systems, as hard-traps are used.
<li>Set the REQUEST_URI CGI variable to the requested URI and query string instead of the rewritten ones in <a href="https://man.openbsd.org/httpd">httpd(8)</a>.
<li>Fixed integer overflow with an excessively large number of <a href="https://man.openbsd.org/kqueue">kqueue(2)</a> events.
<li>Added support for more Intel 300 Series PCH to <a href="https://man.openbsd.org/ichiic">ichiic(4)</a>.
<li>Moved <a href="https://man.openbsd.org/bgpd">bgpd(8)</a> pfkey socket to the parent process. The refreshing of the keys is done whenever the session state changes to IDLE or ACTIVE, which should behave better when reloading configs with auth changes.
<li>Fixed a bug in <a href="https://man.openbsd.org/pkg_info">pkg_info(1)</a> -S where version elements were ignored.
<!-- 2019/05/07 -->
<li>Ensured <a href="https://man.openbsd.org/mcx">mcx(4)</a> completion queues are always rearmed to prevent rx or tx completion stalling.
<!-- 2019/05/06 -->
<li>Adjusted <a href="https://man.openbsd.org/unwind">unwind(8)</a> to try to resolve the DNSSEC trust anchor only if we have a validating resolver context.
<li>To restore <a href="https://man.openbsd.org/lockf">lockf(3)</a> deadlock detection, introduced a list for all pending blocked locks to be scanned before waiting on a blocking lock in order to determine whether sleeping would cause a deadlock.
<li>Enforced store/load order when setting or clearing AST flag on mips64, preventing an unlikely case with inter-CPU ASTs where the receiving CPU uses stale state. Ensured that the clearing store is performed before other memory accesses, preventing potential loss of an AST request.
<li>Issued a write-write barrier before sending IPI on mips64, preventing a receiving CPU from observing an old state when processing the interrupt.
<li>Made the interrupt and trap return paths check for ASTs with interrupts disabled, fixing unintentional delay of ASTs on MP mips64.
<li>Fixed reloading of network statements that have no fixed prefix specification in <a href="https://man.openbsd.org/bgpd">bgpd(8)</a>.
<li>Fixed a logic error when configuring the <a href="https://man.openbsd.org/alc">alc(4)</a> driver to use msi.
<!-- 2019/05/05 -->
<li>Fixed the case where <a href="https://man.openbsd.org/switchd">switchd(8)</a> does not save a copy of a packet needing forwarding.
<li>Added support for the EFI Random Number Generator Protocol, using it to XOR random data into the buffer we feed the kernel for amd64.
<!-- 2019/05/04 -->
<li>Relaxed a check in <a href="https://man.openbsd.org/knote">knote(9)</a> to prevent a panic without KERNEL_LOCK().
<li>Began to assume eDP is present on port A when there is no VBT, making <a href="https://man.openbsd.org/inteldrm">inteldrm(4)</a> work on a Gemini Lake system (HP Stream Laptop 14-cb1XX) where finding the VBT fails.
<li>Improved the interaction among <a href="https://man.openbsd.org/efifb">efifb(4)</a>, <a href="https://man.openbsd.org/inteldrm">inteldrm(4)</a> and <a href="https://man.openbsd.org/radeondrm">radeondrm(4)</a> for a serial console by introducing a 'primary' device, the one set up and used by firmware. This should help X to work correctly out of the box with multiple cards or with a serial console.
<li>Added <a href="https://man.openbsd.org/mcx">mcx(4)</a> driver for Mellanox ConnectX-4 (and later) Ethernet controllers.
<!-- 2019/05/03 -->
<li>Began to allow panes to be empty in <a href="https://man.openbsd.org/tmux">tmux(1)</a>, allowing output to be piped to them with split-window or display-message -I.
<li>Adjusted installer to remember 'autoconf' if install restarts.
<li>Added a 'forwarded' log format extending the 'combined' log format for <a href="https://man.openbsd.org/httpd">httpd(8)</a>, allowing tracking of request origins behind a proxy. This format is compatible with log analyzers like GoAccess and Webalizer.
<li>Fixed endless loop / OOB write on 64 bit systems with large buffers.
<li>Improved <a href="https://man.openbsd.org/man">man(1)</a> matching for requests for a specific section.
<li>Renamed the -c option in <a href="https://man.openbsd.org/sysupgrade">sysupgrade(8)</a> to -s to indicate snapshots, and implemented a -r option to force an upgrade to the next release.
<li>Added a -n option to <a href="https://man.openbsd.org/sysupgrade">sysupgrade(8)</a> for a no-reboot option.
<li>Adjusted <a href="https://man.openbsd.org/sysupgrade">sysupgrade(8)</a> to only fetch and upgrade if a new snapshot is available.
<!-- 2019/05/02 -->
<li>Avoided opening <a href="https://man.openbsd.org/httpd">httpd(8)</a> log files on 'no log,' preventing startup failures where the log/directory is missing but logging is disabled anyway.
<li>Avoided running the activate function for a partially-attached <a href="https://man.openbsd.org/ehci">ehci(4)</a> driver, preventing a panic during suspend for the Realtek DASH ehci.
<li>Added support for the cryptographic coprocessor found on newer AMD Ryzen CPUs/APUs.
<li>Allowed non-root users to become master when they are the first to open a <a href="https://man.openbsd.org/drm">drm(4)</a> device.
<li>Increased datasize and maxproc for the pbuild class in <a href="https://man.openbsd.org/login.conf">login.conf(5)</a>.
<!-- 2019/05/01 -->
<li>Used the proper UAC-v2.0 request in <a href="https://man.openbsd.org/uaudio">uaudio(4)</a> to read the device controls, fixing STALL errors in mixer requests causing the mixer to be unusable.
<li>Protected <a href="https://man.openbsd.org/tun">tun(4)</a> wakeup with KERNEL_LOCK, rather than NET_LOCK.
<!-- 2019/04/30 -->
<li>Pulled cdfs and cdrom production into the full ramdisk build for i386.
<li>Added a 'set_rate' method to the <a href="https://man.openbsd.org/envy">envy(4)</a> codec API, allowing card-specific codec initialization code called when the sample rate is changed. Implemented this method for ESI Juli@ cards, switching the AK5385 and AK4358 chips among single-, double- and quad-speed modes depending on host sample rate and suppressing aliasing noise.
<li>Enabled <a href="https://man.openbsd.org/mvmdio">mvmdio(4)</a> and <a href="https://man.openbsd.org/mvneta">mvneta(4)</a> on arm64.
<li>Enabled EnvyHT-specific sample rates (above 96kHz) on the host controller for <a href="https://man.openbsd.org/envy">envy(4)</a> devices.
<li>Added support for the Armada 3720 pinctrl controller to <a href="https://man.openbsd.org/mvpinctrl">mvpinctrl(4)</a>. This controller also includes GPIO controller functionality.
<li>Added <a href="https://man.openbsd.org/mvuart">mvuart(4)</a> to support the Armada 3720's serial console.
<li>Added support for the Armada 3720 clocks to <a href="https://man.openbsd.org/mvclock">mvclock(4)</a> and added <a href="https://man.openbsd.org/mvuart">mvuart(4)</a> to support the serial console.
<li>Allowed enabling of regulators with the 'regulator-always-on' property.
<li>Added <a href="https://man.openbsd.org/unveil">unveil(2)</a> to <a href="https://man.openbsd.org/chpass">chpass(1)</a>.
<li>Fixed user options crash in <a href="https://man.openbsd.org/tmux">tmux(1)</a>.
<li>Began the process of making Makefiles more similar across architectures.
<li>Restricted <a href="https://man.openbsd.org/hotplugd">hotplugd(8)</a> filesystem access with <a href="https://man.openbsd.org/unveil">unveil(2)</a>.
<li>Fixed a memory leak in window tree search in <a href="https://man.openbsd.org/tmux">tmux(1)</a>.
<!-- 2019/04/29 -->
<li>Added an equivalent test for master in drm_fb_helper_is_bound() for <a href="https://man.openbsd.org/drm">drm(4)</a>. This prevents black screens on hotplugging a new display with <a href="https://man.openbsd.org/X">X(7)</a> running, which required a vt switch.
<!-- 2019/04/28 -->
<li>Added a check to <a href="https://man.openbsd.org/ospfd">ospfd(8)</a> and <a href="https://man.openbsd.org/ospf6d">ospf6d(8)</a> that any "depend on" interfaces are in the same rdomain.
<li>Changed default Ruby version in <a href="https://man.openbsd.org/ports">ports(7)</a> to 2.6.
<li>Removed the KERNEL_LOCK from the <a href="https://man.openbsd.org/bridge">bridge(4)</a> output fast-path.
<li>Cranked BUFCACHEPERCENT back down to 20 after the increase to 80 exposed a few problems.
<li>Started a cleanup of boot media creation and made the process use the new <a href="https://man.openbsd.org/vnconfig">vnconfig(8)</a> vnd-auto-allocate mode.
<li>Removed the need for the -A option from <a href="https://man.openbsd.org/vnconfig">vnconfig(8)</a>.
<li>Silenced all of the OKs from <a href="https://man.openbsd.org/signify">signify(1)</a> while it is verifying the install sets for <a href="https://man.openbsd.org/sysupgrade">sysupgrade(8)</a>.
<!-- 2019/04/27 -->
<!-- 2019/04/26 -->
<li>Modified <a href="https://man.openbsd.org/syspatch">syspatch(8)</a> to default to using cdn.openbsd.org if there isn't a proper /etc/installurl.
<li>Changed <a href="https://man.openbsd.org/sysupgrade">sysupgrade(8)</a> to re-verify the signature only for SHA256 when checking the old files.
<li>Regenerated <a href="https://man.openbsd.org/moduli">moduli(5)</a>.
<li>Imported libdrm 2.4.98.
<!-- 2019/04/25 -->
<li>Removed <a href="https://man.openbsd.org/vnconfig">vnconfig(8)</a> functionality from <a href="https://man.openbsd.org/mount_vnd">mount_vnd(8)</a>.
<li>Added <a href="https://man.openbsd.org/sysupgrade">sysupgrade(8)</a>, a tool to upgrade OpenBSD to the next release or a new snapshot.
<li>Split <a href="https://man.openbsd.org/vnconfig">vnconfig(8)</a> out of <a href="https://man.openbsd.org/mount_vnd">mount_vnd(8)</a>.
<li>Extended the maximum size of the <a href="https://man.openbsd.org/bgpd">bgpd(8)</a> shutdown communication message to 255 bytes. Made the same adjustment to <a href="https://man.openbsd.org/bgpctl">bgpctl(8)</a>.
<li>Fixed a potential panic in <a href="https://man.openbsd.org/inteldrm">inteldrm(4)</a> caused by an interrupt coming in before the interrupt handler is set up.
<li>Adjusted <a href="https://man.openbsd.org/tmux">tmux(1)</a> to automatically scroll when dragging to create a selection with the mouse when the cursor reaches the top or bottom line.
<!-- 2019/04/24 -->
<li>Added support for the USB serial adapter found in Juniper SRX 300 to <a href="https://man.openbsd.org/uslcom">uslcom(4)</a>.
<li>Used <a href="https://man.openbsd.org/unveil">unveil(2)</a> to restrict file system access in <a href="https://man.openbsd.org/relayd">relayd(8)</a> to read only. Reverted (r1.175). "check script" needs access to the filesystem.
<li>Added a watchdog for unattended upgrade to reboot after 30 minutes in case the script halts.
<li>Changed most bootloaders to boot from /bsd.upgrade if it is present.
<li>Implemented SIOCGIFSFFPAGE in <a href="https://man.openbsd.org/bnxt">bnxt(4)</a> so that <a href="https://man.openbsd.org/ifconfig">ifconfig(1)</a> can get transceiver information from it.
<!-- 2019/04/23 -->
<li>Added the <a href="https://man.openbsd.org/pci">pci(4)</a> product id for the VMware <a href="https://man.openbsd.org/nvme">nvme(4)</a> interface.
<li>Added support for <a href="https://man.openbsd.org/ccp">ccp(4)</a> at <a href="https://man.openbsd.org/acpi">acpi(4)</a>.
<li>Added <a href="https://man.openbsd.org/pinctrl">pinctrl(4)</a> support for 'pinconf-single' devices and support for bias and drive-strength properties, needed for HiSilicon SoCs.
<li>Added the <a href="https://man.openbsd.org/octiic">octiic(4)</a> driver for OCTEON two-wire serial interfaces.
<li>Removed file name and line number output from <a href="https://man.openbsd.org/witness">witness(4)</a>, along with the wrapper for mutexes.
<li>Added -no-clear variants of copy-selection and copy-pipe to <a href="https://man.openbsd.org/tmux">tmux(1)</a> which do not clear the selection after copying.
<li>Checked for linkstate instead of IF_STA_POINTTOPOINT for originating router LSAs for P2P interfaces in <a href="https://man.openbsd.org/ospfd">ospfd(8)</a>, making 'passive' work on P2P interfaces.
<!-- 2019/04/22 -->
<li>Modified <a href="https://man.openbsd.org/vmm">vmm(4)</a> to flush guest TLB entries if the guest disables paging.
<li>Began to change only the clock frequency and skip setting voltage on arm64 systems supporting DVFS which do not expose a regulator.
<li>Added support for official Linux device tree bindings and the 'stub' clocks handling CPU clock frequency on the Hi3670.
<li>Stopped prompting for disks that do not contain a root partition during upgrades. This defaults to the correct disk when full disk encryption is in use, and will be useful for future unattended upgrades.
<!-- 2019/04/21 -->
<li>Set <a href="https://man.openbsd.org/vlan">vlan(4)</a> to use if_vinput instead of if_input, bypassing ifiqs and improving vlan input speeds.
<li>Added if_vinput so pseudo (ethernet) interfaces can bypass ifiqs, running interface input handlers directly rather than queuing the packets for a nettq to run and improving performance.
<li>Disabled <a href="https://man.openbsd.org/OpenBSD-6.4/mobileip">mobileip(4)</a>.
<li>Added support for rxprio to <a href="https://man.openbsd.org/gre">gre(4)</a>.
<li>Implemented the <a href="https://man.openbsd.org/roff">roff(7)</a> .break request, preventing infinite loops.
<li>Built <a href="https://man.openbsd.org/clang">clang(1)</a> on powerpc.
<li>Used IPL_TTY to prevent 'locking against myself' panics for drm/i915.
<li>Fixed crashes seen with the 'intel' X driver with the new <a href="https://man.openbsd.org/inteldrm">inteldrm(4)</a> kernel driver by fixing rbtree_postorder_for_each_entry_safe() implementation.
<li>Fixed unreliable 'ifconfig mode' with some wireless drivers by interpreting ENETRESET from ifm_change() as success in ifmedia_ioctl().
<!-- 2019/04/20 -->
<li>Added stdio <a href="https://man.openbsd.org/pledge">pledge(2)</a> to <a href="https://man.openbsd.org/nl">nl(1)</a> after opening a file but before doing operations.
<li>Completed conversion of <a href="https://man.openbsd.org/rdsetroot">rdsetroot(8)</a> to -lelf on alpha.
<li>Adjusted dma-range bufcache to 80% from 20%, to learn the downsides of this change based on user reports.
<li>Avoided an underflow in the rip6 delivered counter in <a href="https://man.openbsd.org/netstat">netstat(1)</a>.
<li>Fixed <a href="https://man.openbsd.org/netstat">netstat(1)</a> statistics so 'netstat -s -f inet6 -p rip6' correctly copies out rip6counters, not ip6counters.
<!-- 2019/04/19 -->
<li>Adapted radeon_detach_kms() to struct drm_device being split from drm softc. Avoids uvm_fault() when firmware is missing and <a href="https://man.openbsd.org/radeondrm">radeondrm(4)</a> is forcibly detached.
<li>Added a subsystem lock for vfs_lockf.c, allowing calling lf_advlock() and lf_purgelocks() without the kernel lock.
<li>Implemented factored-out txprio and rxprio checks.
<li>Implemented rxprio in <a href="https://man.openbsd.org/mpw">mpw(4)</a>, <a href="https://man.openbsd.org/mpe">mpe(4)</a> and <a href="https://man.openbsd.org/mpip">mpip(4)</a>. Added rxprio support to <a href="https://man.openbsd.org/etherip">etherip(4)</a> and <a href="https://man.openbsd.org/bpe">bpe(4)</a>.
<!-- 2019/04/18 -->
<li>Added support to <a href="https://man.openbsd.org/ifconfig">ifconfig(8)</a> for getting and setting rxprio, finishing support for RFC 2983. Implemented configuring rxprio in <a href="https://man.openbsd.org/vlan">vlan(4)</a>.
<li>Modified <a href="https://man.openbsd.org/pfctl">pfctl(8)</a> to always check for namespace collisions on table commands.
<li>Fixed <a href="https://man.openbsd.org/pfctl">pfctl(8)</a> table definition parsing as unprivileged user, printing a brief notice if -v was given to help find duplicate definitions by hand.
<li>Modified <a href="https://man.openbsd.org/sshd">sshd(8)</a> -T to assume any attribute not provided by -C does not match, allowing it to work when <a href="https://man.openbsd.org/sshd_config">sshd_config(5)</a> contains a Match directive with or without -C.
<!-- 2019/04/17 -->
<li>Released OpenSSH 8.0.
<li>Switched powerpc to big PIC to allow <a href="https://man.openbsd.org/clang">clang(1)</a> to build libc++abi and libc++.
<!-- 2019/04/16 -->
<li>Used txprio to control the use of exp as a priority field for <a href="https://man.openbsd.org/mpw">mpw(4)</a>, <a href="https://man.openbsd.org/mpip">mpip(4)</a> and <a href="https://man.openbsd.org/mpe">mpe(4)</a>. Intermediate LSPs can use the exp field to manage prioritization of encapsulated traffic.
<li>Prevented attaching drivers to devices for which a driver was attached early with simplebus on armv7 and arm64.
<li>Adjusted <a href="https://man.openbsd.org/myx">myx(4)</a> i2c reads to read only one byte at a time, increasing reliability.
<li>Fixed sff page reads for <a href="https://man.openbsd.org/myx">myx(4)</a> devices on little endian architectures.
<li>Rewrote <a href="https://man.openbsd.org/rdsetroot">rdsetroot(8)</a> using <a href="https://man.openbsd.org/elf">elf(3)</a>.
<!-- 2019/04/15 -->
<li>Imported xf86-video-amdgpu 19.0.1 for amd64 and i386.
<li>Implemented tx mitigation by calling the hardware transmit routine per several packets rather than for individual packets. Defers calls to the transmit routine to a network taskq, or until a backlog of packets has built up.
<li>Introduced 'pfctl -FR' to reset <a href="https://man.openbsd.org/pfctl">pfctl(8)</a> settings to defaults.
<li>Removed old -vlan and -vlandev code from <a href="https://man.openbsd.org/ifconfig">ifconfig(8)</a>, using these instead as aliases for -vnetid and -parent.
<!-- 2019/04/14 -->
<li>Added basic support to <a href="https://man.openbsd.org/ifconfig">ifconfig(8)</a> to display xfp and qsfp+ information.
<li>Implemented SIOCGIFSFFPAGE to allow <a href="https://man.openbsd.org/ifconfig">ifconfig(8)</a> to get transceiver information from <a href="https://man.openbsd.org/myx">myx(4)</a> devices.
<li>Applied <a href="https://man.openbsd.org/strvis">strvis(3)</a> to strings from USB devices in <a href="https://man.openbsd.org/usbdevs">usbdevs(8)</a>.
<li>Removed the potential for double-frees in copied cipher data by zeroing and freeing following EVP_CIPHER_CTX_copy() in <a href="https://man.openbsd.org/evp">evp(3)</a>. Used <a href="https://man.openbsd.org/calloc">calloc(3)</a> when allocating cipher_data to avoid use of uninitialized memory.
<li>Updated shared drm code, <a href="https://man.openbsd.org/inteldrm">inteldrm(4)</a> and <a href="https://man.openbsd.org/radeondrm">radeondrm(4)</a> to linux 4.19.34. This adds support for Intel Broxton/Apollo Lake, Amber Lake, Gemini Lake, Coffee Lake, Whiskey Lake, Cannon Lake and Ice Lake hardware.
<li>Stopped using <a href="https://man.openbsd.org/splnet">splnet(9)</a> when running the network stack now that it is using the NET_LOCK for protection, reducing latency spikes.
<!-- 2019/04/13 -->
<li>Increased information displayed for -v and -vv options for <a href="https://man.openbsd.org/tcpdump">tcpdump(8)</a> during md5 authentication.
<li>Added missing compatibles for newer Linux kernel bindings to <a href="https://man.openbsd.org/mvpinctrl">mvpinctrl(4)</a>.
<li>Fixed a leak in SSL_dup_CA_list() in <a href="https://man.openbsd.org/ssl.3">ssl(3)</a>.
</ul>

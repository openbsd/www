<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>OpenSSH FAQ</title>
<link rev= "made" href= "mailto:www@openbsd.org">
<meta name= "resource-type" content= "document">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name= "description"   content= "de OpenSSH FAQ-pagina">
<meta name= "keywords"      content= "OpenSSH,SSH,Secure Shell,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "Dit document copyright 1999-2005 OpenBSD.">
</head>

<body bgcolor= "#ffffff" text= "#000000" link= "#23238E">
<a href="index.html"><img alt="[OpenSSH]" height="30" width="141" src="../images/smalltitle.gif" border="0"></a>
<p>

<h1>OpenSSH FAQ (Veelgestelde vragen)</h1>

<strong>Datum: 2005/01/25</strong>

<hr>

<blockquote>
<h3><a href= "#1.0">1.0 - Wat Is OpenSSH en Waar Kan Ik Het Krijgen?</a></h3>
<ul>
<li><a href= "#1.1">1.1 - Wat is OpenSSH en waar kan ik het downloaden?</a>
<li><a href= "#1.2">1.2 - Waarom zou het gebruikt moeten worden?</a>
<li><a href= "#1.3">1.3 - Welke besturingssystemen worden ondersteund?</a>
<li><a href= "#1.4">1.4 - Hoe zit het met auteursrecht, gebruik en patenten?</a>
<li><a href= "#1.5">1.5 - Waar kan ik hulp krijgen?</a>
</ul>

<h3><a href= "#2.0">2.0 - Algemene Vragen</a></h3>
<ul>
<li><a href= "#2.1">2.1 - Waarom maakt ssh/scp verbindingen vanaf lage poorten? Mijn firewall blokkeert deze.</a>
<li><a href= "#2.2">2.2 - Waarom is de ssh client setuid root?</a>
<li><a href= "#2.3">2.3 - Waarom heeft SSH 2.3 problemen met with OpenSSH 2.1.1?</a>
<li><a href= "#2.4">2.4 - Waarom print OpenSSH: Dispatch protocol error: type 20</a>
<li><a href= "#2.5">2.5 - Oude versies van de commerciële SSH versleutelen hostsleutels met IDEA.</a>
<li><a href= "#2.6">2.6 - Wat zijn die waarschuwingen over sleutellengtes?</a>
<li><a href= "#2.7">2.7 - X11 en/of agent forwarding werkt niet.</a>
<li><a href= "#2.8">2.8 - Na de upgrade van OpenSSH is ondersteuning voor SSH2 weg.</a>
<li><a href= "#2.9">2.9 - sftp/scp faalt bij de verbinding, maar ssh is OK.</a>
<li><a href= "#2.10">2.10 - Kan [foo] worden toegevoegd aan scp?</a>
<li><a href= "#2.11">2.11 - Hoe gebruik ik port forwarding?</a>
<li><a href= "#2.12">2.12 - Mijn ssh-verbinding loopt vast of wordt afgesloten na N minuten inactiviteit.</a>
<li><a href= "#2.13">2.13 - Hoe kan ik met scp een bestand met een dubbele punt kopiëren?</a>
<li><a href= "#2.14">2.14 - Waarom meldt OpenSSH z'n versienummer aan clients?</a>
</ul>

<h3><a href= "#3.0">3.0 - Portable OpenSSH Vragen</a></h3>
<ul>
<li><a href= "#3.1">3.1 - Valse PAM-authenticatieberichten in logbestanden.</a>
<li><a href= "#3.2">3.2 - Lege wachtwoorden niet toegestaan met PAM-authenticatie.</a>
<li><a href= "#3.3">3.3 - ssh(1) doet lang over de totstandkoming van de verbinding of het inloggen</a>
<li><a href= "#3.4">3.4 - "Can't locate module net-pf-10" berichten in de log onder Linux.</a>
<li><a href= "#3.5">3.5 - Wachtwoordauthenticatie werkt niet (bv. onder Slackware 7.0 of Red Hat Linux 6.x)</a>
<li><a href= "#3.6">3.6 - Configure of sshd(8) zeurt over een gebrek aan RSA-ondersteuning</a>
<li><a href= "#3.7">3.7 - "scp: command not found" foutmeldingen</a>
<li><a href= "#3.8">3.8 - Kan de passphrase niet lezen</a>
<li><a href= "#3.9">3.9 - 'configure' ontbreekt of make faalt</a>
<li><a href= "#3.10">3.10 - Hangt vast bij het afsluiten van ssh</a>
<li><a href= "#3.11">3.11 - Waarom hangt ssh vast bij het afsluiten?</a>
<li><a href= "#3.12">3.12 - Ik deed een upgrade naar OpenSSH 3.1 en X11-forwarding werkt niet meer.</a>
<li><a href= "#3.13">3.13 - Ik deed een upgrade naar OpenSSH 3.8 en sommige X11-programma's werken niet meer.</a>
<li><a href= "#3.14">3.14 - Ik kopieerde mijn publieke sleutel naar authorized_keys maar publieke-sleutelauthenticatie werkt nog steeds niet.</a>
<li><a href= "#3.15">3.15 - OpenSSH versies en PAM gedrag.</a>
</ul>

</blockquote>

<hr>

<h2><u><a name= "1.0">1.0 - Wat Is OpenSSH en Waar Kan Ik Het Krijgen?</a></u></h2>

<h2><a name= "1.1">1.1 - Wat is OpenSSH en waar kan ik het downloaden?</a></h2>

<p>
OpenSSH is een <b>VRIJE</b> versie van de programma's die netwerktoegang bieden 
via het SSH-protocol waarop steeds meer mensen op het Internet gaan vertrouwen.
Veel gebruikers van telnet, rlogin, ftp en dergelijke programma's beseffen
waarschijnlijk niet dat hun wachtwoord zonder encryptie over het netwerk wordt
gestuurd, maar dat is wel het geval. OpenSSH versleutelt al het verkeer
(inclusief wachtwoorden) om afluisteren, overnemen van een verbinding en andere 
netwerkaanvallen tegen te gaan.

<p>
Het OpenSSH pakket bevat het
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a>
programma dat rlogin en telnet vervangt en
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scp&amp;sektion=1">scp(1)</a>
dat <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rcp&amp;sektion=1">rcp(1)</a> en
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&amp;sektion=1">ftp(1)</a> vervangt.
OpenSSH heeft ook
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp&amp;sektion=1">sftp(1)</a> en
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp-server&amp;sektion=8">sftp-server(8)</a>
toegevoegd die een makkelijkere oplossing bieden voor bestandsoverdracht. Het is
gebaseerd op de
<a href="../txt/draft-ietf-secsh-filexfer-02.txt">secsh-filexfer</a> IETF draft.


<p><strong>OpenSSH bestaat uit verschillende programma's.</strong>

<ul>
<li><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8">sshd(8)</a> - Serverprogramma dat op de server draait. Dit luistert naar verbindingen vanaf client-machines en wanneer het een verbinding ontvangt, voert het een authenticatie uit en begint de client te dienen.
Het gedrag wordt geregeld via het configuratiebestand <i><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd_config&amp;sektion=5">
sshd_config(5)</a></i>.
<li><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> - Dit is het clientprogramma dat wordt gebruikt om in te loggen op een andere machine of om commando's op de andere machine uit te voeren. <i>slogin</i> is een andere naam voor dit programma.
Het gedrag wordt geregeld via het globale configuratiebestand <i><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh_config&amp;sektion=5">
ssh_config(5)</a></i> en individuele <i>$HOME/.ssh/config</i> van de gebruiker.
<li><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=scp&amp;sektion=1">scp(1)</a> - Kopieert bestanden veilig van de ene naar de andere machine.
<li><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keygen&amp;sektion=1">ssh-keygen(1)</a> - Wordt gebruikt om PubKey Authenticatie (RSA of DSA) sleutels te genereren (hostsleutels en gebruikersauthenticatiesleutels).
<li><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-agent&amp;sektion=1">ssh-agent(1)</a> - Authenticatie-agent.  Deze kan gebruikt worden om RSA-sleutels te bewaren voor authenticatie. 
<li><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-add&amp;sektion=1">ssh-add(1)</a> - Wordt gebruikt om nieuwe sleutels bij de agent te registreren.
<li><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp-server&amp;sektion=8">sftp-server(8)</a> - SFTP-server subsysteem.
<li><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp&amp;sektion=1">sftp(1)</a> - Veilig bestandsoverdrachtprogramma.
<li><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keyscan&amp;sektion=1">ssh-keyscan(1)</a> - verzamel ssh publieke sleutels.
<li><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keysign&amp;sektion=8">ssh-keysign(8)</a>
- ssh hulpprogramma voor host-gebaseerde authenticatie.
</ul>

<h3>Downloaden</h3>

<p>
Er zijn twee distributies van OpenSSH te downloaden: de native <a
href="openbsd.html">OpenBSD</a> distributie en de multi-platform
<a href="portable.html">Portable</a> distributie.  Als u OpenSSH wilt
voor een recente OpenBSD of voor integratie in een product wilt u
waarschijnlijk de <a href="openbsd.html">OpenBSD</a> distributie.
Als u OpenSSH voor een ander platform wilt, of voor een oudere OpenBSD, wilt
u waarschijnlijk de <a href="portable.html">Portable</a> distributie.

<p>
Gebruik bij het downloaden alstublieft een
<a href="portable.html#mirrors">mirror</a> dichtbij u.

<h2><a name= "1.2">1.2 - Waarom zou het gebruikt moeten worden?</a></h2>

<p>
OpenSSH is een pakket van programma's om uw netwerkverbindingen te
beveiligen.  Hier is een lijst met functionaliteiten:


<ul>
	<li>Krachtige authenticatie.  Dicht enkele veiligheidsgaten (bv. IP, routing, en DNS spoofing).
	<li>Verbeterde privacy.  Alle communicatie wordt automatisch en transparant versleuteld.
	<li>Veilige X11-sessies.  Het programma stelt automatisch DISPLAY in op de server en stuurt elke X11-verbinding door over het veilige kanaal.
	<li>Willekeurige TCP/IP-poorten kunnen door het versleutelde kanaal in beide richtingen doorgestuurd worden (bv. voor e-cash transacties).
	<li>Geen heropleiding nodig voor normale gebruikers.
	<li>Vertrouw het netwerk nooit. Een minimaal vertrouwen in de andere
	kant van de verbinding. Minimaal vertrouwen in domein nameservers. Pure RSA-authenticatie vertrouwt niets behalve de private sleutel.
	<li>De client authentiseert aan het begin van elke verbinding de server met RSA om trojaanse paarden (door routering of DNS spoofing) en man-in-the-middle aanvallen te voorkomen, en de server authentiseert de client met RSA voordat hij authenticatie via <i>.rhosts</i> of <i>/etc/hosts.equiv</i> toepast (om DNS, routering of IP spoofing te voorkomen).
	<li>De distributie van de host authenticatiesleutel kan door de administratie centraal verlopen, automatisch zodra de eerste verbinding met de machine wordt gemaakt.
	<li>Elke gebruiker kan zoveel RSA-gebruikersauthenticatiesleutels voor eigen gebruik aanmaken als hij/zij wil.
	<li>Het serverprogramma heeft zijn eigen server RSA-sleutel die elk uur automatisch opnieuw gegenereerd wordt.
	<li>Een authenticatie-agent die op de laptop of het werkstation van de gebruiker draait, kan worden gebruikt om de RSA-authenticatiesleutels te bij te houden.
	<li>De software kan zelfs zonder rootprivileges geïnstalleerd en gebruikt worden (met beperkte functionaliteit).
	<li>De client is aan te passen in zowel systeemwijde configuratiebestanden als configuratebestanden per gebruiker.
	<li>Alle data is optioneel te comprimeren met gzip (inclusief doorgestuurde data van X11 en TCP/IP poorten), waardoor aanzienlijk snellere resultaten behaald kunnen worden over langzame verbindingen.
	<li>Complete vervanging voor rlogin, rsh, en rcp.
</ul>

<p>
Op dit moment wordt bijna alle communicatie in computernetwerken zonder
encryptie uitgevoerd.  Het gevolg hiervan is dat iedereen die toegang heeft
tot een machine op het netwerk alle communicatie kan afluisteren.
Dit wordt gedaan door hackers, nieuwsgierige beheerders, werkgevers,
criminelen, industriële spionnen en overheden.  Sommige netwerken lekken
genoeg elektromagnetische straling zodat de data zelfs vanop een afstand
opgevangen kan worden.


<p>
Wanneer u inlogt, wordt uw wachtwoord als gewone tekst over het netwerk
verzonden.  Op die manier kan iedere luisteraar uw account gebruiken om te doen
wat hij wil.  Er zijn wereldwijd vele incidenten voorgekomen waar crackers
programma's op werkstations hebben gestart zonder dat de eigenaars ervan wisten
enkel om naar het netwerk te luisteren en wachtwoorden te verzamelen.
Programma's om dit te doen zijn via Internet beschikbaar of kunnen door een
kundige programmeur in een paar uur gebouwd worden.


<p>
Bedrijven hebben bedrijfsgeheimen, patentaanvragen in opmaak,
prijsinformatie, informatie over toeleveranciers, klantgegevens,
personeelsgegevens, financiële gegevens, enz.
Op dit moment kan iedereen met toegang tot het
netwerk (elke machine op het netwerk) luisteren naar alles wat zich op het
netwerk afspeelt zonder gehinderd te worden door normale toegangsbeperkingen.


<p>
Veel bedrijven zijn zich niet bewust van het gemak waarmee informatie via het
netwerk verkregen kan worden.  Ze vertrouwen erop dat hun gegevens veilig zijn
aangezien niemand kan weten dat er gevoelige informatie over het netwerk
verzonden wordt of omdat er zoveel meer gegevens op het netwerk aanwezig zijn.
Dit is geen veilig beleid.


<h2><a name= "1.3">1.3 - Welke besturingssystemen worden ondersteund?</a></h2>

<p>
Ook al wordt OpenSSH ontwikkeld op
<a href="http://www.openbsd.org/nl/">OpenBSD</a>, er bestaan veel
verschillende ports naar andere besturingssystemen. De portable versie
van OpenSSH wordt geleid door
<a href="mailto:djm@openbsd.org">Damien Miller</a>. Zie voor een vluchtig
overzicht van de portable versie van OpenSSH
<a href="portable.html">OpenSSH Portable Uitgave</a>.
Op dit ogenblik worden de volgende besturingssystemen ondersteund:


<ul>
	<li>OpenBSD
	<li>NetBSD
	<li>FreeBSD
	<li>AIX 
	<li>HP-UX 
	<li>IRIX 
	<li>Linux 
	<li>NeXT 
	<li>SCO 
	<li>SNI/Reliant Unix 
	<li>Solaris 
	<li>Digital Unix/Tru64/OSF 
	<li>Mac OS X 
	<li>Cygwin
</ul>

<p>
Een lijst met leveranciers die OpenSSH in hun distributie opnemen
is te vinden op de <a href="users.html">OpenSSH Gebruikers pagina</a>.

<h2><a name= "1.4">1.4 - Hoe zit het met auteursrecht, gebruik en patenten?</a></h2>
<p>
De ontwikkelaars van OpenSSH hebben erg hard geprobeerd om OpenSSH vrij
van patenten of auteursrechtproblemen te houden. Hiervoor moesten sommige
opties van OpenSSH verwijderd worden.  Namelijk ondersteuning voor
gepatenteerde algoritmen.

<p>
OpenSSH ondersteunt geen gepatenteerde transportalgoritmen. In SSH1-modus
zijn alleen DES en Blowfish beschikbaar als opties. In SSH2-modus kan alleen
gekozen worden uit 3DES, Blowfish, CAST128, Arcfour en AES. Het gepatenteerde
IDEA-algoritme wordt niet ondersteund.

<p>
OpenSSH heeft ondersteuning voor de protocollen SSH1 en SSH2.

<p>
Sinds het patent op RSA verlopen is, zijn er geen beperkingen op het
gebruik van software die RSA gebruikt, inclusief OpenBSD.

<h2><a name= "1.5">1.5 - Waar kan ik hulp krijgen?</a></h2>
<p>
Er zijn veel plaatsen waar u hulp kunt krijgen. Naast de
<a href="index.html">website van OpenSSH</a>,
zijn er veel mailinglijsten die het proberen waard zijn. Voordat u een
mailinglijst probeert, zoek eerst alle archieven van de mailinglijsten door om
te kijken of uw vraag al beantwoord is. De OpenSSH Mailinglijst is
gearchiveerd en in zoekbare vorm gegoten en kan gevonden worden op
<a href="http://marc.theaimsgroup.com/?l=openssh-unix-dev&amp;r=1&amp;w=2">theaimsgroup.com</a>.

<p>
Voor meer informatie over het aanmelden bij OpenSSH-gerelateerde mailinglijsten,
zie <a href="list.html">OpenSSH Mailinglijsten</a>.

<p>
Informatie over het inzenden van foutmeldingen kunnen op de OpenSSH
<a href="report.html">Probleemmeldingen</a> pagina gevonden worden.

<h2><u><a name= "2.0">2.0 - Algemene Vragen</a></u></h2>

<h2><a name= "2.1">2.1 - Waarom maakt ssh/scp verbindingen vanaf lage poorten?</a></h2>
<p>
De OpenSSH-client maakt gebruik van lage poorten voor de authenticate bij
rhosts en rhosts-rsa omdat de server de gebruikersnaam die de client
opgeeft moet vertrouwen. Om dit te voorkomen kunt u onderstaand voorbeeld
in de bestanden <i>ssh_config</i> of <i>~/.ssh/config</i> plaatsen. 


<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
<b>UsePrivilegedPort no</b>
                </td>
        </tr>
</table>
</blockquote>

<p>
Of u kunt deze optie vanaf de prompt instellen met het <b>-o</b> argument
van het
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> commando.

<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
$ <b>ssh -o "UsePrivilegedPort no" host.com</b>
                </td>
        </tr>
</table>
</blockquote>

<h2><a name= "2.2">2.2 - Waarom is de ssh-client setuid root?</a></h2>

<p>
Net zoals bij de vorige vraag (<a href="#2.1">2.1</a>)
heeft OpenSSH root-rechten nodig om lage poorten te gebruiken
voor <i>rhosts-authenticatie</i>.
Een bevoorrechte poort is ook nodig voor rhosts-rsa authenticatie
bij oudere SSH-versies.

<p>
Daarnaast heeft de ssh-client voor zowel <i>rhosts-rsa authenticatie</i>
(in protocolversie 1) en <i>hostgebaseerde authenticatie</i>
(in protocolversie 2) toegang nodig tot de <i>private hostsleutel</i> om
de client te authentiseren bij de server.
Voor versies van OpenSSH ouder dan 3.3 moest de <code>ssh</code> binary
setuid root zijn en u kunt dit verwijderen als u deze authenticatiemethodes
niet wilt gebruiken.

<p>
Vanaf OpenSSH 3.3 is <code>ssh</code> niet standaard setuid.  Voor de toegang
tot de private hostsleutel wordt <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keysign">ssh-keysign</a>
gebruikt en ssh gebruikt standaard geen gepriviligeerde bronpoorten.  Als u een
gepriviligeerde bronpoort wilt gebruiken moet u handmatig de setuid bit op
<code>ssh</code> aanzetten.

<h2><a name= "2.3">2.3 - Waarom heeft SSH 2.3 problemen met OpenSSH 2.1.1?</a></h2>

<p>
SSH 2.3 en eerdere versies hebben een fout in hun HMAC-implementatie.
Hun code gaf niet de volledige datablokuitvoer van de digest en produceerde
in plaats daarvan altijd 128 bits. Dit zorgde ervoor dat met langere digests
SSH 2.3 niet werkte met OpenSSH.

<p>
OpenSSH 2.2.0 ontdekt dat SSH 2.3 deze fout bevat. Recente versies van SSH
hebben deze fout opgelost. Of u kunt het volgende toevoegen aan de
<i>sshd2_config</i> van SSH 2.3.


<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
<b>Mac hmac-md5</b>
               </td>
        </tr>
</table>
</blockquote>

<h2><a name= "2.4">2.4 - Waarom print OpenSSH: Dispatch protocol error: type 20</a></h2>

<p>
Problemen in de onderlinge werking zijn waargenomen omdat oudere versies
van OpenSSH het verwisselen van session keys niet ondersteunde. Echter de
commerciële SSH 2.3 probeert deze functionaliteit uit te voeren, uw
verbinding kan bevriezen of u krijgt de foutmelding
&quot;<b>Dispatch protocol error: type 20</b>&quot;.
Om dit probleem op te lossen kunt u upgraden naar een recente uitgave
van OpenSSH of verwisseling van sleutels uitschakelen door het volgende in
<i>ssh2_config</i> of <i>sshd2_config</i> van uw commerciële SSH 2.3 te
zetten.


<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
<b>RekeyIntervalSeconds 0</b>
                </td>
        </tr>
</table>
</blockquote>

<h2><a name= "2.5">2.5 - Oude versies van de commerciële SSH versleutelen hostsleutels met IDEA.</a></h2>

<p>
De oude versies van SSH gebruikten een gepatenteerd algoritme om hun
<i>/etc/ssh/ssh_host_key</i> te versleutelen. Hierdoor kan
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8">sshd(8)</a>
zijn hostsleutel niet lezen. Gebruik het onderstaand commando om uw
ssh_host_key 3DES te laten gebruiken om dit op te lossen.
<b>N.B.:</b> gebruik voor onderstaand voorbeeld het
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keygen&amp;sektion=1">ssh-keygen(1)</a>
programma van het Commerciële SSH produkt, *NIET* OpenSSH.


<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
# <b>ssh-keygen -u -f /etc/ssh/ssh_host_key</b>
                </td>
        </tr>
</table>
</blockquote>

<h2><a name= "2.6">2.6 - Wat zijn die waarschuwingen over sleutellengtes?</a></h2>

<p>
Het
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keygen&amp;sektion=1">ssh-keygen(1)</a>
programma van de commerciële SSH bevat een bug die soms zorgde voor
Pubkey Authenticatiesleutels (RSA of DSA) waar de Meest Significante Bit
(MSB) niet ingesteld was. Zulke sleutels leken de gehele lengte te hebben,
maar zijn in werkelijkheid de helft van de tijd kleiner dan aangenomen wordt.

<p>
OpenSSH zal waarschuwingen geven wanneer het een dergelijke sleutel tegenkomt.
Wijzig uw <i>known_hosts</i> bestanden en vervang de ongeldige sleutellengte
(meestal "1024") door de juiste sleutellengte (gewoonlijk "1023") om van deze
foutmelding af te komen.

<h2><a name= "2.7">2.7 - X11 en/of agent forwarding werkt niet.</a></h2>

<p>
Controleer uw <i>ssh_config</i> en <i>sshd_config</i>. De
standaardconfiguratie schakelt forwarding van de authentication agent en X11
uit. Plaats de volgende regel in uw <i>sshd_config</i> om het aan te zetten:

<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
<b>X11Forwarding yes</b>
                </td>
        </tr>
</table>
</blockquote>

<p>
en plaats de volgende regels in <i>ssh_config</i>:

<blockquote>
<table border=0 width="800">
	<tr>
		<td nowrap bgcolor="#EEEEEE">
<b>ForwardAgent yes</b><br>
<b>ForwardX11 yes</b>
		</td>
	</tr>
</table>
</blockquote>

<p>
Opmerking over agent interoperabiliteit: Er zijn twee verschillende en
niet-compatibele agent forwarding mechanismes binnen het SSH2 protocol.
OpenSSH heeft altijd een uitbreiding van de originele SSH1 agent aanvragen
gebruikt, bepaalde commerciële producten gebruiken echter een verschillend,
niet-vrij agent forwarding protocol.  Dit betekent dat agent forwarding
niet kan gebruikt worden tussen OpenSSH en die producten.

<p>
<b>N.B.:</b> Voor gebruikers van Linux Mandrake 7.2, Mandrake wijzigt de
<i>XAUTHORITY</i> omgevingsvariabele in <i>/etc/skel/.bashrc</i>
en hierdoor in de home directory van elke bash-gebruiker. Deze variabele
wordt ingesteld door OpenSSH en om beide opties te laten werken moet u
van de volgende lijn een commentaarregel maken:


<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
<b># export XAUTHORITY=$HOME/.Xauthority</b>
                </td>
        </tr>
</table>
</blockquote>

<h2><a name= "2.8">2.8 - Na het upgraden van OpenSSH heb ik geen ondersteuning meer voor SSH2.</a></h2>

<p>
Tussen versies kunnen wijzigingen aangebracht zijn in <i>sshd_config</i> of
<i>ssh_config</i>. U kunt het beste bij het upgraden van OpenSSH-versies
altijd deze wijzigingen controleren. Na OpenSSH versie 2.3.0 moet u het
volgende aan uw <i>sshd_config</i> toevoegen:


<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
<b>HostKey /etc/ssh_host_dsa_key</b><br>
<b>HostKey /etc/ssh_host_rsa_key</b>
                </td>
        </tr>
</table>
</blockquote>

<h2><a name= "2.9">2.9 - sftp/scp faalt bij het maken van een verbinding, maar ssh werkt OK.</a></h2>

<p>
sftp en/of scp kunnen falen bij het maken van de verbinding als uw
shellinitialisatie (.profile, .bashrc, .cshrc, etc) uitvoer produceert voor
niet-interactieve sessies. Deze uitvoer is verwarrend voor de
sftp/scp-client.
U kunt controleren of uw shell dit doet door het volgende uit te voeren:

<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
<b>ssh yourhost /usr/bin/true</b>
                </td>
        </tr>
</table>
</blockquote>

<p>
Als bovenstaand commando uitvoer produceert moet u uw shellinitialisatie
aanpassen.

<h2><a name= "2.10">2.10 - Kan [foo] worden toegevoegd aan scp?</a></h2>

<p>
In het kort: nee.

<p>
Uitgebreid: scp is niet gestandardiseerd.  De specificatie kan nog het best
omschreven worden als "dat wat rcp doet".  Aangezien het commando door beide
kanten van de verbinding gebruikt wordt kunnen er bij het toevoegen van
mogelijkheden of opties problemen ontstaan met de interoperabiliteit met
andere implementaties.

<p>
Het is waarschijnlijker dat nieuwe mogelijkheden worden toegevoegd aan sftp,
omdat het protocol gestandaardiseerd is (tenminste, een <a href="http://www.ietf.org/internet-drafts/draft-ietf-secsh-filexfer-05.txt">
draft standaard</a>) en de client en server ontkoppeld zijn.

<h2><a name= "2.11">2.11 - Hoe gebruik ik port forwarding?</a></h2>

<p>
Als de remote server sshd(8) gebruikt is het mogelijk om bepaalde services
te ``tunnelen'' via ssh.  Dit kan bijvoorbeeld gebruikt worden om POP- of
SMTP-verbindingen te versleutelen ook al heeft de software geen ondersteuning
voor versleutelde verbindingen.  Tunnelen gebruikt port forwarding om een
verbinding te maken tussen de client en de server.
Hiervoor moet de client software in staat zijn een niet-standaard poort op te
geven om een verbinding naar te maken.

<p>
De idee is dat de gebruiker met ssh een verbinding maakt met de remote host en
opgeeft welke poort op de machine van de client gebruikt moet worden om
verbindingen naar de remote server door te sturen.  Daarna is het mogelijk om
op de machine van de client de service te starten die versleuteld moet worden
(b.v. fetchmail, irc) en hier de poort op te geven die aan ssh is doorgegeven
en de verbinding wordt door ssh getunneld.

<p>
De meest relevante opties voor tunnelen zijn de -L en -R opties,
waarmee de gebruiker verbindingen kan doorsturen, de -D optie, waarmee
dynamische poort forwarding mogelijk is en de -f optie, waarmee
ssh zichzelf naar de achtergrond geplaatst kan worden.  Zie hierboven
voor meer details over deze opties.

<p>
Dit is een voorbeeld van het tunnelen van een IRC-sessie van de client
machine ``127.0.0.1'' (localhost) naar de remote server ``server.example.com'':

<blockquote>
<table border=0 width="800">
       <tr>
               <td nowrap bgcolor="#EEEEEE">
<b>ssh -f -L 1234:server.example.com:6667 server.example.com sleep 10<br>
irc -c '#users' -p 1234 pinky 127.0.0.1</b>
       </td>
       </tr>
</table>
</blockquote>

<p>
Hier wordt een verbinding naar IRC-server server.example.com getunneld en
kanaal ``#users'' gejoind met de gebruikersnaam ``pinky''.  De lokale poort die
in dit voorbeeld wordt gebruikt is 1234.  Het maakt niet uit welke poort wordt
gebruikt, zolang ze maar groter is dan 1023 (alleen root kan sockets openen
op bevoorrechte poorten) en geen conflict veroorzaakt met de poorten die al
in gebruik zijn.
De verbinding wordt doorgestuurd naar poort 6667 van de remote server,
angezien dat de standaard poort voor IRC-diensten is.

<p>
Het commando ``sleep 10'' wordt gebruikt om een bepaalde tijdsduur toe te
laten (in het voorbeeld 10 seconden) om de dienst te starten die moet worden
getunneld.  Als er geen verbindingen gemaakt worden binnen de opgegeven tijd
zal ssh afsluiten.  Als meer tijd nodig is kan de waarde van sleep(1) daarvoor
verhoogd worden of anders kan het voorbeeld hierboven toegevoegd worden als een
functie van de shell van de gebruiker.  Zie ksh(1) en csh(1) voor meer details
over gebruikersgedefinieerde functies.

<p>
ssh heeft ook een -N optie, welke handig is m te gebruiken met port forwarding:
als -N wordt opgegeven is het niet nodig om een remote commando op te geven (in
het voorbeeld hierboven ``sleep 10'').  Deze optie zorgt er echter voor dat ssh
voor altijd blijft draaien (in plaats van af te sluiten na het remote commando
voltooid is), en de gebruiker moet achteraf het proces handmatig afsluiten met
kill(1).

<h2><a name= "2.12">2.12 - Mijn ssh-verbinding loopt vast of wordt afgesloten na N minuten inactiviteit.</a></h2>

<p>    
Dit komt meestal doordat een packet filter of NAT-apparaat je TCP-verbinding
laat verlopen vanwege inactiviteit.  Je kan <b>ClientAliveInterval</b> in de
<i><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd_config&amp;sektion=5">
sshd_config</a></i> van de server aanzetten, of <b>ServerAliveInterval</b> in
de <i><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh_config&amp;sektion=5">
ssh_config</a></i> van de client (laatstgenoemde is in OpenSSH 3.8 en nieuwer
beschikbaar).

<p>
Door één van de opties aan te zetten en het interval in te stellen op een
periode korter dan de tijdsduur waarna de sessie wordt afgesloten zorg je
ervoor dat de verbinding in de verbindingstabel van het apparaat "vers" blijft.

<h2><a name= "2.13">2.13 - Hoe kan ik met scp een bestand met een dubbele punt kopiëren?</a></h2>

<b><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=scp&amp;sektion=1">
scp</a></b> zal het gedeelte voor de dubbele punt interpreteren als de naam
van een server en er verbinding mee proberen te maken.  Verwijs om dit te
voorkomen naar het bestand via een relatieve of absolute padnaam, bijv:

<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
$ scp ./bron:bestand sshserver:
                </td>
        </tr>
</table>
</blockquote>

<h2><a name= "2.14">2.14 - Waarom meldt OpenSSH z'n versienummer aan clients?</a></h2>

<p>
Zoals de meest SSH-implementaties meldt OpenSSH z'n naam en versie aan clients
zodra deze verbinding maken, bv.
</p>

<blockquote>
SSH-2.0-OpenSSH_3.9
</blockquote>

<p>
Deze informatie wordt gebruikt door clients en servers om aanpassingen te doen
voor protocolcompatibiliteit om langs gewijzigde, slecht werkende of niet
aanwezige functionaliteiten in de implementatie heen te werken waartegen ze
praten.
Het is op dit ogenblik nog steeds nodig om het protocol te kunnen controleren
omdat het SSH-protocol nog niet als RFC is uitgegeven en er meer incompatibele
wijzigingen gemaakt kunnen worden voordat dit gebeurt.
</p>

<h2><u><a name= "3.0">3.0 - Portable OpenSSH Vragen</a></u></h2>

<h2><a name= "3.1">3.1 - Valse PAM-authenticatieberichten in logbestanden.</a></h2>

<p>
De portable versie van OpenSSH genereert valse authenticatieberichten
bij elke login, bijvoorbeeld: 


<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
&quot;<b>authentication failure; (uid=0) -&gt; root for sshd service</b>&quot;
                </td>
        </tr>
</table>
</blockquote>

<p>
Deze worden gegenereerd omdat OpenSSH eerst kijkt of een gebruiker
authenticatie nodig heeft bij het aanmelden (b.v. leeg wachtwoord).
Helaas logt PAM alle authenticatiepogingen, inclusief deze.

<p>
Als u zich er aan ergert kunt u &quot;<b>PermitEmptyPasswords no</b>&quot;
in <i>sshd_config</i> zetten. Dit verwijdert de foutmelding maar het is
niet meer mogelijk in te loggen met accounts zonder wachtwoord.
Dit is de standaardinstelling in het bijgeleverde <i>sshd_config</i> bestand.

<h2><a name= "3.2">3.2 - Lege wachtwoorden niet toegestaan met PAM-authenticatie.</a></h2>

<p>
Om lege wachtwoorden aan te zetten met een versie van OpenSSH met PAM moet
u de optie nullok toevoegen aan het eind van de de wachtwoordcontrolemodule
in het bestand <i>/etc/pam.d/sshd</i>. Bijvoorbeeld:

<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
auth required/lib/security/pam_unix.so shadow nodelay nullok
                </td>
        </tr>
</table>
</blockquote>

<p>
Dit moet gedaan worden naast het instellen van &quot;<b>PermitEmptyPasswords
yes</b>&quot; in het bestand <i>sshd_config</i>. 

<p>
Er zit een addertje onder het gras bij het gebruik van lege wachtwoorden met
PAM-authenticatie: PAM zal elk wachtwoord goedkeuren wanneer een account met
een leeg wachtwoord authentiseert. Dit breekt de controle die
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8">sshd(8)</a>
gebruikt om vast te stellen of een account geen wachtwoord ingesteld heeft
en geeft gebruikers toegang tot de account ongeacht de waarde van
<b>PermitEmptyPasswords</b>. Hierom is het aan te raden dat u niet de
<b>nullok</b> optie toevoegt aan uw PAM-configuratiebestand tenzij u
specifiek lege wachtwoorden wilt toelaten.


<h2><a name= "3.3">3.3 - ssh(1) doet lang over de totstandkoming van de verbinding of het inloggen</a></h2>

<p>
Grote vertragingen (meer dan 10 seconden) worden gewoonlijk veroorzaakt door
een probleem met de naamresolutie:
<ul>
<li>Sommige versies van glibc (met name glibc 2.1 welke met Red Hat 6.1 komt)
kunnen lang doen over het opzoeken van "IPv6 of IPv4" adressen van domeinnamen.
Dit kan omzeild worden met de optie <b>AddressFamily inet</b> in
<i>ssh_config</i>.</li>

<li>Er kan een probleem zijn met de opzoeking in DNS aan de kant van de client 
of de server.  U kunt dit controleren met het commando
<code>nslookup</code> door zowel de client als de server elkaars naam en
IP-adres te laten opzoeken.  Kijk daarnaast ook naar de naam die de server
ontvangt bij IP-naam opzoeking van de client.  U kunt de meeste
opzoekingen die de server maakt uitzetten door <b>UseDNS no</b> in
<i>sshd_config</i> te zetten.</li>
</ul>

<p>
Vertragingen kleiner dan 10 seconden kunnen andere oorzaken hebben.
 
<ul>

<li>Versies van OpenSSH vóór 3.8 hadden een <i>moduli</i> bestand met
moduli die net iets kleiner waren dan waar sshd naar zocht en daardoor gebruikte
sshd moduli die aanzienlijk groter waren dan aangevraagd, waardoor de snelheid
omlaag werd gehaald.  Dit is op te lossen door het <i>moduli</i> bestand te
vervangen (merk op dat tijdens een upgrade dit bestand meestal niet wordt
vervangen en handmatig moet worden vervangen).</li>

<li>Versies van OpenSSH vóór 3.8 hadden een fout in <code>ssh</code> die
er voor zorgde dat een grotere moduli wordt aangevraagd dan de bedoeling
was (gecombineerd met bovenstaande zorgde dit voor grote vertragingen).
Dit probleem is op te lossen door te upgraden naar 3.8 of hoger.</li>

<li>Als de client of de server geen kernelgebaseerde random nummer apparaat
heeft (bv Solaris &lt; 9, AIX &lt; 5.2, HP-UX &lt; 11.11) en er is geen
vervanging aanwezig (bv <a href=
"ftp://ftp.ayamura.org/pub/prngd/">prngd</a>) is het mogelijk dat één van
de programma's die door <code>ssh-rand-helper</code> wordt aangeroepen om
entropie te genereren hangt.  Dit kan worden onderzocht door het in
debug-modus te draaien:

<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
/usr/local/libexec/ssh-rand-helper -vvv
                </td>
        </tr>
</table>
</blockquote>

Alle significante vertragingen moeten worden onderzocht en opgelost of anders
moeten de overeenkomende commando's verwijderd worden uit <i>ssh_prng_cmds</i>.
</li>

</ul>

<h3>Hoe traag is "traag"?</h3>
Onder normale omstandigheden is de snelheid van SSH-logins afhankelijk van de
snelheid van de CPU van de client en de server.  Ter vergelijking zijn dit
typische tijden om een verbinding te maken voor
<code>time ssh localhost true</code> met een 1024-bit RSA sleutel op hosts die
verder geen andere load hebben.  OpenSSH en OpenSSL werden gecompileerd met
gcc 3.3.x.

<p>
<table>
<tr><th>CPU</th><th>Tijd (SSHv1)<a href="#3.3fn1">[1]</a></th>
       <th>Tijd (SSHv2)</th></tr>
<tr><td>170MHz SPARC/sun4m</td><td>0.74 sec</td><td>1.25 sec</td></tr>
<tr><td>236MHz HPPA/8200<a href="#3.3fn2">[2]</a></td><td>0.44 sec</td>
       <td>0.79 sec</td></tr>
<tr><td>375MHz PowerPC/604e</td><td>0.38 sec</td><td>0.51 sec</td></tr>
<tr><td>933MHz VIA Ezra</td><td>0.34 sec</td><td>0.44 sec</td></tr>
<tr><td>2.1GHz Athlon XP 2600+</td><td>0.14 sec</td><td>0.22 sec</td></tr>
</table>

<br>

<a name="3.3fn1">[1]</a> Het SSHv1-protocol is sneller maar cryptografisch
zwakker dan SSHv2.<br>

<a name="3.3fn2">[2]</a> Rond de tijd van schrijven genereerde gcc relatief
langzame code op HPPA voor RSA en Diffie-Hellman operaties
(zie <a href= "http://gcc.gnu.org/bugzilla/show_bug.cgi?id=7625">gcc
bug #7625</a> en <a
href="http://marc.theaimsgroup.com/?l=openssh-unix-dev&m=102646106016694">
discussie op openssh-unix-dev</a>).

<h2><a name= "3.4">3.4 - "Can't locate module net-pf-10" berichten in de log onder Linux.</a></h2>

<p>
De Linux kernel zoekt (via modprobe) naar protocolfamilie 10 (IPv6).
Laad de juiste kernelmodule, voeg de juiste alias in in
<i>/etc/modules.conf</i> of schakel IPv6 uit in <i>/etc/modules.conf</i>.


<p>
Om een of andere maffe reden kan <i>/etc/modules.conf</i> ook
<i>/etc/conf.modules</i> heten.


<h2><a name= "3.5">3.5 - Wachtwoordauthenticatie werkt niet (bv. onder Slackware 7.0 of Red Hat 6.x)</a></h2>

<p>
Indien het wachtwoord juist is en de login nog steeds verboden wordt, is de
gewoonlijke oorzaak dat het systeem geconfigureerd is om MD5-type wachtwoorden
te gebruiken maar de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=crypt&amp;sektion=3"
>crypt(3)</a> functie gebruikt door sshd begrijpt ze niet.

<p>
Getroffen accounts zullen wachtwoord-strings hebben in <i>/etc/passwd</i>
of <i>/etc/shadow</i> die beginnen met <b>$1$</b>.
Indien wachtwoordauthenticatie mislukt voor nieuwe accounts of accounts met
recent veranderde wachtwoorden, maar wel werkt voor oude accounts, is dit
de waarschijnlijke boosdoener.

<p>
De onderliggende oorzaak is dat bepaalde versies van OpenSSL een crypt(3)
functie hebben die MD5 wachtwoorden niet begrijpt, en de linkvolgorde van
sshd betekent dat OpenSSL's crypt(3) gebruikt wordt in plaats van die van
het systeem. OpenSSH's configure poogt dit te corrigeren maar dit heeft niet
altijd succes.

<p>
Er zijn verscheidene mogelijke oplossingen:

<ul>
<li>
<p>
Schakel sshd's ingebouwde ondersteuning voor MD5 wachtwoorden in bij het
bouwen.

<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
./configure --with-md5-passwords [opties]
                </td>
        </tr>
</table>
</blockquote>

Dit is veilig zelfs indien u beide types van encryptie hebt aangezien sshd
automatisch het juiste algoritme zal selecteren voor elke account.

<li>
<p>
Indien uw systeem een afzonderlijke libcrypt library heeft (bv. Slackware 7),
dan kan u manueel -lcrypt toevoegen aan de LIBS lijst zodat het gebruikt wordt
in plaats van die van OpenSSL:

<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
LIBS=-lcrypt ./configure [opties]
                </td>
        </tr>
</table>
</blockquote>

<li>
<p>
Indien uw platform PAM ondersteunt, kan u sshd configureren om het te gebruiken
(zie <a href= "#3.15" >sectie 3.15</a>).  Dit zal betekenen dat sshd zelf geen
wachtwoorden zal verifiëren maar zal verschuiven naar de geconfigureerde PAM
modules.
</ul>

<h2><a name= "3.6">3.6 - Configure of sshd(8) zeurt over een gebrek aan ondersteuning voor RSA of DSA</a></h2>

<p>
Controleer of uw OpenSSL-bibliotheken gecompileerd zijn om RSA of DSA
te ondersteunen, intern of via RSAref.


<h2><a name= "3.7">3.7 - "scp: command not found" foutmeldingen</a></h2>

<p>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scp&amp;sektion=1">scp(1)</a>
moet in het standaard PATH voorkomen op zowel de client als de server.
U moet wellicht de optie <b>--with-default-path</b> gebruiken om een ander
pad op te geven om op de server te doorzoeken. Deze optie vervangt het
standaardpad, dus u moet alle huidige directories op uw pad aangeven naast
de plek waar u scp heeft geinstalleerd. Bijvoorbeeld:

<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
$ <b>./configure --with-default-path=/bin:/usr/bin:/usr/local/bin:/path/to/scp</b>
                </td>
        </tr>
</table>
</blockquote>

<p>
Merk op dat de configuratie van de beheerder van de server de voorkeur krijgt
over de instelling <b>--with-default-path</b>.  Dit kan via een wijziging van
PATH in <i>/etc/profile</i>, PATH in <i>/etc/environment</i> op AIX, of (voor
3.7p1 en nieuwer) PATH of SUPATH in <i>/etc/default/login</i> op Solaris of
Reliant Unix.

<h2><a name= "3.8">3.8 - Kan de passphrase niet lezen</a></h2>

<p>
Sommige besturingssystemen stellen <i>/dev/tty</i> in met verkeerde modes,
waardoor wachtwoorden niet kunnen worden ingelezen door de volgende
foutmelding:

<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
You have no controlling tty.  Cannot read passphrase.
                </td>
        </tr>
</table>
</blockquote>

<p>
De oplossing is om de permissies van <i>/dev/tty</i> op 0666 te zetten
en deze fout te melden bij uw besturingssysteemleverancier.


<h2><a name= "3.9">3.9 - 'configure' ontbreekt of make faalt</a></h2>

<p>
Als er geen 'configure' bestand is in het tar.gz-bestand dat u gedownload
heeft of make faalt met "missing separator" foutmeldingen, heeft u
waarschijnlijk de OpenBSD-distributie van OpenSSH gedownload en probeert
u deze te compileren op een ander platform. Zie de informatie over de
<a href="./portable.html">portable versie</a>.


<h2><a name= "3.10">3.10 - Hangt bij het afsluiten van ssh</a></h2>

<p>
OpenSSH kan hangen bij het afsluiten.  Dit kan voorkomen wanneer een
proces actief is in de achtergrond.  Het kan voorkomen op Linux en HP-UX.
Het probleem kan geverifieerd worden door het volgende uit te voeren:

<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
$ <b>sleep 20 &amp; exit</b>
                </td>
        </tr>
</table>
</blockquote>

Probeer in plaats daarvan dit te gebruiken:
<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
$ <b>sleep 20 &lt; /dev/null &gt; /dev/null 2&gt;&amp;1 &amp;</b>
                </td>
        </tr>
</table>
</blockquote>

<p>
Een alternatief voor gebruikers van bash is om <b>"shopt -s huponexit"</b>
in /etc/bashrc of ~/.bashrc te zetten.  Raadpleeg anders de manpagina van
uw shell voor een optie om een HUP-signaal te sturen naar een actieve taak
bij het afsluiten.  Zie <a
href="http://bugzilla.mindrot.org/show_bug.cgi?id=52">bug #52</a>
voor andere tijdelijke oplossingen.

<h2><a name= "3.11">3.11 - Waarom hangt ssh bij het stoppen?</a></h2>

<p>
Wanneer
<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
$ <b>ssh host commando</b>
                </td>
        </tr>
</table>
</blockquote>
uitgevoerd wordt <b>moet</b> ssh hangen, want het moet wachten:
<ul>
<li>
totdat het zeker kan zijn dat <code>commando</code> niet meer invoer
nodig heeft.
<li>
totdat het zeker kan zijn dat <code>commando</code> niet meer uitvoer
produceert.
<li>
totdat <code>commando</code> stopt omdat sshd de exitstatus van
<code>commando</code> aan ssh moet vertellen.
</ul>
<p>

<h2><a name= "3.12">3.12 - Ik deed een upgrade naar OpenSSH 3.1 en X11-forwarding werkt niet meer.</a></h2>

Vanaf OpenSSH 3.1 luistert de sshd X11-forwarding server standaard op
localhost; zie de optie <b>X11UseLocalhost</b> van sshd om terug te
schakelen naar het oude gedrag als uw oudere X11-clients niet werken
met deze configuratie.<p>

Over het algemeen zouden X11-clients die X11-R6 gebruiken moeten werken
met de standaardinstelling.  Sommige distributeurs, inclusief HP, leveren
X11-clients met R6- en R5-libs, dus sommige clients zullen wel werken en
anderen niet.
Dit geldt voor HP-UX 11.X.<p>

<h2><a name= "3.13">3.13 - Ik deed een upgrade naar OpenSSH 3.8 en sommige
X11-programma's werken niet meer.</a></h2>

<p>
Zoals vermeld wordt in de <a href="../txt/release-3.8">3.8 release notes</a>,
gebruikt <code>ssh</code> nu standaard niet-vertrouwde X11-cookies.  Het vorige
gedrag kan teruggehaald worden door <b>ForwardX11Trusted yes</b> in
<i>ssh_config</i> te zetten.

<p>
Mogelijke symptomen zijn onder andere:<br>
<code>BadWindow (invalid Window parameter)<br>
BadAccess (attempt to access private resource denied)<br>
X Error of failed request:  BadAtom (invalid Atom parameter)<br>
Major opcode of failed request:  20 (X_GetProperty)<br></code>

<h2><a name= "3.14">3.14 - Ik kopieerde mijn publieke sleutel naar
authorized_keys maar publieke-sleutelauthenticatie werkt nog steeds
niet.</a></h2>

<p>
Dit komt meestal doordat de permissies van $HOME, $HOME/.ssh of
$HOME/.ssh/authorized_keys toegankelijker zijn dan sshd ze standaard toelaat te
zijn.

<p>
Dit kan opgelost worden door het volgende op de server uit te voeren. 
<blockquote>
<table border=0 width="800">
<tr>
  <td nowrap bgcolor="#EEEEEE">
$ <b>chmod go-w $HOME $HOME/.ssh</b><br>
$ <b>chmod 600 $HOME/.ssh/authorized_keys</b>
  </td>
</tr>
</table>
</blockquote>

<p>
Als dit om een of andere reden niet mogelijk is kunt u als alternatief
<b>StrictModes no</b> in <i>sshd_config</i> zetten, maar dit wordt niet
aangeraden.

<h2><a name= "3.15">3.15 - OpenSSH versies en PAM gedrag.</a></h2>

Portable OpenSSH heeft een configuratie-optie om sshd's gebruik van de
<a href="http://www.opengroup.org/onlinepubs/008329799/">PAM</a>
(Pluggable Authentication Modules) interface in te schakelen.

<blockquote>
<table border="0" width="800">
	<tr>
		<td nowrap bgcolor="#EEEEEE">
./configure --with-pam [opties]
		</td>
	</tr>
</table>
</blockquote>

Om PAM überhaupt te gebruiken, moet deze optie meegegeven worden bij het
bouwen. Het run-time gedrag wanneer PAM ingebouwd is, varieert met de versie
van Portable OpenSSH, en bij latere versies moet het ook ingeschakeld worden
door <b>UsePAM</b> op <b>yes</b> in te stellen in <i>sshd_config</i>.

<p>
Het gedrag van de relevante authenticatie-opties wanneer PAM ondersteuning
ingebouwd is, wordt samengevat in de volgende tabel.

<p>
<table border="1">
  <tr> <th>Versie</th> <th>UsePAM</th> <th>PasswordAuthentication</th> <th>ChallengeResponseAuthentication</th> </tr>
  <tr>
    <td>&lt;=3.6.1p2</td>
    <td>Niet van toepassing</td>
    <td>Gebruikt PAM</td>
    <td>Gebruikt PAM als <b>PAMAuthenticationViaKbdInt</b> ingeschakeld is</td>
  </tr>
  <tr>
    <td>3.7p1 - 3.7.1p1</td>
    <td>Standaard <b>yes</b></td>
    <td>Gebruikt PAM niet</td>
    <td>Gebruikt PAM als <b>UsePAM</b> ingeschakeld is</td>
  </tr>
  <tr>
    <td>3.7.1p2 - 3.8.1p1</td>
    <td>Standaard <b>no</b></td>
    <td>Gebruikt PAM niet <a href="#3.15fn1">[1]</a></td>
    <td>Gebruikt PAM als <b>UsePAM</b> ingeschakeld is</td>
  </tr>
  <tr>
    <td>3.9p1</td>
    <td>Standaard <b>no</b></td>
    <td>Gebruikt PAM als <b>UsePAM</b> ingeschakeld is</td>
    <td>Gebruikt PAM als <b>UsePAM</b> ingeschakeld is</td>
  </tr>
</table>
<p>

<a name= "3.15fn1">[1]</a> Bepaalde verkopers, met name Redhat/Fedora, hebben
de PasswordAuthentication van 3.9p1 naar hun 3.8x gebaseerde packages
ge-backported.  Indien u een door de verkoper geleverde package gebruikt,
raadpleeg dan hun documentatie.

<p>
OpenSSH Portable's PAM interface heeft nog steeds problemen met een aantal
modules, we hopen echter dat dit aantal in de toekomst zal dalen.  Bij de
3.9p1 release zijn de gekende problemen:

<ul>
  <li>Modules die steunen op module-private data (bv. pam_dhkeys, pam_krb5, AFS)
  slagen er mogelijk niet in om correct credentials vast te stellen (bug <a
  href="http://bugzilla.mindrot.org/show_bug.cgi?id=688">#688</a>) bij
  authenticatie via <b>ChallengeResponseAuthentication</b>.
  <b>PasswordAuthentication</b> met 3.9p1 en hoger zou moeten werken.
</ul>

U kan ook <a
href="http://bugzilla.mindrot.org/buglist.cgi?product=Portable+OpenSSH&amp;bug_status=RESOLVED&amp;bug_status=NEW&amp;bug_status=ACCEPTED&amp;component=PAM+support"
>bugzilla voor huidige PAM problemen</a> nakijken.


<hr>
<a href="index.html"><img height=24 width=24 src="../back.gif" border=0 alt=OpenSSH></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>$OpenBSD: faq.html,v 1.17 2005/03/20 21:04:07 saad Exp $</small>
<!--
Originally [OpenBSD: faq.html,v 1.98 ]
$Translation: faq.html,v 1.19 2005/03/20 11:21:36 smestdag Exp $
-->

</body>
</html>

<!DOCTYPE HTML PUBLIC  "-//IETF//DTD HTML Strict//EN">
<html>
<head>
<title>OpenSSH Portable Release for Linux/Solaris/etc</title>
<link rev=made href=mailto:www@openbsd.org>
<meta name="resource-type" content="document">
<meta name="description" content="the OpenSSH project portable 
	version install instructions">
<meta name="keywords" content="openbsd,portable,install,instructions">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1999-2001 by OpenBSD.">
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#23238E">

<img alt="[OpenSSH]" height=30 width=141 SRC="../images/smalltitle.gif">
<p>
<h2><font color=#e00000>Portable OpenSSH - Installationsanweisungen</font><hr></h2>

<OL>
<LI><U>Vorbedingungen</U>
<P>
	Du brauchst funktionierende Installationen von 
	<A HREF="ftp://ftp.freesoftware.com/pub/infozip/zlib/">Zlib</A> und
	<A HREF="http://www.openssl.org">OpenSSL</A> (Version 0.9.5a oder h&ouml;her).
	Redhat Linux RPMS von OpenSSL sind 
	<a HREF="http://violet.ibs.com.au/openssh/files/support/">
	auch erh&auml;ltlich.</a>
</P>
<P>
	OpenSSH kann 
	<A HREF="http://www.kernel.org/pub/linux/libs/pam/">Pluggable Authentication
	Modules</A> (PAM) benutzen, falls dein System sie unterst&uuml;tzt. PAM ist unter Redhat 
	und Debian Linux der Standard, genauso unter Solaris.
</P>
<P>
	Wenn du den 'GNOME Passphrase requester' erzeugen willst, ben&ouml;tigst du die
	<A HREF="http://www.gnome.org/">GNOME</A> libraries und headers.
</P>
<P>
	Alternativ dazu hat Jim Knoble <jmknoble@pobox.com> einen <A 
	HREF="http://www.ntrnet.net/~jmknoble/software/x11-ssh-askpass/index.html">
	exzellenten X11 Passphrase Requester</A> geschrieben. Dieser wird aber seperat gepflegt.
</P>
<P>
	Wenn du planst OpenSSH auf einem Unix einzusetzen, dem ein Kernel-Zufallszahlengenerator
	fehlt (<I>/dev/urandom</I>), und den eingebauten Zuf&auml;l&ouml;igkeitscode nicht benutzen willst,
	m&ouml;chstest du vielleicht den
	<A HREF="http://www.lothar.com/tech/crypto/">Entropy Gathering Daemon</A> installieren.
	Du musst dann auch die <B>--with-egd-pool</B>-Option beim <I>./configure</I> mit angeben.   
</P>
<P>
	OpenSSH wurde nur mit 
	<A HREF="ftp://ftp.gnu.org/gnu/make/">GNU make</A> getestet. Es k&ouml;nnte auch mit anderen
	'make' Programmen arbeiten, aber diesbez&uuml;glich bist du auf dich gestellt.
</P>
</LI>
<LI><U>Erzeugen / Installation</U>
<P>
	Um OpenSSH mit den Standardoptionen zu installieren:
</P>
<PRE>
./configure
make
make install
</PRE>
<P>
	Das installiert die OpenSSH binaries unter <I>/usr/local/bin</I>, 
	Konfigurationsdateien unter <I>/usr/local/etc</I>, den Server unter 
	<I>/usr/local/sbin</I>, etc. Um einen anderen Installtionspr&auml;fix zu w&auml;hlen,
	benutze die <B>--prefix</B> Option beim 'configure' :
</P>
<PRE>
./configure --prefix=/opt
make
make install
</PRE>
<P>
	Installiert OpenSSH in <I>/opt/{bin,etc,lib,sbin}</I>. Du kannst auch andere
	Pfade angeben, zum Beispiel:
</P>
<PRE>
./configure --prefix=/opt --sysconfdir=/etc/ssh
make
make install
</PRE>
<P>
	Das wird die Binaries in <I>/opt/{bin,lib,sbin}</I> und
	die Konfigurationsdateien in <I>/etc/ssh</I> ablegen.
<P>
	Wenn du PAM benutzt, wirst du eine PAM Kontrolldatei per Hand installieren m&uuml;ssen und
	zwar als <I>/etc/pam.d/sshd</I> (oder wo auch immer dein System
	sie gerne h&auml;tte). Eine Standard PAM Konfiguration ist als
	<I>contrib/sshd.pam.generic</I> beigef&uuml;gt, du solltest sie deinem Bedarf anpassen, bevor du sie
	benutzt. Wenn du eine aktuelle Version von Redhat Linux benutzt, befindet sich ein etwas n&uuml;tzlicheres
	config file in <I>contrib/redhat/sshd.pam</I>.
</P>
<P>
	Es gibt noch ein paar andere Optionen f&uuml;r das 'configure' script:
</P>
<DL>
<DT>--with-rsh=PATH</DT>
<DD>
	Specifiziert den Pfad zu deinem rsh Programm. Normalerweise wird <I>./configure</I>  
	den Standard-Pfad <B>$PATH</B> nach <I>rsh</I> durchsuchen. Du musst diese Option 
	wahrscheinlich angeben, wenn rsh nicht in deinem Standard-Pfad enthalten ist.
</DD>
<DT>--without-pam</DT>
<DD>
	Schaltet die PAM Unterst&uuml;tzung ab. PAM wird automatisch gesucht und abgeschaltet, wenn
	es gefunden wird.
</DD>
<DT>--with-random=/some/file</DT>
<DD>
	Gibt eine alternative Quelle von Zufallszahlen an (standardm&auml;ssig
	<I>/dev/urandom</I>). Wenn du nicht absolut sicher bist, was du tust, lass lieber 
	die Finger davon.
</DD>
<DT>--with-egd-pool=/some/file</DT>
<DD>
	Schaltet die 'Entropy Gathering Daemon' Unterst&uuml;tzung an und spzifiziert einen EGD pool 
	socket. Du m&ouml;chtest das vielleicht benutzen, falls dein Unix kein 
	<I>/dev/urandom</I> Device unterst&uuml;tzt (oder etwas &auml;hnliches). Das File Argument bezieht sich  
	auf die EGD pool Datei, nicht das EGD Programm selbst. Bitte lies die EGD 
	Dokumentation.
</DD>
<DT>--with-lastlog=FILE</DT>
<DD>
	Spezifiziert den Ort der lastlog Datei.
	<br><I>./configure</I> durchsucht ein paar  
	ein paar Standardorte nach lastlog, aber kann es nat&uuml;rlich nicht finden, wenn es
	in einem anderen Verzeichnis installiert ist.
</DD>
<DT>--without-lastlog</DT>
<DD>
	Schaltet die lastlog Unterst&uuml;tzung komplett ab.
</DD>
<DT>--with-kerberos4=PATH</DT>
<DD>
	Schaltet die Kerberos IV Unterst&uuml;tzung ein. Du musst die Kerberos 
	libraries und header files installiert haben, damit es funktioniert. Benutze das 
	optionale PATH Argument um den Ort deiner Kerberos Installation anzugeben.
</DD>
<DT>--with-afs=PATH</DT>
<DD>
	Schaltet die AFS Unterst&uuml;tzung ein. Du musst die Kerberos IV und die 
	AFS libraries und header Dateien installiert haben, damit es funktioniert. 
	Benutze das optionale PATH Argument um den Ort deiner AFS Installation anzugeben. 
	AFS ben&ouml;tigt eingeschaltete Kerberos Unterst&uuml;tzung.
</DD>
<DT>--with-skey</DT>
<DD>
	Schaltet die S/Key Einmalpasswort-Unterst&uuml;tzung ein. Du musst die S/Key 
	libraries und header Files installiert haben, damit es funktioniert.
</DD>
<DT>--with-tcp-wrappers</DT>
<DD>
	Schaltet die TCP Wrapper Unterst&uuml;zung (<I>/etc/hosts.allow|deny</I>) ein. Du brauchst
	installierte <I>libwrap.a</I> und <I>tcpd.h</I> .
</DD>
<DT>--with-md5-passwords</DT>
<DD>
	Schaltet die Unterst&uuml;tzung f&uuml;r MD5 Passw&ouml;rter ein. Benutze dies hier, wenn dein Betriebsystem 
	MD5 Passw&ouml;rter ohne PAM benutzt.
</DD>
<DT>--with-utmpx</DT>
<DD>
	Unterst&uuml;zung f&uuml;r utmpx, was auf einigen Plattformen automatisch eingeschaltet ist.
</DD>
<DT>--without-shadow</DT>
<DD>
	Schaltet shadow password Unterst&uuml;zung ab.
</DD>
<DT>--with-ipaddr-display</DT>
<DD>
	Erzwingt die Benutzung von numerischen IP address in der <B>$DISPLAY</B> 
	Umgebungsvariable. Einige defekte Systeme brauchen das.
</DD>
<DT>--with-default-path=PATH</DT>
<DD>
	Erlaubt den Standardpfad <B>$PATH</B> f&uuml;r Sessions zu setzen, die vom 
	sshd gestartet werden. Dieser ersetzt den Standardpfad vollkommen.
	Benutze das, wenn der Server 'scp' nicht finden kann.
</DD>
<DT>--with-pid-dir=PATH</DT>
<DD>
	Gibt das Verzeichnis an, in dem die ssh.pid Datei erzeugt wird.
</DD>
<DT>--with-xauth=PATH</DT>
<DD>
	Gibt den Pfad zum 'xauth'-binary an.
</DD>
<DT>--with-ipv4-default</DT>
<DD>
	Weist OpenSSH an, IPv4 f&uuml;r neue Verbindungen zu benutzen. Normalerweise 
	wird OpenSSH versuchen sowohl IPv6 als auch IPv4 Addressen zu finden. 
	Auf Linux/glibc-2.1.2 verursacht das lange Pausen in der Namensaufl&ouml;sung. 
	Wenn diese Option angegeben ist, kannst du trotzdem mit Hilfe der Option
	<B>-6</B> IPv6 Adressen erreichen.
</DD>
<DT>--with-ssl-dir=DIR</DT>
<DD>
	Gibt an, wo die OpenSSL libraries installiert sind.
</DD>
<DT>--with-4in6</DT>
<DD>
	Pr&uuml;fe, ob IPv4 in IPv6 gemappte Addressen vorhanden sind und konvertiere sie in
	richtige (AF_INET) IPv4 Addressen. Umgeht IPv6 Schwierigkeiten unter Linux.
</DD>
</DL>
<P>
	Wenn du spezielle Optionen an Compiler oder Linker &uuml;bergeben willst, kannst
	du diese als Umgebungsvariable definieren, bevor du 
	<I>./configure</I> ausf&uuml;hrst. Zum Beispiel:
</P>
<PRE>
CFLAGS="-O -m486" LFLAGS="-s" LIBS="-lrubbish" LD="/usr/foo/ld" ./configure
</PRE>
</LI>
<LI><U>Konfiguration</U>
<P>
	Die Laufzeitkonfigurationsdateien sind unter 
	<I>${prefix}/etc</I> installiert, oder wo du sie auch mit Hilfe der Option <B>--sysconfdir</B> 
	hininstalliert hast (<I>/usr/local/etc</I> normalerweise).
</P>
<P>
	Die Standardkonfiguration sollte sofort benutzbar sein, trotzdem solltest du sie &uuml;berpr&uuml;fen,
	damit sie auch auf deine Gegebenheiten passt.
</P>
<P>
	Um einen host key zu generieren, benutze "make host-key". Alternativ dazu kannst du das per Hand 
	erledigen:
</P>
<PRE>
/usr/bin/ssh-keygen -b 1024 -f /etc/ssh/ssh_host_key -N ''
/usr/bin/ssh-keygen -d -f /etc/ssh/ssh_host_dsa_key -N ''
</PRE>
<P>
	Ersetze <I>/etc/ssh</I> mit dem korrekten Pfad zum Konfigurationsverzeichnis.
	(<I>${prefix}/etc</I> oder was auch immer du per
	<B>--sysconfdir</B> Option w&auml;hrend der Installation angegeben hast.
</P>
<P>
	Wenn du OpenSSH mit EGD Unterst&uuml;tzung konfigueriert hast, stelle sicher, dass EGD l&auml;uft
	und schon ein bisschen Entropie gesammelt hat.
</P>
<P>
	Mehr Information &uuml;ber die Konfiguration gibt es in  manual pages 
	f&uuml;r sshd, ssh und ssh-agent.
</P>
</LI>
</OL>

<p>
<hr>
<a href=index.html><img height=24 width=24 src=../back.gif border=0 alt=OpenSSH></a>
<a href=mailto:www@openbsd.org>www@openbsd.org</a>
<br>
<small>
Originally [OpenBSD: install.html,v 1.4 ]
<br>
$Translation: install.html,v 1.5 2000/12/26 19:52:21 jufi Exp $
<br>
<small>$OpenBSD: install.html,v 1.6 2001/02/01 15:54:00 todd Exp $</small>
</body>
</html>



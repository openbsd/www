<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>H&auml;ufig gestellte Fragen zu OpenSSH</title>
<link rev= "made" href= "mailto:www@openbsd.org">
<meta name= "resource-type" content= "document">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta http-equiv="Content-Language" content="de">
<meta name= "description"   content= "Die OpenSSH FAQ Seite">
<meta name= "keywords"      content= "openssh,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 1999-2004 OpenBSD.">
</head>

<body bgcolor= "#ffffff" text= "#000000" link= "#23238E">
<img alt="[OpenSSH]" height=30 width=141 src="../images/smalltitle.gif">
<p>

<h1>OpenSSH FAQ (H&auml;ufig gestellte Fragen)</h1>

<strong>Datum: 04.03.2002</strong>

<hr>

<blockquote>
<h3><a href= "#1.0">1.0 - Was ist OpenSSH und wo kann ich es bekommen?</a></h3>
       <ul>
       <li><a href= "#1.1">1.1 - Was ist OpenSSH?</a>
       <li><a href= "#1.2">1.2 - Warum sollte es benutzt werden?</a>
       <li><a href= "#1.3">1.3 - Welche Betriebssysteme werden unterst&uuml;tzt?</a>
       <li><a href= "#1.4">1.4 - Was ist mit Copyrights, Benutzung und Patenten?</a>
       <li><a href= "#1.5">1.5 - Wo kann ich Hilfe finden?</a>
       </ul>
<h3><a href= "#2.0">2.0 - Allgemeine Fragen</a></h3>
       <ul>
       <li><a href= "#2.1">2.1 - Warum benutzt ssh/scp Verbindungen auf den niedrigen ports? Meine Firewall blockiert diese.</a>
       <li><a href= "#2.2">2.2 - Warum ist der ssh Client setuid root?</a>
       <li><a href= "#2.3">2.3 - Warum hat SSH 2.3 Probleme beim Interoperieren mit OpenSSH 2.1.1?</a>
       <li><a href= "#2.4">2.4 - Warum gibt OpenSSH folgendes aus: Dispatch protocol error: type 20</a>
       <li><a href= "#2.5">2.5 - Alte Versionen des kommerziellen SSH verschl&uuml;sseln host keys mit IDEA.</a>
       <li><a href= "#2.6">2.6 - Was sind das f&uuml;r Warnmeldungen &uuml;ber key lengths?</a>
       <li><a href= "#2.7">2.7 - X11 und/oder agent forwarding funktioniert nicht.</a>
       <li><a href= "#2.8">2.8 - Nach dem Upgrade auf OpenSSH gibt es keine SSH2 Unterst&uuml;tzung mehr.</a>
       <li><a href= "#2.9">2.9 - sftp/scp versagt beim Aufbauen der Verbindung, ssh geht aber.</a>
       </ul>
<h3><a href= "#3.0">3.0 - Fragen zum 'portablen OpenSSH'</a></h3>
       <ul>
       <li><a href= "#3.1">3.1 - Unechte PAM Authentifikations-Meldungen in den Logfiles.</a>
       <li><a href= "#3.2">3.2 - Leere Passw&ouml;rter sind in der PAM Authentifikation nicht erlaubt.</a>
       <li><a href= "#3.3">3.3 - ssh(1) braucht sehr lange, um sich mit einem Linux/glibc 2.1 zu verbinden</a>
       <li><a href= "#3.4">3.4 - "Can't locate module net-pf-10" Meldungen in Logdatei unter Linux.</a>
       <li><a href= "#3.5">3.5 - Password Authentifikation funktioniert nicht mit einer Slackware 7.0</a>
       <li><a href= "#3.6">3.6 - Configure oder sshd(8) beschwert sich &uuml;ber fehlende RSA Unterst&uuml;tzung</a>
       <li><a href= "#3.7">3.7 - "scp: command not found" Fehler</a>
       <li><a href= "#3.8">3.8 - Kann die Passphrase nicht lesen</a>
       <li><a href= "#3.9">3.9 - 'configure' fehlt oder make versagt</a>
       <li><a href= "#3.10">3.10 - H&auml;ngt beim Verlassen von ssh</a>
       <li><a href= "#3.11">3.11 - Wieso h&auml;ngt ssh beim Beenden?</a>
       <li><a href= "#3.12">3.12 - Ich habe ein Upgrade auf OpenSSH 3.1 durchgef&uuml;hrt und dann ging das X11 forwarding nicht mehr.</a>
       </ul>
</blockquote>

<hr>


<h2><u><a name= "1.0">1.0 - Was ist OpenSSH und wo kann ich es bekommen?</a></u></h2>

<h2><a name= "1.1">1.1 - Was ist OpenSSH?</a></h2>

<p>
OpenSSH ist eine <b>FREIE</b> Version der SSH Suite von 
Netzwerkverbindungs-Tools, auf die sich eine steigende Zahl 
von Leuten im Internet verlassen. Viele Benutzer von telnet, 
rlogin, ftp und anderen solchen Programmen haben noch nicht 
realisiert, dass ihr Passwort unverschl&uuml;sselt &uuml;ber 
das Internet &uuml;bertragen wird, aber so ist es. OpenSSH 
verschl&uuml;sselt den Verkehr (inklusive Passw&ouml;rtern) 
um 'eavesdropping', 'connection hijacking', und andere 
Angriffe auf Netzwerk-Level effektiv zu eliminieren.

<p>
Die OpenSSH Suite beinhaltet das 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> 
Programm, das rlogin und telnet ersetzt, und 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scp&amp;sektion=1">scp(1)</a>, 
das <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rcp&amp;sektion=1">rcp(1)</a> 
und <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&amp;sektion=1">ftp(1)</a> 
ersetzt. OpenSSH beinhaltet seit kurzem auch 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp&amp;sektion=1">sftp(1)</a> und 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp-server&amp;sektion=8">sftp-server(8)</a>, 
die eine einfache L&ouml;sung f&uuml;r Datei&uuml;bertragungen realisieren. 
Sie basieren auf dem 
<a href="../txt/draft-ietf-secsh-filexfer-02.txt">secsh-filexfer</a> IETF Entwurf.

<p><strong>OpenSSH besteht aus mehreren Programmen.</strong></p>

<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8">sshd(8)</a> - Server Programm, das auf der Server-Maschine l&auml;uft. Es lauscht, ob es Verbindungsw&uuml;nsche von Client-Maschinen gibt, und f&uuml;hrt dann eine Authentifikation durch, bevor sie den Client bedient.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> - Dies ist das Client Programmm, das benutzt wird, um sich auf einer anderen Maschine einzuloggen, oder dort Kommandos auszuf&uuml;hren. <i>slogin</i> ist ein weiterer Name f&uuml;r dieses Programm.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scp&amp;sektion=1">scp(1)</a> - Kopiert Dateien sicher von einer Maschine zur anderen.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keygen&amp;sektion=1">ssh-keygen(1)</a> - wird benutzt, um 'Pubkey Authentication' (RSA or DSA) Schl&uuml;ssel zu erzeugen ('host keys' und 'user authentication keys').
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-agent&amp;sektion=1">ssh-agent(1)</a> - Authentifikations-Agent.  Er kann benutzt werden, um RSA Schl&uuml;ssel f&uuml;r die Authentifikation bereitzuhalten.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-add&amp;sektion=1">ssh-add(1)</a> - Wird benutzt, um neue Schl&uuml;ssel beim Agent zu registrieren.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp-server&amp;sektion=8">sftp-server(8)</a> - SFTP Server Subsystem.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp&amp;sektion=1">sftp(1)</a> - Sicheres Datei&uuml;bertragungsprogramm.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keyscan&amp;sektion=1">ssh-keyscan(1)</a> - ssh public keys einsammeln.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keysign&amp;sektion=8">ssh-keysign(8)</a> - ssh Hilfs-Programm f&uuml;r Host-basierende Authentifikation.
</ul>

<h2><a name= "1.2">1.2 - Warum sollte man es benutzen?</a></h2>

<p>
OpenSSH ist eine Sammlung von Werkzeugen, die dir hilft, deine 
Netzwerk-Verbindungen sicherer zu machen. Hier ist eine Liste der Features:
</p>

<ul>
       <li>Starke Authentifikation.  Schliesst verschiedene Sicherheitsl&ouml;cher (z.B. IP, routing, und DNS spoofing).
       <li>Verbesserte Privatsph&auml;re.  Alle Verbindungen werden automatisch und transparent verschl&uuml;sselt.
       <li>Sichere X11 Sitzungen.  Das Programm setzt DISPLAY auf der Server Maschine automatisch, und leitet alle X11 Verbindungen &uuml;ber den sicheren Kanal weiter.
       <li>Willk&uuml;rliche TCP/IP Ports k&ouml;nnen durch den verschl&uuml;sselten Kanal gelenkt werden, und zwar in beiden Richtungen (z.B. f&uuml;r e-cash Transaktionen).
       <li>F&uuml;r normale Benutzert wird keine Schulung und kein Training ben&ouml;tigt.
       <li>Vertraut nie dem Netzwerk. Minimales Vertrauen auf der Gegenseite der Verbindung. Minimales Vertrauen gegen&uuml;ber den Domain Name Servern. Pure RSA Authentifikation vertraut nichts und niemandem bis auf den 'private key'.
       <li>Der Client authentifiziert die Servermaschine am Beginn jeder Verbindung mit RSA, um 'Trojanischen Pferden' (durch 'routing' oder DNS spoofing) und 'man-in-the-middle' Angriffen vorzubeugen, und der Server tut das gleiche mit der Clientmaschine, bevor er <i>.rhosts</i> oder <i>/etc/hosts.equiv</i> Authentifikation  erlaubt (um DNS, routing, oder IP-spoofing vorzubeugen).
       <li>Die 'Host authentication key' Distribution kann zentral laufen, wird jedoch automatisch, sobald die erste Verbindung zur Maschine ge&ouml;ffnet wird.
       <li>Jeder Benutzer kann beliebig viele RSA Authentifikations-Schl&uuml;ssel zur eigenen Verwendung erzeugen.
       <li>Das Server-Programm hat seinen eigenen RSA Schl&uuml;ssel, der jede Stunde automatisch neu erzeugt wird.
       <li>Ein Authentifikations-Agent, der auf dem Laptop oder der Workstation des Benutzers l&auml;uft, kann benutzt werden, um die RSA Authentifikations-Schl&uuml;ssel des Users vorzuhalten.
       <li>Die Software kann auch ohne root-Privilegien installiert und benutzt werden (mit eingeschr&auml;nkter Funktionalit&auml;t). 
       <li>Der Client ist in systemweiten und benutzerspezifischen Konfigurationsdateien anpassbar.
       <li>Optionale Kompression aller Daten mittels gzip (inklusive 'forwarded X11' und TCP/IP Daten), was zu bedeutenden Beschleunigungen auf langsamen Verbindungen f&uuml;hren kann.
       <li>Kompletter Ersatz f&uuml;r rlogin, rsh, und rcp.
</ul>

<p>
Zur Zeit werden fast alle Verbindungen in Computer-Netzwerken 
unverschl&uuml;sselt &uuml;bertragen. Als Konsequenz kann jeder, der 
Zugriff auf eine Maschine in diesem Netzwerk hat, alle Verbindungen 
abh&ouml;ren. Das wird auch von Hackern, neugierigen Administratoren, 
Arbeitgebern, Kriminellen, Industriespionen und Regierungen so 
durchgef&uuml;hrt.
Einige Netzwerke senden derartig viel elektromagnetische Strahlung ab, 
dass Daten sogar in grosser Entfernung noch aufgefangen werden 
k&ouml;nnen.

<p>
Wenn du dich einloggst, wird dein Passwort im Klartext &uuml;bertragen.
Daher kann dann jeder Lauscher deinen Account zu jeglicher Tat benutzen.
Es gibt viele Zeugnisse daf&uuml;r, dass Cracker auf dem Rechner eines 
Opfers unbemerkt ein Programm gestartet haben, welches ohne Wissen des 
Users einfach nur das Netzwerk belauscht und Passw&ouml;rter gesammelt hat.
Programme, die das tun, gibt es im Internet oder k&ouml;nnen von einem
kompetenten Programmierer innerhalb weniger Stunden selbst geschrieben 
werden.

<p>
Firmen haben Gesch&auml;ftsgeheimnisse, Patentantr&auml;ge in Vorbereitung,
Preisinformationen, Informationen &uuml;ber Vertragspartner, Kundendaten, 
Personendaten, Finanzdaten, etc. Zur Zeit kann jeder mit Zugriff auf das
Netzwerk (jede Maschine im Netzwerk) alles belauschen, was im Netzwerk 
vor sich geht, und das noch ohne die normalen Zugriffsbeschr&auml;nkungen.  

<p>
Vielen Firmen ist nicht bewusst, dass Informationen so einfach aus ihrem
Netzwerk gesammelt werden k&ouml;nnen. Sie vertrauen darin, dass ihre 
Daten sicher sind, da niemand wissen kann, dass dort vertrauliche 
Informationen kursieren oder auch, weil dort so viele andere Daten 
&uuml;bertragen werden. Dies ist keine sichere Einstellung.

<h2><a name= "1.3">1.3 - Welche Betriebssysteme werden unterst&uuml;tzt?</a></h2>

<p>
Obwohl OpenSSH auf <a href="http://www.openbsd.org/">OpenBSD</a> entwickelt 
wird, gibt es eine breite Palette an Portierungen auf andere Betriebssysteme.
Die portable Version von OpenSSH wird von 
<a href="mailto:djm@openbsd.org">Damien Miller</a> entwickelt. Einen 
schnellen &Uuml;berblick &uuml;ber die portable Version von  OpenSSH gibt 
dir <a href="portable.html">http://www.openssh.com/portable.html</a>. 
Ein &Uuml;berblick &uuml;ber die Betriebssysteme, die unterst&uuml;tzt 
werden, findet sich hier:

<ul>
       <li>OpenBSD
       <li>NetBSD
       <li>FreeBSD
       <li>AIX 
       <li>HP-UX 
       <li>IRIX 
       <li>Linux 
       <li>NeXT 
       <li>SCO 
       <li>SNI/Reliant Unix 
       <li>Solaris 
       <li>Digital Unix/Tru64/OSF 
       <li>Mac OS X 
</ul>

<p>
Eine Liste der Anbieter, die OpenSSH in ihre Distributionen einbinden, 
findet sich unter <a href="users.html">www.openssh.com/users.html</a>.

<h2><a name= "1.4">1.4 - Was ist mit Copyrights, Benutzung und Patenten?</a></h2>

<p>
Die OpenSSH Entwickler haben sehr hart daran gearbeitet, OpenSSH frei 
von Patent- oder Copyright-Problemen zu halten. Dazu mussten einige
Optionen entfernt werden, und zwar die Unterst&uuml;tzung f&uuml;r 
patentierte Algorithmen.

<p>
OpenSSH unterst&uuml;tzt keinerlei patentierte Transportalgorithmen. 
Im SSH1 Modus sind nur 3DES und Blowfish m&ouml;glich. 
Im SSH2 Modus k&ouml;nnen nur 3DES, Blowfish, CAST128, Arcfour und AES 
ausgew&auml;hlt werden. Der patentierte IDEA Algorithmus wird nicht 
unterst&uuml;tzt.

<p>
OpenSSH bietet Unterst&uuml;tzung f&uuml;r sowohl das SSH1 als auch das 
SSH2 Protokoll. 

<p>
Da das RSA Patent ausgelaufen ist, gibt es keinerlei Beschr&auml;nkungen 
mehr f&uuml;r die Benutzung des RSA Algorithmus, inklusive OpenBSD.

<h2><a name= "1.5">1.5 - Wo bekomme ich Hilfe?</a></h2>

<p>
Es gibt mehrere Stellen, die du um Hilfe bitten kannst. Zus&auml;tzlich 
zur OpenSSH Website: 
<a href="http://www.openssh.com/">http://www.openssh.com</a>, gibt es 
mehrere Mailinglisten, in denen du dein Gl&uuml;ck versuchen kannst. 
Aber bevor du das tust, durchsuche bitte alle Mailinglisten-Archive, um 
zu sehen, ob deine Frage vielleicht schon beantwortet wurde . Die 
OpenSSH Mailingliste wurde archiviert und steht in durchsuchbarer Form unter 
<a href="http://marc.theaimsgroup.com/?l=openssh-unix-dev&amp;r=1&amp;w=2">theaimsgroup.com</a> 
zur Verf&uuml;gung.

<p>
Mehr Informationen &uuml;ber das Abonnieren von OpenSSH bezogenen 
Mailinglisten gibt es unter 
<a href="./list.html">www.openssh.com/list.html</a>.

<h2><u><a name= "2.0">2.0 - Allgemeine Fragen</a></u></h2>

<h2><a name= "2.1">2.1 - Warum &ouml;ffnet ssh/scp Verbindungen auf den unteren ports?</a></h2>

Der OpenSSH Client benutzt die unteren ports f&uuml;r rhosts 
Authentifikation, da der Server dem Usernamen vertrauen muss, den der 
Client liefert. Um das zu umgehen, kannst du das Beispiel weiter unten 
in deine <i>ssh_config</i> oder <i>~/.ssh/config</i> Datei kopieren.

<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
<b>UsePrivilegedPort no</b>
                </td>
        </tr>
</table>
</blockquote>

<p>
Oder du kannst diese Option auf der Kommandozeile angeben, indem du die 
<b>-o</b> Option des 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> 
Kommandos benutzt.

<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
$ <b>ssh -o "UsePrivilegedPort no" host.com</b>
                </td>
        </tr>
</table>
</blockquote>

<h2><a name= "2.2">2.2 - Warum ist der ssh Client setuid root?</a></h2>

<p>
In Verbindung mit der vorhergehenden Frage (<a href="#2.1">2.1</a>)
braucht OpenSSH root authority um sich an die unteren und privilegierten
ports binden zu k&ouml;nenn, um dann eine <i>rhosts Authentifikation</i> 
durchzuf&uuml;hren. Genauso notwendig ist dieser privilegierte port 
f&uuml;r rhosts-rsa Authentifikation zu &auml;lteren SSH Versionen.
<p>
Zus&auml;tzlich gilt sowohl f&uuml;r <i>rhosts-rsa Authentifikation</i> 
(in Protokoll Version 1) als auch f&uuml;r <i>host-basierte Authentifikation</i> 
(in Protokoll Version 2), dass der ssh Client Zugang zum 
<i>private host key</i> braucht, um die Clientmaschine am Server 
anzumelden. 
OpenSSH Versionen vor 3.3 ben&ouml;tigten das <code>ssh</code> Binary 
mit gesetztem setuid Bit um das zu erreichen, aber du kannst das Bit
l&ouml;schen, wenn du diese Authentifizierungsmethoden nicht
benutzen willst.

<p>
Beginnend mit OpenSSH 3.3 ist <code>ssh</code> standardm&auml;ssig nicht
setuid, <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keysign">ssh-keysign</a>,
wird benutzt, um die privaten hosts keys auszulesen, und ssh benutzt standardm&auml;ssig
keine privilegierten source ports. Wenn du doch einen benutzen willst, musst
du das setuid Bit von <code>ssh</code> per Hand setzen.

<h2><a name= "2.3">2.3 - Warum hat SSH 2.3 Probleme beim Interoperieren mit OpenSSH 2.1.1?</a></h2>

<p>
SSH 2.3 und fr&uuml;here Versionen haben einen Fehler in ihrer HMAC 
Implementation. Ihr Code hat nicht den kompletten Output des Datenblocks
von der Auswahl bereitgestellt, sondern stattdessen eben nur 128 Bits.  
Bei l&auml;ngeren Anfragen konnte dann SSH 2.3 eben nicht mit OpenSSH
zusammenarbeiten.

<p>
OpenSSH 2.2.0 erkennt, dass SSH 2.3 diesen Fehler hat. In 
zuk&uuml;nftigen Versionen von SSH wird dieser Fehler behoben sein. 
Alternativ kannst du das folgende in deine ssh 2.3 <i>/etc/sshd2_config</i> 
einf&uuml;gen.

<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
<b>Mac hmac-md5</b>
               </td>
        </tr>
</table>
</blockquote>

<h2><a name= "2.4">2.4 - Warum gibt OpenSSH folgendes aus: Dispatch protocol error: type 20</a></h2>

 <p>
Probleme bei der Interoperation treten auf, weil &auml;ltere Versionen 
noch keine Unterst&uuml;tzung f&uuml;r session rekeying hatten. Das 
kommerzielle SSH 2.3 versucht dieses Feature abzulehnen, und es kann 
zum Einfrieren der Verbindung kommen, oder die Fehlermeldung
&quot;<b>Dispatch protocol error: type 20 </b>&quot; kann zu lesen sein.
Das Problem wird entweder durch ein Upgrade auf eine aktuelle OpenSSH 
Version oder Abschalten des rekeying durch Hinzuf&uuml;gen  des 
folgenden in die kommerzielle SSH 2.3
<i>ssh2_config</i> or <i>sshd2_config</i>.


<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
<b>RekeyIntervalSeconds 0</b>
                </td>
        </tr>
</table>
</blockquote>

<h2><a name= "2.5">2.5 - Alte Versionen kommerzieller SSH encrypt host keys mit IDEA.</a></h2>

<p>
Die alten Versionen von SSH haben einen patentierten Algorithmus benutzt, 
um ihren <i>/etc/ssh/ssh_host_key</i> zu verschl&uuml;sseln. Das Problem 
manifestiert sich wom&ouml;glich darin, dass der 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8">sshd(8)</a> 
seinen host key nicht lesen kann. Um das Problem zu l&ouml;sen benutze 
das Kommando weiter unten, um deinen ssh_host_key zu 3DES zu konvertieren.
<b>HINWEIS:</b> Benutze das 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keygen&amp;sektion=1">ssh-keygen(1)</a> 
Programm von deinem kommerziellen SSH Produkt, und *NICHT* OpenSSH f&uuml;r 
das Beispiel weiter unten.

<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
# <b>ssh-keygen -u -f /etc/ssh/ssh_host_key</b>
                </td>
        </tr>
</table>
</blockquote>

<h2><a name= "2.6">2.6 - Was sind das das f&uuml;r Warnungen &uuml;ber Schl&uuml;ssell&auml;ngen?</a></h2>

<p>
Das 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keygen&amp;sektion=1">ssh-keygen(1)</a> 
des kommerziellen SSH Programms hat einen Fehler beinhaltet, die dazu 
f&uuml;hrten, dass es von Zeit zu Zeit 'Pubkey Authentication (RSA oder 
DSA) keys' generiert hat, deren 'Most Significant Bit' (MSB) nicht 
gesetzt war. Solche Schl&uuml;sel wurden zwar als 'mit voller L&auml;nge' 
angek&uuml;ndigt, waren aber tats&auml;chlich die H&auml;lfte der Zeit 
k&uuml;rzer als behauptet.

<p>
OpenSSH wird Warnungen ausgeben, wenn es solchen Schl&uuml;seln begegnet. 
Um diese Warnungen loszuwerden, passe deine known_hosts Datei an und 
ersetze die falsche Schl&uuml;ssell&auml;nge (1024) mit der richtigen 
(1023). 

<h2><a name= "2.7">2.7 - X11 und/oder 'agent forwarding' funktioniert nicht.</a></h2>

<p>
Pr&uuml;fe deine <i>ssh_config</i> und <i>sshd_config</i>. Die 
voreingestellten Konfigurationsdateien schalten 'authentication agent' und 
'X11 forwarding' ab. F&uuml;ge die Zeilen unten in die <i>sshd_config</i> 
ein, um sie zu aktivieren:

<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
<b>X11Forwarding yes</b>
                </td>
        </tr>
</table>
</blockquote>

<p>
und f&uuml;ge die folgenden Zeilen in die <i>ssh_config</i> ein:

<blockquote>
<table border=0 width="800">
       <tr>
               <td nowrap bgcolor="#EEEEEE">
<b>ForwardAgent yes</b><br>
<b>ForwardX11 yes</b>
               </td>
       </tr>
</table>
</blockquote>

<p>
<b>HINWEIS:</b> Benutzer von Linux Mandrake 7.2: Mandrake modifiziert 
die <i>XAUTHORITY</i> Umgebungsvariable in <i>/etc/skel/.bashrc</i>, 
und damit das 'home directory' jedes Bash-Benutzers. Diese Variable wird 
von OpenSSH gesetzt und daher muss f&uuml;r die oben genannten 
Optionen die folgende Zeile auskommentiert werden:

<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
<b># export XAUTHORITY=$HOME/.Xauthority</b>
                </td>
        </tr>
</table>
</blockquote>

<h2><a name= "2.8">2.8 Nach dem Upgrade auf OpenSSH habe ich keine SSH2 Untzerst&uuml;tzung mehr.</a></h2>

<p>
Die Dateien <i>sshd_config</i> oder <i>ssh_config</i> k&ouml;nnen von 
Version zu Version ver&auml;ndert werden. Du solltest immer nach solchen 
&Auml;nderungen Ausschau halten, wenn du auf eine neue Version von OpenSSH 
upgradest. Nach OpenSSH 2.3.0 musst du das folgende in deine 
<i>sshd_config</i> einf&uuml;gen:

<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
<b>HostKey /etc/ssh_host_dsa_key</b><br>
<b>HostKey /etc/ssh_host_rsa_key</b>
                </td>
        </tr>
</table>
</blockquote>

<h2><a name= "2.9">2.9 - sftp/scp kann keine Verbindung aufbauen, obwohl ssh funktioniert.</a></h2>

<p>
sftp und/oder scp k&ouml;nnen beim Aufbauen der Verbindung Probleme haben, 
wenn du eine 'shell initialisation' (.profile, .bashrc, .chsrc, etc.) hast, 
die Ausgaben f&uuml;r nicht-interaktive Sessions produziert. Dieser Output 
verwirrt den sftp/scp Client. Hiermit kannst du pr&uuml;fen, ob deine 
Shell das tut:

<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
<b>ssh yourhost /usr/bin/true</b>
                </td>
        </tr>
</table>
</blockquote>

<p>
Wenn das Kommando oben irgendeine Art von Ausgabe produziert, musst du 
deine Shell Initialisation modifizieren.


<h2><u><a name= "3.0">3.0 - Fragen zum 'portablen OpenSSH'</a></u></h2>

<h2><a name= "3.1">3.1 - Unechte PAM Authentifikations-Meldungen in den Logfiles.</a></h2>

<p>
Die portable Version von OpenSSH generiert unechte misslungene 
Authentifikationsmeldungen bei jedem Login, etwa wie:

<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
&quot;<b>authentication failure; (uid=0) -&gt; root for sshd service</b>&quot;
                </td>
        </tr>
</table>
</blockquote>

<p>
Diese werden erzeugt, weil OpenSSH zuerst versucht heraus zu finden, ob 
der User eine Authentifikation zum Login ben&ouml;tigt (leeres Passwort 
z.B.). Dummerweise logt PAM alle Authentifikationversuche, 
inklusive von diesem hier.

<p>
Wenn es dich zu sehr st&ouml;rt, setze 
&quot;<b>PermitEmptyPasswords no</b>&quot; in <i>sshd_config</i>. Das 
wird die Meldung stilllegen, allerdings auf Kosten dessen, dass es nicht 
mehr m&ouml;glich ist, sich in Accounts mit leeren Passw&ouml;rtern 
einzuloggen. Das ist im &uuml;brigen bereits der Standard, wenn du die 
mitgelieferte <i>sshd_config</i> Datei benutzt.

<h2><a name= "3.2">3.2 - Leere Passw&ouml;rter sind bei der PAM Authentifikation nicht erlaubt.</a></h2>

<p>
Um leere Passw&ouml;rter in einer OpenSSH Version zu erlauben, die mit 
PAM erzeugt wurde, musst du das 'nullok-Flag' an das Ende des 
Password-Checking Moduls in der <i>/etc/pam.d/sshd</i> 
Datei setzen. Zum Beispiel:

<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
auth required/lib/security/pam_unix.so shadow nodelay nullok
                </td>
        </tr>
</table>
</blockquote>

<p>
Das muss zus&auml;tzlich zum Setzen von 
&quot;<b>PermitEmptyPasswords yes</b>&quot; in der 
<i>sshd_config</i> Datei geschehen. 

<p>
Es gibt einen Fallstrick beim Benutzen leerer Passw&ouml;rter mit PAM 
Authentifikation: PAM wird jegliches Passwort erlauben, wenn ein Account 
mit einem leeren Passwort authentifiziert wird. Das macht den Check, den 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8">sshd(8)</a> 
benutzt, um zu pr&uuml;fen, ob der Account ein Passwort gesetzt hat, 
wirklungslos, und umgeht ebenso die Policy, die von 
<b>PermitEmptyPasswords</b> gesetzt wurde. Aus diesem Grund raten wir 
davon ab, die <b>nullok</b> Direktive in deiner PAM Konfigurationsdatei 
zu setzen, es sei denn, du willst leere Passw&ouml;rter explizit erlauben.

<h2><a name= "3.3">3.3 - ssh(1) ben&ouml;tigt sehr lange, um sich mit Linux/glibc 2.1 zu verbinden</a></h2>

<p>
Die glibc, die mit Redhat 6.1 ausgeliefert wurde, braucht offenbar sehr 
lange, um "IPv6 oder IPv4" Addressen von Domainnamen aufzul&ouml;sen.
Das kann mit der --with-ipv4-default Konfigurationsoption umgangen werden. 
Diese weist OpenSSH an, nur IPv4 Addressaufl&ouml;ssung zu benutzen. 
(IPv6 lookups k&ouml;nnen trotzdem noch mit Angabe der -6 Option gemacht 
werden).

<h2><a name= "3.4">3.4 - "Can't locate module net-pf-10" Meldungen im Log unter Linux.</a></h2>

<p>
Der Linux Kernel sieht (via modprobe) nach der Protokollfamilie 10 (IPv6). 
Lade entweder das passende Kernelmodul, gib den korrekten Alias in 
<i>/etc/modules.conf</i> an, oder schalte IPv6 in 
<i>/etc/modules.conf</i> ab.

<p>
Aus irgendeinem bl&ouml;sinnigen Grund kann 
<i>/etc/modules.conf</i> auch <i>/etc/conf.modules</i> heissen.

<h2><a name= "3.5">3.5 - Password Authentifikation funktioniert nicht unter Slackware 7.0</a></h2>

<p>
In der Slackware 7.0 musst du OpenSSH mit der libcrypt verlinken.

<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
LIBS=-lcrypt ./configure [options]
                </td>
        </tr>
</table>
</blockquote>

<h2><a name= "3.6">3.6 - Configure oder sshd(8) beschwert sich &uuml;ber fehlende RSA oder DSA Unterst&uuml;tzung</a></h2>

<p>
Stelle sicher, dass deine OpenSSL libraries mit eingebauter RSA oder DSA 
Unterst&uuml;tzung erzeugt wurden, entweder intern oder durch RSAref.

<h2><a name= "3.7">3.7 - "scp: command not found" Fehler</a></h2>

<p>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scp&amp;sektion=1">scp(1)</a> 
muss sich im Standard PATH sowohl auf dem Client als auch auf dem Server 
befinden. M&ouml;glicherweise musst du die <b>--with-default-path</b> 
Option angebenm um einen angepassten Pfad f&uuml;r die Suche auf dem 
Server anzugeben. Diese Option ersetzt den Standardpfad, so dass du sowohl 
alle bisherigen Verzeichnisse in deinem Pfad angeben musst, als auch das, 
in dem scp installiert ist. Zum Beispiel:

<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
$ <b>./configure --with-default-path=/bin:/usr/bin:/usr/local/bin:/path/to/scp</b>
                </td>
        </tr>
</table>
</blockquote>

<h2><a name= "3.8">3.8 - Unable to read passphrase</a></h2>

<p>
Einige Betriebssystem setzen <i>/dev/tty</i> mit falschen modes, was zum 
Fehler beim Lesen von Passw&ouml;rtern mit folgendem Fehler f&uuml;hrt:

<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
You have no controlling tty.  Cannot read passphrase.
                </td>
        </tr>
</table>
</blockquote>

<p>
Die L&ouml;sung hierzu ist, die Permissions von <i>/dev/tty</i> auf 0666 zu 
setzen und dann das ganze deinem Betriebssystem-Hersteller als Bug zu melden. 

<h2><a name= "3.9">3.9 - 'configure' fehlt oder make versagt</a></h2>

<p>
Wenn es keine 'configure' Datei in deiner tar.gz Datei gibt, die du 
heruntergeladen hast, oder make mit einem "missing seperator" Fehler 
versagt, hast du vermutlich die OpenBSD Distribution heruntergeladen 
und versuchst sie auf einer anderen Plattform zu kompilieren.
Bitte verwende die <a href="portable.html">portable version</a>.

<h2><a name= "3.10">3.10 - H&auml;ngt beim Verlassen von ssh</a></h2>

<p>
OpenSSH kann beim Beenden h&auml;ngen bleiben. Das kann passieren, wenn 
es einen aktiven Hintergrundprozess gibt.  Linux und HP-UX sind 
hierf&uuml;r bekannt.  Das Problem kann hiermit verfiziert werden:

<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
$ <b>sleep 20 < /dev/null > /dev/null 2>&1 &</b>
                </td>
        </tr>
</table>
</blockquote>

Versuche anstattdessen das hier zu benutzen:
<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
$ <b> command < /dev/null > /dev/null 2>&1</b>
                </td>
        </tr>
</table>
</blockquote>
</p>
<p>
Ein Umgehen des Problems f&uuml;r Bash-User ist mittels eines Einf&uuml;gens
von <b>"shopt -s huponexit"</b> in entweder /etc/bashrc  oder ~/.bashrc 
m&ouml;glich. Ansonsten konsultiere die man page deiner Shell, um eine 
Option zu finden, mit der man aktiven Jobs ein HUP Signal senden kann, 
wenn man sie verl&auml;sst.
</p>
 

<h2><a name= "3.11">3.11 - Wieso h&auml;ngt ssh beim Beenden?</a></h2>

<p>
Beim Ausf&uuml;hren des
<blockquote>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
$ <b>ssh host command</b>
                </td>
        </tr>
</table>
</blockquote>
<b>muss</b> ssh h&auml;ngenbleiben, da es zu warten hat
<ul>
<li> bis es sicherstellen kann, dass <code>command</code> keine weiteren 
Eingaben ben&ouml;tigt.
<li> bis <code>command</code> beendet ist, da der sshd den Exit-Status
von <code>command</code> an ssh weitergeben muss.
</ul>
<p>

<h2><a name= "3.12">3.12 - Ich habe ein Upgrade auf OpenSSH 3.1 und 
dann ging das X11 forwarding nicht mehr.</a></h2>

Beginnend mit OpenSSH 3.1 lauscht der sshd x11 forwarding Server 
standardm&auml;ssig auf localhost; siehe auch die sshd 
<b>X11UseLocalhost</b> Option, um zum vorherigen Verhalten 
zur&uuml;ckzukehren, wenn deine &auml;lteren X11 Clients nicht mit dieser
Konfiguration funktionieren.<p>

Im allgemeinen sollten X11 Clients, die X11 R6 benutzen, mit dieser 
Einstellung funktionieren. Einige Hersteller, einschliesslich HP, setzen 
X11 Clients mit R6 und R5 libs ein, so dass einige Clients funktionieren, 
und andere nicht.
Das gilt z.B. f&uuml;r HP-UX 11.X.<p>


<hr>
<a href="index.html"><img height=24 width=24 src="../back.gif" border=0 alt=OpenSSH></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
Originally [OpenBSD: faq.html,v 1.57 ]
<br>
$Translation: faq.html,v 1.43 2004/02/15 23:03:05 jufi Exp $
<br>
</small>
<small>$OpenBSD: faq.html,v 1.42 2004/02/15 23:08:25 jufi Exp $</small>
</body>
</html>

<!doctype html>
<html lang=en id=errata>
<meta charset=utf-8>

<title>OpenBSD 2.9 Errata</title>
<meta name="description" content="the OpenBSD CD errata page">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="openbsd.css">
<link rel="canonical" href="https://www.openbsd.org/errata29.html">

<!--
			IMPORTANT REMINDER
	IF YOU ADD A NEW ERRATUM, MAIL THE PATCH TO TECH AND ANNOUNCE
-->


<h2 id=OpenBSD>
<a href="index.html">
<i>Open</i><b>BSD</b></a>
2.9 Errata
</h2>
<hr>

For errata on a certain release, click below:<br>
<a href="errata20.html">2.0</a>,
<a href="errata21.html">2.1</a>,
<a href="errata22.html">2.2</a>,
<a href="errata23.html">2.3</a>,
<a href="errata24.html">2.4</a>,
<a href="errata25.html">2.5</a>,
<a href="errata26.html">2.6</a>,
<a href="errata27.html">2.7</a>,
<a href="errata28.html">2.8</a>,
<a href="errata30.html">3.0</a>,
<a href="errata31.html">3.1</a>,
<a href="errata32.html">3.2</a>,
<a href="errata33.html">3.3</a>,
<a href="errata34.html">3.4</a>,
<a href="errata35.html">3.5</a>,
<a href="errata36.html">3.6</a>,
<br>
<a href="errata37.html">3.7</a>,
<a href="errata38.html">3.8</a>,
<a href="errata39.html">3.9</a>,
<a href="errata40.html">4.0</a>,
<a href="errata41.html">4.1</a>,
<a href="errata42.html">4.2</a>,
<a href="errata43.html">4.3</a>,
<a href="errata44.html">4.4</a>,
<a href="errata45.html">4.5</a>,
<a href="errata46.html">4.6</a>,
<a href="errata47.html">4.7</a>,
<a href="errata48.html">4.8</a>,
<a href="errata49.html">4.9</a>,
<a href="errata50.html">5.0</a>,
<a href="errata51.html">5.1</a>,
<a href="errata52.html">5.2</a>,
<br>
<a href="errata53.html">5.3</a>,
<a href="errata54.html">5.4</a>,
<a href="errata55.html">5.5</a>,
<a href="errata56.html">5.6</a>,
<a href="errata57.html">5.7</a>,
<a href="errata58.html">5.8</a>,
<a href="errata59.html">5.9</a>,
<a href="errata60.html">6.0</a>,
<a href="errata61.html">6.1</a>,
<a href="errata62.html">6.2</a>,
<a href="errata63.html">6.3</a>,
<a href="errata64.html">6.4</a>,
<a href="errata65.html">6.5</a>,
<a href="errata66.html">6.6</a>,
<a href="errata67.html">6.7</a>,
<a href="errata68.html">6.8</a>,
<br>
<a href="errata69.html">6.9</a>,
<a href="errata70.html">7.0</a>,
<a href="errata71.html">7.1</a>,
<a href="errata72.html">7.2</a>,
<a href="errata73.html">7.3</a>,
<a href="errata74.html">7.4</a>,
<a href="errata75.html">7.5</a>,
<a href="errata76.html">7.6</a>,
<a href="errata77.html">7.7</a>.
<hr>

<p>
Patches for the OpenBSD base system are distributed as unified diffs.
Each patch contains usage instructions.
All the following patches are also available in one
<a href="https://ftp.openbsd.org/pub/OpenBSD/patches/2.9.tar.gz">tar.gz file</a>
for convenience.

<p>
Patches for supported releases are also incorporated into the
<a href="stable.html">-stable branch</a>.

<hr>

<ul>

<li id="sendmail">
<strong>001: SECURITY FIX: May 29, 2001</strong>
&nbsp; <i>All architectures</i><br>
The signal handlers in <a href="https://man.openbsd.org/OpenBSD-2.9/sendmail.8">sendmail(8)</a> contain code that is unsafe in the
context of a signal handler.  This leads to potentially serious
race conditions.  At the moment this is a theoretical attack only
and can only be exploited on the local host (if at all).<br>
<a href="https://ftp.openbsd.org/pub/OpenBSD/patches/2.9/common/001_sendmail.patch">
A source code patch exists which remedies this problem.</a>
<p>

<li id="fts">
<strong>002: SECURITY FIX: May 30, 2001</strong>
&nbsp; <i>All architectures</i><br>
Programs using the <a href="https://man.openbsd.org/OpenBSD-2.9/fts.3">fts(3)</a>
routines (such as rm, find, and most programs that take a <b>-R</b>
flag) can be tricked into changing into the wrong directory if the
parent dir is changed out from underneath it.  This is similar to
the old fts bug but happens when popping out of directories, as
opposed to descending into them.
<br>
<a href="https://ftp.openbsd.org/pub/OpenBSD/patches/2.9/common/002_fts.patch">
A source code patch exists which remedies this problem.</a>
This is the second version of the patch.
<p>

<li id="cd_cover">
<strong>003: DOCUMENTATION FIX: June 1, 2001</strong>
&nbsp; <i>All architectures</i><br>
The 2.9 CD cover states that XFree86 3.3.6-current is included.  This is only half-true.
In fact, the XFree86 included for all architectures is 4.0.3.  On the i386, the
3.3.6 Xservers have also been included, because 4.0.3 still has weak support for
some devices which 3.3.6 supported better.
<p>

<li id="isakmpd">
<strong>004: RELIABILITY FIX: June 5, 2001</strong>
&nbsp; <i>All architectures</i><br>
<a href="https://man.openbsd.org/OpenBSD-2.9/isakmpd.8">isakmpd(8)</a>
will fail to use a certificate with an identity string that is
exactly N * 8 bytes long.
<br>
<a href="https://ftp.openbsd.org/pub/OpenBSD/patches/2.9/common/004_isakmpd.patch">
A source code patch exists which remedies this problem.</a>
<p>

<li id="pwd_mkdb">
<strong>005: RELIABILITY FIX: June 7, 2001</strong>
&nbsp; <i>All architectures</i><br>
<a href="https://man.openbsd.org/OpenBSD-2.9/pwd_mkdb.8">pwd_mkdb(8)</a>
corrupts /etc/pwd.db when modifying an existing user.
<br>
<a href="https://ftp.openbsd.org/pub/OpenBSD/patches/2.9/common/005_pwd_mkdb.patch">
A source code patch exists which remedies this problem.</a>
<p>

<li id="sshcookie">
<strong>006: SECURITY FIX: June 12, 2001</strong>
&nbsp; <i>All architectures</i><br>
<a href="https://man.openbsd.org/OpenBSD-2.9/sshd.8">sshd(8)</a>
allows users to delete arbitrary files named "cookies" if X11
forwarding is enabled. X11 forwarding is disabled by default.
<br>
<a href="https://ftp.openbsd.org/pub/OpenBSD/patches/2.9/common/006_sshcookie.patch">
A source code patch exists which remedies this problem.</a>
<p>

<li id="kernexec">
<strong>007: SECURITY FIX: June 15, 2001</strong>
&nbsp; <i>All architectures</i><br>
A race condition exists in the kernel <a href="https://man.openbsd.org/OpenBSD-2.9/execve.2">execve(2)</a> implementation that opens a small window of vulnerability for a non-privileged user to <a href="https://man.openbsd.org/OpenBSD-2.9/ptrace.2">ptrace(2)</a> attach to a suid/sgid process.
<br>
<a href="https://ftp.openbsd.org/pub/OpenBSD/patches/2.9/common/007_kernexec.patch">
A source code patch exists which remedies this problem.</a>
<p>

<li id="twe">
<strong>008: RELIABILITY FIX: June 15, 2001</strong>
&nbsp; <i>All architectures</i><br>
<a href="https://man.openbsd.org/OpenBSD-2.9/twe.4">twe(4)</a>
mishandles the DMA mapping resulting in a kernel panic on unaligned data
transfers, induced by programs such as
<a href="https://man.openbsd.org/OpenBSD-2.9/disklabel.8">disklabel(8)</a>
and
<a href="https://man.openbsd.org/OpenBSD-2.9/dump.8">dump(8)</a>.
<br>
<a href="https://ftp.openbsd.org/pub/OpenBSD/patches/2.9/common/008_twe.patch">
A source code patch exists which remedies this problem.</a>
This is the second version of the patch.
<p>

<li id="XF86Setup">
<strong>009: RELIABILITY FIX: Jun 23, 2001</strong><br>
The XF86Setup(1) configuration tool for XFree86 3.3.6 is producing
corrupted /etc/XF86Config files.
<a href="https://ftp.openbsd.org/pub/OpenBSD/patches/2.9/i386/009_XF86Setup.patch">
A source code patch exists which remedies this problem.</a>
It does so by linking XF86Setup against the XFree86 3.3.6 version of libXxf86vm.a.
<p>
<li>When using a PS/2 keyboard with an MSI K7T Pro2A motherboard, it may be
necessary to disable the &quot;USB Keyboard Support&quot; and
&quot;USB Mouse Support&quot; options in the BIOS. Otherwise, the i8042
keyboard controller doesn't acknowledge commands, confusing OpenBSD.
<p>

<li id="nvidia">
<strong>010: RELIABILITY FIX: Jul 9, 2001</strong><br>
The NVIDIA driver for XFree86 4.0.3 is incorrectly restoring the text
mode palette upon exit of the X server. <a
href="https://ftp.openbsd.org/pub/OpenBSD/patches/2.9/i386/010_nvidia.patch">
A source code patch exists which remedies this problem.</a>
To avoid rebuilding the whole XFree86 tree, an updated binary driver
is also available
<a href="https://ftp.openbsd.org/pub/OpenBSD/patches/2.9/i386/nv_drv.o">here</a>.
Just grab it, copy it to /usr/X11R6/lib/modules/drivers/ and
restart your X server.
<p>

<li id="pkg">
<strong>011: RELIABILITY FIX: July 15, 2001</strong>
&nbsp; <i>All architectures</i><br>
The
<a href="https://man.openbsd.org/OpenBSD-2.9/packages.7">packages(7)</a>
subsystem incorrectly accepts some package dependencies as okay (see
<a href="https://man.openbsd.org/OpenBSD-2.9/packages-specs.7">packages-specs(7)</a>
for details).
<br>
<a href="https://ftp.openbsd.org/pub/OpenBSD/patches/2.9/common/011_pkg.patch">
A source code patch exists which remedies this problem.</a>
by forcing <code>/usr/sbin/pkg</code> to be more careful in checking
version numbers.
<p>

<li id="nfs">
<strong>012: SECURITY FIX: July 30, 2001</strong>
&nbsp; <i>All architectures</i><br>
A kernel buffer overflow exists in the NFS mount code. An attacker may
use this overflow to execute arbitrary code in kernel mode. However,
only users with <a href="https://man.openbsd.org/OpenBSD-2.9/mount.2">mount(2)</a>
privileges can initiate this attack.  In default installs, only super-user has
mount privileges.  The kern.usermount <a href="https://man.openbsd.org/OpenBSD-2.9/sysctl.3">sysctl(3)</a> controls whether other users have mount privileges.
<br>
<a href="https://ftp.openbsd.org/pub/OpenBSD/patches/2.9/common/012_nfs.patch">
A source code patch exists which remedies this problem.</a>
<p>

<li id="sendmail2">
<strong>013: SECURITY FIX: August 21, 2001</strong>
&nbsp; <i>All architectures</i><br>
A security hole exists in <a href="https://man.openbsd.org/OpenBSD-2.9/sendmail.8">sendmail(8)</a>
that may allow an attacker on the local host to gain root privileges by
specifying out-of-bounds debug parameters.
<br>
<a href="https://ftp.openbsd.org/pub/OpenBSD/patches/2.9/common/013_sendmail.patch">
A source code patch exists which remedies this problem.</a>
<p>

<li id="lpd">
<strong>014: SECURITY FIX: August 29, 2001</strong>
&nbsp; <i>All architectures</i><br>
A security hole exists in <a href="https://man.openbsd.org/OpenBSD-2.9/lpd.8">lpd(8)</a>
that may allow an attacker with line printer access to gain root
privileges.  A machine must be running lpd to be vulnerable (OpenBSD
does not start lpd by default).  Only machines with line printer
access (ie: listed in either /etc/hosts.lpd or /etc/hosts.equiv)
may be used to mount an attack.
<br>
<a href="https://ftp.openbsd.org/pub/OpenBSD/patches/2.9/common/014_lpd.patch">
A source code patch exists which remedies this problem.</a>
<p>

<li id="uucp">
<strong>015: SECURITY FIX: September 11, 2001</strong>
&nbsp; <i>All architectures</i><br>
A security hole exists in <a href="https://man.openbsd.org/OpenBSD-2.9/uuxqt.8">uuxqt(8)</a>
that may allow an attacker to run arbitrary commands as user uucp and
use this to gain root access.
The UUCP execution daemon, uuxqt(8), has a bug in its command line
parsing routine that may allow arbitrary commands to be run.  Because
some UUCP commands are run as root (and daemon) from cron it is possible
to leverage compromise of the UUCP user to gain root.
<br>
<a href="https://ftp.openbsd.org/pub/OpenBSD/patches/2.9/common/015_uucp.patch">
A source code patch exists which remedies this problem.</a>
<p>

<li id="vi.recover">
<strong>016: SECURITY FIX: November 13, 2001</strong>
&nbsp; <i>All architectures</i><br>
A security issue exists in the vi.recover script that may allow an attacker
to remove arbitrary zero-length files, regardless of ownership.
<br>
<a href="https://ftp.openbsd.org/pub/OpenBSD/patches/2.9/common/016_recover.patch">
A source code patch exists which remedies this problem.</a>
<p>

<li id="lpd2">
<strong>017: SECURITY FIX: November 28, 2001</strong>
&nbsp; <i>All architectures</i><br>
A security issue exists in the lpd daemon that may allow an attacker
to create arbitrary new files in the root directory.  Only machines
with line printer access (ie: listed in either /etc/hosts.lpd or
/etc/hosts.equiv) may be used to mount an attack and the attacker
must have root access on the machine.  OpenBSD does not start lpd
in the default installation.
<a href="https://ftp.openbsd.org/pub/OpenBSD/patches/2.9/common/017_lpd.patch">
A source code patch exists which remedies this problem.</a>
<p>

<li id="missing">
<strong>018: INSTALL PROBLEM: Dec 11, 2001</strong><br>
The X binary sets shipped with OpenBSD 2.9 do not contain several files.  These
missing files can be added manually from the sparc tarballs after the
installation:<br>
Grab the
<a href="https://ftp.openbsd.org/pub/OpenBSD/2.9/sparc/xbase29.tgz">xbase29.tgz</a>
and
<a href="https://ftp.openbsd.org/pub/OpenBSD/2.9/sparc/xshare29.tgz">xshare29.tgz</a>
files found in the 2.9/sparc directory on the CD, or any FTP site.  The missing
files can be installed by using the following commands:
<pre>
   # cd /; tar xzpf xbase29.tgz ./usr/X11R6/lib/X11/{rgb.txt,xdm}
   # cd /; tar xzpf xserv29.tgz ./etc/X11/xserver ./usr/X11R6/lib/X11/xserver
   # cd /usr/X11R6/bin/; ln -fs Xmac68k X
</pre>
<p>

<li id="sudo">
<strong>019: SECURITY FIX: January 17, 2002</strong>
&nbsp; <i>All architectures</i><br>
If the Postfix sendmail replacement is installed on a system an
attacker may be able to gain root privileges on the local host via
sudo(8) which runs the mailer as root with an environment inherited
from the invoking user.  While this is a bug in sudo it is not
believed to be possible to exploit when sendmail (the mailer that
ships with OpenBSD) is the mailer.  As of version 1.6.5, sudo passes
the mailer an environment that is not subject to influence from the
invoking user.<br>
<a href="https://ftp.openbsd.org/pub/OpenBSD/patches/2.9/common/019_sudo.patch">
A source code patch exists which remedies this problem.</a>
<p>

<li id="ptrace">
<strong>020: SECURITY FIX: February 20, 2002</strong>
&nbsp; <i>All architectures</i><br>
A race condition between the ptrace(2) and execve(2) system calls allows
an attacker to modify the memory contents of suid/sgid processes which
could lead to compromise of the super-user account.<br>
<a href="https://ftp.openbsd.org/pub/OpenBSD/patches/2.9/common/020_ptrace.patch">
A source code patch exists which remedies this problem.</a>
<p>

<li id="openssh">
<strong>021: SECURITY FIX: March 8, 2002</strong>
&nbsp; <i>All architectures</i><br>
A local user can gain super-user privileges due to an off-by-one check
in the channel forwarding code of OpenSSH.<br>
<a href="https://ftp.openbsd.org/pub/OpenBSD/patches/2.9/common/021_openssh.patch">
A source code patch exists which remedies this problem.</a>
<p>

<li id="zlib">
<strong>022: RELIABILITY FIX: March 13, 2002</strong>
&nbsp; <i>All architectures</i><br>
Under some circumstances the zlib compression library can free dynamically
allocated memory twice.  This is not a security issue on OpenBSD since the BSD
<a href="https://man.openbsd.org/OpenBSD-2.9/free.3">free(3)</a>
function detects this.
There is also a kernel zlib component that may be used by pppd and IPsec.
The feasibility of attacking the kernel this way is currently unknown.<br>
<a href="https://ftp.openbsd.org/pub/OpenBSD/patches/2.9/common/022_zlib.patch">
A source code patch exists which remedies this problem.</a>
<p>

<li id="mail">
<strong>023: SECURITY FIX: April 11, 2002</strong>
&nbsp; <i>All architectures</i><br>
<a href="https://man.openbsd.org/OpenBSD-2.9/mail.1">mail(1)</a>
will process tilde escapes even in non-interactive mode.
This can lead to a local root compromise.
<br>
<a href="https://ftp.openbsd.org/pub/OpenBSD/patches/2.9/common/023_mail.patch">
A source code patch exists which remedies this problem.</a>
<p>

<li id="sshafs">
<strong>024: SECURITY FIX: April 22, 2002</strong>
&nbsp; <i>All architectures</i><br>
A local user can gain super-user privileges due to a buffer overflow
in <a href="https://man.openbsd.org/OpenBSD-2.9/sshd.8">sshd(8)</a>
if AFS has been configured on the system or if
KerberosTgtPassing or AFSTokenPassing has been enabled
in the sshd_config file.  Ticket and token passing is not enabled
by default.<br>
<a href="https://ftp.openbsd.org/pub/OpenBSD/patches/2.9/common/024_sshafs.patch">
A source code patch exists which remedies this problem.</a>
<p>


<li id="sudo2">
<strong>025: SECURITY FIX: April 25, 2002</strong>
&nbsp; <i>All architectures</i><br>
A bug in <a href="https://man.openbsd.org/OpenBSD-2.9/sudo.8">sudo(8)</a> may allow an attacker to corrupt the heap by specifying a custom prompt.<br>
<a href="https://ftp.openbsd.org/pub/OpenBSD/patches/2.9/common/025_sudo.patch">
A source code patch exists which remedies this problem.</a>
<p>

<li id="fdalloc2">
<strong>026: SECURITY FIX: May 8, 2002</strong>
&nbsp; <i>All architectures</i><br>
A race condition exists where an attacker could fill the file descriptor
table and defeat the kernel's protection of fd slots 0, 1, and 2 for a
setuid or setgid process.<br>
<a href="https://ftp.openbsd.org/pub/OpenBSD/patches/2.9/common/026_fdalloc2.patch">
A source code patch exists which remedies this problem.</a>
<p>

<li id="resolver">
<strong>027: SECURITY FIX: June 25, 2002</strong>
&nbsp; <i>All architectures</i><br>
A potential buffer overflow in the DNS resolver has been found.<br>
<a href="https://ftp.openbsd.org/pub/OpenBSD/patches/2.9/common/027_resolver.patch">
A source code patch exists which remedies this problem.</a>
<p>

</ul>

<hr>

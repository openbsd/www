<!doctype html>
<html lang=en id=plus>
<meta charset=utf-8>
<title>OpenBSD 3.2 Changelog</title>
<meta name="description" content="OpenBSD 3.2 changes">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="openbsd.css">
<link rel="canonical" href="https://www.openbsd.org/plus32.html">
<style>
a[href="stable.html"] {
	color: var(--green);
}

strong {
	color: var(--red);
}

h3 {
	color: var(--blue);
}

p strong {
	font-weight: normal;
}
</style>

<h2 id=OpenBSD>
<a href="index.html">
<i>Open</i><b>BSD</b></a>
3.2 Changelog
</h2>
<hr>

<p>
This is a partial list of the major machine-independent changes
(i.e., these are the changes people ask about most often).  Machine
specific changes have also been made, and are sometimes mentioned
in the pages for the specific <a href="plat.html">platforms</a>.

<p>
Note: <strong>Problems for which patches exist are marked in red</strong>.

<p>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus25.html">2.5</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>,
<a href="plus35.html">3.5</a>,
<a href="plus36.html">3.6</a>,
<a href="plus37.html">3.7</a>,
<br>
<a href="plus38.html">3.8</a>,
<a href="plus39.html">3.9</a>,
<a href="plus40.html">4.0</a>,
<a href="plus41.html">4.1</a>,
<a href="plus42.html">4.2</a>,
<a href="plus43.html">4.3</a>,
<a href="plus44.html">4.4</a>,
<a href="plus45.html">4.5</a>,
<a href="plus46.html">4.6</a>,
<a href="plus47.html">4.7</a>,
<a href="plus48.html">4.8</a>,
<a href="plus49.html">4.9</a>,
<a href="plus50.html">5.0</a>,
<a href="plus51.html">5.1</a>,
<a href="plus52.html">5.2</a>,
<a href="plus53.html">5.3</a>,
<a href="plus54.html">5.4</a>,
<br>
<a href="plus55.html">5.5</a>,
<a href="plus56.html">5.6</a>,
<a href="plus57.html">5.7</a>,
<a href="plus58.html">5.8</a>,
<a href="plus59.html">5.9</a>,
<a href="plus60.html">6.0</a>,
<a href="plus61.html">6.1</a>,
<a href="plus62.html">6.2</a>,
<a href="plus63.html">6.3</a>,
<a href="plus64.html">6.4</a>,
<a href="plus65.html">6.5</a>,
<a href="plus66.html">6.6</a>,
<a href="plus67.html">6.7</a>,
<a href="plus68.html">6.8</a>,
<a href="plus69.html">6.9</a>,
<a href="plus70.html">7.0</a>,
<a href="plus71.html">7.1</a>,
<br>
<a href="plus72.html">7.2</a>,
<a href="plus73.html">7.3</a>,
<a href="plus74.html">7.4</a>,
<a href="plus75.html">7.5</a>,
<a href="plus76.html">7.6</a>,
<a href="plus77.html">7.7</a>,
<a href="plus.html">current</a>.
<br>

<p>
<h3>Changes made between OpenBSD 3.1 and 3.2</h3>
<p>

<ul>
<li>Release branch created.
<!-- ^^^ 20021003 -->
<li>Cool new <a href="https://man.openbsd.org/xdm.1">xdm(1)</a> images for 3.2.
<li><strong>SECURITY FIX: Incorrect argument checking in the <a href="https://man.openbsd.org/setitimer.2">setitimer(2)</a> system call may allow an attacker to write to kernel memory.</strong><br>
    <a href="errata31.html#kerntime">A source code patch is available</a>.<br>
    <a href="stable.html">[Applied to stable]</a>
<!-- ^^^ 20021002 -->
<li>Retrofit the SIGUSR1->SIGUSR2 console switching change to the old X server.
<li>Fix a couple of crashers in <a href="https://man.openbsd.org/kevent.2">kevent(2)</a>.
<li>OpenBSD 3.2-beta -&gt; 3.2, OpenSSH -&gt; 3.5.
<!-- ^^^ 20021001 -->
<li>Try to initialise AGP GART in the privileged startup portion of the X server.
<!-- ^^^ 20020930 -->
<li>Plug a memory leak in <a href="https://man.openbsd.org/url.4">url(4)</a>.
<!-- ^^^ 20020929 -->
<li>login_radius returns, complete with fixed license.
<li>Still more cleanup and output trimming in the installer script.
<li><a href="https://man.openbsd.org/xf86cfg.1">xf86cfg(1)</a> now runs the server with '-nolisten tcp'.
<li><a href="https://man.openbsd.org/xdm.1">xdm(1)</a> now drops privileges to run as user _x11 after starting as root.
<!-- ^^^ 20020928 -->
<li>daddr -&gt; saddr in <a href="https://man.openbsd.org/pf.4">pf(4)</a> binat code. Oops.<br>
    <a href="stable.html">[Applied to stable]</a>
<li>Add a wildcard client string match against "probe-*" for SSH probes to use.
<!-- ^^^ 20020927 -->
<li>Disable login_radius, pesky licensing problems again.<br>
    <a href="stable.html">[Applied to stable]</a>
<li><a href="https://man.openbsd.org/sppp.4">sppp(4)</a> and <a href="https://man.openbsd.org/lmc.4">lmc(4)</a> are back, with better licenses.
<li><a href="https://man.openbsd.org/ssh.1">ssh(1)</a> can now do privsep and krb4 together.
<!-- ^^^ 20020926 -->
<li>Remove RC5 and MDC2 from libcrypto.
<li>Have the installer set the nosuid flag for mount points that shouldn't contain setuid programs.
<!-- ^^^ 20020925 -->
<li>Fix a sizeof bug in <a href="https://man.openbsd.org/bridge.4">bridge(4)</a> spanning tree protocol support.
<li>New driver <a href="https://man.openbsd.org/em.4">em(4)</a>, supporting Intel Gigibit Ethernet adapters and replacing <a href="https://man.openbsd.org/gx.4">gx(4)</a>
<li>Some memory allocation and other tweaks to <a href="https://man.openbsd.org/talkd.8">talkd(8)</a>.
<!-- ^^^ 20020924 -->
<li>Better handling of IPv6 deprecated addresses.
<li>Fix the padding length for an IPv6 PADN option before a jumbo payload option.
<li>Allow SSL session IDs of any length up to 32, removing the non-standard 16-char minimum imposed before.
<li>Add a /dev/X0 entry for <a href="https://man.openbsd.org/xdm.1">xdm(1)</a>, allowing the mouse to work with the upcoming xdm privilege drop. One for the Upgrading Mini-faq.
<li>Properly dump radix tree nodes in <a href="https://man.openbsd.org/netstat.1">netstat(1)</a>.
<!-- ^^^ 20020923 -->
<li>Template policy support for <a href="https://man.openbsd.org/systrace.1">systrace(1)</a>.
<li><a href="https://man.openbsd.org/sppp.4">sppp(4)</a>, <a href="https://man.openbsd.org/lmc.4">lmc(4)</a> and <a href="https://man.openbsd.org/cz.4">cz(4)</a> drivers removed from release kernels due to license problems.
<li>A bunch of gcc3 tweaks.
<li>Don't build Kerberos ticket forwarding programs <a href="https://man.openbsd.org/kf.1">kf(1)</a> and <a href="https://man.openbsd.org/kfd.8">kfd(8)</a> because of security issues. (Will come back when Heimdal 0.5 gets merged, after 3.2 release.)
<li>Add support for ELF sections loaded relative to a base section.
<li>Make <a href="https://man.openbsd.org/pfctl.8">pfctl(8)</a>'s antispoof command also block incoming packets with the source set to one of the host's IP addresses.
<li>Make the VT switching code use SIGUSR2 instead of SIGUSR1. The latter is also used by the X server to synchronise with xinit.
<!-- ^^^ 20020922 -->
<li>Have <a href="https://man.openbsd.org/newsyslog.8">newsyslog(8)</a> handle with more grace situations where some archived logfiles have been uncompressed in-place.
<li>Continue to reduce the amount of output the installer generates, so we won't need a magnifier to read the installation instructions in the CD gatefold.
<li>Add TBI (Ten-Bit Interface) mode support for fibre-based <a href="https://man.openbsd.org/nge.4">nge(4)</a> cards, as well as some other bug fixes.
<!-- ^^^ 20020921 -->
<!-- ^^^ 20020920 -->
<li>Make <a href="https://man.openbsd.org/newsyslog.8">newsyslog(8)</a> actually run the command it's asked to run. Also, add new interpretation of a null command.
<li>Fix <a href="https://man.openbsd.org/newsyslog.8">newsyslog(8)</a>'s handling of empty lines.
<li>Remove the obsolete access.conf and srm.conf files from <a href="https://man.openbsd.org/httpd.8">httpd(8)</a>.
<!-- ^^^ 20020919 -->
<li>Make sure <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> ProxyCommand programs get killed on exit (portable OpenSSH <a href="http://bugzilla.mindrot.org/show_bug.cgi?id=223">bug #223</a>).
<li>Fix a potential FREE() of an uninitialised pointer in the kernel (sys/exec_script.c)
<li>Rewrite <a href="https://man.openbsd.org/tcpdump.8">tcpdump(8)</a>'s GRE decoder.
<li>Fix signal trampoline problems with non-exec stack.
<li>Remove EGP decode support from <a href="https://man.openbsd.org/tcpdump.8">tcpdump(8)</a> due to a duff license and apathy.
<!-- ^^^ 20020918 -->
<li>So farewell, then, <a href="https://man.openbsd.org/OpenBSD-3.1/trsp.8">trsp(8)</a>.
<li>Allow <a href="https://man.openbsd.org/newsyslog.8">newsyslog(8)</a> to rotate only specific logfiles.
<li>Make RAND_poll use <a href="https://man.openbsd.org/arc4random.3">arc4random(3)</a> instead of /dev/arandom, so it works in under a chroot.
<li>New -a flag to <a href="https://man.openbsd.org/newsyslog.8">newsyslog(8)</a> allows a directory to be specified for archived logs.
<li>Set the close-on-exec flag for file descriptors created by <a href="https://man.openbsd.org/kvm_open.3">kvm_open(3)</a>.
<li>Fix DMA-related panics in the <a href="https://man.openbsd.org/twe.4">twe(4)</a> driver.
<li>In <a href="https://man.openbsd.org/ssh.1">ssh(1)</a>, try harder to create the X11 forwarding listener socket.
<!-- ^^^ 20020917 -->
<li>Fix a potential buffer overrun in <a href="https://man.openbsd.org/setlocale.3">setlocale(3)</a> (NetBSD-<a href="ftp://ftp.NetBSD.org/pub/NetBSD/security/advisories/NetBSD-SA2002-012.txt.asc">SA2002-012</a>).
<li>Don't chdir to / when <a href="https://man.openbsd.org/systrace.1">systrace(1)</a> goes daemon.
<li>Add __syslog__ string formatting attribute to <a href="https://man.openbsd.org/gcc.1">gcc(1)</a>.
<!-- ^^^ 20020916 -->
<li>Periodically save changes to <a href="https://man.openbsd.org/systrace.1">systrace(1)</a> policies.
<li>Various fixes to <a href="https://man.openbsd.org/newsyslog.8">newsyslog(8)</a>.
<li>Re-sync the <a href="https://man.openbsd.org/siop.4">siop(4)</a> driver with NetBSD.
<li>Signal fixes in libevent.
<!-- ^^^ 20020915 -->
<li>Merge in Sendmail 8.12.6.
<li>Give stdio's __cleanup handlers the same mprotect() treatment as <a href="https://man.openbsd.org/atexit.3">atexit(3)</a> now receives.
<li>Further tweaks to handling of address families in NAT rules. Try to infer the AF from the rule, if that fails then require the user to specify it.
<li>Various fixes to <a href="https://man.openbsd.org/cy.4">cy(4)</a>.
<li>Merge in OpenSSL-0.9.7-stable-SNAP-20020911, bump libcrypto minor version.
<!-- ^^^ 20020914 -->
<li>Stop <a href="https://man.openbsd.org/newsyslog.8">newsyslog(8)</a> rotating logfiles that only contain logfile rotation messages.
<!-- ^^^ 20020913 -->
<li>License fixes to <a href="https://man.openbsd.org/pppd.8">pppd(8)</a>, nearly there now.
<li>Add -H option to <a href="https://man.openbsd.org/identd.8">identd(8)</a> which hides info for non-existent users as well as existing ones. Useful when NATing.
<li>Remove the need for /dev/null and /etc/localtime in <a href="https://man.openbsd.org/named.8">named(8)</a>'s chroot jail.
<li>Add 'antispoof' keyword to <a href="https://man.openbsd.org/pfctl.8">pfctl(8)</a>. Oh yes.
<li>Improvements to <a href="https://man.openbsd.org/pfctl.8">pfctl(8)</a>'s netmask handling.
<!-- ^^^ 20020912 -->
<li>Add a missing pointer initialisation in in6_ifdetach().
<li>Make the <a href="https://man.openbsd.org/sftp.1">sftp(1)</a> client's ls command useful, with globbing and short/long listings.
<li>Fix initialisation of Broadcom 582x chips by <a href="https://man.openbsd.org/ubsec.4">ubsec(4)</a>.
<!-- ^^^ 20020911 -->
<li>Various signedness fixes.
<li>Versioning info moves to 3.2-beta.
<li>Have <a href="https://man.openbsd.org/ssh-agent.1">ssh-agent(1)</a> check the peer using <a href="https://man.openbsd.org/getpeereid.2">getpeereid(2)</a>.
<li><a href="https://man.openbsd.org/pmap.9">pmap</a>_{copy,zero}_page API changes.
<li>Merge in OpenSSL 0.9.7beta3.
<!-- ^^^ 20020910 -->
<li><a href="https://man.openbsd.org/amd.8">amd(8)</a> now creates a socket listening on 127.0.0.1 as well as one on *, and only responds to amq requests on the former.
<li>Add support for the Silicon Image 680 ATA133 chip to the <a href="https://man.openbsd.org/pciide.4">pciide(4)</a> driver.
<li><a href="https://man.openbsd.org/sshd.8">sshd(8)</a> now supports Kerberos authentication in PrivSep mode.
<!-- ^^^ 20020909 -->
<li><a href="https://man.openbsd.org/pf.4">pf(4)</a>'s parser takes more care parsing address families in NAT rules.
<li>Add leap second support to <a href="https://man.openbsd.org/rdate.8">rdate(8)</a> running in RFC868 mode (it already supports this in NTP mode with the -N option).
<li>Correct <a href="https://man.openbsd.org/altq.9">altq(9)</a>'s representation of positive infinity.
<!-- ^^^ 20020908 -->
<li>Signal handler fixes in <a href="https://man.openbsd.org/bootpd.8">bootpd(8)</a><!-- on 20020908 -->, <a href="https://man.openbsd.org/rtadvd.8">rtadvd(8)</a><!-- on 20020909 --> and <a href="https://man.openbsd.org/rtsold.8">rtsold(8)</a><!-- on 20020907 -->.
<li><a href="https://man.openbsd.org/faithd.8">faithd(8)</a> dies on FD_SET overruns.
<li>Fix a couple of off-by-ones in <a href="https://man.openbsd.org/mopd.8">mopd(8)</a>.
<!-- ^^^ 20020907 -->
<li>Make <a href="https://man.openbsd.org/fsck.8">fsck(8)</a> work properly with long block device filenames (handle MAXPATHLEN chars instead of 32).
<li>Don't build the somewhat less than ubiquitous <a href="https://man.openbsd.org/OpenBSD-3.1/photurisd.8">photurisd(8)</a> by default any more.
<li>Lots and lots of ANSIfication.
<li>Lots of int -&gt; socklen_t.
<li>Some signedness fixes to <a href="https://man.openbsd.org/arp.8">arp(8)</a>.
<li>Repair a missing msglog() arg in <a href="https://man.openbsd.org/routed.8">routed(8)</a>.
<!-- ^^^ 20020906 -->
<li>Fix <a href="https://man.openbsd.org/ahc.4">ahc(4)</a>'s interrupt sharing.
<li>lib<a href="https://man.openbsd.org/usbhid.3">usbhid(3)</a> now available in the shared variety.
<li>Don't allow data to be appended to the receive buffer of a socket that's been shut down (see NetBSD <a href="http://www.netbsd.org/cgi-bin/query-pr-single.pl?number=18185">PR#18185</a>).
<li>Merge in OpenSSL 0.9.7beta1. To be continued.
<li><a href="https://man.openbsd.org/isakmpd.8">isakmpd(8)</a> interoperability fixes for FreeS/WAN and SSH Sentinel.
<!-- ^^^ 20020905 -->
<li>Make <a href="https://man.openbsd.org/rwalld.8">rwalld(8)</a> revoke its group privileges as well as user privs.
<li>Don't install safe_finger any more.
<li>Add support for the SCSI Reduced Block Command Set (RBC).
<li>Bump <a href="https://man.openbsd.org/sshd.8">sshd(8)</a>'s LoginGraceTime from one minute to two.
<li>Various compatibility fixes and additions to <a href="https://man.openbsd.org/ubsec.4">ubsec(4)</a>.
<li><a href="https://man.openbsd.org/ifconfig.8">ifconfig(8)</a> can now set whether or not use of IPv6 deprecated addresses are allowed.
<!-- ^^^ 20020904 -->
<li>_x11 user and group added for <a href="https://man.openbsd.org/xdm.1">xdm(1)</a> to use.
<li>Pull in XFree86's fix for a serious Xlib security bug (which didn't affect OpenBSD).
<li>Fix parsing of NAT port ranges.
<li>Check the interface specified with route-to/dup-to/fastroute actually exists. If it does, null terminate its name before moving on.
<!-- ^^^ 20020902 -->
<li>Fix an uninitialised pointer bug in <a href="https://man.openbsd.org/ld.so.1">ld.so(1)</a>.
<li>The X server now tries to open the aperture driver before trying /dev/mem. Re-enable early privilege drop on i386.
<!-- ^^^ 20020901 -->
<!-- ^^^ 20020831 -->
<li><a href="https://man.openbsd.org/traceroute.8">traceroute(8)</a> now warns if DNS returns multiple addresses, like traceroute6.
<li>Add support for the Promise Ultra133 TX2 EIDE controller.
<li>Fix an mbuf leak in <a href="https://man.openbsd.org/wi.4">wi(4)</a>.
<li>Reenable the <a href="https://man.openbsd.org/atexit.3">atexit(3)</a> handler improvements backed out on 31 July.
<li>Add -I option to <a href="https://man.openbsd.org/traceroute6.8">traceroute6(8)</a> to get ICMP probes instead of UDP.
<!-- ^^^ 20020830 -->
<li>Further reduce the amount of time <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> runs as root when installed setuid.
<li>Fudge <a href="https://man.openbsd.org/isakmpd.8">isakmpd(8)</a> so it only honours the requirement to check against a CRL if there is a CRL loaded...
<!-- ^^^ 20020829 -->
<li>Update the <a href="https://man.openbsd.org/rt.4">rt(4)</a> Radiotrack driver, add isapnp support.
<li>Some casts to make 64-bit kernel work with varargs calls.
<!-- ^^^ 20020828 -->
<li>Fixes to <a href="https://man.openbsd.org/gem.4">gem(4)</a>.
<li>Properly limit EDNS0 size to 0xffff.
<li>Fix a signedness problem in SSH so that <a href="https://man.openbsd.org/RSA_public_decrypt.3">RSA_public_decrypt(3)</a> errors can be detected.
<li>Make X's module loader set PROT_EXEC using <a href="https://man.openbsd.org/mprotect.2">mprotect(2)</a> on malloc'd pages containing code (needed since the heap is now mapped without PROT_EXEC).
<li>DNS responses from <a href="https://man.openbsd.org/getaddrinfo.3">getaddrinfo(3)</a>, gethostby*() and getnetby*() now get a 64K receive buffer.<br>
    <a href="stable.html">[Applied to stable]</a>
<!-- ^^^ 20020827 -->
<li><a href="https://man.openbsd.org/traceroute6.8">traceroute6(8)</a> warns if DNS returns multiple IP addresses for the target.
<li>Do a yyrestart() after a longjmp in <a href="https://man.openbsd.org/pcap.3">pcap(3)</a>.
<li>Fix a dangling pointer bug in sbcompress().
<li>Make the X server option NoSilkenMouse work again.
<!-- ^^^ 20020826 -->
<li>Make <a href="https://man.openbsd.org/portmap.8">portmap(8)</a> detect failure of <a href="https://man.openbsd.org/svc_register.3">svc_register</a> and die nicely.
<li>X aperture driver for Alpha, works like i386.
<!-- ^^^ 20020824 -->
<li>Skeleton <a href="https://man.openbsd.org/ld.so.1">ld.so(1)</a> support for ELF in i386. Not enabled, nor is it promised anytime soon.
<li><a href="https://man.openbsd.org/ld.so.1">ld.so(1)</a> warns about symbol size mismatches.
<li><a href="https://man.openbsd.org/inet_ntop.3">inet_ntop(3)</a> handles snprintf errors properly.
<li>Map the heap non-executable.
<!-- ^^^ 20020823 -->
<li>Change the way FREF() and FRELE() are called w.r.t. getvnode() and getsock().
<li>Fix a locking problem that can occur when an executable tries to <a href="https://man.openbsd.org/exec.3">exec(3)</a> itself.
<li>Avoid a potential int overflow in <a href="https://man.openbsd.org/comsat.8">comsat(8)</a>
<li>Make the resolver ignore DNS AAAA replies containing IPv4-mapped addresses.
<!-- ^^^ 20020822 -->
<li>Bump the listen() backlog from 5 to 128 (!) in <a href="https://man.openbsd.org/ssh-agent.1">ssh-agent(1)</a>.
<li><a href="https://man.openbsd.org/sshd.8">sshd(8)</a>'s default LoginGraceTime reduced from 600 to 60 seconds.
<li><a href="https://man.openbsd.org/wscons.4">wscons(4)</a> now attaches to each wsdisplay device by default.
<li>Fixes to <a href="https://man.openbsd.org/strip.1">strip(1)</a>. -x now works.
<!-- ^^^ 20020821 -->
<li>net.inet6.ip6_use_deprecated is on by default again...
<li>Fix some (but not all) signal races in <a href="https://man.openbsd.org/fsck_ffs.8">fsck_ffs(8)</a>.
<li>New -n option to <a href="https://man.openbsd.org/ftpd.8">ftpd(8)</a> that disallows anonymous access even if the ftp user exists.
<li>Perform /tmp/.{X11,ICE}-unix fixups before the system goes multiuser.
<!-- ^^^ 20020820 -->
<li>Fix sysctl <a href="https://man.openbsd.org/copyout.9">copyout(9)</a>s in IPv6 neigbour discovery.
<!-- ^^^ 20020819 -->
<li>Audit and cleanup of <a href="https://man.openbsd.org/inet_net_ntop.3">inet_net_ntop(3)</a>, inet_neta() and <a href="https://man.openbsd.org/inet_ntop.3">inet_ntop(3)</a>.
<li>TCP now tries to act appropriately w.r.t. net.inet6.ip6_use_deprecated.
<!-- ^^^ 20020818 -->
<li>Use of IPv6 deprecated addresses switched off by default. (See <a href="https://www.ietf.org/rfc/rfc2462.txt">RFC2462</a> and <a href="https://man.openbsd.org/sysctl.8">sysctl(8)</a> variable net.inet6.ip6_use_deprecated.)
<li>Fixes to the <a href="https://man.openbsd.org/isp.4">isp(4)</a> SCSI driver.
<!-- ^^^ 20020817 -->
<li>Correct two sizeof bugs in <a href="https://man.openbsd.org/crypto.9">crypto(9)</a>.
<li>Allow a raw IP socket to see a <a href="https://man.openbsd.org/gre.4">gre(4)</a> packets for tunnels we haven't configured.
<!-- ^^^ 20020816 -->
<li>Add some more cross-compilation targets in /usr/src/Makefile.
<li>Backfit Perl 5.80's File::Glob implementation (based on OpenBSD's code) to our <a href="https://man.openbsd.org/perl.1">perl(1)</a>.
<li>Fix a null pointer dereference in <a href="https://man.openbsd.org/pfctl.8">pfctl(8)</a>.
<!-- ^^^ 20020815 -->
<!-- ^^^ 20020814 -->
<!-- ^^^ some CVS breakage around here -->
<!-- ^^^ 20020813 -->
<li>Using the state table instead of a special-purpose list, allow <a href="https://man.openbsd.org/pf.4">pf(4)</a> NAT to use the same proxy port for multiple external peers.
<li>Make <a href="https://man.openbsd.org/ssh-agent.1">ssh-agent(1)</a> setgid(_sshagnt). setuid/setgid processes can't be <a href="https://man.openbsd.org/ptrace.2">ptrace(2)</a>ed.
<li>SPARC consoles now use <a href="https://man.openbsd.org/wscons.4">wscons(4)</a>.
<!-- ^^^ 20020812 -->
<li><a href="https://man.openbsd.org/traceroute.8">traceroute(8)</a> now displays '!X' when packets come back as ICMP administratively prohibited by filter.
<li>Have <a href="https://man.openbsd.org/rsh.1">rsh(1)</a> die on fd_set overruns.
<li>In a number of places, switch the <a href="https://man.openbsd.org/calloc.3">calloc(3)</a> round the right way.
<li>Switch SPARC to ELF.
<li>Fix an XFree runtime loader problem seen on Alpha, PowerPC, SPARC and SPARC64.
<!-- ^^^ 20020811 -->
<li><strong>SECURITY FIX: An insufficient boundary check in the <a href="https://man.openbsd.org/select.2">select(2)</a> and <a href="https://man.openbsd.org/poll.2">poll(2)</a> system calls allows an attacker to overwrite kernel memory and execute arbitrary code in kernel context.</strong><br>
    <a href="errata31.html#scarg">A source code patch is available</a>.<br>
    <a href="stable.html">[Applied to stable]</a>
<!-- ^^^ 20020810 -->
<li><a href="https://man.openbsd.org/raid.4">raid(4)</a> no longer gets loud at boot time unless option RAIDDEBUG is used.
<li>Sink a few bugs in <a href="https://man.openbsd.org/bs.6">bs(6)</a>.
<!-- ^^^ 20020809 -->
<li>Fix raw socket translation for Linux compatibility mode.
<li>Properly clear the argument list in pmdb.
<li>Die on fd_set overrun in <a href="https://man.openbsd.org/mtrace.8">mtrace(8)</a>, <a href="https://man.openbsd.org/map-mbone.8">map-mbone(8)</a> and <a href="https://man.openbsd.org/mrouted.8">mrouted(8)</a> (not built by default).
<li>When emulating Linux, don't have accept()ed sockets inherit flags from the listen socket.<br>
    <a href="stable.html">[Applied to 3.1-stable]</a>
<li>Fix snprintf length in <a href="https://man.openbsd.org/syslogd.8">syslogd(8)</a>.
<li>Correct a sizeof bug in <a href="https://man.openbsd.org/photurisd.8">photurisd(8)</a>.
<li>Tweak IFF_PROMISC handling in <a href="https://man.openbsd.org/wi.4">wi(4)</a> to avoid some unnecessary initialisations.
<li>Fix a potential off-by-one in <a href="https://man.openbsd.org/ld.so.1">ld.so(1)</a> that could cause mmap breakage on some architectures.
<li>Make insertion of data into socket buffers run in constant time, a huge win especially with large buffers.
<li>Relax slightly the conditions under which a TCP SYN packet will trigger the sequence number modulator. Handy for systems with ECN stacks.
<li>Fix a number of && -&gt; &amp; bit-test typos in OpenSSH (v1 RSA key use,) <a href="https://man.openbsd.org/routed.8">routed(8)</a>, <a href="https://man.openbsd.org/pic.1">pic(1)</a>, <a href="https://man.openbsd.org/fvwm.1">fvwm(1)</a> and a few in the kernel.
<li>Add a couple of missing <a href="https://man.openbsd.org/open.2">open(2)</a> mode args in <a href="https://man.openbsd.org/afsd.8">afsd(8)</a> and <a href="https://man.openbsd.org/msgs.1">msgs(1)</a>.
<!-- ^^^ 20020808 -->
<li>Improve TX interrupt handing in <a href="https://man.openbsd.org/sparc/be.4">be(4/SPARC,4/SPARC64)</a>.
<li>Fixes to <a href="https://man.openbsd.org/mrinfo.8">mrinfo(8)</a> (this isn't built by default).
<li>Improve <a href="https://man.openbsd.org/systrace.1">systrace(1)</a>'s handling of interrupted system calls.
<li>Fix a free-in-caught-alloc-failure-block (!) in <a href="https://man.openbsd.org/ohci.4">ohci(4)</a>.
<li>Rewrite the CRL support in <a href="https://man.openbsd.org/isakmpd.8">isakmpd(8)</a>. Check for OpenSSL >= 0.9.7, the earliest supported version for now.
<!-- ^^^ 20020807 -->
<li>Retrofit the new early privilege revocation code to the old X servers.
<li><a href="https://man.openbsd.org/xlock.1">xlock(1)</a> defaults to blank mode (rather than random mode). Also remove bomb mode altogether, to the annoyance of noone.
<li>Several fixes to the <a href="https://man.openbsd.org/sparc/hme.4">hme(4/SPARC, 4/SPARC64)</a> driver.
<li>Restore struct link_map ABI compatibility between ld.so and gdb, broken by the split of link.h into separate MI, ELF and a.out files.
<!-- ^^^ 20020806 -->
<li>Move AGP chipset support out of machine-independent section (AGP support is per-arch).
<li><strong>REVISED SECURITY FIX</strong> for the OpenSSL ASN.1 buffer overflows, see the <a href="errata31.html#ssl">erratum</a>.<br>
    <a href="stable.html">[Applied to stable]</a>
<!-- ^^^ 20020805 -->
<li>Fix <a href="https://man.openbsd.org/auth_call.3">auth_call(3)</a>'s error logging.
<li><a href="https://man.openbsd.org/cron.8">cron(8)</a> cross-checks the crontab filename against the system username.
<li><a href="https://man.openbsd.org/netstat.1">netstat(1)</a> drops its privileges earlier.
<!-- ^^^ 20020804 -->
<li><a href="https://man.openbsd.org/systrace.1">systrace(1)</a> can log matching rules to syslog.
<li><a href="https://man.openbsd.org/write.1">write(1)</a> drops privileges after opening the tty.
<li>Refactor <a href="https://man.openbsd.org/vmstat.8">vmstat(8)</a> slightly so <a href="https://man.openbsd.org/kvm.3">kvm(3)</a> is only ever opened once (it could be opened a second time by dkstats.c before).
<li>Open the <a href="https://man.openbsd.org/kvm.3">kvm(3)</a> library earlier in <a href="https://man.openbsd.org/fstat.1">fstat(1)</a> and <a href="https://man.openbsd.org/systat.1">systat(1)</a>, and so drop privs earlier.
<li>Test for a previously unchecked malloc() return value in the RPC library, and die unceremoniously on failure.
<li>Catch file read errors in <a href="https://man.openbsd.org/rdate.8">rdate(8)</a>'s leapsecond handler.
<li>Cleanup of <a href="https://man.openbsd.org/amd.8">amd(8)</a>.
<!-- ^^^ 20020803 -->
<li>Remove Kerberos support from the default <a href="https://man.openbsd.org/login.conf.5">login.conf</a> (and its hardwired defaults for when login.conf is absent). See <a href="https://cvsweb.openbsd.org/src/etc/login.conf?rev=1.12&amp;content-type=text/x-cvsweb-markup">the log</a> for why.
<li>No more RPC by default. Expect a lot of 'NFS is broken' email to misc@ when 3.2 is released.
<li>Rework some aspects of <a href="https://man.openbsd.org/crontab.1">crontab(1)</a>'s file checks.
<li>Provide our own <a href="https://man.openbsd.org/RSA_verify.3">RSA_verify(3)</a> implementation for OpenSSH.
<li>Add the _sshagnt group for use by <a href="https://man.openbsd.org/ssh-agent.1">ssh-agent(1)</a>.
<li>Correct a pointer comparison typo in libssl's ASN.1 parser library.
<li>Check for correct return value of <a href="https://man.openbsd.org/inet_aton.3">inet_aton(3)</a> in <a href="https://man.openbsd.org/isakmpd.8">isakmpd(8)</a>.
<li>Add some overflow checks similar to the <a href="https://man.openbsd.org/calloc.3">calloc(3)</a> patch to <a href="https://man.openbsd.org/ssh.1">ssh(1)</a>.
<li><a href="https://man.openbsd.org/isakmpd.8">isakmpd(8)</a> support for certificate revocation lists.
<!-- ^^^ 20020802 -->
<li>Prevent integer overflow in i386 USER_LDT code.
<li>Fix NFS's handling of zero-length RPC fragments.
<li><a href="https://man.openbsd.org/systrace.1">systrace(1)</a> handles unlinking of a symlink correctly.
<li>Limit file size to 2^31 * PAGE_SIZE in FFS code.
<li>u_short -&gt; u_int16_t in <a href="https://man.openbsd.org/mrouted.8">mtrouted(8)</a>.
<!-- ^^^ 20020801 -->
<li><strong>REVISED SECURITY FIX</strong> for the <a href="https://man.openbsd.org/xdr_array.3">xdr_array(3)</a> buffer overflow, see the <a href="errata31.html#xdr">erratum</a>.<br>
    <a href="stable.html">[Applied to stable]</a>
<li>Spot zero-length keys or values in ypmatch_add(), and exit early.
<li>Broken by the removal of <a href="https://man.openbsd.org/atexit.3">atexit(3)</a>, <a href="https://man.openbsd.org/chpass.1">chpass(1)</a> now cleans up after itself properly again.
<li>Use <a href="https://man.openbsd.org/fork.2">fork(2)</a> instead of <a href="https://man.openbsd.org/vfork.2">vfork(2)</a> in <a href="https://man.openbsd.org/make.1">make(1)</a>. Fixes hppa breakage.
<li>Back out the new <a href="https://man.openbsd.org/atexit.3">atexit(3)</a> handler changes which appear to break Perl somehow. Bugger.
<li>Get <a href="https://man.openbsd.org/calloc.3">calloc(3)</a> semantics right, while still not allowing the size_t overflow.<br>
    <a href="stable.html">[Applied to stable]</a>
<li>Fix <a href="https://man.openbsd.org/httpd.8">httpd(8)</a> compilation without mod_ssl.
<!-- ^^^ 20020731 -->
<li>On i386, allow <a href="https://man.openbsd.org/mprotect.2">mprotect(2)</a> to alter the execution protection of the stack.
<li>Fix some more potential null pointer dereferences, this time in pfkey and netiso.
<li>Plug a <a href="https://man.openbsd.org/kqueue.2">kqueue(2)</a> file descriptor leak in the X server.
<li>Have libc <a href="https://man.openbsd.org/opendir.3">opendir(3)</a> and <a href="https://man.openbsd.org/scandir.3">scandir(3)</a> check for size_t overflows like the new calloc().
<li>Like in libc, fix the calloc() implementation in <a href="https://man.openbsd.org/named.8">named(8)</a> (only used by a feature disabled in OpenBSD).
<li>Lots of work on the sparc and sparc64 console drivers.
<li>Kernel IPsec was only doing ESP integrity checks on NICs that had already done so in hardware...
<li>Fix a typo that caused a potential null pointer dereference in kernel NFS.
<li>New 'PermitUserEnvironment' option for SSH. Off by default.
<li>Add 'with or without modification' clause to <a href="https://man.openbsd.org/gprof.1">gprof(1)</a> licensing.
<li>Sync with OpenSSL 0.9.6e-0.9.7 <a href="http://www.openssl.org/news/patch_20020730_0_9_7.txt">CHANGES file</a>.
<li><strong>SECURITY FIX: Several remote buffer overflows can occur in the SSL2 server and SSL3 client of the <a href="https://man.openbsd.org/ssl.8">ssl(8)</a> library, as in the ASN.1 parser code in the <a href="https://man.openbsd.org/crypto.3">crypto(3)</a> library, all of them being potentially remotely exploitable.</strong><br>
    <a href="errata31.html#ssl">A source code patch is available</a>.<br>
    <a href="stable.html">[Applied to stable]</a>
<li>In <a href="https://man.openbsd.org/pf.4">pf(4)</a>, allow TCP flags to be specified in all rules that include TCP (before the rules had to be exclusively TCP).
<!-- ^^^ 20020730 -->
<li>Fix a buffer overflow in <a href="https://man.openbsd.org/backgammon.6">backgammon(6)</a>, and replace its gameplay algorithm.
<li>Kill a kernel tty memory leak.<br>
    <a href="stable.html">[Applied to stable]</a>
<li>Super-cautious strcpy()->strlcpy() in <a href="https://man.openbsd.org/exec.3">exec*(3)</a>.
<li>Return failure if the parameters given to <a href="https://man.openbsd.org/calloc.3">calloc(3)</a> would cause an overflow of size_t.<br>
    <a href="stable.html">[Applied to stable]</a>
<li>Don't enable so many authentication methods by default in <a href="https://man.openbsd.org/login.conf.5">login.conf(5)</a>.
<li><strong>SECURITY FIX: A buffer overflow can occur in the <a href="https://man.openbsd.org/xdr_array.3">xdr_array(3)</a> RPC code, leading to possible remote crash.</strong><br>
    <a href="errata31.html#xdr">A source code patch is available</a>.<br>
    <a href="stable.html">[Applied to stable]</a>
<li>Privilege drop in new X servers is disabled for now on x86 due to a problem with xf86OpenConsole().
<li>Support DMA for two more ServerWorks <a href="https://man.openbsd.org/pciide.4">pciide(4)</a> devices.
<li><strong>SECURITY FIX: A race condition exists in the <a href="https://man.openbsd.org/pppd.8">pppd(8)</a> daemon which may cause it to alter the file permissions of an arbitrary file.</strong><br>
    <a href="errata31.html#pppd">A source code patch is available</a>.<br>
    <a href="stable.html">[Applied to stable]</a>
<li><a href="https://man.openbsd.org/mprotect.2">mprotect(2)</a> function pointers stored by <a href="https://man.openbsd.org/atexit.3">atexit(3)</a> to stop bad guys tweaking the exit handlers.
<li>"undrugs" <a href="https://man.openbsd.org/gpr.4">gpr(4)</a>.
<li>Fix two off-by-one bugs in ext2fs.
<li>Add ld.so support for sparc.
<li>Lookup of ip6.arpa, then ip6.int for IPv6 reverse resolution. See <a href="https://www.ietf.org/rfc/rfc3152.txt">RFC3152</a> for why.
<li>Small fix for GCC 3.1.1 in IPv4 checksum code.
<!-- 20020729 -->
<li>Apply the 'broken PCI burst-write' workaround to all <a href="https://man.openbsd.org/hifn.4">hifn(4)</a> 7811-based devices.
<li>Show <a href="https://man.openbsd.org/uftdi.4">uftdi(4)</a> how to use hardware and software flow control.
<li>Fix a potential access-after-free() in <a href="https://man.openbsd.org/kue.4">kue(4)</a>.
<!-- ^^^ 20020728 -->
<li>/tmp/.X11-unix and /tmp/.ICE-unix are created in rc, owned by root, removing the need for root privs later on.
<li>Again, this time in <a href="https://man.openbsd.org/ld.1">ld(1)</a>, map BSS non-executable.
<li>Rearrange the new XFree86 server so all tasks for which root privs are needed get done early in osinit(). Of course, revoke root right afterwards.
<li>Add Dell-specific PERC (right) product IDs so that <a href="https://man.openbsd.org/aac.4">aac(4)</a> configures Dell PowerEdge 2650 RAID.
<li>Add leapsecond support to <a href="https://man.openbsd.org/rdate.8">rdate(8)</a>'s NTP client.
<!-- ^^^ 20020727 -->
<li>The install/upgrade scripts no longer automatically mount NFS filesystems.
<li>Kernel a.out code now allocates (mostly) non-executable BSS.
<li>Miscellaneous fixes to several games.
<li>Lots of work on the sparc64 <a href="https://man.openbsd.org/sparc64/creator.4">creator(4/sparc64)</a> framebuffer driver.
<li>In <a href="https://man.openbsd.org/pf.4">pf(4)</a> the order of the log and quick keywords is now irrelevant.
<!-- ^^^ 20020726 -->
<li>Allow X servers to be built without DGA.
<li>At securelevel 2, stop an attacker from setting the clock forwards to within a year of the time it wraps around to zero.
<li>Allow <a href="https://man.openbsd.org/altq.9">altq(9)</a> to work on pre-Pentium x86 machines that lack pentium_mhz stuff.
<li>Add a distrib note that due to major changes to the port, the sparc installer won't allow upgrades to 3.2
<li>Only include a single <a href="https://man.openbsd.org/wscons.4">wscons(4)</a> font when building with option SMALL_KERNEL.
<li>Add a few more RFC2142-suggested mailbox aliases.
<li>Improve <a href="https://man.openbsd.org/mg.1">mg(1)</a>'s filename handling.
<li>More <a href="https://man.openbsd.org/hifn.4">hifn(4)</a> fixes.
<li>Fix comparison bug in IPv6 multicast routing MTU check.
<!-- ^^^ 20020725 -->
<li>Correct bad sizeof() in kernel NFS code.
<li>Checks for <a href="https://man.openbsd.org/snprintf.3">snprintf(3)</a> return values &lt; 0.
<li>Improve <a href="https://man.openbsd.org/systrace.1">systrace(1)</a>'s uid/gid tracking.
<li>Fix the <a href="https://man.openbsd.org/csh.1">csh(1)</a> large directory fix.
<li>In <a href="https://man.openbsd.org/ssh.1">ssh(1)</a>, help avoid a potential man-in-the-middle attack by showing all known host keys for a host when we're warning about an unknown host key.
<li>Fix a TAILQ null deref in pmdb.
<!-- ^^^ 20020724 -->
<li>Make the second parameter to r?index()/strr?chr() an int instead of a char.
<li>Stick a thread mutex around name lookups in <a href="https://man.openbsd.org/getaddrinfo.3">getaddrinfo(3)</a>.
<li>Fix a <a href="https://man.openbsd.org/systrace.1">systrace(1)</a> double free().
<li>CardBus support for macppc.
<li>Fix <a href="https://man.openbsd.org/dc.4">dc(4)</a> cardbus reads.
<li>Remove a signedness bug in <a href="https://man.openbsd.org/sshd.8">sshd(8)</a>'s handling of utmp_len (-u option).
<li>Fix some bugs in <a href="https://man.openbsd.org/pool.9">pool(9)</a>.
<!-- ^^^ 20020723 -->
<li>More additions to GNU <a href="https://man.openbsd.org/as.1">as(1)</a>, this time to make Ogle compile.
<li>Fix graceful restarts of chroot'ed <a href="https://man.openbsd.org/httpd.8">httpd(8)</a>.
<li>Have SSH fall back to the standard path if setusercontext() can't set it.
<!-- ^^^ 20020722 -->
<li>Add a sequence number to kernel messages for <a href="https://man.openbsd.org/systrace.1">systrace(1)</a>.
<li>Teach pmdb about corefiles.
<li>Map stack pages non-executable.
<!-- ^^^ 20020721 -->
<li><a href="https://man.openbsd.org/noct.4">noct(4)</a> now works around NSP2000 PCI bridge brokenness. Fix a similar problem in <a href="https://man.openbsd.org/hifn.4">hifn(4)</a>.
<li>Drop the requirement for commas in many <a href="https://man.openbsd.org/pf.4">pf(4)</a> lists, useful when used in conjunction with the new variable concat feature.
<li>Implement string concatenation for variable declarations in <a href="https://man.openbsd.org/pf.4">pf(4)</a>.
<li>Big change to the way signal trampolines are stored and called.
<li>Add milter build support to <a href="https://man.openbsd.org/sendmail.8">sendmail(8)</a>, see the Makefile.
<li>Make <a href="https://man.openbsd.org/sudo.8">sudo(8)</a> and <a href="https://man.openbsd.org/inetd.8">inetd(8)</a> die if setusercontext() fails.
<!-- ^^^ 20020720 -->
<li>Fix a disk masher bug in <a href="https://man.openbsd.org/siop.4">siop(4)</a>, a little too late for some.
<li>Don't install <a href="https://man.openbsd.org/mk-amd-map.8">mk-amd-map(8)</a> any more, we don't use it. And it's broken.
<li>Merge Apache 1.3.26 and mod_ssl 2.8.10.
<li>Have SSH remove fatal cleanups after calling fork().
<!-- ^^^ 20020719 -->
<li>/etc/systrace directory added along with policies for <a href="https://man.openbsd.org/named.8">named(8)</a> and <a href="https://man.openbsd.org/lpd.8">lpd(8)</a>.
<li>Make OpenSSL use /bin/sh instead of $SHELL when running scripts. Not everyone uses a Bourne-like shell.
<li>String handling and other fixes to <a href="https://man.openbsd.org/rogue.6">rogue(6)</a>.
<!-- ^^^ 20020718 -->
<li>Fix <a href="https://man.openbsd.org/pax.1">pax(1)</a> -s replacement string truncation.
<li>Fix a deref after free() in the kernel's routing socket code.
<li>Add 'fdcache' to Apache, part of the work to make graceful restart work properly under the chroot().
<li>The search for a shorter rulebase continues, <a href="https://man.openbsd.org/pf.4">pf(4)</a> now recognises 'self' as an address, meaning all IPv4 and IPv6 addresses on all interfaces.
<!-- ^^^ 20020717 -->
<li>Fix wayward string termination in <a href="https://man.openbsd.org/rbootd.8">rbootd(8)</a>.
<li>Fix a DIAGNOSTIC bug in <a href="https://man.openbsd.org/ffs_softupdates.4">ffs_softupdates(4)</a>, and also make panic() calls show the right type.
<li>Some mbuf Fixes to the <a href="https://man.openbsd.org/hifn.4">hifn(4)</a> driver, more fixes to come.
<li>Add DES and 3DES to <a href="https://man.openbsd.org/noct.4">noct(4)</a> as well.
<li>Fix some broken memset() and lseek() calls.
<!-- ^^^ 20020716 -->
<li>Work around some limitations of <a href="https://man.openbsd.org/noct.4">noct(4)</a> hardware. Add MD5 and SHA1 support.
<li>Small additions to <a href="https://man.openbsd.org/as.1">as(1)</a> to make <a href="http://www.gnupg.org/">gnupg</a> compile.
<li>Add some new users (names beginning with underscore) to replace user nobody for portmap, rstatd, identd, rusersd and fingerd.
<li>Fix <a href="https://man.openbsd.org/csh.1">csh(1)</a> directory completion SIGSEGV with large directories.
<li>Make <a href="https://man.openbsd.org/atrun.8">atrun(8)</a> part of <a href="https://man.openbsd.org/cron.8">cron(8)</a>, removing the need for the atrun cronjob.
<li>More <a href="https://man.openbsd.org/pf.4">pf(4)</a>: accept !&lt;interface&gt; syntax. Oh yes.
<li><a href="https://man.openbsd.org/top.1">top(1)</a> now has a BSD license.
<li><a href="https://man.openbsd.org/pf.4">pf(4)</a> parser spots more silly combinations (return-rst on non-TCP rules, keep-state on block rules).
<!-- ^^^ 20020715 -->
<li>Fix a double free in BSD authentication.
<!-- XXX sendmail SuperSafe=... thing ? -->
<li>Make <a href="https://man.openbsd.org/ftpd.8">ftpd(8)</a> always use high port numbers for passive data connections (no more -h option).
<!-- ^^^ 20020714 -->
<li>Add SIGALRM to the list of signals that can be sent (after uid/euid checks) to set[ug]id child processes.
<li>Enable list expansion for <a href="https://man.openbsd.org/pf.4">pf(4)</a> NAT rules, broken since the pf.conf/nat.conf merge.
<li>The XFree86 3.3.x servers that are left now revoke their root privileges right after getting I/O access.
<li>Now that <a href="https://man.openbsd.org/xterm.1">xterm(1)</a> drops its root privileges, install it setgid(utmp) for utmp updates. Revoke setgid too if not needed.
<!-- ^^^ 20020713 -->
<li>Fix at least one <a href="https://man.openbsd.org/tcpdump.8">tcpdump(8)</a> buffer overflow.<br>
    <a href="stable.html">[Applied to stable]</a>
<li>Teach MMX (not SSE) to <a href="https://man.openbsd.org/as.1">as(1)</a>.
<li>Add <a href="https://man.openbsd.org/radio.4">radio(4)</a> device attachment for <a href="https://man.openbsd.org/i386/bktr.4">bktr(4)</a> and <a href="https://man.openbsd.org/fms.4">fms(4)</a>.
<li>Have <a href="https://man.openbsd.org/i386/pcibios.4">pcibios(4)</a> detect and ignore a too-short PCI IRQ routing table header.
<li>Changes to <a href="https://man.openbsd.org/ld.so.1">ld.so(1)</a>: Search order now always looks like a.out, destructors are called on dlclose(), move some libc-like functions into private namespace.
<li>Add support for AGP GART on some i386 AGP chipsets (see <a href="https://man.openbsd.org/vga.4">vga(4)</a> and <a href="https://man.openbsd.org/options.4">options(4)</a>).
<li>Remove '\\' -&gt; '\' translation in crontabs to keep the shell happy.
<li>Make <a href="https://man.openbsd.org/xterm.1">xterm(1)</a> revoke its root privileges.
<li>Remove a race and some other bugs from the mountpoint locking code. <!-- ok art@ -->
<li>Add some flags to <a href="https://man.openbsd.org/dohooks.9">dohooks(8)</a> and fix a time-honoured memory leak in <a href="https://man.openbsd.org/hook_disestablish.9">hook_disestablish(9)</a>.
<!-- ^^^ 20020712 -->
<li>New, hard-won firmware image for the <a href="https://man.openbsd.org/txp.4">txp(4)</a> driver.
<li>Remove the www group's privileges to the mod_ssl mutex semaphore.
<li>Really remove SuperProbe from X.
<li>Create a skeleton UserDir tree under /var/www/users.
<li>Have Apache initialise OpenSSL (opening /dev/crypto) before chroot. No more /var/www/dev/crypto.
<!-- ^^^ 20020711 -->
<li>Basic IPv6 fragment support (no normalisation yet) in <a href="https://man.openbsd.org/pf.4">pf(4)</a>.
<li>Correct a memcpy error in the kernel and ssh's Rijndael code.
<li>Make <a href="https://man.openbsd.org/systrace.1">systrace(1)</a> filename intercepts work with chroot().
<li>Try to make resetting of USB ports work better.
<li>Add fchmod translation support to <a href="https://man.openbsd.org/systrace.1">systrace(1)</a>.
<li>Stop <a href="https://man.openbsd.org/systrace.1">systrace(1)</a> closing the std file descriptors when going daemon.
<!-- ^^^ 20020710 -->
<li>Fix ni6_nametodns() pointer bug in icmp6; NetBSD PR17540.
<li>Add support in <a href="https://man.openbsd.org/uftdi.4">uftdi(4)</a> for FT8U232AM-based USB serial adapters, likewise add more devices to <a href="https://man.openbsd.org/uplcom.4">uplcom(4)</a>.
<li>Fix miniroot typo that was breaking FTP installs.
<li>Fix <a href="https://man.openbsd.org/sed.1">sed(1)</a>'s r command (PR2755).
<li>Add a daemon mode to <a href="https://man.openbsd.org/systrace.1">systrace(1)</a>.
<li><a href="https://man.openbsd.org/udsbr.4">udbsr(4)</a> driver for D-Link radio cards added.
<li>Add a timeout value to USB I/O calls, rather than having a systemwide timeout.
<li>Make <a href="https://man.openbsd.org/httpd.8">httpd(8)</a> chroot() and drop root privileges by default. A lot module chroot fixes to come.
<li>Add syscall aliasing to <a href="https://man.openbsd.org/systrace.1">systrace(1)</a> (e.g. stat/fstat/readlink/access/... become 'fsread').
<li>Some fixes to <a href="https://man.openbsd.org/umidi.4">umidi(4)</a> and <a href="https://man.openbsd.org/uscanner.4">uscanner(4)</a>.
<li>Add SMC 2206 support to <a href="https://man.openbsd.org/aue.4">aue(4)</a>.
<li>Fix a potential off-by-five error in <a href="https://man.openbsd.org/systrace.1">systrace(1)</a>.
<li><a href="https://man.openbsd.org/pf.4">pf(4)</a> now accepts an interface in most of the places it can take an IP address, and picks up all the IPv4 and IPv6 addresses on that interface.
<!-- ^^^ 20020709 -->
<li>Don't try to load a 32-bit quart into a 16-bit pint register in <a href="https://man.openbsd.org/xl.4">xl(4)</a>.
<li>Always load ELF binaries to the address at which they were linked.
<li>Rig <a href="https://man.openbsd.org/opendir.3">opendir(3)</a>'s sort so it can't fail due to lack of memory.
<li>Compatibility fixes for the <a href="https://man.openbsd.org/ubsec.4">ubsec(4)</a> 582x series.
<li>Some updates to <a href="https://man.openbsd.org/cron.8">cron(8)</a>.
<li>Grab a security fix to bcopy/memcpy from FreeBSD. See their cvsweb entry for <a href="http://www.freebsd.org/cgi/cvsweb.cgi/src/lib/libc/i386/string/bcopy.S">bcopy.S</a>.
<li>Work around <a href="https://man.openbsd.org/tl.4">tl(4)</a>'s broken multicast filter.
<li>Remove <a href="https://man.openbsd.org/ab">ab(1)</a> from the Apache installation.
<li>Remove <a href="http://www.eecis.udel.edu/~ntp/">NTP</a> support from the kernel.
<li>Don't attempt to resubmit a structure we just freed in <a href="https://man.openbsd.org/ipsec.4">ipsec(4)</a> / <a href="https://man.openbsd.org/ipcomp.4">ipcomp(4)</a>.
<li>Small fixes to IP-in-IP encapsulation code.
<li>Add Security Mode options to <a href="https://man.openbsd.org/atactl.8">atactl(8)</a>.
<li>Support a few more HPT <a href="https://man.openbsd.org/pciide.4">pciide(4)</a> cards.
<li>Make NEED_VERSION obsolete in <a href="https://man.openbsd.org/bsd.port.mk.5">bsd.port.mk(5)</a>.
<li>Fill IPv6 null pointer dereference in <a href="https://man.openbsd.org/cvs.1">cvs(1)</a> pserver.
<li>Remove some old upgrade hacks from the installer script.
<li><a href="https://man.openbsd.org/pf.4">pf(4)</a> chokes on invalid '! &lt;interface&gt;' syntax, instead of just ignoring the '!'.
<li>Fix <a href="https://man.openbsd.org/pf.4">pf(4)</a> interface stats, and allow the loginterface feature to be disabled.
<li>Make signal handler flags in <a href="https://man.openbsd.org/isakmpd.8">isakmpd(8)</a> of type volatile sig_atomic_t.
<li>Fix a few GCC 3.1 moans in <a href="https://man.openbsd.org/isakmpd.8">isakmpd(8)</a>.
<li>Un-bloating of <a href="https://man.openbsd.org/ahc.4">ahc(4)</a>.
<li>Cleanup of <a href="https://man.openbsd.org/rpcgen.1">rpcgen(1)</a>.
<li><b>RELIABILITY FIX: Don't assume we have an active exchange during payload validation, otherwise <a href="https://man.openbsd.org/isakmpd.8">isakmpd(8)</a> can be made to crash.</b><br>
    <a href="errata31.html#isakmpd">A source code patch exists to remedy the problem.</a><br>
    <a href="stable.html">[Applied to stable]</a>
<li><a href="https://man.openbsd.org/ep.4">ep(4)</a> on <a href="https://man.openbsd.org/isapnp.4">isapnp(4)</a> now works on <a href="alpha.html">alpha</a>.
<li>Improve the way the installer's fileset selection UI works.
<li>Fix a potential buffer overflow in xsystrace.
<li>Add a note to the unwary in distrib/notes about the danger of skipping several versions when upgrading.
<li>Don't have <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> allocate memory for stuff we don't need, just to discard it straight away.
<li>Set IP_PORTRANGE_HIGH for active mode data channel of <a href="https://man.openbsd.org/ftp.1">ftp(1)</a>.
<li>Add some more <a href="https://man.openbsd.org/usb.4">usb(4)</a> product IDs.
<li>Fix an off-by-one error in <a href="https://man.openbsd.org/rmt.8">rmt(8)</a> and improve string handling in general.
<li>Normalise <a href="https://man.openbsd.org/nc.1">nc(1)</a>'s EOF handling.
<li>Plug a few <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> memory leaks.
<li>Tweak the <a href="https://man.openbsd.org/alpha/tga.4">tga(4/ALPHA)</a> driver.
<li>Fix several missing or broken <a href="https://man.openbsd.org/malloc.3">malloc(3)</a> and <a href="https://man.openbsd.org/realloc.3">realloc(3)</a> failure checks.
<li>In <a href="https://man.openbsd.org/rcs.1">rcs(1)</a>, actually <a href="https://man.openbsd.org/exit.3">exit(3)</a> after spotting that LocalId is too long.
<li>Lots of ANSIfication of function declarations and prototypes.
<li>Fix bug causing 'SPL NOT LOWERED' errors from the <a href="https://man.openbsd.org/ami.4">ami(4)</a> RAID controller.
<li>Give <a href="https://man.openbsd.org/ssh-keysign.8">ssh-keysign(8)</a> its setuid(root) toys back, but only work at all if HostbasedAuthentication is globally disabled.
<li>Use <a href="https://man.openbsd.org/RSA_blinding_on.3">RSA_blinding_on(3)</a> to ward off a <a href="http://www.cryptography.com/resources/whitepapers/TimingAttacks.pdf">Kocher timing attack</a> on <a href="https://man.openbsd.org/ssh-keysign.8">ssh-keysign(8)</a>.
<li>Fix <a href="https://man.openbsd.org/signal.3">signal(3)</a> race in <a href="https://man.openbsd.org/ping.8">ping(8)</a>.
<li>Remove <a href="https://man.openbsd.org/adv.4">adv(4)</a> from the i386 RAMDISK kernel until new <a href="https://man.openbsd.org/ahc.4">ahc(4)</a> un-bloats itself.
<li>Catch a null pointer dereference when fetching the routing table via <a href="https://man.openbsd.org/sysctl.3">sysctl(3)</a>.
<li>Make <a href="https://man.openbsd.org/sis.4">sis(4)</a> compile and work on <a href="alpha.html">alpha</a>.
<li>Return correct result sizes from <a href="https://man.openbsd.org/ubsec.4">ubsec(4)</a>.
<li><a href="https://man.openbsd.org/bridge.4">bridge(4)</a> will now compile with <a href="https://man.openbsd.org/ipsec.4">ipsec(4)</a> but no <a href="https://man.openbsd.org/pf.4">pf(4)</a>.
<li>Cleanup of <a href="https://man.openbsd.org/ftpd.8">ftpd(8)</a>.
<li>Fix PIO writes code in <a href="https://man.openbsd.org/wdc.4">wdc(4)</a>, broken since OpenBSD 2.5!
<li>Remove unnecessary <a href="https://man.openbsd.org/longjmp.3">longjmp(3)</a> from <a href="https://man.openbsd.org/login.1">login(1)</a>.
<li>Pages allocated with debug_malloc() aren't ever executed, so don't use VM_PROT_ALL.
<li>Finally fix <a href="https://man.openbsd.org/bridge.4">bridge(4)</a> address cache bug.
<li>Properly handle endpoint differences of opinion on <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> Compression options
<li>Fix the <a href="https://man.openbsd.org/wsdisplay.4">wsdisplay(4)</a> blanker after the X server has been running.
<li>Make the installer deal correctly with passwords starting with '-X ' for some X, instead of misinterpreting them as options to <a href="https://man.openbsd.org/encrypt.1">encrypt(1)</a>.
<li>Fix some compatibility quirks in <a href="https://man.openbsd.org/ppp.8">ppp(8)</a>.
<li>Add a pushback buffer to <a href="https://man.openbsd.org/pfctl.8">pfctl(8)</a>'s parser.
<li>Remove setuid(root) from <a href="https://man.openbsd.org/ssh-keysign.8">ssh-keysign(8)</a>, disabling it for now.
<li>Have <a href="https://man.openbsd.org/named.8">named(8)</a> call <a href="https://man.openbsd.org/tzset.3">tzset(3)</a> so /etc/localtime isn't needed after the <a href="https://man.openbsd.org/chroot.2">chroot(2)</a>.
<li>More fixes to the new <a href="https://man.openbsd.org/ahc.4">ahc(4)</a> driver.
<li>Add AlphaServer 800 and 1000 support.
<li>Enable <a href="https://man.openbsd.org/lc.4">lc(4)</a> devices in <a href="alpha.html">alpha</a> GENERIC kernel.
<li>Fix <a href="https://man.openbsd.org/isapnp.4">isapnp(4)</a> panics on <a href="alpha.html">alpha</a>.
<li>Make xf86config give the option of configuring a mouse wheel.
<li>Gracefully handle <a href="https://man.openbsd.org/i386/i386_iopl.2">i386_iopl(2)</a> failure in the X server when trying to give up privileges.
<li>Add <a href="https://man.openbsd.org/wscons.4">wscons(4)</a> files to <a href="https://man.openbsd.org/fbtab.5">fbtab(5)</a> on <a href="i386.html">i386</a>.
<li>Add <a href="https://man.openbsd.org/kqueue.2">kqueue(2)</a> support to <a href="https://man.openbsd.org/syslog.3">syslog(3)</a>.
<li>Evolve strtou?q() into strtou?ll(). Use weak aliases if available (wrappers otherwise) to fake strtou?q().
<li>Run <a href="https://man.openbsd.org/rpc.rstatd.8">rpc.rstatd(8)</a> and <a href="https://man.openbsd.org/rpc.rusersd.8">rpc.rusersd(8)</a> as root from <a href="https://man.openbsd.org/inetd.8">inetd(8)</a> again, but go to nobody's jail at startup.
<li>Lots more bounds-checking all over the place.
<li>Recognise a few more <a href="https://man.openbsd.org/fxp.4">fxp(4)</a> devices.
<li>Correct misleading cgetclose() entry in <a href="https://man.openbsd.org/getcap.3">getcap(3)</a> manpage.
<li>Try again with the new <a href="https://man.openbsd.org/ahc.4">ahc(4)</a> driver.
<li>Cleanups of <a href="https://man.openbsd.org/chpass.1">chpass(1)</a> and <a href="https://man.openbsd.org/passwd.1">passwd(1)</a>.
<li><strong>SECURITY FIX: The kernel would let any user <a href="https://man.openbsd.org/ktrace.2">ktrace(2)</a> set[ug]id processes.</strong><br>
    <a href="errata31.html#ktrace">A source code patch is available</a>.<br>
    <a href="stable.html">[Applied to stable]</a>
<li><a href="https://man.openbsd.org/newsyslog.8">newsyslog(8)</a> now doesn't follow symbolic links by default, fixing PR1913.
<li>Change web site banner to "One remote hole in the default install, in nearly 6 years!" That's still an awesome record.
<li>More audit of OpenSSH.
<li><a href="https://www.openssh.com/openbsd.html">OpenSSH 3.4</a> was released, and there was much rejoicing.
<li><strong>SECURITY FIX: All versions of OpenSSH's <a href="https://man.openbsd.org/sshd.8">sshd(8)</a> between 2.3.1 and 3.3 contain an input validation error that can result in an integer overflow and privilege escalation. The problem is fixed in OpenSSH 3.4.</strong><br>
    <a href="errata31.html#sshd">A source code patch is available</a>.<br>
    <a href="stable.html">[Applied to stable]</a>
<li>Add a number of resource limits to <a href="https://man.openbsd.org/ssh.1">ssh(1)</a>.
<li>Increase <a href="i386.html">i386</a> kvm size to 768M.
<li>The list of great Theo quotes for <a href="https://man.openbsd.org/mg.1">mg(1)</a> continues to grow.
<li><strong>SECURITY FIX: A potential buffer overflow in the DNS resolver has been found.</strong><br>
    <a href="errata31.html#resolver">A source code patch is available</a>.<br>
    <a href="stable.html">[Applied to stable]</a>
<li>Merge in <a href="http://www.sendmail.org/">Sendmail</a> 8.12.5.
<li>Start work on IP-over-FireWire and IP-over-SCSI.
<li>Move a bunch of <a href="https://man.openbsd.org/pfctl.8">pfctl(8)</a> options into <a href="https://man.openbsd.org/pf.conf.5">pf.conf(5)</a>.
<li>c2k2-inspired changes to the installer.
<li>Skip routing table lookup when {broad,multi}casting and the outgoing interface is set using <a href="https://man.openbsd.org/setsockopt.2">setsockopt(2)</a>. Removes the need for a 224/4 route. <!-- XXX it still gets set in /etc/rc though -->
<li>Make X use /dev/wsmouse instead of /dev/wsmouse0 by default.
<li>Add some m68k opcode aliases for GNU <a href="https://man.openbsd.org/as.1">as(1)</a> from recent binutils.
<li>Fix the FTP relay in <a href="https://man.openbsd.org/faithd.8">faithd(8)</a>.
<li>Fix <a href="https://man.openbsd.org/wi.4">wi(4)</a> reassociation after an AP reboot.
<li><strong>SECURITY FIX: A buffer overflow can
occur in the .htaccess parsing code in the mod_ssl <a href="https://man.openbsd.org/httpd.8">httpd(8)</a> module, leading to possible remote crash or exploit (PR2767.)</strong><br>
    <a href="errata31.html#modssl">A source code patch is available</a>.<br>
    <a href="stable.html">[Applied to stable]</a>
<li>Lots of uid_t and gid_t signedness fixes.
<li><a href="https://man.openbsd.org/sshd.8">sshd(8)</a> no longer calls setsid() when run from <a href="https://man.openbsd.org/inetd.8">inetd(8)</a>.
<li>Make <a href="https://man.openbsd.org/cvs.1">cvs(1)</a> pserver talk IPv6.
<li>Increment <a href="https://man.openbsd.org/i386/boot.8">boot(8)</a> version to help debug the new memory probe and other fixes.
<li>Make <a href="https://man.openbsd.org/wi.4">wi(4)</a> less twitchy on quick inserts/ejects.
<li>String handling and bounds checking fixes to <a href="https://man.openbsd.org/login_fbtab.3">login_fbtab(3)</a>.
<li>Bump <a href="https://www.openssh.com/">OpenSSH</a> to version 3.3.<br>
    <a href="stable.html">[Applied to stable]</a>
<li>Start adding <a href="https://man.openbsd.org/kqueue.2">kqueue(2)</a> support to <a href="https://man.openbsd.org/noct.4">noct(4)</a>.
<li>System call argument rewriting framework for <a href="https://man.openbsd.org/systrace.4">systrace(4)</a>.
<li>Enable <a href="https://man.openbsd.org/wi.4">wi(4)</a> on sparc64, after a <em>lot</em> of groundwork.
<li>Fix some endianness nits in <a href="https://man.openbsd.org/wi.4">wi(4)</a>.
<li>Remove <a href="https://man.openbsd.org/ifmcstat.8">ifmcstat(8)</a>, the same information is available from <a href="https://man.openbsd.org/netstat.1">netstat(1)</a>.
<li>More improvements to 4GB memory probing on <a href="i386.html">i386</a>.
<li><a href="https://man.openbsd.org/ssh.1">ssh(1)</a> and <a href="https://man.openbsd.org/sshd.8">sshd(8)</a> options are now documented in their own sshd?_config(5) manpage.
<li>Add option for smooth scrolling to <a href="https://man.openbsd.org/talk.1">talk(1)</a>.
<li>Support a few more wireless cards in <a href="https://man.openbsd.org/wi.4">wi(4)</a>.
<li>Build <a href="https://man.openbsd.org/wicontrol.8">wicontrol(8)</a> on sparc64 as well.
<li>String handling cleanups in <a href="https://man.openbsd.org/comsat.8">comsat(8)</a>.
<li>Support <a href="https://man.openbsd.org/sparc/magma.0">magma(4/SPARC)</a>, <a href="https://man.openbsd.org/sparc64/magma.0">magma(4/SPARC64)</a> serial/parallel boards.
<li>Support <a href="https://man.openbsd.org/stp.4">stp(4)</a> sbus-PCMCIA bridge based on STP4020 chipset. (The nell driver on Solaris.)
<li>Cleanup of <a href="https://man.openbsd.org/timed.8">timed(8)</a>.
<li>Removing its setgid(kmem) was not enough, remove <a href="https://man.openbsd.org/trsp.8">trsp(8)</a> altogether.
<li>Make <a href="https://man.openbsd.org/yacc.1">yacc(1)</a> errors look like C compiler errors, so parser utilities such as <a href="https://man.openbsd.org/error.1">error(1)</a> can deal with it.
<li>Add <a href="https://man.openbsd.org/kqueue.2">kqueue(2)</a> support to <a href="https://man.openbsd.org/random.9">random(9)</a>.
<li>Kill file descriptor leak in <a href="https://man.openbsd.org/dhcpd.8">dhcpd(8)</a>.
<li>Fix lots of format strings in the <a href="https://man.openbsd.org/dhcp.8">dhcp(8)</a> programs.
<li><a href="https://man.openbsd.org/ps.1">ps(1)</a> shows flag 'x' for <a href="https://man.openbsd.org/systrace.4">systrace(4)</a>'d processes.
<li>Lots of work on the <a href="https://man.openbsd.org/gpr.4">gpr(4)</a> driver.
<li>Fix <a href="https://man.openbsd.org/uftdi.4">uftdi(4)</a>.
<li>Make <a href="https://man.openbsd.org/systat.1">systat(1)</a> revoke its setgid(kmem) privileges.
<li>Remove old pccons driver from <a href="i386.html">i386</a>, also the associated XSERVER option from the kernel.
<li>Fix <a href="https://man.openbsd.org/ftpd.8">ftpd(8)</a>'s SIGALRM handler.
<li><strong>SECURITY FIX: A buffer overflow can
occur during the interpretation of chunked encoding in <a href="https://man.openbsd.org/httpd.8">httpd(8)</a>, leading to possible remote crash.</strong><br>
    <a href="errata31.html#httpd">A source code patch is available</a>.<br>
    <a href="stable.html">[Applied to stable]</a>
<li>Add the punctuation-challenged Nike psa[play^120 USB widget.
<li>Remove setgid(kmem) from the enormously useful <a href="https://man.openbsd.org/trsp.8">trsp(8)</a>.
<li>Add UK keyboard map to <a href="macppc.html">macppc</a> (with '#' on Option-3) and also option CAPS_IS_CONTROL.
<li>Increase <a href="https://man.openbsd.org/xl.4">xl(4)</a> timeout to squash 'command never completed!' warnings.
<li>Add <a href="https://man.openbsd.org/kqueue.2">kqueue(2)</a> support to <a href="https://man.openbsd.org/audio.4">audio(4)</a>.
<li>Import <a href="https://man.openbsd.org/event.3">event(3)</a>, an API on top of <a href="https://man.openbsd.org/select.2">select(2)</a> or <a href="https://man.openbsd.org/kqueue.2">kqueue(2)</a>.
<li>Enable DMA on <a href="https://man.openbsd.org/xl.4">xl(4)</a>.
<li>Allow transparent (statically keyed) <a href="https://man.openbsd.org/ipsec.4">ipsec(4)</a> processing on a <a href="https://man.openbsd.org/bridge.4">bridge(4)</a>.
<li>Help <a href="https://man.openbsd.org/ppp.8">ppp(8)</a> to cope with yet more Microsoft PPP attributes.
<li>Extend <a href="https://man.openbsd.org/ssh-agent.1">ssh-agent(1)</a> key lifetime constraints more flexible (i.e. more than just key lifetime).
<li>Teach ECN attributes to <a href="https://man.openbsd.org/isakmpd.8">isakmpd(8)</a>.
<li>Add eui64 option to <a href="https://man.openbsd.org/ifconfig.8">ifconfig(8)</a> for configuring the IPv6 interface index.
<li>Add a <a href="https://man.openbsd.org/sysctl.3">sysctl(3)</a> to get the CPU type on sparc and sparc64.
<li>Throw away the first 256 words of arc4 output in <a href="https://man.openbsd.org/random.9">random(9)</a>.
<li>Gratuitous pid_t cleanup in /usr/bin.
<li>Grab multicast <a href="https://man.openbsd.org/vlan.4">vlan(4)</a> code from NetBSD.
<li>Add some inlined hash functions for the kernel, in &lt;sys/hash.h&gt;.
<li>Cleanup work on conditional evaluation in <a href="https://man.openbsd.org/make.1">make(1)</a>.
<li><a href="https://man.openbsd.org/isakmpd.8">isakmpd(8)</a> accepts IPComp flows.
<li>Drop <a href="https://man.openbsd.org/pf.4">pf(4)</a> scrub(fragcache) syntax in favour of the fragment ... option in scrub rules.
<li>Teach <a href="https://man.openbsd.org/tcpdump.8">tcpdump(8)</a> about <a href="https://man.openbsd.org/ipcomp.4">ipcomp(4)</a>.
<li>Show sparc64's X server which device it wants to mmap().
<li>Add ioctl to <a href="https://man.openbsd.org/wscons.4">wscons(4)</a> allowing sparc64 (other architectures later) to find out which PCI device it's using.
<li>Enable userland <a href="https://man.openbsd.org/crypto.4">crypto(4)</a> support for DSA. Maybe logging in using ssh2 on a 486 needn't take 20 seconds after all.
<li>Kernel changes and <a href="https://man.openbsd.org/sysctl.3">sysctl(3)</a> switch for hardware asymmetric <a href="https://man.openbsd.org/crypto.4">crypto(4)</a> in userland.
<li>Add initial Ultra Port Architecture (<a href="https://man.openbsd.org/sparc64/upa.4">upa(4/SPARC64)</a>) support. Attach <a href="https://man.openbsd.org/sparc64/creator.4">creator(4)</a> and <a href="https://man.openbsd.org/sparc64/schizo.4">schizo(4)</a> using it.
<li>Import new <a href="vax.html">vax</a> boot code from NetBSD.
<li>Add <a href="https://man.openbsd.org/umct.4">umct(4)</a> USB serial driver and .<a href="https://man.openbsd.org/umidi.4">umidi(4)</a> USB MIDI driver. Not tested, not in GENERIC.
<li>Add IPL_STATCLOCK and add lots of splassert()s.
<li><a href="https://man.openbsd.org/ssh.1">ssh(1)</a> spends less time with euid==0 even if it is installed setuid(root).
<li>Much cleanup in distrib/miniroot.
<li>Make <a href="https://man.openbsd.org/pfctl.8">pfctl(8)</a> -s state print UDP and 'other' states nicely.
<li>New scrub(fragcache) ... syntax for <a href="https://man.openbsd.org/pf.4">pf(4)</a>.
<li><a href="https://man.openbsd.org/pf.4">pf(4)</a> NAT proxy port ranges can be specified per-rule.
<li>Don't <a href="https://man.openbsd.org/panic.9">panic(9)</a> if <a href="https://man.openbsd.org/pf.4">pf(4)</a> tries to insert a duplicate key.
<li><a href="https://man.openbsd.org/pf.4">pf(4)</a> NAT and filter rules now all go in the one file (normally <a href="https://man.openbsd.org/pf.conf.5">pf.conf(5)</a>). New <a href="https://man.openbsd.org/pfctl.8">pfctl(8)</a> file syntax. Oh yes.
<li>Clean up semantics of <a href="https://man.openbsd.org/gre.4">gre(4)</a> a bit.
<li><a href="https://man.openbsd.org/ifconfig.8">ifconfig(8)</a> prints the Ethernet address. Yippee!
<li><a href="https://man.openbsd.org/route.8">route(8)</a> now accepts DNS names (and naturally enough treats them as host routes).
<li>Stop <a href="https://man.openbsd.org/isakmpd.8">isakmpd(8)</a> using the same range for SPIs and CPIs.
<li>Ports can now be specified in <a href="https://man.openbsd.org/pf.4">pf(4)</a> NAT rules.
<li>Allow <a href="https://man.openbsd.org/systrace.4">systrace(4)</a> to attach to a running process.
<li>Add ioctl <a href="https://man.openbsd.org/systrace.4">systrace(4)</a> to retrieve the current emulation of a process.
<li>Remove <a href="https://man.openbsd.org/dlopen.3">dlopen(3)</a> stuff from <a href="https://man.openbsd.org/isakmpd.8">isakmpd(8)</a>.
<li>Fix BPF code for a <a href="https://man.openbsd.org/gif.4">gif(4)</a> tunnel, and add some more sanity checks.
<li>Default RhostsAuthentication and RhostsRSAAuthentication to 'no' now that <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> is now longer setuid(root) by default.
<li><a href="https://man.openbsd.org/ssh-add.1">ssh-add(1)</a> key lifetimes can now be specified in nice readable form, e.g. '-t 1h'.
<li>Define __weak_alias() for mvme88k.
<li>Merge GNU TeXinfo 4.2.
<li>Prevent <a href="https://man.openbsd.org/mbuf.9">mbuf(9)</a> leakage from <a href="https://man.openbsd.org/bridge.4">bridge(4)</a>.
<li>New <a href="https://man.openbsd.org/i386/bad144.8">bad144(8)</a>.
<li><a href="https://man.openbsd.org/user.8">user(8)</a> now checks the username length against MaxUserNameLen.
<li>Add <a href="https://man.openbsd.org/bio.4">bio(4)</a> device, so userland can talk to devices that don't have nodes in /dev.
<li>Remove KerberosIV startup code from <a href="https://man.openbsd.org/rc.8">rc(8)</a> files.
<li>Make <a href="https://man.openbsd.org/pf.4">pf(4)</a> NAT rules work more like normal filter rules.
<li>Add SIO*PHYADDR to <a href="https://man.openbsd.org/gif.4">gif(4)</a> so <a href="https://man.openbsd.org/ifconfig.8">ifconfig(8)</a> can set the outer address.
<li>Make published <a href="https://man.openbsd.org/arp.8">arp(8)</a> entries work again (PR2635).
<li>Make <a href="https://man.openbsd.org/dhcp.8">dhcp(8)</a> build faster (PR2715).
<li>Start converting <a href="https://man.openbsd.org/netstat.1">netstat(1)</a> and <a href="https://man.openbsd.org/systat.1">systat(1)</a> to <a href="https://man.openbsd.org/sysctl.3">sysctl(3)</a> instead of kvm.
<li>Set FDDI link MTU the same as IPv4 MTU, fixes PR2714.
<li>Allow numeric group IDs in <a href="https://man.openbsd.org/systrace.1">systrace(1)</a>.
<li>Changes to initialisation and media config of <a href="https://man.openbsd.org/ep.4">ep(4)</a>.
<li>Add list support for <a href="https://man.openbsd.org/pf.4">pf(4)</a> rdr rules.
<li>Fix a number of bad <a href="https://man.openbsd.org/strlcpy.3">strlcpy(3)</a> calls.
<li>Fix PR2704 resuming <a href="https://man.openbsd.org/eso.4">eso(4)</a> after standby.
<li>Change a lot of <a href="https://man.openbsd.org/index.3">index(3)</a> calls to <a href="https://man.openbsd.org/strchr.3">strchr(3)</a>.
<li>Change "'cuz" to "because." Strewth!
<li>Add another <a href="https://man.openbsd.org/mbuf.9">mbuf(9)</a> flag M_AUTH_AH, changing the meaning of M_AUTH.
<li>Remove a bunch of '\n's from <a href="https://man.openbsd.org/syslog.3">syslog(3)</a> and <a href="https://man.openbsd.org/err.3">err(3)</a> calls.
<li>Make <a href="https://man.openbsd.org/isakmpd.8">isakmpd(8)</a> IKECFG support work for both SET/ACK and REQ/REPLY modes.
<li>Fixes for OpenSSL when talking to hardware <a href="https://man.openbsd.org/crypto.4">crypto(4)</a>.
<li>Stop <a href="https://man.openbsd.org/ftp.1">ftp(1)</a> and <a href="https://man.openbsd.org/ftpd.8">ftpd(8)</a> spilling the IPv6 scope ID onto the wire.
<li>The hardware is willing, and now <a href="https://man.openbsd.org/xl.4">xl(4)</a> is able to offload TCP, UDP and IP checksumming to it.
<li>Support setting MTU on <a href="https://man.openbsd.org/sk.4">sk(4)</a>.
<li>Add KERN_{NFILES,TTYCOUNT,NUMVNODES,MBSTAT} <a href="https://man.openbsd.org/sysctl.3">sysctl(3)</a> entries.
<li>For a <a href="https://man.openbsd.org/bridge.4">bridge(4)</a>, handle IPv4 frag-needed-but-DF-set just like on a regular interface.
<li>Pull in some <a href="https://man.openbsd.org/pciide.4">pciide(4)</a> fixes from NetBSD.
<li>Remove (arguably) unnecessary setgid(operator) from <a href="https://man.openbsd.org/df.1">df(1)</a>.
<li>Remove setuid(kmem) from <a href="https://man.openbsd.org/ps.1">ps(1)</a> and <a href="https://man.openbsd.org/w.1">w(1)</a> now kvm can use sysctl for some stuff. We don't need no proc filesystem...
<li>Make the <a href="https://man.openbsd.org/kvm.3">kvm(3)</a> library try to use the shiny new sysctls to fetch process arguments and environment.
<li>Add flag to stop <a href="https://man.openbsd.org/kvm_open.3">kwm_open(3)</a> opening any files, though limiting kvm functionality.
<li>Add <a href="https://man.openbsd.org/sysctl.3">sysctl(3)</a> to retrieve process arguments and environment.
<li>Tweak kernel memory allocation on i386 to work better on 4GB machines.
<li>Work started on <a href="https://man.openbsd.org/sparc64/schizo.4">schizo(4/SPARC64)</a> PCI controller. Who said that?
<li>Install script now puts FQDN in /etc/myname.
<li>Make more use of splsoftnet() (instead of splnet()) in IPv6 code.
<li>lo0 now only gets ::1 when it's brought up.
<li>Merge <a href="http://www.pdc.kth.se/kth-krb/">kth-krb</a> 1.1.1.
<li>Enable weak aliases in libc for powerpc, sparc and alpha (already enabled on i386).
<li>Add new splusb() to prevent USB initialisation lossage.
<li>Improve SMART support in <a href="https://man.openbsd.org/atactl.8">atactl(8)</a>.
<li>Silently ignore deprecated options to <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> since they may be passed in for a remote scp command.
<li>Remove FallbackToRsh from <a href="https://man.openbsd.org/scp.1">scp(1)</a> as well.
<li><a href="https://man.openbsd.org/pf.4">pf(4)</a> NAT rules now do macro expansion as well.
<li>Add Makefile-like (var += ...) macro concatenation to <a href="https://man.openbsd.org/pfctl.8">pfctl(8)</a>, then remove it again.
<li>Add per-rule state timeouts to <a href="https://man.openbsd.org/pf.4">pf(4)</a>.
<li>Fix well-hidden little bug in <a href="https://man.openbsd.org/crypto.3">crypto(3)</a> to unbork <a href="sparc64.html">sparc64</a> SSL/TLS negotiation.
<li>On <a href="alpha.html">alpha</a>, don't allow kernel symbols to be paged out.
<li>Deprecate FallbackToRsh and UseRsh options in <a href="https://man.openbsd.org/ssh.1">ssh(1)</a>.
<li><a href="https://man.openbsd.org/ssh-keysign.8">ssh-keysign(8)</a> now insists on 20-byte session IDs.
<li>Remove suspect DIAGNOSTIC block from softdep kernel code.
<li>Make <a href="https://man.openbsd.org/wsdisplay.4">wsdisplay(4)</a> screen blanker play nice with the X server.
<li><a href="https://man.openbsd.org/lpr.1">lpr(1)</a> and friends go from setuid(root) to setgid(daemon). Connections can come from unprivileged ports for now.
<li>Add Realtek 8129/8139 cardbus device support to <a href="https://man.openbsd.org/rl.4">rl(4)</a>.
<li>Switch <a href="macppc.html">macppc</a> to use gem instead of gm.
<li>Multicast fixes and Gigabit Ethernet support for <a href="https://man.openbsd.org/gem.4">gem(4)</a>.
<li>Rule label length increased from 32 to 64 characters.
<li>Allow modification of TTL with <a href="https://man.openbsd.org/pf.4">pf(4)</a> return-rst.
<li>Timeout handling improvements to <a href="https://man.openbsd.org/ohci.4">ohci(4)</a>.
<li>Make <a href="https://man.openbsd.org/netstat.1">netstat(1)</a> print RIP6 statistics.
<li>Allow a per-rule limit to the number of state table entries a <a href="https://man.openbsd.org/pf.conf.5">pf.conf(5)</a> rule can create.
<li>Switch <a href="https://man.openbsd.org/pf.4">pf(4)</a> from AVL to red-black trees.
<li>Add Gemplus GPR400 PCMCIA smartcard reader.
<li>Don't propose IDEA when negotiating SSL connections.
<li>$srcaddr, $srcport, $dstaddr, $dstport, $proto and $nr (rule number) can now be used in <a href="https://man.openbsd.org/pfctl.8">pfctl(8)</a> rule labels.
<li>Make a kernel TCP RST and a <a href="https://man.openbsd.org/pf.4">pf(4)</a> return-rst look the same, to frustrate the nmap crowd.
<li>Some <a href="https://man.openbsd.org/systrace.4">systrace(4)</a> filter list optimizations.
<li>Remove IPv4 mapped address support from TCP input code, and remove is_ipv6().
<li>Add net.inet6.ip6.v6only <a href="https://man.openbsd.org/sysctl.8">sysctl(8)</a> flag.
<li>Add ikecfg as a valid flag in <a href="https://man.openbsd.org/isakmpd.conf.5">isakmpd.conf(5)</a>. Start coding SET/ACK mode support.
<li><a href="https://man.openbsd.org/inetd.8">inetd(8)</a> no longer accepts UDP packets if the source is a broadcast address.
<li>Start work on <a href="http://www.xfree86.org/current/Xkdrive.1.html">KDrive</a> (TinyX) low-footprint X server support.
<li>Add a missing bzero() in sys/netinet/tcp_input.c to fix link-local TCP.
<li>Add flow type to <a href="https://man.openbsd.org/ipsec.4">ipsec(4)</a> and <a href="https://man.openbsd.org/isakmpd.8">isakmpd(8)</a>.
<li>Fix <a href="https://man.openbsd.org/isakmpd.8">isakmpd(8)</a> crasher PR2729.
<li>Deprecate SIO.*IFPREFIX_IN6 ioctls.
<li>Merge <a href="http://www.stacken.kth.se/projekt/arla/">arla</a> release 0.35.7.
<li>Merge OpenSSL 0.9.7-stable-20020605.
<li>TCP wrappers and <a href="https://man.openbsd.org/pfctl.8">pfctl(8)</a> accept scoped IPv6 addresses.
<li>Remove [gs]etprogname() from KerberosIV
<li>Fix <a href="https://man.openbsd.org/ipsec.4">ipsec(4)</a> crash described in PR2721.
<li>Disable XF86_SVGA drivers in old XFree that are as good or better in XFree86 4.2.0, as defined in their <a href="http://www.xfree86.org/4.2.0/Status.html">status page</a>.
<li><a href="https://man.openbsd.org/bpf.4">bpf(4)</a> support for <a href="https://man.openbsd.org/kqueue.2">kqueue(2)</a>
<li>In <a href="https://man.openbsd.org/isakmpd.8">isakmpd(8)</a>, add netmask, subnet and DHCP server request support to IKECFG.
<li>Fix <a href="https://man.openbsd.org/i386/bktr.4">bktr(4)</a> stereo.
<li>Support the RNG of AMD-768 southbridge (device <a href="https://man.openbsd.org/amdpm.4">amdpm(4)</a>).
<li>Fix DMA handing of <a href="https://man.openbsd.org/sparc/hme.4">hme(4)</a> (SPARC and SPARC64).
<li>Pull in libcsu change from NetBSD to allow <a href="https://man.openbsd.org/dlopen.3">dlopen(3)</a> to be used much earlier.
<li>Add -t key lifetime option to <a href="https://man.openbsd.org/ssh-add.1">ssh-add(1)</a>.
<li>Use IPv4/IPv6 addresses in /etc/inetd.conf instead of 'localhost' to avoid DNS lookups.
<li>Add predicate suffixes to <a href="https://man.openbsd.org/systrace.1">systrace(1)</a>.
<li>Add -x and -X options to respectively lock and unlock <a href="https://man.openbsd.org/ssh-agent.1">ssh-agent(1)</a>.
<li>Compatibility tweaks to getpid(), getuid() and getgid() under Linux emulation.
<li>Start work on new debugger, pmdb.
<li>Additional check (#ifdef DIAGNOSTIC) for duplicate <a href="https://man.openbsd.org/uvm.9">uvm(9)</a> map entries.
<li>If <a href="https://man.openbsd.org/syslog.3">syslog(3)</a> fails with ENOBUFS when sending to /dev/log, it now waits a millisecond and retries.
<li><a href="https://man.openbsd.org/syslogd.8">syslogd(8)</a> doubles the socket receive buffer size.
<li>Automatic policy generation for <a href="https://man.openbsd.org/systrace.4">systrace(4)</a>.
<li><a href="https://man.openbsd.org/lynx.1">lynx(1)</a> now defaults to passive FTP.
<li>Remove [gs]etprogname() from KerberosV.
<li>New -a &lt;bind_address&gt; option to <a href="https://man.openbsd.org/ssh-agent.1">ssh-agent(1)</a> so user can specify the agent's UNIX domain socket.
<li>Make <a href="https://man.openbsd.org/tbrconfig.8">tbrconfig(8)</a> statically linked.
<li>Remove assumptions about MTU values for certain media types.
<li>Use the same byte-order kung fu as the kernel in <a href="https://man.openbsd.org/atactl.8">atactl(8)</a>.
<li>Don't automagically set -prefixlen 128 on IPv6 host route.
<li>rasops instead of rcons for <a href="https://man.openbsd.org/sparc64/vgafb.4">vgafb(4/SPARC64)</a>.
<li>Add xsystrace(1) [no manpage yet] UI for <a href="https://man.openbsd.org/systrace.4">systrace(4)</a>.
<li> Add sbus <a href="https://man.openbsd.org/sparc/bwtwo.4">bwtwo(4)</a> mono framebuffer support (untested).
<li>PrivSep'd <a href="https://www.openssh.com/">ssh</a> monitor processes check each authentication method is enabled before use.
<li><a href="https://man.openbsd.org/systrace.1">systrace(1)</a> userland import.
<li>Use <a href="https://man.openbsd.org/arc4random.3">arc4random(3)</a> for <a href="https://man.openbsd.org/rtadvd.8">rtadvd(8)</a>.
<li>Make <a href="https://man.openbsd.org/nice.3">nice(3)</a> standards compliant.
<li>More <a href="https://man.openbsd.org/wi.4">wi(4)</a> tweaks for Symbol cards.
<li>Recognise VIA VT8233 PCI-ISA bridge.
<li>Fix <a href="sparc64.html">sparc64</a> 64-bit relocation masks in <a href="https://man.openbsd.org/ld.so.1">ld.so(1)</a>.
<li>Merge in <a href="http://www.sendmail.org/">Sendmail</a> 8.12.4.
<li>Detect stereo radio reception in <a href="https://man.openbsd.org/fms.4">fms(4)</a>.
<li>Compatibility tweaks to <a href="https://man.openbsd.org/sparc64/creator.0">creator(4/SPARC64)</a>.
<li>Replace <a href="https://man.openbsd.org/mr.4">mr(4)</a> radio driver with new <a href="https://man.openbsd.org/gtp.4">gtp(4)</a> driver, which is better tested.
<li>'<a href="https://man.openbsd.org/pfctl.8">pfctl</a> -s all' now prints labels as well.
<li>Add volatile to sig_atomic_t. Stand well back.
<li>Use rasops instead of rcons in <a href="https://man.openbsd.org/sparc/cgthree.4">cgthree(4/SPARC)</a> and <a href="https://man.openbsd.org/sparc/cgsix.4">cgsix(4/SPARC)</a>.
<li>Simplify IPv6 link MTU code.
<li>Implement PMAP_CANFAIL flag for m68k pmap.
<li>Enable console blanking on <a href="https://man.openbsd.org/sparc/cgthree.4">cgthree(4/SPARC)</a>.
<li>Make sure some struct sockaddr are cleared before use.
<li>Start work on NetOctave NSP2000 (hardware crypto) driver <a href="https://man.openbsd.org/noct.4">noct(4)</a>. Just the RNG for now.
<li>Apply <a href="http://www.dachb0den.com/projects/bsd-airtools.html">BSD Airtools</a> 0.2 patches.
<li>Teach <a href="https://www.ietf.org/rfc/rfc3168.txt?number=3168">ECN</a> flags to <a href="https://man.openbsd.org/pf.4">pf(4)</a>.
<li>Dump <a href="https://man.openbsd.org/mkisofs.8">mkisofs(8)</a> in favor of <a href="https://man.openbsd.org/mkhybrid.8">mkhybrid(8)</a>.
<li>Avoid fd_set overruns in <a href="https://man.openbsd.org/rtsold.8">rtsold(8)</a>, <a href="https://man.openbsd.org/route6d.8">route6d(8)</a> and <a href="https://man.openbsd.org/rtadvd.8">rtadvd(8)</a>.
<li>Clue in <a href="https://man.openbsd.org/inetd.8">inetd(8)</a> to IPv6 FTP bounce attacks.
<li>Fix /etc/ptmp deletion bug that occurred if <a href="https://man.openbsd.org/rmuser.8">rmuser(8)</a> was aborted.
<li>IBSS mode for Symbol cards (firmware >= 2.5) using the <a href="https://man.openbsd.org/wi">wi(4)</a> driver.
<li>Add leading-zero padding to RSA signatures in <a href="https://www.openssh.com/">ssh</a>.
<li>Tweak <a href="https://man.openbsd.org/altq.9">altq(9)</a> <a href="https://man.openbsd.org/options.4">options(4)</a> so the kernel compiles on i[34]86.
<li>Add support in the <a href="https://man.openbsd.org/fxp.4">fxp(4)</a> driver for more Intel PRO/100 VM cards.
<li>For those that do metric but refuse to work in meters and kilograms, <a href="http://www.unc.edu/~rowlett/units/dictK.html">kayser</a> conversion has been added to <a href="https://man.openbsd.org/units.1">units(1)</a>. Wow.
<li>Fix signal races in <a href="https://man.openbsd.org/ping.8">ping(8)</a>.
<li>Now that the Dungeon Master <a href="https://man.openbsd.org/dm.0">dm(1)</a> has gone into well-earned retirement, make those games that need to save high scores, etc. run setgid games.
<li>Per-socket <a href="https://man.openbsd.org/ipsec.4">ipsec(4)</a> policies and options!
<li>Stop a potential <a href="https://man.openbsd.org/ipsec.4">ipsec(4)</a> DoS where an attacker could falsely advance the replay counter and so force valid traffic to be discarded.
<li>Add German keyboard map for Apple laptops.
<li>On ELF platforms, allow <a href="https://man.openbsd.org/gcc.1">gcc(1)</a> to link Fortran code with other languages.
<li>Make sure every PCI interrupt is recorded, so ISA doesn't step on one of them later.
<li>Better <a href="https://man.openbsd.org/radio.4">radio(4)</a> devices attachment.
<li>Fix VIA8233 support in <a href="https://man.openbsd.org/auvia.4">auvia(4)</a>.
<li>Make <a href="https://man.openbsd.org/nc.1">nc(1)</a> timeouts behave more like netcat.
<li>Make sure user's shell is /usr/sbin/authpf before running <a href="https://man.openbsd.org/authpf.8">authpf(8)</a> to prevent $SSH_CLIENT shenanigans.
<li>In <a href="https://man.openbsd.org/ssh.1">ssh</a>, use OpenSSL's AES implementation instead of our own.
<li>Add -[46] options to <a href="https://man.openbsd.org/ftp.1">ftp(1)</a>.
<li>Warn to syslog if IPv6 neighbor discovery tries to set the link MTU too small.
<li>Make <a href="https://man.openbsd.org/tip.1">tip(1)</a> query the driver with the user's baud rate setting rather than only accepting a compiled-in list.
<li>Cleanup and small fixes to <a href="https://man.openbsd.org/skeyaudit.1">skeyaudit(1)</a>.
<li>Fixes to <a href="https://man.openbsd.org/fms.4">fms(4)</a>.
<li>Various fixes and enhancements to <a href="https://man.openbsd.org/mg.1">mg(1)</a>.
<li><a href="https://man.openbsd.org/sshd.8">sshd(8)</a> no longer starts in privilege-separated mode unless the PrivSep user sshd and <a href="https://man.openbsd.org/chroot.2">chroot(2)</a> dir /var/empty are both present.
<li>Fix potential time overflow in <a href="https://man.openbsd.org/dd.1">dd(1)</a>.
<li>Make <a href="https://man.openbsd.org/bridge.4">bridge(4)</a> refragment IP packets that are too large for the outgoing interface.
<li>Remove libdl, support is in libc since a long time already.
<li>Recognise Nokia C110 and C111 PC cards as <a href="https://man.openbsd.org/wi.4">wi(4)</a> devices.
<li>Really sanitize <a href="https://man.openbsd.org/ld.so.1">ld.so(1)</a>'s environment as promised in the manpage when running set[ug]id, and test for set[ug]id earlier.
<li>Don't allow <a href="https://man.openbsd.org/mktemp.3">mktemp(3)</a> to back up past the beginning of its input buffer.
<li>Use the correct string buffer size for printing port numbers in <a href="https://man.openbsd.org/pfctl.8">pfctl(8)</a>.
<li>Remove arc4random_8().
<li>struct ifnet now has an array of pointers to data for each address family. Move per-interface IPv6 state and neighbor discovery stuff here.
<li><a href="https://man.openbsd.org/netstat.1">netstat(1)</a> cleanup.
<li><a href="https://man.openbsd.org/ping6.8">ping6(8)</a> and <a href="https://man.openbsd.org/traceroute6.8">traceroute6(8)</a> updates from <a href="http://www.kame.net/">KAME</a>.
<li>unsigned -&gt; unsigned int cleanup.
<li>Repair machdep.chipset sysctl on alpha.
<li>Audit pid_t type usage.
<li>Audit incorrect signal(2) usage.
<li>Fix big <a href="https://man.openbsd.org/snprintf.3">snprintf(3)</a>
parameter typo in <a href="https://man.openbsd.org/strftime.3">strftime(3)</a>.
<li>Don't use <a href="https://man.openbsd.org/execlp.3">execlp(3)</a> when invoking <a href="https://man.openbsd.org/ssh-keysign.8">ssh-keysign(8)</a>.
<li>Fix <a href="https://man.openbsd.org/kill.2">kill(2)</a> parameter brainfade in <a href="https://man.openbsd.org/amd.8">amd(8)</a> and KerberosIV's rlogin.
<li><a href="vax.html">vax</a>: Add board type for VXT2000+.
<li>More IANA interface type values, including IFT_BRIDGE.
<li>Split XFree86 bsd_video.c into architecture-specific files.
<li>Add <a href="https://man.openbsd.org/sysctl.8">sysctl(8)</a> toggle net.inet.icmp.tstamprepl (default: 1) for ICMP timestamp replies.
<li>Even more steps toward the death of unsafe string functions.
<li>In XFree86 build, honour COPTS variable when building third-party apps.
<li>Add LIBS option for crunchgen so custom libraries can be added to boot images.
<li>Run <a href="https://man.openbsd.org/rpc.rstatd.8">rpc.rstatd(8)</a> and <a href="https://man.openbsd.org/rpc.rusersd.8">rpc.rusersd(8)</a> as user nobody (boo!) from <a href="https://man.openbsd.org/inetd.8">inetd(8)</a>.
<li>From <a href="https://man.openbsd.org/ld.so.1">ld.so(1)</a>, remove tests that have no license, and for the same reason replace parts of <a href="https://man.openbsd.org/ld.1">ld(1)</a> and <a href="https://man.openbsd.org/ldconfig.8">ldconfig(8)</a>.
<li>Remove unnecessary instruction cache flushes on <a href="sparc64.html">sparc64</a>.
<li>Many cleanups in <a href="https://man.openbsd.org/ld.so.1">ld.so(1)</a>.
<li>Support mixed IPv4/IPv6 address lists in <a href="https://man.openbsd.org/pfctl.8">pfctl(8)</a>.
<li>Add <a href="https://man.openbsd.org/ssh-keysign.8">ssh-keysign(8)</a>.
<li>Remove obsolete <a href="https://man.openbsd.org/dm.8">dm(8)</a>.
<li>Fix <a
href="https://man.openbsd.org/disklabel.8">disklabel(8)</a>
warnings on CD-ROM
(<a href="https://man.openbsd.org/cd.4">cd(4)</a>)
with no data track.
<li>Allow incoming <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> connections in the temporary <a href="https://man.openbsd.org/pf.4">pf(4)</a> ruleset installed by <a href="https://man.openbsd.org/rc.8">/etc/rc</a>, just in case the real rulebase fails to load later on.
<li>Hunt for biodone() calls not made at splbio() <a href="https://man.openbsd.org/spl.9">spl(9)</a>, and fix them.
<li>Improve <a href="https://man.openbsd.org/mount_cd9660.8">cd9660(8)</a> filesystem read-ahead performance.
<li>Support software brightness and backlight control on various macppc models.
<li>Allow <a href="https://man.openbsd.org/wsconsctl.8">wsconsctl(8)</a> to control brightness and backlight on displays which
support this.
<li>New libc IEEE floating-point code and libm routines for hppa.
<li>splassert (<a href="https://man.openbsd.org/spl.9">spl(9)</a>) on i386.
<li>More steps toward the death of unsafe string functions.
<li>splassert (<a href="https://man.openbsd.org/spl.9">spl(9)</a>) on sparc64.
<li>Add a <a href="https://man.openbsd.org/sparc64/creator.4">creator(4)</a> driver for sparc64 Creator and Creator3D cards.
<li>Jumbo <a href="https://man.openbsd.org/lpr.1">lpr(1)</a> changes including IPv6 support, new features, and bugfixes.
<li>Still more hppa memory management and low-level code fixes.
<li>Simple pmap optimization on macppc.
<li>Did we mention the cleaning of the installation scripts, adding functionality yet reducing size?
<li>Allow <a href="https://man.openbsd.org/ddb.4">ddb(4)</a> to do a stack trace into the kernel message buffer.
<li><a href="https://man.openbsd.org/isp.4">isp(4)</a> fixes.
<li><strong>SECURITY FIX: Fix incorrect ACL check when using BSD authentication in <a href="https://man.openbsd.org/sshd.8">sshd(8)</a>.</strong><br>
    <a href="errata31.html#sshbsdauth">A source code patch is available</a>.<br>
    <a href="stable.html">[Applied to stable]</a>
<li>Fix a memory leak in <a href="https://man.openbsd.org/mg.1">mg(1)</a>.
<li>New systrace facility.
<li>Better Cyrix CPU support.
<li>ECN support.
<li>Support SNTP in <a href="https://man.openbsd.org/rdate.8">rdate(8)</a>.
<li>Fix infinite SIGFPE loop situations on vax.
<li>Remove unnecessary setuid bit from binaries that either do not need it or
whose functionality requiring root privileges should only be invoked by root
anyways, or which can be changed into a setgid bit for a specific group.
<li>Switch <a href="https://man.openbsd.org/skey.1">skey(1)</a> management to per-user directories instead of a flat file and drop setuid bit on related tools.
<li>Lots of <a href="https://man.openbsd.org/ppp.8">ppp(8)</a> goodies.
<li>New splassert (see <a href="https://man.openbsd.org/spl.9">spl(9)</a>) debug functionality on sparc.
<li>Enable Altivec instructions in macppc kernels.
<li>Support more Hifn cards (7814, 7851, 7854) via the <a href="https://man.openbsd.org/nofn.4">nofn(4)</a> driver.
<li>OpenSSL 0.9.7.
<li>Completely rework <a href="https://man.openbsd.org/at.1">at(1)</a> and related binaries, and make them POSIX-compliant.
<li>More use of hardware crypto cards functionality via <a href="https://man.openbsd.org/ubsec.4">ubsec(4)</a>.
<li>More hppa memory management fixes.
<li>binutils 2.11.2.
<li>Add per-gid filtering to <a href="https://man.openbsd.org/pf.4">pf(4)</a>.
<li>Switch <a href="https://man.openbsd.org/at.1">at(1)</a> to be setgid crontab as well.
<li>Handle host names resolving in several addresses in <a href="https://man.openbsd.org/pfctl.8">pfctl(8)</a>.
<li>Fix compilation warnings for various userland programs.
<li>Add a new user, crontab, and change <a href="https://man.openbsd.org/cron.8">cron(8)</a> from being setuid root to being setgid crontab.
<li>Add per-uid filtering to <a href="https://man.openbsd.org/pf.4">pf(4)</a>.
<li>More <a href="https://man.openbsd.org/usb.4">usb(4)</a> support updates.
<li>More <a href="https://man.openbsd.org/ubsec.4">ubsec(4)</a>
hackery to get it to do more crypto operations, and hack
<a href="https://man.openbsd.org/hifn.4">hifn(4)</a>
and
<a href="https://man.openbsd.org/lofn.4">lofn(4)</a>
to work with this.
<li>Your average extensive cleaning of the installation scripts, adding functionality yet reducing size.
<li>Fix <a href="https://man.openbsd.org/powerpc/adb.4">adb(4)</a> french keyboard layout on macppc.
<li>Switch ELF platforms to the native <a href="https://man.openbsd.org/gprof.1">gprof(1)</a>.
<li>Obtain a better licence for the hppa spmath routines.
<li>Add an <a href="https://man.openbsd.org/url.4">url(4)</a> driver for Realtek RTL8150L-based USB cards.
<li>mvme88k pmap bugfixes.
<li>Various <a href="https://man.openbsd.org/usb.4">usb(4)</a> driver updates.
<li>Remove <a href="https://man.openbsd.org/rlogin.1">rlogin(1)</a>,
<a href="https://man.openbsd.org/rlogind.8">rlogind(8)</a> and
<a href="https://man.openbsd.org/rexecd.8">rexecd(8)</a>.
<li>Fix several wrong computations in <a href="https://man.openbsd.org/newfs.8">newfs(8)</a>.
<li>Workaround ghost pcibus detection in <a href="https://man.openbsd.org/pchb.4">pchb(4)</a>.
<li>Add a tuner driver for the <a href="https://man.openbsd.org/fms.4">fms(4)</a> radio cards.
<li>Allow userland to know which <a href="https://man.openbsd.org/pf.4">pf(4)</a> rule created a specific state.
<li>Prevent a 3.0 <a href="https://man.openbsd.org/i386/wsmoused.8">wsmoused(8)</a> binary from panic'ing the kernel.
<li>Enable privsep by default in <a href="https://man.openbsd.org/sshd.8">sshd(8)</a>.
<li>Fix <a href="https://man.openbsd.org/find.1">find(1)</a>'s -anewer and -cnewer options behaviour.
<li>Sprinkle ptrdiff_t and size_t types instead of int all over the tree.
<li>Support LBA48 addressing in <a href="https://man.openbsd.org/wdc.4">wdc(4)</a>.
<li>Bring back TURBOchannel alpha hardware support.
<li>Fix a slightly incorrect behaviour of the device cloning in UKC (<a href="https://man.openbsd.org/boot_config.8">boot_config(8)</a>).
<li><strong>SECURITY FIX: cause the <a href="https://man.openbsd.org/exec.3">exec(3)</a> to fail if we are unable to allocate resources when dup-ing <a href="https://man.openbsd.org/null.4">/dev/null(4)</a> to <a href="https://man.openbsd.org/fd.4">fd(4)</a>'s 0-2 for setuid programs.</strong><br>
    <a href="errata31.html#fdalloc2">A source code patch is available</a>.<br>
    <a href="stable.html">[Applied to stable]</a>
<li>Extended Attributes code updates.
<li>Improve PS/2 mouse port detection in <a href="https://man.openbsd.org/pckbc.4">pckbc(4)</a>.
<li>Better <a href="https://man.openbsd.org/hifn.4">hifn(4)</a> initialisation and memory usage.
<li>Extensive cleaning of the installation scripts, adding functionality yet reducing size. No, you're not having a deja vu.
<li>Fix ethernet interrupt level on sparc, and rework the sparc interrupt framework.
<li>Better color depth detection in Xwsfb.
<li>64-bit fixes in <a href="https://man.openbsd.org/vmstat.8">vmstat(8)</a>.
<li>Improve dma processing in <a href="https://man.openbsd.org/bge.4">bge(4)</a>.
<li><b>RELIABILITY FIX: constrain readdirplus request count in the <a href="https://man.openbsd.org/mount_nfs.8">nfs(8)</a> filesystem.</b><br>
    <a href="stable.html">[Applied to stable]</a>
<li>Switch macppc console from the rcons engine to the rasops engine.
<li>Extensive cleaning of the installation scripts, adding functionality yet reducing size. Yes, once again.
<li>Add IEEE754 floating point completion code on alpha.
<li>Improve dma processing in <a href="https://man.openbsd.org/gx.4">gx(4)</a>.
<li>Build the XFree86 GLX extension on sparc64.
<li>Hunt for outdated prototypes for character devices entry points and fix them.
<li>Switch mvme88k to the new <a href="https://man.openbsd.org/mvme88k/MAKEDEV.8">MAKEDEV(8)</a> generation framework.
<li>Implement the -s option in <a href="https://man.openbsd.org/m4.1">m4(1)</a>, for it to be POSIX-compliant.
<li>Kill all mvme68k kernel compilation warnings.
<li>Assorted mac68k code cleanups.
<li>Shared key support in hostap mode in <a href="https://man.openbsd.org/wi.4">wi(4)</a>.
<li>Make Xwsfb support <a href="https://man.openbsd.org/alpha/tga.4">tga(4)</a> cards on alpha.
<li>Fix a lock leak in <a href="https://man.openbsd.org/ami.4">ami(4)</a>.
<li><strong>SECURITY FIX: update <a href="https://man.openbsd.org/sudo.8">sudo(8)</a> to sudo 1.6.6.</strong><br>
    <a href="errata31.html#sudo">A source code patch is available</a>.<br>
    <a href="stable.html">[Applied to stable]</a>
<li><b>RELIABILITY FIX: avoid buffer overrun on PASV from a malicious server in <a href="https://man.openbsd.org/ftp.1">ftp(1)</a>.</b><br>
    <a href="stable.html">[Applied to stable]</a>
<li>Add a Soundforte radio driver, <a href="https://man.openbsd.org/i386/sfr.4">sfr(4)</a>.
<li>Add dynamic interface -&gt; address translation in <a href="https://man.openbsd.org/pf.4">pf(4)</a>.
<li>Add kernel hooks on ethernet interfaces, triggered by address changes.
<li>Extended Attributes code updates.
<li>Enable the Freetype library on sparc64.
<li>Add queuing in the kernel crypto framework.
<li>Make the system includes C++ friendly.
<li>Allow explicit filtering of non-reassembled fragments in <a href="https://man.openbsd.org/pf.4">pf(4)</a>.
<li>Support more hardware and fix stability issues in the mac68k <a href="https://man.openbsd.org/mac68k/sn.4">sn(4)</a> network driver.
<li>Improved Lithuanian keyboard map for <a href="https://man.openbsd.org/wscons.4">wscons(4)</a>.
<li><strong>SECURITY FIX: fix a buffer overflow in AFS/Kerberos token handling in <a href="https://man.openbsd.org/sshd.8">sshd(8)</a>, and send a complete ticket.</strong><br>
    <a href="errata31.html#sshafs">A source code patch is available</a>.<br>
    <a href="stable.html">[Applied to stable]</a>
<li>Fix a memory leak in <a href="https://man.openbsd.org/mg.1">mg(1)</a>.
<li>Assorted hppa memory management fixes.
<li>Allow fractional delays in <a href="https://man.openbsd.org/top.1">top(1)</a>.
<li>Enable upgrade functionality again on alpha installation media.
<li>Extensive cleaning of the installation scripts, adding functionality yet reducing size.
<li>Make <a href="https://man.openbsd.org/cvs.1">cvs(1)</a> create the .cvspass file on a login operation if it does not exist, rather than failing.
<li>Extend mac68k disklabels to 16 partitions, like all the other platforms.
<li>Add cddb support to <a href="https://man.openbsd.org/cdio.1">cdio(1)</a>.
<li>Support more network cards with the <a href="https://man.openbsd.org/dc.4">dc(4)</a> driver.
<li>Improve sparc pmap behaviour in some low memory conditions.
<li>sendmail 8.13.
<li>Switch mvme68k to the new <a href="https://man.openbsd.org/mvme68k/MAKEDEV.8">MAKEDEV(8)</a> generation framework.
<li>Improve the library logic in <a href="https://man.openbsd.org/ld.1">ld(1)</a> to increase speed and decrease memory usage on a.out platforms.
<li>New mvme68k installation media.
<li>Change fpu probe routine on mac68k.
<li>Fix an obscure bug in <a href="https://man.openbsd.org/sed.1">sed(1)</a>.
<li>Support more wireless cards with the <a href="https://man.openbsd.org/wi.4">wi(4)</a> driver, and fix a few issues within.
<li>Fix 64-bit issues in <a href="https://man.openbsd.org/pfctl.8">pfctl(8)</a>.
<li>Remove the <a href="https://man.openbsd.org/wx.4">wx(4)</a> driver,
which had been deprecated in favor of the <a href="https://man.openbsd.org/gx.4">gx(4)</a> driver.
</ul>

<p>
This list mentions mostly platform-independent changes.  For a list of changes
made in a particular platform, please check the page for that platform.  If you
find them not listed there, the changes are either (1) not being documented or
(2) are documented here.

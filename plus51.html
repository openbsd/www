<!doctype html>
<html lang=en id=plus>
<meta charset=utf-8>
<title>OpenBSD 5.1 Changelog</title>
<meta name="description" content="OpenBSD 5.1 changes">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="openbsd.css">
<link rel="canonical" href="https://www.openbsd.org/plus51.html">
<style>
a[href="stable.html"] {
	color: var(--green);
}

strong {
	color: var(--red);
}

h3 {
	color: var(--blue);
}

p strong {
	font-weight: normal;
}
</style>

<h2 id=OpenBSD>
<a href="index.html">
<i>Open</i><b>BSD</b></a>
5.1 Changelog
</h2>
<hr>

<p>
This selection is intended to include all important
and all user-visible changes.
For a complete record of all changes, please see the "source-changes"
mailing list, called "OpenBSD CVS"
in the <a href="https://marc.info/?l=openbsd-cvs">archives</a>,
or use <a href="anoncvs.html#CVS">CVS</a>.

<p>
Note: <strong>Problems for which patches exist are marked in red</strong>.

<p>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus25.html">2.5</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>,
<a href="plus35.html">3.5</a>,
<a href="plus36.html">3.6</a>,
<br>
<a href="plus37.html">3.7</a>,
<a href="plus38.html">3.8</a>,
<a href="plus39.html">3.9</a>,
<a href="plus40.html">4.0</a>,
<a href="plus41.html">4.1</a>,
<a href="plus42.html">4.2</a>,
<a href="plus43.html">4.3</a>,
<a href="plus44.html">4.4</a>,
<a href="plus45.html">4.5</a>,
<a href="plus46.html">4.6</a>,
<a href="plus47.html">4.7</a>,
<a href="plus48.html">4.8</a>,
<a href="plus49.html">4.9</a>,
<a href="plus50.html">5.0</a>,
<a href="plus52.html">5.2</a>,
<a href="plus53.html">5.3</a>,
<a href="plus54.html">5.4</a>,
<br>
<a href="plus55.html">5.5</a>,
<a href="plus56.html">5.6</a>,
<a href="plus57.html">5.7</a>,
<a href="plus58.html">5.8</a>,
<a href="plus59.html">5.9</a>,
<a href="plus60.html">6.0</a>,
<a href="plus61.html">6.1</a>,
<a href="plus62.html">6.2</a>,
<a href="plus63.html">6.3</a>,
<a href="plus64.html">6.4</a>,
<a href="plus65.html">6.5</a>,
<a href="plus66.html">6.6</a>,
<a href="plus67.html">6.7</a>,
<a href="plus68.html">6.8</a>,
<a href="plus69.html">6.9</a>,
<a href="plus70.html">7.0</a>,
<a href="plus71.html">7.1</a>,
<br>
<a href="plus72.html">7.2</a>,
<a href="plus73.html">7.3</a>,
<a href="plus74.html">7.4</a>,
<a href="plus75.html">7.5</a>,
<a href="plus76.html">7.6</a>,
<a href="plus77.html">7.7</a>,
<a href="plus.html">current</a>.
<br>

<p>
<h3>Changes made between OpenBSD 5.0 and 5.1</h3>
<p>

<ul>
<!-- 2012/02/12 -->
<li>In the <a href="https://man.openbsd.org/ahc.4">ahc(4)</a> driver a <code><a href="https://man.openbsd.org/bus_space_barrier.9">bus_space_barrier(9)</a></code> is used beforehand a plain <code><a href="https://man.openbsd.org/bus_space_read_1.9">bus_space_read_1(9)</a></code> to force a barrier, as the latter alone turned out to be insufficient.
<!-- 2012/02/11 -->
<li>The <a href="https://man.openbsd.org/wscons.4">wscons(4)</a>-specific configuration of <a href="https://man.openbsd.org/Xserver.1">Xserver(1)</a> uses the "macintosh" xkb model on <a href="https://man.openbsd.org/macppc/adb.4">adb(4/macppc)</a> keyboards.
<li><a href="https://man.openbsd.org/daily.8">daily(8)</a> gets another update and will ignore commented out (#) lines in <a href="https://man.openbsd.org/fstab.5">fstab(5)</a> during /altroot handling.
<!-- 2012/02/10 -->
<li><a href="https://man.openbsd.org/traceroute6.8">traceroute6(8)</a> learns the <b>-A</b> option, which can be used to look up the AS number for each hop address. (Uses the DNS service described at <a href="http://www.team-cymru.org/Services/ip-to-asn.html" >http://www.team-cymru.org/Services/ip-to-asn.html</a>.)
<li>The kernel ensures that DUIDs are only interpreted on disks.
<li>A major rewrite of the <a href="https://man.openbsd.org/pf.4">pf(4)</a> manpage example shows a usage-case of <code>DIOCGETLIMIT</code> (instead of <code>DIOCNATLOOK</code>).
<!-- 2012/02/09 -->
<li>The new <b>-T</b> option to <a href="https://man.openbsd.org/pkill.1">pkill(1)</a>/<a href="https://man.openbsd.org/pgrep.1">pgrep(1)</a> can be used to restrict matches to processes associated with the specified routing tables.
<li><em>OpenSSH 6.0 leaves -beta state.</em>
<li><a href="https://man.openbsd.org/aucat.1">aucat(1)</a> cranks the default buffers size to 160ms (7680 frames at 48kHz) to avoid the audio stuttering that some users have observed during high load.
<li>The <code>POOL_DEBUG</code> kernel option (not in <a href="https://man.openbsd.org/options.4">options(4)</a>) is turned off for the release: <em>Note that <code>POOL_DEBUG</code> is not the same as it was in 4.9 or earlier. In either case you can turn it on again using <a href="https://man.openbsd.org/sysctl.8">sysctl(8)</a> <kbd>kern.pool_debug=1</kbd>.</em>
<li>Atmel AT91 CDC ACM becomes known to <a href="https://man.openbsd.org/umodem.4">umodem(4)</a>.
<!-- 2012/02/08 -->
<li><a href="https://man.openbsd.org/quotacheck.8">quotacheck(8)</a> gets far more flexible as it now uses <a href="https://man.openbsd.org/realpath.3">realpath(3)</a> and <a href="https://man.openbsd.org/opendev.3">opendev(3)</a> to utilize <a href="https://man.openbsd.org/fstab.5">fstab(5)</a> and command line arguments.
<li>The automatic <a href="https://man.openbsd.org/daily.8">daily(8)</a> /altroot backup will now also work with a duid-based <a href="https://man.openbsd.org/fstab.5">fstab(5)</a>.
<li>In <a href="https://man.openbsd.org/jme.4">jme(4)</a> it was possible to simplify <code>jme_newbuf()</code> as <code>M_DONTWAIT</code> "failures" during driver initialization would indicate a more general problem anyway.
<li>A recent extension of the kqueue code of <a href="https://man.openbsd.org/event.3">event(3)</a> fires read events when kqueue returns <code>EBADF</code> and several other things, particularly <code>EPIPE</code> on a file descriptor. The <code>EBADF</code> cause however is reverted again due to problems with Google Chrome.
<!-- 2012/02/07 -->
<li>The <a href="https://man.openbsd.org/Xserver.1">Xserver(1)</a> build is disabled on the hp300 and mac68k ports: <em>Building the Xserver with gcc 2.95 is getting hopeless and there is not enough manpower at the moment to switch these platforms to a more recent compiler.</em>
<li><em>OpenBSD 5.1 leaves -beta status!</em>
<li>The <a href="https://man.openbsd.org/nc.1">nc(1)</a> manpage gets an extended CAVEAT section.
<!-- 2012/02/06 -->
<li>In Xenocara the update of xf86-video-ati to 6.14.3 is reverted after regressions have been seen.
<li>The <a href="https://man.openbsd.org/tsearch.3">tsearch(3)</a> function is patched to match the corrected POSIX standard behaviour (which clarifies the return value of <code><a href="https://man.openbsd.org/tdelete.3">tdelete(3)</a></code>).
<li><a href="https://man.openbsd.org/tmux.1">tmux(1)</a> gains a fix which avoids accessing a <code>NULL</code> pointer.
<li><a href="https://man.openbsd.org/pkg_add.1">pkg_add(1)</a> gains a fix which avoids accessing an undefined package list.
<!-- 2012/02/05 -->
<li>Improve <a href="https://man.openbsd.org/pf.4">pf(4)</a> ICMPv6 direction check.
<li>Do not insert an empty ENTRY into the <a href="https://man.openbsd.org/man.1">man(1)</a> manpath list; was causing out-of-bounds array access.
<li>Fix <a href="https://man.openbsd.org/ipcs.1">ipcs(1)</a> handling of message queues when in crash dump mode: update to match changed kernel structures.
<li>Fix SysV message queue identifiers (e.g. <a href="https://man.openbsd.org/msgget.2">msgget(2)</a>).
<!-- 2012/02/04 -->
<li>If the <a href="https://man.openbsd.org/readdir.3">readdir(3)</a> internal consistency check fails, set errno so that it doesn't just look like end-of-directory.
<li>Close races in <a href="https://man.openbsd.org/iha.4">iha(4)</a>, <a href="https://man.openbsd.org/sili.4">sili(4)</a> and <a href="https://man.openbsd.org/ahci.4">ahci(4)</a> where timer is started on a command and then a splbio() timeout is called before the command is started.
<!-- 2012/02/03 -->
<li>Add #ifdefs so kernel can compile without INET6. Note: af translation is only possible with both INET and INET6.
<!-- 2012/02/02 -->
<li>Disable the polling timeout when computer suspends.
<li>Only use mime/line-split if the <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> input message actually contains a very long line.
<li>Add netflow v9/ipfix support to <a href="https://man.openbsd.org/pflow.4">pflow(4)</a>.
<li>Bound check <a href="https://man.openbsd.org/ksh.1">ksh(1)</a> table expansion.
<li>Add <code>-l</code> flag to <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> send-keys to send input literally (without translating key names).
<li>Fix <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> client_width and client_height (were reversed), and don't change pane when changing window with mouse on status line.
<!-- 2012/02/01 -->
<li>When updating an <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> envelope status, update is now sent to the queue and the envelope discarded from the MTA batch. Status of all pending envelopes now set before MTA_DONE is reached.
<li>Add instance identifiers to <a href="https://man.openbsd.org/snmpd.8">snmpd(8)</a> variable bindings. NetSNMP, <a href="https://man.openbsd.org/relayd.8">relayd(8)</a> and HPOV will now understand it.
<li>Improve synopsis markup of login utilities and add missing flag descriptions in: <a href="https://man.openbsd.org/login_krb5.8">login_krb5(8)</a>, <a href="https://man.openbsd.org/login_passwd.8">login_passwd(8)</a>, <a href="https://man.openbsd.org/login_radius.8">login_radius(8)</a>, <a href="https://man.openbsd.org/login_skey.8">login_skey(8)</a>, <a href="https://man.openbsd.org/login_tis.8">login_tis(8)</a>, <a href="https://man.openbsd.org/login_token.8">login_token(8)</a> and <a href="https://man.openbsd.org/login_yubikey.8">login_yubikey(8)</a>.
<li>Bugfix in <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> buffer code.
<li>Document <a href="https://man.openbsd.org/login_yubikey.8">login_yubikey(8)</a> options.
<li>Document "Gen2" adapters based on Lanai-Z8ES chipset are supported by <a href="https://man.openbsd.org/myx.4">myx(4)</a>.
<!-- 2012/01/31 -->
<li>Add product ID's to sys/dev/usb/usbdevs and uhid/uaudio quirks to recognize iPad and the iPad 2.
<li>Document (in share/snmp/OPENBSD-BASE-MIB.txt) <a href="https://man.openbsd.org/relayd.8">relayd(8)</a>'s use of the openBSD.3 OID; move the CARP MIB to openBSD.6 to avoid a conflict with <a href="https://man.openbsd.org/relayd.8">relayd(8)</a>.
<li>Remove mcpu options from armish kernels.
<li>Add the OPENBSD-CARP-MIB to <a href="https://man.openbsd.org/snmpd.8">snmpd(8)</a>.
<li>Added defined ways to set the various <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> default-path possibilities; provide <code>-c</code> flags to neww and splitw to override default-path settings.
<li>Kill <a href="https://man.openbsd.org/calendar.1">calendar(1)</a> descendants on child timeout.
<li>Removed 2 obsolete drivers (xf86-video-radeonhd and xf86-input-citron) now unlinked from builds.
<li>Update to <a href="https://man.openbsd.org/Xserver.1">Xserver(1)</a> 1.11.4.
<li>Explicitely disable DRI on SandyBridge and newer chipsets. Prevents X from crashing.
<li>Add test suite for IPv6 neighbor discovery protocol. Can be used to test both pf neighbor discovery states and the IPv6 stack.
<!-- 2012/01/30 -->
<li>If a kernel sensor doesn't have a description, <a href="https://man.openbsd.org/snmpd.8">snmpd(8)</a> will now come up with something useful rather than an empty field.
<li>Document <code>af-to</code> (aka nat64) in <a href="https://man.openbsd.org/pf.conf.5">pf.conf(5)</a>.
<li>Don't print double spaces in <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> list output.
<li><a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> no longer encodes headers, as it breaks the resulting message.
<li>Document the handling of partial distfiles collections in <a href="https://man.openbsd.org/mirroring-ports.7">mirroring-ports(7)</a>.
<li><a href="https://man.openbsd.org/systat.1">systat(1)</a> now defaults to only show all non-listening sockets, to match manpage and <a href="https://man.openbsd.org/netstat.1">netstat(1)</a>. Add <code>a</code> to toggle the above, and <code>r</code> to reset all toggles to default. Document <code>a/n/r/t/u</code> toggles.
<li>Prevent <a href="https://man.openbsd.org/softraid.4">softraid(4)</a> from being used with devices that do not have a sector size of 512 bytes - any other size is not currently supported.
<li>Add missing header needed by <a href="https://man.openbsd.org/smptd.8">smptd(8)</a> PRI format string.
<li>Handle a wider range of <a href="https://man.openbsd.org/kqueue.2">kqueue(2)</a> error return values for an event. Prevents libevent exiting the event loop when getting EPIPE.
<li>Give each <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> window a unique ID prefixed with @. Add pane ID to each pane in layout description (while still accepting the old form).
<!-- 2012/01/29 -->
<li>The Radeon HD 6320 becomes known to the system (and <a href="https://man.openbsd.org/drm.4">drm(4)</a>).
<li><a href="https://man.openbsd.org/tcpbench.1">tcpbench(1)</a> uses integer instead of floating-point for printing PPS in UDP mode.
<li><a href="https://man.openbsd.org/bioctl.8">bioctl(8)</a> documents it only supports devices with 512-byte sectors.
<li>A cleanup of <a href="https://man.openbsd.org/vgafb.4">vgafb(4)</a> is started to "make it more like <a href="https://man.openbsd.org/vga.4">vga(4)</a>".
<li><a href="https://man.openbsd.org/ath.4">ath(4)</a> gets some more tweaks which should avoid panics when switching in hostap mode from 11a to 11b.
<li><a href="https://man.openbsd.org/bsd.port.mk.5">bsd.port.mk(5)</a> documents <code>PKGFILES</code>.
<li><a href="https://man.openbsd.org/nsd.8">nsd(8)</a> is updated to 3.2.9.
<li>The <a href="https://man.openbsd.org/akbd.4">akbd(4)</a> and <a href="https://man.openbsd.org/ukbd.4">ukbd(4)</a> drivers improve support for Apple ISO keyboards. Also more Apple USB keyboard ids become known to the system in general.
<li><a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> fixes an issue with concurrent access to temporary envelope files. It completely exchanges it's I/O infrastructure with an I/O buffer abstraction layer to have a better separation between I/O and protocol logic. It also turns away from moving to-be-deleted message directories to a purge/ directory, but instead removes them right away.
<li><a href="https://man.openbsd.org/tmux.1">tmux(1)</a> frees <a href="https://man.openbsd.org/event.3">event(3)</a>s before closing the associated file descriptors. It adds an option to move the status line to the top (<code>status-position</code>). It enforces the history-limit option when clearing the screen.
<!-- 2012/01/28 -->
<li>The <a href="https://man.openbsd.org/softraid.4">softraid(4)</a> driver fixes a faulty ioctl dispatch as it intercepts ioctls meant for the bio layer.
<li><a href="https://man.openbsd.org/pf.4">pf(4)</a> enhances as it tries to lookup the icmp state based on a correct packet descriptor; it also improves icmp virtual id generation for ND and MLD packets so that two consecutive host addresses won't generate the same value which is used as a port number in state entries.
<li>In <a href="https://man.openbsd.org/tcpdump.8">tcpdump(8)</a> names rather than numbers are printed for the old draft nat-t attributes, cisco use these at least as recently as ASAs running 8.4(1). And since some decodes are likely to have unprintable characters it no longer uses <a href="https://man.openbsd.org/fprintf.3">fprintf(3)</a> to print 'em.
<li><a href="https://man.openbsd.org/ath.4">ath(4)</a> gets some tweaks which should avoid panics when switching in hostap mode from 11a to 11b.
<li>A <a href="https://man.openbsd.org/sppp.4">sppp(4)</a>-specific "fast queue" used for tcp ports 21, 23 and 513 is removed. You should use the proper queues via <a href="https://man.openbsd.org/pf.4">pf(4)</a> instead.
<li>luna88k multiprocessor support enters round 2.
<li><a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> introduces a new scheduler_backend API - it is now possible to write custom schedulers; the builtin scheduler_ramqueue adds a verbose log_debug handler which can be used to display the entire ramqueue. Other "annoying" debug logs are removed from the code. And finally <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> adds some more MIME 1.0 support, including fully compliant quoted-printable encoding, and properly breaks long lines.
<li>When setting groups via <a href="https://man.openbsd.org/user.8">user(8)</a>s <b>-S</b> option, make sure all provided groups exist. It is now also possible to remove a user from all secondary groups by using an empty argument for <b>-S</b>.
<li>The kernel forces <a href="https://man.openbsd.org/usb.4">usb(4)</a> to re-explore the bus after resume, which might help a few laptops to resume their usb devices better.
<!-- 2012/01/27 -->
<li><a href="https://man.openbsd.org/pflog.4">pflog(4)</a>s <code>pflog_bpfcopy()</code> is fixed which avoids that <kbd>tcpdump -i pflog0</kbd> prints uninitialized kernel memory for short packets.
<li>To help people who track -current the <a href="https://man.openbsd.org/perl.1">perl(1)</a>-based <a href="https://man.openbsd.org/makewhatis.8">makewhatis(8)</a> learns to deal with nonexistent databases.
<!-- 2012/01/26 -->
<li>The stderr of <a href="https://man.openbsd.org/fw_update.1">fw_update(1)</a> is redirected to /dev/null instead of being closed.
<li>Hook <a href="https://man.openbsd.org/login_yubikey.8">login_yubikey(8)</a> to the build and mention it in <a href="https://man.openbsd.org/login.conf.5">login.conf(5)</a>.
<li><a href="https://man.openbsd.org/pf.4">pf(4)</a>s IPv6 code evolves further. In addition <code>pf_normalize_ip()</code> and <code>pf_normalize_ip6()</code> change their prototype and add additional checks to make the code more robust.
<li><a href="https://man.openbsd.org/tcpbench.1">tcpbench(1)</a> learns the new <b>-t</b> option, which can be used to force program exit after a specified amount of seconds.
<li><a href="https://man.openbsd.org/axe.4">axe(4)</a> also supports Level One USB-0301.
<li>In <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> a data file stream is explicitly rewinded before its reuse to fix a possible issue in case the former use was aborted. It also implements some minor tweaks.
<li>In <a href="https://man.openbsd.org/pf.4">pf(4)</a>s <code>pfr_pool_get()</code> the interrelation in between an access index and a counter is fixed, and thus the flow of code.
<li><a href="https://man.openbsd.org/aucat.1">aucat(1)</a> makes the default rate 48kHz and the default block size 10ms. These settings ensure video players and programs using MTC are smooth by default.
<li>A memory leak which would occur in an error path is fixed in <a href="https://man.openbsd.org/tmux.1">tmux(1)</a>.
<li>For <a href="https://man.openbsd.org/iwn.4">iwn(4)</a> a calibration timeout is dropped when the interface is stopped, which should redress problems in suspend/resume situations.
<!-- 2012/01/25 -->
<li>In Xenocara a bunch of work is done on the Radeon driver: version 6.12.2 is renamed to radeonold; As this is the last known working version in "zaphod" mode (one X screen per head in multi-head configs), this makes it possible to update the "real" radeon driver in and as xf86-video-ati without breaking existing zaphod setups; xf86-video-ati is updated to 6.14.3; The xf86-video-radeonhd is deprecated and removed from the tree since all radeon cards are supported by xf86-video-ati.
<li>In <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> more messages types are forbidden during rekeying, since at that time only key exchange messages are allowed. It also fixes a memory leak in <code>key_load_file()</code> and drops the unused <code>packet_read_poll()</code> function.
<li>In the kernel some cleanup is applied to <a href="https://man.openbsd.org/ieee80211.9">ieee80211(9)</a>.
<li>An EXAMPLES section is new in <a href="https://man.openbsd.org/divert.4">divert(4)</a>.
<li>When the kernel signal handling code checks to which thread a signal can be delivered to, add threads as possible targets which don't explicitly block the signal in question. (Search is terminated if thread which <a href="https://man.openbsd.org/sigwait.3">sigwait(3)</a>s for the signal is seen.)
<!-- 2012/01/24 -->
<li>A short cut for atomic IPv6 fragments is added to the network stack. Those will be processed immediately and not go through the fragment queue. See <a href="https://www.ietf.org/id/draft-gont-6man-ipv6-atomic-fragments-00.txt" >draft-gont-6man-ipv6-atomic-fragments-00.txt</a>.
<li>In Xenocara xkeyboard-config is updated to 2.5.
<li><a href="https://man.openbsd.org/smtpctl.8">smtpctl(8)</a> no longer touches directories, which prevents a running <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> from losing it's incoming/ directory each time <a href="https://man.openbsd.org/smtpctl.8">smtpctl(8)</a> is called.
<!-- 2012/01/23 -->
<li>In the network stack the <a href="https://www.rfc-editor.org/rfc/rfc5722.txt">RFC 5722</a> implementation cumulates in a happy end, i.e., in case of overlapping fragments the entire datagram will be discarded.
<li>The ingress filter of pipex and npppd(8) becomes configurable and disabled by default. After this change npppd.conf(5) must contain <code>ppp.ingress_filter: true</code> if it is needed. Also handling of 'rx connect speed' AVP is added to avoid the bug of xl2tpd (which sends this as a mandatory AVP contrary to RFC 2661).
<!-- 2012/01/22 -->
<li>Bring in documentation corrections and improvements to the in-tree versions of <a href="https://man.openbsd.org/makewhatis.8">makewhatis(8)</a>, <a href="https://man.openbsd.org/apropos.1">apropos(1)</a> and <a href="https://man.openbsd.org/whatis.1">whatis(1)</a> that were committed to the new suite of tools (currently disabled).
<li>Repair hp300 support for 68030 chips, broken in revision 1.67 of sys/arch/hp300/hp300/locore.s.
<li>Credit Keith Sklower and 2BSD for the first implementation of <a href="https://man.openbsd.org/fopen.3">fopen(3)</a> read-write access (source: 2bsd directory of the CSRG archive CDs).
<li>Convert <a href="https://man.openbsd.org/softraid.4">softraid(4)</a> to new <a href="https://man.openbsd.org/bio.4">bio(4)</a> status interface, allowing <a href="https://man.openbsd.org/bioctl.8">bioctl(8)</a> to provide useful feedback, rather than reporting an ioctl failure/writing to dmesg. For now, continue to print most feedback to the console.
<li>If no <a href="https://man.openbsd.org/bioctl.8">bioctl(8)</a> controller name is provided, use the program name as a prefix. Also, exit with "unknown error" if a <a href="https://man.openbsd.org/bio.4">bio(4)</a> error is reported but no status message has been provided.
<li>Prevent <a href="https://man.openbsd.org/softraid.4">softraid(4)</a> crypto from walking an uninitialised list if we fail to read the key disk.
<li>Ensure that the <a href="https://man.openbsd.org/softraid.4">softraid(4)</a> sc_lock is held before the status functions are called, and disable the disk attach hook on detach.
<!-- 2012/01/21 -->
<li>Show pane size in top right of <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> display panes mode.
<li>Clarify PCMCIA <a href="https://man.openbsd.org/malo.4">malo(4)</a> devices don't support WPA.
<li>Implement missing bits of node inactivity accounting in hostap mode, and hold <a href="https://man.openbsd.org/ieee80211_node.9">ieee80211_node(9)</a> interrupts blocked while comparing a cached node's refcount to zero and freeing the wireless node. Fixes a race condition.
<li>Improved error messages when <a href="https://man.openbsd.org/disklabel.8">disklabel(8)</a> can't be read prior to mounting root.
<li>Only start the <a href="https://man.openbsd.org/relayd.8">relayd(8)</a> child processes after all of them reported to have loaded the config. Solves a race at startup where processes can send status messages about hosts that other processes don't know about yet (and have relayd abort with "desynchronized" or "invalid host id").
<li>Drop the ability to have a list of keys in the <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> prefix in favour of two separate options, prefix and prefix2.
<li>Add strings to allow the aixterm bright colours to be used when configuring <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> colours.
<li>Only hide flags on the current window when the <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> session is attached, and add a <code>-R</code> flag to send-keys to reset the terminal.
<!-- 2012/01/20 -->
<li>Fix <a href="https://man.openbsd.org/rc.subr.8">rc.subr(8)</a> pexp for <a href="https://man.openbsd.org/sendmail.8">sendmail(8)</a>; it can be "sendmail: rejecting" as well as accepting.
<li>Add space movement keys for <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> vi mode in the status line, and an option to disable the window rename escape sequence.
<li>Teach <a href="https://man.openbsd.org/bioctl.8">bioctl(8)</a> about the new status interface for <a href="https://man.openbsd.org/bio.4">bio(4)</a>. So far only applicable to messages specific to <a href="https://man.openbsd.org/softraid.4">softraid(4)</a> CRYPTO.
<li>Remove global carp demote option from <a href="https://man.openbsd.org/relayd.conf.5">relayd.conf(5)</a>.
<li>Bump the <a href="https://man.openbsd.org/glob.3">glob(3)</a> stat limit to 2048, and count failed stats against the limit.
<!-- 2012/01/19 -->
<li>Workaround for CVE-2012-0064, where password-locked <a href="https://man.openbsd.org/X.7">X(7)</a> screen savers can be bypassed with Ctrl Alt *.
<li><a href="https://man.openbsd.org/disklabel.8">disklabel(8)</a> no longer allows the built in editor to create ffs partitions with invalid fsize and bsize values, but will now allow enlarging partitions.
<li>Force class alignment to a multiple of sizeof(XID): fixes a SIGBUS crash in
<a href="https://man.openbsd.org/XListInputDevices.3">XListInputDevices(3)</a> on sparc64.
<li>Teach <a href="https://man.openbsd.org/pppoe.4">pppoe(4)</a> about RFC 4638. This allows negotiating increased MTU with compatible equipment provided that the physical interface and other layer 2 devices involved support/configured to use jumbo frames.
<!-- 2012/01/18 -->
<li>Ensure that <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> $DISPLAY contains only valid characters before using it to extract xauth data, so that it can't be used to play local shell metacharacter games.
<li>Initial inport of <a href="https://man.openbsd.org/login_yubikey.8">login_yubikey(8)</a> for login over web interface, to be further worked on in-tree.
<li>Free cached wireless hostap nodes which never associated (e.g. nodes only scanning for networks). Fixes unnecessary disconnection of associated stations.
<li>Add support for C99 %ls, %lc, and %l[ format directives to <a href="https://man.openbsd.org/scanf.3">scanf(3)</a>. Based on code from FreeBSD.
<li>Add new filters callbacks for network events (CONNECT/CLOSE) and commands (QUIT/RSET) to <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a>.
<li>Replace <a href="https://man.openbsd.org/npppdctl.8">npppdctl(8)</a> with new <a href="https://man.openbsd.org/npppctl.8">npppctl(8)</a> written from scratch. Includes: changed npppd control; support IPv6 as tunnel source address; deleted support changing the configuration of npppd_ctl on running (to avoid the need to run with privileges). Note: <a href="https://man.openbsd.org/npppdctl.8">npppdctl(8)</a> related files should be removed.
<li>Fix a <a href="https://man.openbsd.org/ppp.4">ppp(4)</a> problem that causes LCP keepalive timeout. In case the ack number of a packet that is passed to the userland has not incremented, pipex passed the packet mistakenly with invalid ack number, causing npppd to drop these packets.
<!-- 2012/01/17 -->
<li>Remove assembly version of <a href="https://man.openbsd.org/strlen.3">strlen(3)</a> from i386 and amd64 (often up to 3 times slower than the C code). Idea from DragonflyBSD.
<li>Check the <a href="https://man.openbsd.org/softraid.4">softraid(4)</a> metadata level against the assembly level before proceeding with any assembly. This avoids a panic when attempting to assemble a RAID 1 (or other) volume as a RAID 0 volume.
<li>Allow <a href="https://man.openbsd.org/pkill.1">pkill(1)</a> to use the <code>-l</code> "long" option to display which processes have been signalled, like <a href="https://man.openbsd.org/pgrep.1">pgrep(1)</a>.
<li>Change the <a href="https://man.openbsd.org/fmt.1">fmt(1)</a> exit value on errors to be more 4.4BSD like. Use the sum of errors only up to a maximum of 127 (though programme execution continues).
<li>Reimplement rthread mutexes, condvars, and rwlocks to eliminate bugs, particularly the "consume the signal you just sent" hang, and putting the wait queues in userspace.
<li>During <a href="https://man.openbsd.org/ip6.4">ip6(4)</a> source address selection, give address scope higher priority than the autoconfprivacy bit, as per RFC3484. Prevents privacy addresses from being erroneously used as source address if the destination address is in a different scope. Privacy addresses are still preferred over other source addresses from the same scope.
<li>Avoid ffs fragsize &lt; sector-size when <code>a</code>dding a partition via <a href="https://man.openbsd.org/disklabel.8">disklabel(8)</a> editor. Use logic from calculating fragsize for an auto-allocated partition.
<!-- 2012/01/16 -->
<li>Fix a memory leak in <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> pkcs11_rsa_private_encrypt(). Also, buffer_clear() between send_msg() and recv_msg().
<li>Use <a href="https://man.openbsd.org/nsdc.8">nsdc(8)</a> in the <a href="https://man.openbsd.org/rc.d.8">rc.d(8)</a> script to reliably stop <a href="https://man.openbsd.org/nsd.8">nsd(8)</a>.
<li>As per POSIX, make <a href="https://man.openbsd.org/strptime.3">strptime(3)</a> compute tm_yday, tm_wday, tm_mon and tm_mday even if not explicitly set.
<li>Fix a <a href="https://man.openbsd.org/pf.4">pf(4)</a> bug where pf_walk_option6() used the outer header in the pd2 case.
<li>Ensure that all disk attach callbacks have completed before attempting to locate the root via DUID.
<li>Do <a href="https://man.openbsd.org/carp.4">carp(4)</a> demotion adjustments on syncdev link state change. Now <a href="https://man.openbsd.org/pfsync.4">pfsync(4)</a> will request a bulk update to get new states from the master.
<li>Backout the activation of the new <a href="https://man.openbsd.org/apropos.1">apropos(1)</a>/<a href="https://man.openbsd.org/whatis.1">whatis(1)</a>/<a href="https://man.openbsd.org/makewhatis.8">makewhatis(8)</a> for fixing.  The mandocdb utility is not released with OpenBSD 5.1.
<li>Update the <a href="https://man.openbsd.org/mfi.4">mfi(4)</a> supported adapters list.
<li>Document the \-C output format generated by VIS_ALL in <a href="https://man.openbsd.org/vis.3">vis(3)</a>.
<li>Fix description for tcp.opening timeout in <a href="https://man.openbsd.org/pf.conf.5">pf.conf(5)</a>.
<!-- 2012/01/15 -->
<li>In <a href="https://man.openbsd.org/pflog.4">pflog(4)</a> normalization and reassembly of bad packets to be logged is fixed.
<li>Manuals: the HISTORY section of the following functions has been updated, because they predate 2BSD: <a href="https://man.openbsd.org/fopen.3">fopen(3)</a>, <a href="https://man.openbsd.org/getc.3">getc(3)</a> and <a href="https://man.openbsd.org/access.2">access(2)</a>.
<li>Manuals: the HISTORY section of the following tools has been corrected, as is now clear that all of 'em were already present in 2BSD: <a href="https://man.openbsd.org/csh.1">csh(1)</a>, <a href="https://man.openbsd.org/ctags.1">ctags(1)</a>, <a href="https://man.openbsd.org/finger.1">finger(1)</a>, <a href="https://man.openbsd.org/from.1">from(1)</a>, <a href="https://man.openbsd.org/lock.1">lock(1)</a>, <a href="https://man.openbsd.org/printenv.1">printenv(1)</a>, <a href="https://man.openbsd.org/script.1">script(1)</a>, <a href="https://man.openbsd.org/tput.1">tput(1)</a>, <a href="https://man.openbsd.org/w.1">w(1)</a>, <a href="https://man.openbsd.org/whoami.1">whoami(1)</a>.
<li><a href="https://man.openbsd.org/tmux.1">tmux(1)</a> now correctly calculates the last position even if multicolumn UTF-8 characters are involved.
<li>Build warnings for <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> are fixed as some type-masked uses of <code>time_t</code> are modified to use the typedef directly.
<li><a href="https://man.openbsd.org/makewhatis.8">makewhatis(8)</a> improves as it automatically creates a missing <kbd>.Nm</kbd> search key for the file name, and doesn't skip manuals for section mismatches which can occur for e.g. files which are linked into more than one section, such as <a href="https://man.openbsd.org/encrypt.1">encrypt(1)</a> = <a href="https://man.openbsd.org/makekey.8">makekey(8)</a>.
<li>Updates in <a href="https://man.openbsd.org/pciide.4">pciide(4)</a> so as to handle new SiS chips (which share the same PCI product id for different revisions with different bugs in the host bridge and thus need special treatment to be covered right.)
<li>A <a href="https://man.openbsd.org/perlpod.1">perlpod(1)</a> documentation of the OpenBSD::md5(3p) <a href="https://man.openbsd.org/perl.1">perl(1)</a> module is now available.
<li>In <a href="https://man.openbsd.org/dhclient.8">dhclient(8)</a> the BPF interface code sets the routing table to the actually used rdomain.
<li><a href="https://man.openbsd.org/newsyslog.8">newsyslog(8)</a> will forward adjust the month if in a "M"onth <code>when</code> the specified day has already passed (so that <a href="https://man.openbsd.org/mktime.3">mktime(3)</a> will produce the correct next trigger time).
<li>The manual of <a href="https://man.openbsd.org/fmt.1">fmt(1)</a> is extended by an EXIT STATUS section, with it's HISTORY being corrected, too.
<li>The file copyright and the HISTORY of the <a href="https://man.openbsd.org/sysexits.3">sysexits(3)</a> manual is now correct.
<!-- 2012/01/14 -->
<li>The unlikelihood of message id clashes has been removed from <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> as it is ensured that newly generated message ids don't clash ids which yet exist in the queue for incoming mails, and ditto for messages moved to corrupt/. In addition precondition checks are introduced at init time to ensure that generated path names will always result in creatable paths, so to avoid the possibility of this kind of error during the further lifetime of the daemon.
<li>The HUAWEI K4510 mobile modem is henceforth supported by <a href="https://man.openbsd.org/umsm.4">umsm(4)</a>.
<!-- 2012/01/13 -->
<li><a href="https://man.openbsd.org/amd64/boot.8">boot(8/amd64)</a> is version bumped to 3.18 to indicate support for recent softraid changes.
<li>The internal changes on <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> proceed as per-envelope delivery states are converted to message states themselves (<code>OK</code>, <code>TEMPFAIL</code>, <code>PERMFAIL</code>). More code simplifications around here.
<li><code>unistd.h</code> defines <code>_SELECT_DEFINED_</code> instead of <code>_SELECT_DECLARED</code> to propagate the declaration of the <code><a href="https://man.openbsd.org/select.2">select(2)</a></code> systemcall.
<li>The IPv6 network stack implementation of RFC 5722 is adjusted: <em>According to RFC 5722 we drop all IPv6 fragments that belong to a packet with overlaps</em>.
<li>Several uses of <code><a href="https://man.openbsd.org/m_copyback.9">m_copyback(9)</a></code> with <code>M_NOWAIT</code> set will no longer ignore the possible <code>ENOBUFS</code> failure.
<li>In the kernel VLAN-tagging is repaired for <a href="https://man.openbsd.org/ix.4">ix(4)</a>.
<!-- 2012/01/12 -->
<li><a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> gets an atomic envelope dumper so as to avoid inconsistent states if the program stops in the middle of an envelope dump. The mbox backend is now used for mbox delivery, which eliminates the need of creating a shell process to handle that. As the project moves on there were changes to scheduling and RAM queue cache handling, more code reorganization in respect to the new envelope API and general cleanup of outdated functionality.
<li>The <a href="https://man.openbsd.org/mfi.4">mfi(4)</a> driver now supports skinny chip variants; tested with LSI Logic MegaRAID SAS 9240-4i.
<!-- 2012/01/11 -->
<li><em>OpenBSD is cranked to version 5.1-beta!</em>
<li><a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a>: improve DNS error reporting during hostname lookups, resulting in most of the latter being correctly reported as temporary failures; hostnames may now also be specified as IP addresses in the configuration file. Handling of purging changed completely - the daemon periodically clears the purge/ directory via a privilege-separated child; at startup the fsqueue backend moves incoming/ into purge/ to discard aborted sessions. Furthermore code reorganization continues as a new envelope(_ascii) API abstraction is introduced.
<li><a href="https://man.openbsd.org/sparc64/installboot.8">installboot(8/sparc64)</a> is teached about softraid volumes. This makes root on <a href="https://man.openbsd.org/softraid.4">softraid(4)</a> possible, although the kernel still needs to be loaded from a non-softraid partition.
<li>In the kernel, if the DUID of the boot disk has not been provided, attempt to locate it via the boot device. This will allow root on softraid to work on most architectures.
<li><a href="https://man.openbsd.org/amd64/boot.8">boot(8/amd64)</a> is teached how to access <a href="https://man.openbsd.org/softraid.4">softraid(4)</a> volumes, which allows a kernel to be loaded from a softraid RAID 1 volume. Furthermore it is sufficient to only boot from a disk that is a member of a bootable softraid volume, as this case will be detected and the boot will automatically be redirected to <kbd>sr[0-9]a:/bsd</kbd>.
<li>Some boot related structures from <a href="https://man.openbsd.org/softraid.4">softraid(4)</a> are made accessible from userland.
<!-- 2012/01/10 -->
<li>The unused SLIST_FOREACH_PREVPTR(3) is dropped from OpenBSDs <a href="https://man.openbsd.org/queue.3">queue(3)</a>.
<li>In Xenocara, ugly bitmapped fonts are replaced by Luxi or DejaVu TrueType fonts.
<li>In the kernel more cleanup is performed in dev/wsfont.
<li>The kernels network stack flushs the cached IPv6 forward route every 500 ms. This prevents wrong checks for local addresses and wrong packet forwarding in environments with only one communication partner and changing addresses or routes. Conformation to RFC 5722 is implemented.
<li>On the cutting edge of development the <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> project replaces the traditional <a href="https://man.openbsd.org/makewhatis.8">makewhatis(8)</a> with its own incarnation of that functionality, <a href="#mandocdb">mandocdb</a>.
<li>If a sub-device is created via <a href="https://man.openbsd.org/aucat.1">aucat(1)</a>s <b>-s</b> option it is first checked wether a hardware device to be used has been created (<b>-f</b>) before attaching the sub-device to the fallback default.
<!-- 2012/01/09 -->
<li><a href="#mandocdb">mandocdb</a> stops <b>-W</b> from complaining about MLINKs, and henceforth only warns if a files seems to be inaccessible by its main title.
<li>More devices are supported by <a href="https://man.openbsd.org/puc.4">puc(4)</a>: MosChip MCS9865.
<li>On the hp300 platform /etc/ttys entries are added for <a href="https://man.openbsd.org/hp300/apci.4">apci(4/hp300)</a> and <a href="https://man.openbsd.org/hp300/dca.4">dca(4/hp300)</a> serial lines.
<li>The <a href="https://man.openbsd.org/ld.so.1">ld.so(1)</a> linker will no longer (try to) <a href="https://man.openbsd.org/mmap.2">mmap(2)</a> 0 byte areas.
<li>The configuration script for <a href="https://man.openbsd.org/perl.1">perl(1)</a> gets a more efficient method of building the symlink tree, which also works around an apparent namei or buffer cache bug on arm.
<li>The major version bump of libkvm (<a href="https://man.openbsd.org/kvm.3">kvm(3)</a> - 12.0 on the 6th) makes it into the distribution lists.
<li>During these days the kernel is inspected in respect to handcrafted list traversals plus, and multiple such occurrences are replaced with macros from <a href="https://man.openbsd.org/queue.3">queue(3)</a>.
<!-- 2012/01/08 -->
<li>Document new ${DISTDIR}/history semantics in <a href="https://man.openbsd.org/mirroring-ports.7">mirroring-ports(7)</a>.
<li>PIE executables on mips64 can now be debugged with <a href="https://man.openbsd.org/gdb.1">gdb(1)</a>.
<li>Make sure we only read cpuid 0x80000001 features on amd64 if pnfeatset reports it (as is already done on i386).
<li>Fix <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> memory leak in ssh_ecdsa_verify().
<li>Switch <a href="https://man.openbsd.org/wscons.4">wscons(4)</a> to the xf86-input-ws input driver for mouse by default.
<li>Make <a href="https://man.openbsd.org/xman.1">xman(1)</a> work again.
<li>Preliminary multi-processor support for luna88k (work-in-progress, not stable yet).
<li>Make allocated memory zeroed on luna88k arch, to fix panic at attaching fb when using the serial console.
<!-- 2012/01/07 -->
<li>Added Intel Xeon E3-1200 to sys/dev/pci/pcidevs.
<li>Bugfix double-free in <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> "new session" handler.
<li>Improve <a href="#mandocdb">mandocdb</a> handling of relative paths, letting invocations like <code>mandocdb -d mytree mytree/*/foo*.*</code> reindex certain files in a local tree.
<li>Provide a <a href="https://man.openbsd.org/bioctl.8">bioctl(8)</a> <code>-O</code> option that changes the state of a chunk to offline.
<li>Add rtable id and thread id to struct kinfo_proc (and fix process id) and add an <code>rtableid</code> keyword to <a href="https://man.openbsd.org/ps.1">ps(1)</a>.
<!-- 2012/01/06 -->
<li>Added regression tests for IPv6 fragment reassembly.
<li>Make mandoc show all build warnings when WARNINGS=yes.
<li>On macppc, attach <a href="https://man.openbsd.org/ath.4">ath(4)</a> to cardbus and add it to bsd.rd.
<li>Fixed usr.sbin/npppd/HOWTO_PIPEX_NPPPD.txt documentation to specify <code>mkdir</code> needs <code>-m</code> flag.
<li>Let <a href="https://man.openbsd.org/makewhatis.8">makewhatis(8)</a> build the whatis.db quietly.
<li>Update xf86-input-keyboard to 1.6.1.
<!-- 2012/01/05 -->
<li>Enable the new <a href="https://man.openbsd.org/apropos.1">apropos(1)</a>, <a href="https://man.openbsd.org/whatis.1">whatis(1)</a>, and <a href="https://man.openbsd.org/makewhatis.8">makewhatis(8)</a>, and call the new tools from <a href="https://man.openbsd.org/pkg_create.1">pkg_create(1)</a> and <a href="https://man.openbsd.org/pkg_add.1">pkg_add(1)</a>.
<li>Import upstream source of <a href="https://man.openbsd.org/openssl.1">openssl(1)</a> 1.0.0f.
<li>Build the <a href="#mandocdb">mandocdb</a> database in temporary files in the same directory and <a href="https://man.openbsd.org/rename.2">rename(2)</a> them into place when they are ready so <a href="https://man.openbsd.org/apropos.1">apropos(1)</a> can keep functioning, and files will remain if build fails.
<li>Improved examples in <a href="https://man.openbsd.org/apropos.1">apropos(1)</a>.
<li>Update usage and history of <a href="https://man.openbsd.org/whatis.1">whatis(1)</a>; mention the manwhere(1) predecessor in 1BSD.
<li>Bugfixes for <a href="https://man.openbsd.org/man.1">man(1)</a>: get a pointer to the next element before freeing the previous one; do not access free'd pointers.
<li>New Vertex wireless device VW110L added to sys/dev/usb/usbdevs.
<li>Suspend/resume support for <a href="https://man.openbsd.org/vr.4">vr(4)</a>.
<li>Teach <a href="https://man.openbsd.org/as.1">as(1)</a> about the cmpxchg16b instruction on amd64.
<li>Clarify that <a href="https://man.openbsd.org/find.1">find(1)</a> <code>-execdir</code> only supports the first form of <code>-exec</code> with <code>;</code> suffix, not the new form with <code>{} +</code> suffix.
<li>Update to nginx-1.0.11.
<li>Fixed <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> memleak on error path.
<!-- 2012/01/04 -->
<li>Added SiS 1183 SATA and 1182 SATA to sys/dev/pci/pcidevs.
<li><a href="https://man.openbsd.org/mdoc.7">mdoc(7)</a> bugfix so heads of .It macros in -diag lists are not parsed (even though .It macros in general are parsed). Testsuite updated for this.
<!-- 2012/01/03 -->
<li>Support .St -isoC-2011 to refer to ISO C11 in <a href="https://man.openbsd.org/mdoc.7">mdoc(7)</a>.
<!-- 2012/01/02 -->
<li>Add support for <code>find ... -exec foo {} \+</code> in <a href="https://man.openbsd.org/find.1">find(1)</a>, and make markup more consistant so two -exec items are listed without vertical whitespace seperating them.
<li>Enable <a href="https://man.openbsd.org/arcofi.4">arcofi(4)</a> on hppa (tested on 705).
<li>Do not advertize <a href="https://man.openbsd.org/arcofi.4">arcofi(4)</a> as full-duplex. Although the Siemens chip itself is, the FIFO engine is not.
<li>Use the correct multiplier for older SUNIX 406x 8-serial cards to bugfix on <a href="https://man.openbsd.org/puc.4">puc(4)</a>.
<li>Add SiS 1184 RAID and 1185 AHCI, as found on the SiS 966 chipset to sys/dev/pci/pcidevs.
<li>Document that <a href="https://man.openbsd.org/disklabel.8">disklabel(8)</a> <code>-s</code> and the associated <code>bootxx</code> variable are deprecated.
<!-- 2012/01/01 -->
<li>On sparc64 <a href="https://man.openbsd.org/sparc64/installboot.8">installboot(8/sparc64)</a> is reworked to be more like installboot(8)s of other architectures. Because it now uses <a href="https://man.openbsd.org/opendev.3">opendev(3)</a> internally it is possible to use "short forms" of device names on the command line (e.g. <b>sd0a</b> instead of <b>/dev/rsd0c</b>).
<li>The Xenocara <a href="https://man.openbsd.org/wsdisplay.4">wsdisplay(4)</a> framebuffer driver wsfb(4) is updated to version 0.4.0.
<li>The binary file descriptor library of binutils 2.17 learns to properly recognize threads in OpenBSD core dumps.
<!-- 2011/12/31 -->
<li>The binary file descriptor library of binutils 2.15 learns to properly recognize threads in OpenBSD core dumps.
<li><a href="https://man.openbsd.org/softraid.4">softraid(4)</a> is extended with a concatenating discipline (also see <a href="https://man.openbsd.org/bioctl.8">bioctl(8)</a>).
<li><a href="https://man.openbsd.org/user.8">user(8)</a> no longer does the portability dance and removes <code>#ifdef</code>s which conditionalize BSD extensions.
<li>On sgi the <a href="https://man.openbsd.org/rsu.4">rsu(4)</a> driver is added to the GENERIC kernel configuration. (Since it requires firmware it cannot be added to RAMDISK.)
<!-- 2011/12/30 -->
<li>On hp300 color support is added for <a href="https://man.openbsd.org/hp300/tvrx.4">tvrx(4/hp300)</a>; one may also want to read <a href="https://man.openbsd.org/hp300/intro.4">intro(4/hp300)</a> and <a href="https://man.openbsd.org/hp300/dio.4">dio(4/hp300)</a>.
<li>At the deepest level of hppa the encoding of DIAG instructions is fixed, so that cache SID hashing will now correctly be disabled on PCXS, PCXT and PCXT&acute; processors.
<li>In <a href="https://man.openbsd.org/user.8">user(8)</a> a format string is fixed to reflect the actual size of the argument.
<!-- 2011/12/29 -->
<li><a href="https://man.openbsd.org/cwm.1">cwm(1)</a> no longer moves the same client multiple times to the same group, thus no longer incrementing a counter for hidden clients if the group is hidden.
<li><a href="https://man.openbsd.org/ps.1">ps(1)</a> suppresses the header line if there would be nothing to display.
<li>A temporary fix is applied to the network stack to escape hardware-checksumming if an interface is in a bridge; this fixes a problem where checksumming would not be computed if you have a bridge with at least one interface with hardware checksumming and another without.
<!-- 2011/12/28 -->
<li><a href="https://man.openbsd.org/tcpdump.8">tcpdump(8)</a> also prints PPP-Max-Payload headers (for RFC 4638 PPPoe).
<li>A FreeBSD telnetd(8) overflow advisory also affects our <a href="https://man.openbsd.org/telnet.1">telnet(1)</a> client: in encryption mode, ensure the given key length doesn't excess the maximum allowed key length to prevent an out-of-bounds memory access.
<li>The <a href="https://man.openbsd.org/ntpd.8">ntpd(8)</a> configuration file parser fixes a rdomain issue.
<li><a href="https://man.openbsd.org/softraid.4">softraid(4)</a> cleans up its metadata initialization process.
<li>The <a href="https://man.openbsd.org/rc.d.8">rc.d(8)</a> script of <a href="https://man.openbsd.org/sndiod.1">sndiod(1)</a> no longer supports the <kbd>reload</kbd> action, as this was a no-op.
<li>In the kernel it is ensured that no all-zero DUIDs are generated (they are considered to be non-existent). In addition a new <code>DK_LABELVALID</code> flag is introduced to mark validated disklabels, and thus to avoid using invalid disklabels in the future.
<li><a href="https://man.openbsd.org/colrm.1">colrm(1)</a>, <a href="https://man.openbsd.org/expand.1">expand(1)</a>, <a href="https://man.openbsd.org/fold.1">fold(1)</a>, <a href="https://man.openbsd.org/head.1">head(1)</a>, <a href="https://man.openbsd.org/last.1">last(1)</a>, <a href="https://man.openbsd.org/mkstr.1">mkstr(1)</a>, <a href="https://man.openbsd.org/tset.1">tset(1)</a> and <a href="https://man.openbsd.org/vi.1">vi(1)</a> were all already part of 1BSD, as is now properly documented in their corresponding manual pages.
<li><a href="#mandocdb">mandocdb</a> will now accept multiple lines in <b>NAME</b>, and will not trim the description to 70 characters in the database (it'll do so during output). It also improves compatibility with 3p by interpreting <code>\-\-</code> as a <code>Nm-Nd</code> separator.
<!-- 2011/12/27 -->
<li>librthread actively removes <code>SIGTHR</code> from user <code>sigset_t</code>, because it uses this signal internally for thread cancellation purposes. This required implementations of wrappers for some more signal functions.
<li>The <code><a href="https://man.openbsd.org/pthread_kill.3">pthread_kill(3)</a></code> of librthread will correctly return the errno on failure, instead of -1.
<li><a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> no longer uses a separate queue for bounce messages; the bounce/ path is no longer used.
<li><a href="https://man.openbsd.org/tmux.1">tmux(1)</a> is extended to support a larger history, minimizes redundant log messages and does some code reordering for more local and less global variables. Support is added for the <kbd>ESC[s</kbd> and <kbd>ESC[u</kbd> save/restore cursor-position key sequences. And finally <b>$HOME</b> (or <b>~</b>) may now be used as <b>default-path</b> in tmux.conf.
<li>The <a href="https://man.openbsd.org/user.8">user(8)</a> program will no longer append a redundant entry for the user to its primary group, thus mirroring <a href="https://man.openbsd.org/adduser.8">adduser(8)</a> behaviour.
<!-- 2011/12/26 -->
<li>More CPU features as reported by CPUID become known on the amd64 platform.
<li><a href="https://man.openbsd.org/softraid.4">softraid(4)</a> implements generic set-chunk-state and set-volume-state functions which cover the no redundancy/no rebuild case, and uses these for the AOE, CRYPTO and RAID 0 disciplines.
<li><a href="#mandocdb">mandocdb</a> becomes more clever in indexing cross-architecture manuals.
<li>Now that <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> took over <a href="https://man.openbsd.org/makewhatis.8">makewhatis(8)</a>, extend the <a href="https://man.openbsd.org/whatis.1">whatis(1)</a> manpage to cover extended features.
<!-- 2011/12/25 -->
<li>Allow suppression of the rounding of <a href="https://man.openbsd.org/disklabel.8">disklabel(8)</a> partition locations to bsize boundaries. Also mention that such rounding is being done, so as to not surprise the user. Fixes problems reproducing a "pre-4K fix" disklabel.
<li><a href="https://man.openbsd.org/fdisk.8">fdisk(8)</a> will now return relevant errno string when erroring out.
<li>Accept "makewhatis" as an alias for "<a href="#mandocdb">mandocdb</a>".
<li>Implement binary compatibility of the <a href="#mandocdb">mandocdb</a> databases across architectures. For example, it is now possible to create databases on sparc64 and use them on i386 and vice versa.
<li>Implement <a href="#mandocdb">mandocdb</a> test mode (<code>mandocdb -t</code>), required for <a href="https://man.openbsd.org/pkg_create.1">pkg_create(1)</a>. Always do all consistency checks; when any one fails, decide whether to print a message, or skip the file, or both, or none. Other cleanups: bail out on conflicting options; do not crash with <code>-a</code> if there are plain files in the root dir.
<!-- 2011/12/24 -->
<li>Force <a href="https://man.openbsd.org/arcofi.4">arcofi(4)</a> TX gain to minus infinity when the user asks to only keep the input source enabled. Document the supported encodings and mixer items in the manual page, and the fact that all output sources share the same volume (GX gain) setting.
<li>Support leading, trailing and double colons in <a href="https://man.openbsd.org/apropos.1">apropos(1)</a> MANPATH to prepend, append or insert the <a href="https://man.openbsd.org/man.conf.5">man.conf(5)</a> default path; compatible with GNU manpath(1).
<li>Default <a href="https://man.openbsd.org/arcofi.4">arcofi(4)</a> to a much smaller input gain on the MIC line (improves recording quality), and switch to a better gain table.
<li>Fix <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> so that when mouse-select-pane and mouse-select-window are both enabled, clicking on the status line does not change the current pane.
<li>Document that <a href="https://man.openbsd.org/userdel.8">userdel(8)</a> <code>-p</code> requires an argument.
<!-- 2011/12/23 -->
<li>Switch the Ricoh RU823 SD/MMC in SD2.0 mode (where it changes itself into a Ricoh RU822 <a href="https://man.openbsd.org/sdhc.4">sdhc(4)</a> controller). Also switch the base clock to 50MHz as some SD/MMC cards don't work with the default 200MHz clock.
<!-- 2011/12/21 -->
<li>Work-in-progress driver for the <a href="https://man.openbsd.org/arcofi.4">arcofi(4)</a> "Audio1" device on the HP 9000/425e (hp300), and the HP9000/705 and 9000/710 (hppa). 8-bit mono (8KHz) and 16 bit modes. Tested on 425e only so far, and playback only. Configured in, but disabled, on hppa kernels until there are positive test reports.
<li>Add provisional support for Sandybridge. 2D, suspend/resume, and native display resolutions working, no 3D acceleration or video yet.
<li>Disable temporarily CA support in <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a>, it prevents some remote hosts from establishing a ssl session. Will be investigated and reenabled soon.
<li>Compute mandatory UDP checksum for <a href="https://man.openbsd.org/ipsec.4">ipsec(4)</a> IPv6 packets.
<li>No longer attempt to run pf_translate on <a href="https://man.openbsd.org/pf.4">pf(4)</a> fragments. Also don't do af translation if pf_translate didn't succeed.
<!-- 2011/12/20 -->
<li><a href="https://man.openbsd.org/rc.conf.8">rc.conf(8)</a> adapted to recent rc scripts change.
<li>For <a href="https://man.openbsd.org/rc.d.8">rc.d(8)</a>, move mandatory flags for <a href="https://man.openbsd.org/ftpd.8">ftpd(8)</a>, <a href="https://man.openbsd.org/identd.8">identd(8)</a> and <a href="https://man.openbsd.org/popa3d.8">popa3d(8)</a> from daemon_flags to daemon.
<li>Update to libXi 1.4.5.
<li>Respect <a href="https://man.openbsd.org/mount.2">mount(2)</a> MNT_FORCE flag in ntfs_unmount and proceed even if a system vnode is being held. Prevents crashes with forced unmounts. Silence ntfs_reclaim so that kernel won't spit out vprint's angrily.
<li>Make <a href="#mandocdb">mandocdb</a>/<a href="https://man.openbsd.org/apropos.1">apropos(1)</a> work on strict alignment architectures. Note: binary database format still machine-dependent.
<!-- 2011/12/19 -->
<li>Improve <a href="https://man.openbsd.org/icmp.4">icmp(4)</a> direction check in <a href="https://man.openbsd.org/pf.4">pf(4)</a> to deal correctly with <code>af-to</code> states. No longer exclude <a href="https://man.openbsd.org/icmp.4">icmp(4)</a> echo replies from the test.
<li>Fix to <a href="https://man.openbsd.org/pfctl.8">pfctl(8)</a> to unbreak rule optimizer.
<li><a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> now returns an informative error string if the envelope is invalid; takes envelope id as a parameter and make sure it matches; no longer expects the errorline to start with an SMTP response code; and makes sure that all string fields are actual strings (to prevent overflows).
<li>Added recognition of TI XIO2221 FireWire to pcidevs.
<li>Added ID for Broadcom BCM57765 to <a href="https://man.openbsd.org/mii.4">mii(4)</a>.
<li>Fix checksum of UDP/TCP packets following RFC 3948. Required for <a href="https://man.openbsd.org/ipsec.4">ipsec(4)</a> NAT-T transport mode.
<li>Make sure <a href="https://man.openbsd.org/apropos.1">apropos(1)</a> "any" really covers all search keys.
<li>Make <a href="#mandocdb">mandocdb</a> format simpler/smaller by storing the file type as a single character, and storing paths relative to the directory containing the database.
<!-- 2011/12/18 -->
<li>Xenocara updates the xserver to 1.11.3.
<li>Components of <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> generalize error message building in even more places by leaving that task up to the utility function <code>envelope_set_errormsg()</code>.
<li>A verbosity message is fixed in <a href="https://man.openbsd.org/tcpbench.1">tcpbench(1)</a> which sofar logged the amount of requested, instead of the number of actually connected clients.
<!-- 2011/12/17 -->
<li>In Xenocara libXi is updated to 1.4.4.
<!-- 2011/12/16 -->
<li><a href="https://man.openbsd.org/top.1">top(1)</a> learns the new <b>-H</b> option to show process threads; it replaces the <b>-T</b> option which was used for that purpose before: using <b>-H</b> is consistent with OpenBSDs <a href="https://man.openbsd.org/ps.1">ps(1)</a> and with <a href="https://man.openbsd.org/top.1">top(1)</a> of other operating systems.
<!-- 2011/12/15 -->
<li>A series of fixes to gain a working clang(1) are applied to includes files. Then again, a series of fixes due to a running clang(1) are applied to include files.
<li>g++(1) (see <a href="https://man.openbsd.org/gcc.1">gcc(1)</a>) 2.95.3 removes the <code>permanent_obstack</code> memory usage optimization from <code>duplicate_decls()</code>, because this code is just bogus and may cause <code>SIGSEGV</code> in the wild. A larger diff to remove <code>permanent_obstack</code> completely (as has been done by the gcc folks in the 3.x series) is being worked on.
<li>In <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a>, a buffer size check is sanitized and proper SMTP dot-escaping ensured.
<!-- 2011/12/14 -->
<li>The pcre library included with nginx(8) updated to 8.21.
<li><a href="https://man.openbsd.org/ftpd.8">ftpd(8)</a> learns a new <b>-W</b> option which can be used to suppress keeping track of <a href="https://man.openbsd.org/wtmp.5">wtmp(5)</a> login records.
<li>In <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> the queue_fsqueue and auth backends are brought into line with the new backend API.
<li>The compat_linux layer adds support for (a subset of) <code>prctl(2)</code>.
<li>The <a href="https://man.openbsd.org/ktrace.9">ktrace(9)</a> rthread handling is improved. The flags and the vnode are moved into <code>struct process</code>; <code>KTRFAC_ACTIVE</code> becomes <code>P_INKTR</code>. In <code>sys_ktrace()</code> the user credentials are now used for all writes to the vnode, if one is used.
<!-- 2011/12/13 -->
<li>A delivery backend API is introduced in <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a>. Each delivery method now resides in its own backend, which slims down smtpd.c. The user and map backends are updated and tidied in equal spirit. And finally the SSL code makes use of a certificate authority file if specified and available.
<li>On the luna88k port an auto-boot failure is fixed by using the real name for a string comparison (instead of the already checked device prefix).
<li>The <a href="https://man.openbsd.org/rc.d.8">rc.d(8)</a> script for <a href="https://man.openbsd.org/nsd.8">nsd(8)</a> no longer supports the <b>reload</b> action. Reloading DNS configuration should be performed through <a href="https://man.openbsd.org/nsdc.8">nsdc(8)</a> and not with a rc script.
<!-- 2011/12/12 -->
<li>Fixup of <a href="https://man.openbsd.org/pfctl.8">pfctl(8)</a> <code>af-to</code> regression that occured with match rules.
<li><a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> will now display process name rather than function name in debug messages.
<li>Allow <a href="https://man.openbsd.org/isakmpd.8">isakmpd(8)</a> to use a FQDN as a ID payload type. Some client (eg Windows XP) uses the FQDN type in NAT-T with transport mode.
<li>Implement <code>-C</code> (alternative config file) for <a href="https://man.openbsd.org/apropos.1">apropos(1)</a> and <a href="#mandocdb">mandocdb</a>.
<!-- 2011/12/11 -->
<li>Utility function added to <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> for parsing and validating SMTP response lines.
<li>Suspend other rthreads before dumping core or running <a href="https://man.openbsd.org/exec.3">exec(3)</a>; make them exit when exec succeeds.
<li><a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> will now fetch the ssl cert earlier on if needed and skip mta_pickup() when handling the incoming forward.
<li><a href="https://man.openbsd.org/ps.1">ps(1)</a> now understands <code>-o cwd</code> using the new KERN_PROC_CWD sysctl.
<!-- 2011/12/10 -->
<li><a href="https://man.openbsd.org/apropos.1">apropos(1)</a> bugfixes: (1) Always show architecture-independent manuals, even when an architecture is specified on the command line. (2) Do not leak memory when a manual is skipped because it's the wrong section or architecture.
<li><a href="#mandocdb">mandocdb</a> now avoids leaking index records by only allocating a record for a file when needed.
<li>Improved re-initialization of <a href="https://man.openbsd.org/dhclient.8">dhclient(8)</a> parsing state so nothing accidentally carries over when a new file (i.e. leases after config) is parsed. May help with mysterious "Corrupt lease file" messages.
<li>Fix <a href="#mandocdb">mandocdb</a> selection of arch-specific manuals: (1) Correctly compare cat vs. man paths. (2) Compare arch (and section) names case-insensitively.
<li>Minor changes to leases file handling in <a href="https://man.openbsd.org/dhclient.8">dhclient(8)</a> and <a href="https://man.openbsd.org/dhcpd.8">dhcpd(8)</a>.
<li>Set grep and tar programs in etc/config.site to force configure to find the system ones.
<li><a href="https://man.openbsd.org/make.1">make(1)</a> now uses clock_gettime() to get a high precision timestamp, instead of converting gettimeofday()'s output.
<!-- 2011/12/09 -->
<li>Remove <code>-M</code> from <a href="https://man.openbsd.org/aucat.1">aucat(1)</a>, and <code>-l</code> from aucat and sndiod.
<li>Change the way the working directory for new processes is discovered by <a href="https://man.openbsd.org/tmux.1">tmux(1)</a>. If default-path isn't empty, it is used.
<li>Add a new sndiod audio/midi daemon (name changed from aucat, and enabled by default) and hide <a href="https://man.openbsd.org/aucat.1">aucat(1)</a> server-specific options.
<li>Always schedule another rx ring refill callout in case we fail to do it at the spot. Prevents rx ring lockups under high load on <a href="https://man.openbsd.org/ix.4">ix(4)</a>.
<li>Improve <a href="#mandocdb">mandocdb</a> parsing of preformatted manuals: If the first section is empty, reuse the file name as the description; strip backspace encoding from the description; make the loops more readable using <a href="https://man.openbsd.org/string.3">string(3)</a> functions; put fclose() at the end, as line isn't valid afterwards.
<li>In default mode, use <a href="https://man.openbsd.org/realpath.3">realpath(3)</a> on the "dir" arguments and put canonicalized absolute pathnames into the <a href="#mandocdb">mandocdb</a> database.
<!-- 2011/12/08 -->
<li>Sync to terminfo.src from <a href="https://man.openbsd.org/ncurses.3">ncurses(3)</a>-20111203, this adds specific entries for OpenBSD i386.
<li>Cleanup of the kernel routing code documentation code in <a href="https://man.openbsd.org/route.4">route(4)</a> and <a href="https://man.openbsd.org/route.9">route(9)</a>.
<li>Add timeout to fill rx-ring in case of mbuf shortage while in <a href="https://man.openbsd.org/vr.4">vr(4)</a> vr_intr(); fixes hanging interfaces similar to in <a href="https://man.openbsd.org/myx.4">myx(4)</a>.
<li><a
href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> now checks properly for NULL -&gt;ifa_addr.
<li>Now that arch-defines have been reworked, document the simpler arch-constants in <a href="https://man.openbsd.org/bsd.port.arch.mk.5">bsd.port.arch.mk(5)</a> and <a href="https://man.openbsd.org/port-modules.5">port-modules(5)</a>.
<li>Instead of just counting the free index slots, <a href="#mandocdb">mandocdb</a> will now reclaim them.
<!-- 2011/12/07 -->
<li>Add Nuvoton NCT6776F to <a href="https://man.openbsd.org/lm.4">lm(4)</a>.
<li>Make sure <a href="https://man.openbsd.org/esa.4">esa(4)</a> only returns 1 from the interrupt handler if the interrupt was for us. Fixes problems when the interrupt is shared.
<li>Avoid kernel crash by removing double clfree() on endpoint closing for <a href="https://man.openbsd.org/ugen.4">ugen(4)</a> devices.
<li>Implement search support for 24 additional macros, extract more information from <code>Fn</code>, and lift section restrictions from <code>An Cd Er Ev Fn Fo In Pa St Va Vt</code> in <a href="#mandocdb">mandocdb</a>.
<!-- 2011/12/06 -->
<li>"Removing scratch and junk files" section of <a href="https://man.openbsd.org/daily.8">daily(8)</a> now sends files to /dev/null.
<li>Add support for Nuvoton NCT6776F fan, voltage and temperature sensors.
<li>New <a href="https://man.openbsd.org/fnmatch.3">fnmatch(3)</a> implementation which is not recursive. Originally released in Apache APR-1.4.5.
<!-- 2011/12/05 -->
<li>Split the ruby module description off <a href="https://man.openbsd.org/port-modules.5">port-modules(5)</a> to <a href="https://man.openbsd.org/ruby-module.5">ruby-module(5)</a>.
<li><a href="https://man.openbsd.org/mg.1">mg(1)</a> will now use absolute filenames while pushing and popping off the stack.
<!-- 2011/12/04 -->
<li><a href="https://man.openbsd.org/mg.1">mg(1)</a>s new tag handling fixes a segmentation fault by always using absolute pathnames instead of accessing relative to cwd.
<li>Implemented cancellation points in librthread for the basic systemcalls.
<li>On i386 a safety panic has been eliminated by not checking for HyperTransport buses if in PCI mode 2.
<li>In copy mode <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> supports "jump to" like vi via <code>t</code> and <code>T</code> keys. Likewise <code>x</code> and <code>X</code> will delete in edit mode.
<li><a href="https://man.openbsd.org/ukbd.4">ukbd(4)</a> adds support for Apple <code>fn</code> keys.
<li><a href="https://man.openbsd.org/usermod.8">usermod(8)</a>s new <i>-S</i> option can be used to <em>set</em> secondary groups for users, whereas <i>-G</i> has been redefined to <em>append</em> to that list instead.
<!-- 2011/12/03 -->
<li><a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> removes an OpenBSD-specific tweak regarding <code>.Xr</code> spacing and gains compatibility with bsd.lv mandoc and groff-1.21.
<li>The kernels virtual memory range management fixes a weird <code>vm_page</code> access in <code>uvm_pmr_freepages()</code>. This should also result in proper wakeup of <code>uvm_pmalloc</code> sleepers.
<li>The <a href="https://man.openbsd.org/pms.4">pms(4)</a> driver corrects its understanding of some ALPS mice in respect to the third (z-) axis.
<li><a href="https://man.openbsd.org/port-modules.5">port-modules(5)</a> is revised and extended.
<li><a href="#mandocdb">mandocdb</a> changes the database format again to be endian-neutral.
<li>In Xenocara, <a href="https://man.openbsd.org/xdm.1">xdm(1)</a> restores support for ecdsa ssh keys, which has been lost during the update to version 1.1.11.
<li><a href="https://man.openbsd.org/pfctl.8">pfctl(8)</a> fixes issues with garbage content of fields which are not always initialized by zeroing out the entire data carrier.
<li>The compat_linux layer gains support for <code>MSG_NOSIGNAL</code>.
<!-- 2011/12/02 -->
<li><a href="https://man.openbsd.org/usb.4">usb(4)</a>s <a href="https://man.openbsd.org/wi.4">wi(4)</a> code ensures <code>splx()</code> is called before exiting <code>wi_usb_tx_lock_try()</code>.
<li><a href="https://man.openbsd.org/trm.4">trm(4)</a> ensures to <code>splx()</code> before return from <code>trm_StartWaitingSRB()</code>.
<li><a href="https://man.openbsd.org/pkg_delete.1">pkg_delete(1)</a> adds the <i>-X</i> option, which negates given packages (removes them instead of adding them).
<li><a href="https://man.openbsd.org/aucat.1">aucat(1)</a> unbreaks <i>-aoff</i> with <i>MALLOC_OPTIONS=J</i> by initializing the device reference counter.
<li><a href="https://man.openbsd.org/aucat.1">aucat(1)</a> no longer adds a <i>.wav</i> header to <i>.syx</i> files.
<!-- 2011/12/01 -->
<li><a href="https://man.openbsd.org/man.7">man(7)</a> uses a default volume name when no explicit one is given, which results in nicer page headers for many manuals like, e.g., <a href="https://man.openbsd.org/cvs.1">cvs(1)</a>, <a href="https://man.openbsd.org/lynx.1">lynx(1)</a> and many from the <a href="https://man.openbsd.org/curses.3">curses(3)</a> set. To not break compatibility a corresponding patch for GNU troff has been written and was accepted upstream by Werner Lemberg as rev. 1.65 of <a href="http://cvs.savannah.gnu.org/viewvc/groff/tmac/an-old.tmac?root=groff">http://cvs.savannah.gnu.org/viewvc/groff/tmac/an-old.tmac?root=groff</a>.
<li><a href="https://man.openbsd.org/pgt.4">pgt(4)</a> ensures to <code>splx()</code> before return from <code>pgt_media_status()</code>.
<li>Some Apple products (iPods and iPhones) become known to the USB-subsystem and will at least attach as <a href="https://man.openbsd.org/ugen.4">ugen(4)</a> (so that e.g. gphoto2 should now be able to retrieve data).
<li><a href="https://man.openbsd.org/pfsync.4">pfsync(4)</a> ensures <code>pf_route()</code> is only entered when undeferring a <code>PF_ROUTETO</code> case.
<li><a href="https://man.openbsd.org/tmux.1">tmux(1)</a> adds home and end keys for the command prompt.
<li>In <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> <code>M-f</code> and <code>M-b</code> work the same at the command prompt as in copy mode.
<li><a href="https://man.openbsd.org/disklabel.8">disklabel(8)</a> fixes issues with the <i>b</i> and <i>k</i> size suffixes by casting the sector size to a signed 64-bit integer before applying the negate.
<!-- 2011/11/30 -->
<li>In order to support jumbo frames in <a href="https://man.openbsd.org/pfsync.4">pfsync(4)</a> the new <code>MAXMCLBYTES</code> macro is introduced in <a href="https://man.openbsd.org/mbuf.9">mbuf(9)</a> (and already used in <code>m_pullup()</code> and <code>m_pulldown()</code>).
<!-- 2011/11/29 -->
<li><a href="https://man.openbsd.org/mbuf.9">mbuf(9)</a>s <code>m_pullup()</code> function changes the order of some conditional tests in order to avoid execution of cases which would later turn out to be useless; it also fixes the calculation of available space for external storage.
<li><a href="https://man.openbsd.org/ucom.4">ucom(4)</a>s <code>ucomopen()</code> gets some error code-flow fixes to prevent release of critical structures, and removes a superfluous call to <code>ttyopen()</code>.
<li>Xenocara updates the <a href="https://man.openbsd.org/intel.4">intel(4)</a> driver to a more recent version. (This is a prerequisite for Sandybridge support, but that is disabled for now.)
<li><a href="https://man.openbsd.org/vic.4">vic(4)</a>s interrupt handler will no longer report the interrupt as being consumed to let devices which share the interrupt have their interrupt handler run.
<li>After updating <a href="https://man.openbsd.org/pfsync.4">pfsync(4)</a> to use a single 64-bit integer instead of an array of two 32-bit integers for state <i>id</i> housekeeping, <a href="https://man.openbsd.org/systat.1">systat(1)</a> considers the <i>creatorid</i> as well as the state <i>id</i> and thus mirrors the <i>id</i> comparison code found in the kernel.
<!-- 2011/11/28 -->
<li>Fixes in the network stack for auto-negotiation on ICH8.
<li>In Xenocara <a href="https://man.openbsd.org/ws.4">ws(4)</a> gains support for wheel emulation (emulating button press/release events when the mouse is moved while a specific button is pressed).
<li>In Xenocara the ATI Radeon driver should work better on PowerBook5,[7-9] after a faulty model string comparison has been fixed.
<li><a href="https://man.openbsd.org/ld.so.1">ld.so(1)</a> internally adds support for some dynamic <code>DT_FLAGS_1</code> flags: <code>DF_1_NODELETE</code> and <code>DF_1_INITFIRST</code>, as well as <code>DF_1_NOW</code> and <code>DF_1_GLOBAL</code>.
<li><a href="https://man.openbsd.org/myx.4">myx(4)</a> fixes error code-flow in <code>myx_buf_fill()</code> in order to avoid either <code>mbuf</code> leaks or a <code>NULL</code> pointer dereference.
<!-- 2011/11/27 -->
<li><a href="https://man.openbsd.org/mg.1">mg(1)</a> changes behaviour of <i>M-q</i> (<i>fill-paragraph</i>) to allow double-space after <code>/[.?!]\)?/</code>.
<li><a href="https://man.openbsd.org/mg.1">mg(1)</a> gains some <a href="https://man.openbsd.org/ctags.1">ctags(1)</a> support.
<li>The <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> project implements <a href="https://man.openbsd.org/whatis.1">whatis(1)</a> as a special <a href="https://man.openbsd.org/apropos.1">apropos(1)</a> mode. This is intended to replace <i>src/usr.bin/whatis</i> at a later time, but can already be tested (ensure <i>argv[0]</i> starts with the string <i>whatis</i>).
<li><a href="#mandocdb">mandocdb</a> gets first rudimentary handling of formatted manuals ("cat pages").
<li>The libedit library (<a href="https://man.openbsd.org/editline.3">editline(3)</a>) fixes a segmentation fault when trying to lookup a command when there are no registered bindings.
<li>In the hppa64 libkern several fixups are applied to assembler optimizations of memory operations, including the correction of <code>memcpy()</code>s return value. Only proper PA-RISC 2.0 mnemonics remain.
<li>Two revisions that have been lost during update are backed out in <a href="https://man.openbsd.org/ix.4">ix(4)</a>: 1.31 (reyk@: fix the IP checksum offloading logic) and 1.46 (claudio@: low latency interrupt moderation for 82599).
<li><a href="https://man.openbsd.org/pfsync.4">pfsync(4)</a> eliminates some race conditions by protecting more operations against interrupts in <code>pfsync_clone_destroy()</code>.
<!-- 2011/11/26 -->
<li><a href="https://man.openbsd.org/ifconfig.8">ifconfig(8)</a> looses it's <i>vlanprio</i> option as the <code>SIOCSETVLANPRIO</code> and <code>SIOCGETVLANPRIO</code> ioctls are removed. The priority scheme is now tied to <a href="https://man.openbsd.org/vlan.4">vlan(4)</a>s IEEE 802.1p priority tagging.
<li>The ever evolving <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> system resyncs a whole bunch of work with and from bsd.lv; besides lots of internal code reorganization this adds proper handling of the <i>MANPATH</i> environment variable.
<!-- 2011/11/25 -->
<li><a href="https://man.openbsd.org/urtwn.4">urtwn(4)</a> adds support for the Netgear WNA1000M WLAN adapter.
<li>The network stack now applies <i>route-to</i> to deferred packets; without this option the first packet of a connection doesn't observe the <i>route-to</i> option.
<li>The compat_linux layer implements <code><a href="https://man.openbsd.org/chown.2">chown(2)</a></code>.
<li>The packet filter machinery (<a href="https://man.openbsd.org/pf.4">pf(4)</a>, <a href="https://man.openbsd.org/pflog.4">pflog(4)</a>, <a href="https://man.openbsd.org/pfsync.4">pfsync(4)</a>, <a href="https://man.openbsd.org/pflow.4">pflow(4)</a>) turns over to use the system uptime for state creation time values, since <a href="https://man.openbsd.org/date.1">date(1)</a> and <a href="https://man.openbsd.org/ntpd.8">ntpd(8)</a> can skew the time value which was used before.
<li><a href="https://man.openbsd.org/ports.7">ports(7)</a> documents the <i>homepage-links</i> target.
<li><a href="https://man.openbsd.org/bsd.port.mk.5">bsd.port.mk(5)</a> gets another extension and covers the targets <i>show-size</i> and <i>show-fake-size</i>, as well as <i>all-lib-depends</i>, <i>fetch-makefile</i> and <i>print-package-args</i>, amongst others related to dependency solving, and adds some more odds and ends.
<li>Kernel builds without the <i>INET6</i> option were broken for a while due to missing <code>#ifdef</code>'s, but that is fixed again.
<li>More work on the package system results in changes to <a href="https://man.openbsd.org/pkg_info.1">pkg_info(1)</a> and <a href="https://man.openbsd.org/pkg_delete.1">pkg_delete(1)</a>.
<!-- 2011/11/24 -->
<li>The alpha port turns over to <a href="https://man.openbsd.org/gcc.1">gcc(1)</a> v4.
<li><a href="https://man.openbsd.org/gcc.1">gcc(1)</a> v4 gains some last modifications to enable the alpha port to switch to it.
<li>The IPv6 network stack gains rdomain support.
<!-- 2011/11/23 -->
<li>In Xenocara the libGL for Radeon r200 is fixed by adding the missing link to libdrm_radeon.
<li><a href="https://man.openbsd.org/smtpctl.8">smtpctl(8)</a>/<a href="https://man.openbsd.org/mailq.8">mailq(8)</a>, which share the same <code>main()</code>, fix a segmentation fault when being invoked as <a href="https://man.openbsd.org/mailq.8">mailq(8)</a>.
<li><a href="https://man.openbsd.org/pfctl.8">pfctl(8)</a> prints ports as numbers by default, the new <i>-P</i> option will print names (as from <i>/etc/services</i>) instead.
<!-- 2011/11/22 -->
<li>Hibernation gets more robust by properly accounting the MP trampoline page in the range count.
<li>The network stack fixes a SMP deadlock by disabling interrupts in <code>pool_reclaim_all()</code>.
<li>LibC removes all references to the long-dead <code>sigstack(2)</code>.
<li>The <a href="https://man.openbsd.org/bsd.port.mk.5">bsd.port.mk(5)</a> manual has been updated.
<li>The miniroot install.sub script works around the fact that MAKEDEV does not report any failures, which avoids the always failing efforts to mount filesystems on non-existent devices.
<!-- 2011/11/21 -->
<li>The <a href="https://man.openbsd.org/roff.7">roff(7)</a> manual corrects several factual errors in its HISTORY section. Kristaps Dzonsons reconstructed what really happened by talking to the people involved, including Brian W. Kernighan and James Clarke, to name a few. See <a href="http://manpages.bsd.lv/history.html">http://manpages.bsd.lv/history.html</a> for the complete picture.
<li><a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> drops usage of it's <i>enqueue/</i> queue in favour of <i>incoming/</i>.
<li>New documentation is available: <a href="https://man.openbsd.org/pkgpath.7">pkgpath(7)</a>.
<!-- 2011/11/20 -->
<li>The <code><a href="https://man.openbsd.org/ktrace.2">ktrace(2)</a></code> systemcall fixes a bug which could expose the content of <code>sizeof(register_t)</code> bytes of kernel memory to userland.
<li>As <a href="https://man.openbsd.org/aucat.1">aucat(1)</a> development proceeds code which manages mmc/mtc and volume control has been moved from <code>struct aproc</code> to <code>struct dev</code>.
<li><a href="https://man.openbsd.org/pkg_info.1">pkg_info(1)</a>s <i>-r</i> option reuses internal error codes (as from <i>-e</i>) if available, which allows constructs like <code>pkg_info -e 'gettext-&gt;=0.20' -r 'gettext-&gt;=0.10.38' gettext-0.18.1p0</code>.
<!-- 2011/11/19 -->
<li>The aviion, luna88k and mvme88k ports fix early boot crashes by making sure that <code>%cr17</code> points to a dummy CPU information structure before the real processor is known.
<li>On the macppc port it is again possible to boot the kernel from a HFS partition.
<li>On the alpha port <a href="https://man.openbsd.org/ld.so.1">ld.so(1)</a> is now compiled with the -mbuild-constants flag, to avoid loading larger integer constants from the relocated data segment. This fixes the <a href="https://man.openbsd.org/ld.so.1">ld.so(1)</a> build with gcc4.
<li><a href="https://man.openbsd.org/carp.4">carp(4)</a> selects routing tables according to the rdomain. Due to that it is possible to connect to the carp address when the carpdev interface also has an IP address in a non-default rdomain.
<li><a href="https://man.openbsd.org/umsm.4">umsm(4)</a> adds support for ZTE MF190.
<li>Update to freetype 2.4.8. This update fixes CVE-2011-3439.
<!-- 2011/11/17 -->
<li><a href="https://man.openbsd.org/apropos.1">apropos(1)</a> adds support for parenthesized subexpressions.
<li><a href="https://man.openbsd.org/xidle.1">xidle(1)</a> now correctly acts upon receiving <code>SIGUSR1</code>, <code>SIGINT</code> and <code>SIGTERM</code>.
<li>The kernel adds run length encoding (RLE) for hibernate - don't compress or write pages that are free.
<li>The libedit library (<a href="https://man.openbsd.org/editline.3">editline(3)</a>) now correctly calculates the size for a <code>wchar_t</code> argv, which fixes a memory corruption.
<li>The <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> test suite has been completely overhauled.
<li><a href="https://man.openbsd.org/apropos.1">apropos(1)</a> understands the standard options <i>-M</i> and <i>-m</i> after the addition of minimal _whatdb support for <a href="#mandocdb">mandocdb</a> and <a href="https://man.openbsd.org/apropos.1">apropos(1)</a>.
<li><strong>RELIABILITY FIX: <a href="https://man.openbsd.org/named.8">named(8)</a> gets patches from BIND upstream to mitigate CVE-2011-4313. </strong><br><a href="errata50.html#001_bind">A source code patch is available</a>. <br><a href="stable.html">[Applied to stable]</a>
<li>The revision of HISTORY sections of the manpages of all syscalls that exist since Version 1 AT&amp;T UNIX has been completed.
<li><a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> will no longer reformat ISO 8601-style dates, but use them "as-is".
<!-- 2011/11/16 -->
<li><a href="https://man.openbsd.org/umsm.4">umsm(4)</a> adds support for Huawei EM770W.
<li>Xenocara updates xterm to 276 and freetype to 2.4.6.
<li>The kernel makes the <code>userret()</code> function machine-independent.
<li><a href="https://man.openbsd.org/apropos.1">apropos(1)</a> starts supporting multiple search terms, and logical operations <i>-a</i> and <i>-o</i> to combine them.
<li><a href="https://man.openbsd.org/sftp.1">sftp(1)</a> fixes a minor memory leak which occurred when autocompleting a command did not give any results.
<li>The <a href="https://man.openbsd.org/pfsync.4">pfsync(4)</a> packet filter fixes some spontaneous CARP failovers which occurred when using the flag setting ioctl by only requesting bulk updates when going up, not when already running.
<li><a href="https://man.openbsd.org/pkg_add.1">pkg_add(1)</a> will use cache directories if they are offered by the ports tree, which boils down to a massive performance improvement.
<li><a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> improves handling of offline messages. It is ensured that they are only unlinked after they have been correctly enqueued. Instead of aborting forked worker processes if an error occurs while handling an offline message, simply log and leave the failed message untouched.
<!-- 2011/11/15 -->
<li><a href="https://man.openbsd.org/tmux.1">tmux(1)</a> gains capabilities to do word-movement and -editing.
<li>In <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> the <i>word-separators</i> option now belongs to a session, not to windows.
<li><a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> extends it's beta filter handling and introduces filter status states, like <code>STATUS_WAITING</code>.
<li>The <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> internal Qwalk API has been reworked and is now fully modularized.
<li>In <a href="https://man.openbsd.org/less.1">less(1)</a> the <i>LESSHISTFILE</i> is from now on by default disabled.
<li>The beagle port re-adds support for the omdog watchdog timer.
<li>In Xenocara, update <a href="https://man.openbsd.org/xdm.1">xdm(1)</a> to 1.1.11 plus a few patches.
<li>nginx(8) is updated to 1.0.10. This version fixes a bug in the resolver which caused segmentation faults in worker processes on receipt of large DNS packets.
<li><a href="https://man.openbsd.org/aucat.1">aucat(1)</a> adds a "device number" component in <a href="https://man.openbsd.org/sndio.7">sndio(7)</a> device names, allowing a single aucat instance to handle all audio and MIDI services. Note this changes the service names (a backward compatibility hook keeps old names working if only one aucat server is running).
<!-- 2011/11/14 -->
<li>Xenocara fixes regressions, which could be seen in media key handling under Gnome, by merging in the patch from <a href="http://patchwork.freedesktop.org/patch/7707/">http://patchwork.freedesktop.org/patch/7707</a>.
<li><a href="#mandocdb">mandocdb</a> turns over to only archive those files and directories that <a href="https://man.openbsd.org/man.1">man(1)</a> will be able to retrieve; the new <i>-a</i> option can be used to gain the old behaviour.
<li><a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> ensures that the offline directory has the right owner and permissions before it starts to enqueue offline mail.
<!-- 2011/11/13 -->
<li>A small RE fix is applied to <a href="https://man.openbsd.org/pkg_add.1">pkg_add(1)</a> which solves issues some ports had with pkg_subst / <code>SUBST_CMD</code>.
<li><a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> page footers gain compatibility with groff(1).
<li><a href="https://man.openbsd.org/i386/installboot.8">installboot(8/i386)</a> and <a href="https://man.openbsd.org/amd64/installboot.8">installboot(8/amd64)</a> use chunk numbers instead of possibly empty disk/partition names in some log messages.
<li><a href="https://man.openbsd.org/softraid.4">softraid(4)</a> updates the DUID for new chunks, and zeroes the boot DUID list before populating it in installboot to ensure no offline chunks are listed therein.
<li><a href="https://man.openbsd.org/softraid.4">softraid(4)</a> rebuild initialization code has been reworked and deducts the metadata of a new chunk from the volume metadata, and it's coerced size from an online chunk, instead of using a random chunk as a source for these.
<li><a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> learns to configure the left margin from the command line with the new "indent" argument.
<li>In the ongoing effort to create a complete mandoc based manual system <a href="https://man.openbsd.org/apropos.1">apropos(1)</a> looses the <i>-e</i> (use REs instead), <i>-r</i> (more on that later), <i>-s</i> (no more sorting for a while) and <i>-I</i> options, and switches over to the traditional <i>-s</i> (choose section) and <i>-S</i> (choose arch; replaces <i>-a</i>) options.
<!-- 2011/11/12 -->
<li><a href="https://man.openbsd.org/dhcpd.8">dhcpd(8)</a> protects itself against faulty interpretation of memory in case truncated packets have been received (a potential problem deduced from CVE-2011-2748 and CVE-2011-2749).
<!-- 2011/11/11 -->
<li>Update nginx(8) to 1.0.9, and it's included pcre library to 8.20.
<li>The currency exchange rates are always up to date.
<li><a href="https://man.openbsd.org/fdisk.8">fdisk(8)</a> disallows partitions of length 0. It also rereads the MBR after it has been written out, so that the in-memory copy really reflects what is on the disk.
<li>The hppa64 port turns over to use binutils 2.17.
<li>Allow cross-compilation to arm on 64-bit architectures.
<!-- 2011/11/10 -->
<li><a href="https://man.openbsd.org/umsm.4">umsm(4)</a> adds support for HUAWEI Mobile E173s.
<li>The arm disassembler learns more v6 and v7 instructions.
<li>Root filesystems on SD/MMC cards should work more reliable after progress has been made on the <a href="https://man.openbsd.org/sdmmc.4">sdmmc(4)</a> driver.
<!-- 2011/11/09 -->
<li>The beagle port adds support for the gumstix overo board.
<li>The <a href="https://man.openbsd.org/cdce.4">cdce(4)</a> driver adds support for the <code>UISUBCLASS_MOBILE_DIRECT_LINE_MODEL</code> interface subclass, and thus at least for Dell 5530/5540 and Sony Ericsson F3705g.
<li>The <a href="https://man.openbsd.org/ws.4">ws(4)</a> driver ignores the <i>Raw</i> option for mice (always false).
<li>librthread gets the necessary bits for a per-thread errno on powerpc.
<li>The powerpc port schedules <code>%r2</code> as the userland thread register.
<li>The network stack fixes a faulty timeout calculation which caused states to linger more than necessary.
<!-- 2011/11/08 -->
<li>beagle GENERIC configures bsd as <i>swap generic</i>.
<li>miniroot will no longer ask wether non-free firmware should be obtained, but automatically do so.
<li>The print output order of the <a href="https://man.openbsd.org/pfctl.8">pfctl(8)</a> skip steps will show rdomains after the direction.
<li>The NCR 53c9x SCSI controller driver actively limits it's command-set to commands of at most 12 byte (the SCSI-2 standard), as some 53c9x adapters fail when attempting to send 16-byte SCSI-3 commands.
<li>The arm platform looses support for the big endian byte order.
<li>librthread gets the necessary bits for a per-thread errno on hppa.
<li>The hppa port allows reading of the <code>%cr26</code> and <code>%cr27</code> control registers from userland on PCXS processors. <code>%cr27</code> is scheduled to act as the userland thread register.
<li><a href="https://man.openbsd.org/ipsecctl.8">ipsecctl(8)</a> adds an <i>-i</i> option which may be used to specify alternative paths to an <a href="https://man.openbsd.org/isakmpd.8">isakmpd(8)</a> communication FIFO.
<li>The <a href="https://man.openbsd.org/ws.4">ws(4)</a> driver gets more scroll-event mappings.
<li>Entirely drop support for procfs on arm, since it is not needed there.
<li>On sparc, drop default support for the process-filesystem (procfs was by default enabled for Solaris compatibility).
<li>Teach <a href="https://man.openbsd.org/bgplg.8">bgplg(8)</a> to use the new <i>-A</i> option of <a href="https://man.openbsd.org/traceroute.8">traceroute(8)</a>.
<li>The new <i>-A</i> option for <a href="https://man.openbsd.org/traceroute.8">traceroute(8)</a> displays the AS number for each hop address.
<!-- 2011/11/07 -->
<li>Xenocara removes code which requires an <code>ABI_XINPUT_VERSION</code> smaller than 12.
<li>The <a href="https://man.openbsd.org/ddb.4">ddb(4)</a> <i>examine</i> command will print the correct address even if multiple modifiers have been specified.
<li>Unless acting upon a character device vnode reads and writes will avoid wrapping the file offset past the max.
<li><a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> enqueues offline messages at startup, which simplifies the code flow.
<li>The regular expression compiler replaces some (compiled-out) assertions with persistent checks for failed reallocations; this closes a vulnerability against extremely large expressions which aim in using this flaw.
<!-- 2011/11/06 -->
<li>In Xenocara, update libpciaccess to 0.12.1.
<li><a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> no longer includes the status when dumping the envelope.
<li>Except for character devices negative offset arguments will result in <code>EINVAL</code> errors for the <code><a href="https://man.openbsd.org/pread.2">pread(2)</a></code>, <code><a href="https://man.openbsd.org/pwrite.2">pwrite(2)</a></code>, <code><a href="https://man.openbsd.org/preadv.2">preadv(2)</a></code> and <code><a href="https://man.openbsd.org/pwritev.2">pwritev(2)</a></code> systemcalls.
<li>On arm a fix was applied to correctly identify the cache modes WB1 and WT.
<li>M4 gains some more GNU M4 compatibility.
<li>The librthread library adds support for <code><a href="https://man.openbsd.org/sched_get_priority_min.3">sched_get_priority_min(3)</a></code> and <code><a href="https://man.openbsd.org/sched_get_priority_max.3">sched_get_priority_max(3)</a></code>.
<!-- 2011/11/05 -->
<li>In Xenocara, update xf86-input-mouse to 1.7.1.
<li>On arm kernels which lack StrongArm support an incorrect logic was fixed that could cause page table flushes to be missed.
<li><a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> will log and actively ignore <code>.TP</code> commands if their HEAD is "broken" by another block command.
<li>The <code><a href="https://man.openbsd.org/pread.2">pread(2)</a></code>, <code><a href="https://man.openbsd.org/pwrite.2">pwrite(2)</a></code>, <code><a href="https://man.openbsd.org/preadv.2">preadv(2)</a></code> and <code><a href="https://man.openbsd.org/pwritev.2">pwritev(2)</a></code> systemcalls will also fail with <code>ESPIPE</code> if the file is a TTY.
<li>The beagle port gets initial support for the Cortex A9 interrupt controller and introduces code to use the global timer as a clock source.
<li><a href="https://man.openbsd.org/tmux.1">tmux(1)</a> adds new options which change the status line colors and options differently in command mode.
<!-- 2011/11/04 -->
<li>The network stack selects the correct protocol when importing an icmp&lt;-&gt;icmp6 state.
<!-- 2011/11/03 -->
<li><a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> improves visual output compatibility with groff -- if the <code>.TH</code> command sets no data then the page footer will no longer fill in the date field.
<li>Fix the spacing of <code>.Eo</code> in <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a>.
<li>In X the Shift+Backspace key sequence will produce a backspace again.
<!-- 2011/11/02 -->
<li>Updated OpenSSL to 1.0.0e.
<li>On i386, cover AMD/extended flags CPUID information.
<li>Enable UDMA capabilities for the PCI IDE controller of the HT-1000.
<li>Remove the imstt driver from Xenocara after it has been unused for 5 years.
<li>Remove more <code>#ifdef</code>'s in libstc++ which exclude OpenBSD from the world of wide characters.
<li><a href="https://man.openbsd.org/smtpctl.8">smtpctl(8)</a> no longer needs libevent after a rework of the local enqueuer code.
<!-- 2011/11/01 -->
<li>Add perl security fix for CVE-2011-2939.
<li><a href="https://man.openbsd.org/ifconfig.8">ifconfig(8)</a> will display interface hardware features via the <i>hwfeatures</i> parameter.
<li>Remove code related to the HP MMU -- all supported system favor <code>PMAP_DIRECT</code>.
<li>Rework disklabel handling on vax MSCP to correctly support label spoofing. This adds true support for the <code>DIOCGPDINFO</code> ioctl.
<!-- 2011/10/31 -->
<li>In Xenocara, update <a href="https://man.openbsd.org/sessreg.1">sessreg(1)</a> to 1.0.7, <a href="https://man.openbsd.org/xdpyinfo.1">xdpyinfo(1)</a> to 1.3.0 and <a href="https://man.openbsd.org/xinit.1">xinit(1)</a> to 1.3.1.
<li>Upon destruction of an interface the network stack will correctly cancel bulk-update failure-timeouts.
<li>Restrict <a href="https://man.openbsd.org/netstat.1">netstat(1)</a> output to the sockets of the specified or current routing domain.
<li>Alter save/restore on PCI-Express bridges during the suspend/resume cycle to fix high interrupt load from <a href="https://man.openbsd.org/ppb.4">ppb(4)</a> on resume.
<!-- 2011/10/30 -->
<li>Allow setting big MTU values on the <a href="https://man.openbsd.org/pfsync.4">pfsync(4)</a> interface (but not larger than the syncdev MTU).
<li>Always install <a href="https://man.openbsd.org/addr2line.1">addr2line(1)</a>, <a href="https://man.openbsd.org/objcopy.1">objcopy(1)</a>, and <a href="https://man.openbsd.org/readelf.1">readelf(1)</a>, even on architectures with !ELF_TOOLCHAIN && !USING_NEW_BINUTILS (like vax, m68k).
<li>Use three times the advskew as the <a href="https://man.openbsd.org/carp.4">carp(4)</a> master down timeout in the advbase 0 case.
<!-- 2011/10/29 -->
<li>Add a sample <a href="https://man.openbsd.org/mixerctl.conf.5">mixerctl.conf(5)</a>. More complex examples to come as <a href="https://man.openbsd.org/aucat.1">aucat(1)</a> work progresses.
<!-- 2011/10/28 -->
<li>Enable interrupts while processing off level interrupts in <a href="https://man.openbsd.org/macppc/openpic.4">openpic(4/macppc)</a>.
<li>Ignore devices with irq 0 on mpcpci bus as no devices in the openfirmware tree use it.
<li>Fix <a href="https://man.openbsd.org/uvideo.4">uvideo(4)</a> bogus frame selection check in uvideo_vs_negotiation().
<li>Use existing _ppp instead of _npppd as a user/group id for npppd (see usr.sbin/npppd/HOWTO_PIPEX_NPPPD.txt).
<li>New device added to <a href="https://man.openbsd.org/ufdti.4">ufdti(4)</a>.
<!-- 2011/10/27 -->
<li>Add screen*:XT to terminal-overrides for tmux-in-<a href="https://man.openbsd.org/tmux.1">tmux(1)</a>.
<li>Use PRI{x,d}64 in format strings instead of %llx, %lld or %qd to print <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> {u_,}int64_t or time_t.
<li>On reset, restore correct <a href="https://man.openbsd.org/ahci.4">ahci(4)</a> command register value. Gets port multipliers working on some ATI devices.
<li>Allow <a href="https://man.openbsd.org/shmctl.2">shmctl(2)</a> segments to be used even after they were marked for deletion with the IPC_RMID flag. Permitted as an extension beyond the standards.
<li>Don't offer/negotiate <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> SSLv2 or try to negotiate an RFC 4507-style session ticket, since some (broken and non-compliant) servers choke on TLS extension negotiation.
<!-- 2011/10/26 -->
<li>Fix <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> smtpctl pause/resume to correct ramqueue scheduling. Rename IMSG and pause/resume parameters.
<li>Apply a fix to <a href="https://man.openbsd.org/rum.4">rum(4)</a>, via FreeBSD.
<li>Intel EG20T serial added to sys/dev/pci/pucdata.c.
<!-- 2011/10/25 -->
<li>Use a new encoding for the entries in the sys/dev/pci/pucdata.c table. Halves the size of the .o file.
<li>Sync luna88k <a href="https://man.openbsd.org/disklabel.8">disklabel(8)</a> handling code with sparc, except for the SunOS vs UniOS differences for the legacy part (first eight partitions), which are preserved.
<li>Document some limits of <a href="https://man.openbsd.org/ifconfig.8">ifconfig(8)</a> "group-name".
<li>Rewrite the sender user/domain as specified in the <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> manpage when matching a "relay... as" rule.
<!-- 2011/10/24 -->
<li>Introduce a pluggable interrupt controller infrastructure for beagle, to allow pandaboard to share the port.
<li>Document that <a href="https://man.openbsd.org/aucat.1">aucat(1)</a> -aoff is not the default for the default device.
<li>Handle <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> infinite recursion the same way as groff: When string expansion exceeds the recursion limit, drop the whole input line, instead of leaving just the string unexpanded.
<li>Handle <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> \N numbered character escapes the same way as groff: If \N is followed by a digit, ignore \N and the digit. If \N is followed by a non-digit, the next non-digit ends the character number; the two delimiters need not match.
<li>Add POSIX references for <a href="https://man.openbsd.org/fchdir.2">fchdir(2)</a>, <a href="https://man.openbsd.org/fchmod.2">fchmod(2)</a>, <a href="https://man.openbsd.org/fchmodat.2">fchmodat(2)</a>, <a href="https://man.openbsd.org/fchown.2">fchown(2)</a>, <a href="https://man.openbsd.org/lchown.2">lchown(2)</a> and <a href="https://man.openbsd.org/execve.2">execve(2)</a>. State that <a href="https://man.openbsd.org/fchmod.2">fchmod(2)</a> can return EPERM as required by POSIX 2008.
<li>Update POSIX references for <a href="https://man.openbsd.org/chdir.2">chdir(2)</a> and <a href="https://man.openbsd.org/chmod.2">chmod(2)</a> from 1988 to 2008.
<li>Declare all sparc control register bitfield structs with uint16_t instead of u_int. Stops bus errors.
<li>Lower <a href="https://man.openbsd.org/carp.4">carp(4)</a> demote count on interface detach, fixes a bug introduced by rev 1.175.
<li>Fix unaligned pci config space access in intel <a href="https://man.openbsd.org/agp.4">agp(4)</a>.
<li><a href="https://man.openbsd.org/ssh.1">ssh(1)</a> bz#1859: send tty break to pty master instead of (probably already closed) slave side.
<li><a href="https://man.openbsd.org/ssh.1">ssh(1)</a> bz#1943: unbreak stdio forwarding when ControlPersist is in user.
<!-- 2011/10/23 -->
<li>When copying, <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> will now repeat the count indicate buffer to replace it if used.
<li><a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> MTA leak plugged, and smtpctl schedule diabled (use 'smtpctl schedule-id &lt;id>' - introduce 'smtpctl schedule-all').
<li>Introduce operation to move a message from schedule queue to corrupt queue upon <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> envelope loading failure.
<li>Import of Mesa 7.10.3.
<li>Support for \e[3J to clear <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> history. Alias NPage/PPage as PageDown/PgDn/PageUp/PgUp.
<li><a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> fsqueue now uses load/dump functions to convert to and from a human readable format.
<li><a href="https://man.openbsd.org/tmux.1">tmux(1)</a> will now attempt to resolve relative paths by first using client working directory (if any), then default-path or session working directory.
<li><a href="https://man.openbsd.org/tmux.1">tmux(1)</a> fixes: plugged memory leak; added client formats; LC_ALL and LC_CTYPE now ignored if they are empty and unset; initial session now uses size of command client even if detached.
<!-- 2011/10/22 -->
<li>Implement missing enclosures (Ao Do Qo Qq So Bro Brq) and enclosure-like in-line macros (Ad Cd Dv Er Ev Li Ms Tn) to <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a>. .No macro now works without explicit implementation.
<li>Sync the <a href="https://man.openbsd.org/uath.4">uath(4)</a> WEP text with other WPA texts.
<li>Comment out ISP_{T,}DEBUG[0-3] traces if option SMALL_KERNEL; allows alpha floppyB to fit again.
<li>Reduce the number of audio* nodes from 3 to 1 on vax, as none of the audio-capable vax can receive another audio device as expansion (until TURBOchannel with DMA on VS4k/90 is added).
<li>Added another Sunix id to <a href="https://man.openbsd.org/puc.4">puc(4)</a> for their 50xx series cards.
<li>Correctly set <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> relay when expanding envelopes.
<li>Added <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> -T command line option, to toggle logging of specific debugging info in verbose mode, to use for imsg traces.
<!-- 2011/10/21 -->
<li>Beagleboard/pandaboard now fetch u-boot parameters out of the register input. Devices now detect device_id from u-boot and decide to enable/disable themselves in the device match routine.
<li>Document that: PSEUDO_FLAVORS and FLAVORS should be defined prior to using <a href="https://man.openbsd.org/bsd.port.mk.5">bsd.port.mk(5)</a> and that CHOWN/CHMOD are dead.
<li>Correct <a href="https://man.openbsd.org/pflog.4">pflog(4)</a> packet interpretation for nat64.
<li>Strengthen some <a href="https://man.openbsd.org/pflog.4">pflog(4)</a> checks to prevent operations on mbuf chains of insufficient length; prevents some crashes.
<li>Make <a href="https://man.openbsd.org/uname.1">uname(1)</a> -p return the cpu architecture name on all hardware platforms.
<li>Copy the DUID back and forth between the in-core label and the Motorola VID block for mvme68k machines.
<li>No longer bzero in-core disklabel but rather the UniOS disklabel; fixes <a href="https://man.openbsd.org/vnd.4">vnd(4)</a> operation on luna88k.
<li>Fixup added to <a href="https://man.openbsd.org/pf.4">pf(4)</a> for icmp6 id's when translating.
<!-- 2011/10/20 -->
<li>Add support for Stollmann Active USB ISDN Terminal Adapter.
<li>Add Alcatel One Touch X210/X220 (another rebadged TCT Mobile modem) to <a href="https://man.openbsd.org/umsm.4">umsm(4)</a>.
<li>Add more paths to cursorpath, themes can now be installed under /usr/local/share/icons and /usr/local/share/pixmaps.
<li>Implement <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> missing text production macros (Bsx Bx Dx Fx Nx Ox Ux Bt Ud). Some macros work without explicit implementation (At Db Os St).
<li>For NAT-T with transport mode, use ISAKMP's SA addresses for the flow instead of ID payload. Fixes some L2TP/<a href="https://man.openbsd.org/i386/ipsec.4">ipsec(4)</a> from NAT'd clients issues.
<!-- 2011/10/19 -->
<li>Document <a href="https://man.openbsd.org/em.4">em(4)</a> support for 82583V.
<li><a href="https://man.openbsd.org/em.4">em(4)</a> reworked to prevent garbage output when changing snoop related registers on pch2.
<!-- 2011/10/18 -->
<li><a href="https://man.openbsd.org/aucat.1">aucat(1)</a> now keeps the device closed by default (when not used).
<li>Delay daemon fork() in <a href="https://man.openbsd.org/wsmoused.8">wsmoused(8)</a> until after initialisation has completed. Fixes rc race that caused X11 to fail to open /dev/wsmouse.
<li><a href="https://man.openbsd.org/systrace.1">systrace(1)</a> intercept_get_string() internal buffer now allows strings up to ARG_MAX long, so that ic_trargv can execute reliably.
<li>Fix CVE-2011-4028 in xserver/os/utils.c: file disclosure vulnerability. Symbolic links no longer followed when opening an existing lock file, thus avoid revealing if it points to an existing file.
<li>Support K and M as well as k and m for sizes in <a href="https://man.openbsd.org/dd.1">dd(1)</a>.
<li>Add an else clause for <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> if-shell.
<li>Huawei Mobile E173 now supported by <a href="https://man.openbsd.org/umsm.4">umsm(4)</a>.
<li><a href="https://man.openbsd.org/ssh.1">ssh(1)</a> will now skip attempting to create ~/.ssh when option -F is passed.
<li>New "<a href="https://man.openbsd.org/ssh-add.1">ssh-add(1)</a> -k" option to load plain keys (skipping certificates).
<li>Remove explict search for \0 in <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> packet strings, this is now done implicitly.
<!-- 2011/10/17 -->
<li>Remove midicat, as <a href="https://man.openbsd.org/aucat.1">aucat(1)</a> -M can now be used instead. Thru boxes MIDI port names have "aucat" prefix instead of "midithru". Old device names will still work some time for backward compatibility.
<li>Fix the synchronization of some alps touchpads and blacklist some devices that are not working with current driver.
<li>Use __tfork, <a href="https://man.openbsd.org/__get_tcb.2">__get_tcb(2)</a>, and <a href="https://man.openbsd.org/__set_tcb.2">__set_tcb(2)</a> to have a real TCB (thread control block) and per-thread errno.
<!-- 2011/10/16 -->
<li>Use m_pullup() to get the carp header in the v6 input path. Fixes occasional checksum mismatches.
<li>Sync <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> to <a href="https://man.openbsd.org/groff.1">groff(1)</a>, and add tier I and II NetBSD architectures. Stops misformating manuals coming from other operating systems.
<li>Add <a href="https://man.openbsd.org/wscanf.3">wscanf(3)</a> and <a href="https://man.openbsd.org/wcsftime.3">wcsftime(3)</a> (libc major bumped). Based on <a href="https://man.openbsd.org/scanf.3">scanf(3)</a>, with wide character support changes based on FreeBSD.
<li>Provide battery charge/discharge rate in proper units.
<li>Add optional checkpoints for moduli screening in <a href="https://man.openbsd.org/ssh-keygen.1">ssh-keygen(1)</a>.
<li>Note a <a href="https://man.openbsd.org/kqueue.2">kqueue(2)</a> restriction that is enforced as of OpenBSD 5.0.
<li>Document in <a href="https://man.openbsd.org/fork1.9">fork1(9)</a> new FORK_TFORK bit and that stack argument is used by <a href="https://man.openbsd.org/compat_linux.8">compat_linux(8)</a>.
<li>Update <a href="https://man.openbsd.org/xkeyboard-config.7">xkeyboard-config(7)</a> to 2.4.1.
<li>Add stubs and manpage for <a href="https://man.openbsd.org/__get_tcb.2">__get_tcb(2)</a> and <a href="https://man.openbsd.org/__set_tcb.2">__set_tcb(2)</a>.
<!-- 2011/10/15 -->
<li>Reset TCB addresses when exiting in sys/kern/kern_exec.c, to provide a clean setup for the new image.
<li>Reads aligned to the PCI config space in sys/dev/pci/agp_via.c and agpreg.h.
<li>"TLS-lite": add kernel support for a per-thread userspace pointer, for pointing to the thread-control-block.
<li>Respect the ToS setting in tcp syn+ack for IPv4 (still need to fix for IPv6).
<li>Variables set/unset in etc/rc.d/rc.subr that were missed before.
<li>Improve performance (throughput and loss rate) for PPTP, <a href="https://man.openbsd.org/pppd.8">pppd(8)</a> or L2TP(/IPsec) on unstable latency networks (eg mobile).
<!-- 2011/10/13 -->
<li>Introduce NAT64 to <a href="https://man.openbsd.org/pf.4">pf(4)</a>, a generic IP version translator using "af-to" in <a href="https://man.openbsd.org/pfctl.8">pfctl(8)</a>, <a href="https://man.openbsd.org/systat.1">systat(1)</a>, and <a href="https://man.openbsd.org/tcpdump.8">tcpdump(8)</a>.
<li>Fixed use after free in <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> SSL code.
<li>Enforce alignment on i386/amd64 when doing reads and writes to PCI config space to space to uncover bugs.
<li>Start <a href="https://man.openbsd.org/ldapd.8">ldapd(8)</a> earlier in <a href="https://man.openbsd.org/rc.d.8">rc.d(8)</a> so that <a href="https://man.openbsd.org/ypldap.8">ypldap(8)</a> can properly run.
<li>Added known good version of ldstub to kernel (for GCC asm constraints).
<li>Increase stack offset for rthread from (BIAS+128) to (BIAD+CC64FSZ). This fixes _rthread_start compiled without optimization.
<li>Convert rfork_thread() from int$80 to syscall; tune asm to avoid stack and use smaller instructions; pass threxit() a NULL pointer.
<!-- 2011/10/12 -->
<li>Localize _new_pexp unconditionally in etc/rc.d/rc.subr, so rc_read_runfile() cannot pick it up from a polluted environment.
<li>Remove all MD diagnostics in cpu_switchto(), and move them to MI code if they apply.
<li>Fixed strings allocated with xmalloc to be freed with xfree (not free) in xenocara/app/cwm/group.c.
<li>Simplified and improved <a href="https://man.openbsd.org/aucat.1">aucat(1)</a> options and increased log verbosity.
<!-- 2011/10/11 -->
<li>Add a flag for nginx (-u) to disable chroot. Same config file can now be used whether chroot/non-chrooted setup.
<li>Updated Perl digest module to 1.17 (security fix).
<li>Document that virtual maps require a domain key in <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a>; parsing fixed in :include: aliases.
<!-- 2011/10/10 -->
<li>Put <a href="https://man.openbsd.org/sd.4">sd(4)</a> SCSI drives in standby mode when we're powering down the machine.
<li>Allow "bus_space_tag_t" in <a href="https://man.openbsd.org/sgi/xbridge.4">xbridge(4/sgi)</a> to return based on the byteswap setting of the device we are trying to attach.
<li>Introduce pci_probe_device_hook function, so pci host drivers can alter the pci_attach_args passed to a device when attaching.
<li>Put in code for wcstfime to be linked in and activated alongside wscanf.
<li>Open Group Corrigendum U033/8 applied so <a href="https://man.openbsd.org/strftime.3">strftime(3)</a> returns "52" instead of "53" for certain days.
<li>Added tlphy everywhere tl is enabled (RAMDISK_CD and RAMDISKDISK, i386 and Alpha).
<li>Regression test for pthreads wait*() hang issue when SIGCHLD is ignored (a la Python).
<li>Added support for WCH CH352 serial via PCI.
<li>Show messages sent between processes in debug mode for <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a>.
<li>Sync to <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> version 1.12.0.
<li>Rework secondary processor (cmmu) initialization and improve cache management for aavion, m88k, and mvme88k architectures.
<li>Test etc/rc.d/rc.subr to make sure ${pexp} is not an empty string (which would send a SIGTERM to <a href="https://man.openbsd.org/init.8">init(8)</a>).
<li>Allow pkg_add to proceed whether we choose to syslog before or after we parse the command line options.
<li>Add a missing newline when you merge <a href="https://man.openbsd.org/i386/login.conf.0">login.conf(5)</a> if login.conf.db doesn't exist.
<li>Fix the backspace key under X11 and make the "option" key behaves like in console. The "command" key is now the alt modifier.
<li>Make it possible to restart/stop a daemon using <a href="https://man.openbsd.org/rc.d.8">rc.d(8)</a> after having changed its _flags in <a href="https://man.openbsd.org/rc.conf.8">rc.conf(8)</a>.
<li>Fix libc/locale format so day of month uses %e (single digits preceded by a blank instead of a 0) and not %d (per POSIX).
<li>Document the HISTORY of options and the fate of <a href="https://man.openbsd.org/whereis.1">whereis(1)</a>.
<li>Correct history and formatting of <a href="https://man.openbsd.org/apropos.1">apropos(1)</a>, <a href="https://man.openbsd.org/whatis.1">whatis(1)</a> and <a href="https://man.openbsd.org/whereis.1">whereis(1)</a>: (already part of 2BSD, author Bill Joy).
<!-- 2011/10/08 -->
<li>Man page for <a href="https://man.openbsd.org/units.1">units(1)</a> updated to explain units' output more clearly.
<li>Return <a href="https://man.openbsd.org/less.1">less(1)</a> to the old behaviour for "more", so pressing F ^C will not leave you at a prompt at the end of the file.
<li>Fixed Nginx ngx_http_core_module.c to specify root as /var/www/htdocs, not /var/www/html.
<li>Removed paragraph in Xenocara README about building using shadow link tree (not supported anymore).
<li>Update to terminfo.src from ncurses-5.9-20111001.
<!-- 2011/10/07 -->
<li>Make <a href="https://man.openbsd.org/mmap.2">mmap(2)</a> with len=0 fail signalling EINVAL, to conform with POSIX.
<li>Bugfix merged from X.Org git: fixes Xenocara build for m68k architectures.
<li>Rename some variables and functions in <a href="https://man.openbsd.org/altq.9">altq(9)</a> code that were causing namespace violations.
<li>Domainname is now set before rc.conf is run to accommidate recent <a href="https://man.openbsd.org/ypbind.8">ypbind(8)</a> changes.
<li>If <a href="https://man.openbsd.org/pthreads.3">pthreads(3)</a> SA_RESTART is set, make threads waiting on PS_FDW_WAIT uninterruptible (<a href="https://man.openbsd.org/connect.2">connect(2)</a> being the exception).
<li>Make <a href="https://man.openbsd.org/sdtemp.4">sdtemp(4)</a> detect the ts3000b3 and stts2002 temperature sensors, stop some false-positive detections of cat34ts02.
<li>Added support for <a href="https://man.openbsd.org/uftdi.4">uftdi(4)</a>: RT Systems interface cable (rebranded FTDI) for Yaesu ham radios.
<li>Allow <a href="https://man.openbsd.org/ypbind.8">ypbind(8)</a> to start like other daemons (using ypbind_flags) while preserving its historical startup behaviour.
<li><a href="https://man.openbsd.org/apropos.1">apropos(1)</a> replacement imported; it and <a href="#mandocdb">mandocdb</a> linked to the <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> binary; mandocdb manual installed.
<!-- 2011/10/06 -->
<li><a href="https://man.openbsd.org/i386/ccd.4">ccd(4)</a> deprecated and moved to the (source code) attic.
<li>Fixed missing #else in indexed array in sys/arch/mvme88k/mvme88k/conf.c.
<li>Added questions to <a href="https://man.openbsd.org/quiz.6">quiz(6)</a>.
<li>Allow bigger prefixes in <a href="https://man.openbsd.org/units.1">units(1)</a>; add many other units, symbols, and prefixes (eg becquerel, curie, gray, eV, bohrradius).
<li>Removed binaries which are no longer necesssary for building a release.
<li>Better newline error messages for <a href="https://man.openbsd.org/bc.1">bc(1)</a>.
<li>Make struct chunk_info a variable sized struct, wasting less space for bitmap metadata in <a href="https://man.openbsd.org/malloc.3">malloc(3)</a>.
<li>Allows correct registration of <a href="https://man.openbsd.org/kqueue.2">kqueue(2)</a> notifications on /dev/tty to avoid potential local DoS.
<li>Bugfix for ypserv <a href="https://man.openbsd.org/rc.d.8">rc.d(8)</a> script.
<!-- 2011/10/05 -->
<li>Update version information in lib/libxcb/src/config.h for libxcb.
<li>Fix the "nginx -s reopen" file reopening failure bug which occured because Nginx is in chroot.
<li>Make <a href="https://man.openbsd.org/aucat.1">aucat(1)</a> restart <a href="https://man.openbsd.org/connect.2">connect(2)</a> if it returns EINTR (socket connection broken before signal delivered).
<li>Workaround dead sensor problem by deactivating the i2c alias when ISA interface is available.
<li>Added /usr/local/sbin to the default path in <a href="https://man.openbsd.org/login.conf.5">login.conf(5)</a>.
<li>Move inqbufs off the stack to dma_alloc/dma_free in sys/dev/ic/ami.c.
<li>Finalise support for 82580 based devices (eg Intel I340-T4 and HP NC365T); simplify multi port handling.
<!-- 2011/10/04 -->
<li>Clarified comments in <a href="https://man.openbsd.org/sio_open.3">sio_open(3)</a>.
<li>Clarify comment in /etc/master.passwd that user "nobody" is not just for NFS (used by <a href="https://man.openbsd.org/locate.1">locate(1)</a> as well).
<li>Reconfigure default sys/arch/amd64/conf/RAMDISK to support <a href="https://man.openbsd.org/ehci.4">ehci(4)</a>, also to disable <a href="https://man.openbsd.org/sk.4">sk(4)</a> and <a href="https://man.openbsd.org/vge.4">vge(4)</a>.
<li>Fix bz#1683 to silence <a href="https://man.openbsd.org/sftp.1">sftp(1)</a> error spam for "ls */foo" in directory with files.
<li>Change -w flag in <a href="https://man.openbsd.org/nc.1">nc(1)</a> to apply to the connection as well.
<li>Add support for ALPS touchpads and fix the "slow touchpad" problem.
<!-- 2011/10/03 -->
<li>Add a 'flag' locator to <a href="https://man.openbsd.org/gpioiic.4">gpioiic(4)</a>; define a first flag value to swap the SDA and SCL pins assigment during attach.
<li>Fix a segmentation fault in <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> triggering if clients sent a large number of DATA lines in one write.
<li>Clarify <a href="https://man.openbsd.org/smtpd.conf.5">smtpd.conf(5)</a>, that network sources are to be specified in CIDR notation.
<li>Update to nginx-1.0.8 (many bugfixes).
<li>Fix regression tests for mdoclint to look in man* subdirs (not cat*).
<li>Change <a href="https://man.openbsd.org/ps.1">ps(1)</a> man page to list the fields in the default display to reflect the order of display output.
<li>Updated <a href="https://man.openbsd.org/port-modules.5">port-modules(5)</a> to reflect changes to the Gnome module.
<!-- 2011/10/02 -->
<li>Update the SI prefixes section of units.lib, the standard units library; added SEE ALSO references to <a href="https://man.openbsd.org/units.1">units(1)</a>.
<li>Tidy warnings and better error handling for <a href="https://man.openbsd.org/config.8">config(8)</a> -e.
<li>Fixed sign in lib/libc/stdio/mktemp.c.
<li>Add formats for panes (tty, pid, start cmd/cwd) in <a href="https://man.openbsd.org/tmux.1">tmux(1)</a>.
<!-- 2011/10/01 -->
<li>Fix an X server crash when starting GLX 1.3 apps.
<li>Signal handling regression tests for <a href="https://man.openbsd.org/pthread_join.3">pthread_join(3)</a> and <a href="https://man.openbsd.org/pthread_mutex_lock.3">pthread_mutex_lock(3)</a>.
<li>Remove the exchange rate entries now pegged to the euro ("Maltalira" and "Slovakkoruna").
<li><a href="https://man.openbsd.org/tcpbench.1">tcpbench(1)</a>: -l flag lists the kernel variables available for monitoring.
<!-- 2011/09/30 -->
<li>Added cyprus pounds, maltese lira, slovakian koruna, and slovenian tolar to <a href="https://man.openbsd.org/units.1">units(1)</a>.
<li>Fix inverted test that caused logspam in <a href="https://man.openbsd.org/sshd.8">sshd(8)</a>.
<li>Set user PATH from login.conf instead of hard-coded default in <a href="https://man.openbsd.org/xdm.1">xdm(1)</a>.
<li>ISO 4217 updates for the currencies in the <a href="https://man.openbsd.org/units.1">units(1)</a> federal reserve section.
<li>Alphabetically sort the list of currency aliases in <a href="https://man.openbsd.org/units.1">units(1)</a>. Now sorted by base unit rather than alias name.
<li>Change ni_dirfd's position in struct nameidata in sys/sys/namei.h. Eliminates some alignment padding.
<li><a href="https://man.openbsd.org/sshd.8">sshd(8)</a> no longer attempts privsep cleanup when not using privsep.
<li><a href="https://man.openbsd.org/mdoc.7">mdoc(7)</a> now implements .Ap .Bd .Bo .Bq .D1 .Ic .Lp .Oo .Pf .Po .Ss .Sx .Sy .br .sp and .Bl -bullet; adds more info to the .TH line escape dots; adds newline character at EOF; and no longer misinterprets ROOT block as .Ap.
<!-- 2011/09/29 -->
<li>Remove assembly defines for various struct disklabel field offsets in sys/sys/disklabel.h (nothing depends on them anymore).
<li>Make Vax get size of struct disklabel with a genassym script, instead of relying upon sys/disklabel.h.
<li>Avoid a potential NULL dereference if nports == 0 in sys/dev/usb/uhub.c.
<!-- 2011/09/28 -->
<li>Add -S option to <a href="https://man.openbsd.org/tmux.1">tmux(1)</a>, allows alternate path to the server socket.
<li>Support symbols in .tbss and .tdata <a href="https://man.openbsd.org/nm.1">nm(1)</a> ELF sections.
<li>Update <a href="https://man.openbsd.org/i386/awk.0">awk(1)</a> to Aug 10, 2011 version.
<li>Make sure "references" is not optimized away in lib/libpthread/uthread/uthread_init.c (required for the static version of pthread).
<li>Disable FIFO on M series "com to ebus" on Sparc64 by telling the driver its a 16550 (stops the MI com code from probing it as a 16550a).
<!-- 2011/09/27 -->
<li>Stop groff complaining when <a href="https://man.openbsd.org/mdoc.7">mdoc(7)</a> .Bl appears unescaped on a macro line.
<li>Make bus_addr_t and bus_size_t u_long types; this makes the declaration of these types consistent accross all supported platforms.
<li>Make struct label_t large enough for the kernel setjmp() purposes for Sparc and Sparc64.
<li>Enable previous <a href="https://man.openbsd.org/gcc.1">gcc(1)</a> find_barrier() pessimization for non-PIC code also.
<li>Do not write to the MCESR register on microVAX II and SOC processors, as this register is not implemented on those models.
<li>On Vax, only handle a machine check as caused by badaddr() if the local "memtest" variable != 0, instead of abusing "cold".
<!-- 2011/09/26 -->
<li>Notify ifmedia layer of link loss on SGEC interfaces, so that "ifconfig <a href="https://man.openbsd.org/vax/ze.4">ze0(4/vax)</a>" reports the correct state instead of always pretending it is up.
<li>Replace the <a href="https://man.openbsd.org/mdoc.7">mdoc(7)</a> .Fl examples by others exhibiting the same features, but avoiding use of .Nm (as it is an unusual style).
<li>Use, as far as possible, the same notation in <a href="https://man.openbsd.org/newsyslog.8">newsyslog(8)</a> for date strings as other manual pages.
<li>Retain alphabetical order for the -Toutput list, and use a better looking width specifier in <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a>.
<!-- 2011/09/25 -->
<li><a href="https://man.openbsd.org/tmux.1">tmux(1)</a> will now reject $SHELL if it is not a full path.
<li>Pass on RC_DEBUG and RC_FORCE flags in the <a href="https://man.openbsd.org/rc.d.8">rc.d(8)</a> on restart (rather than exporting them and expose the script to a potentially polluted environment).
<li><a href="https://man.openbsd.org/sysctl.3">sysctl(3)</a> KERN_BUFCACHEPERCENT defaults to 20%, old value was 10%.
<li>Ask for SUBDIRs with FULLPATH set in <a href="https://man.openbsd.org/pkg_add.1">pkg_add(1)</a>.
<li>Improved <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> AuthorizedPrincipalsFile debug log message to include file and line number.
<li>Restore correct display of the 'V' flag on the parent in vfork() in <a href="https://man.openbsd.org/ps.1">ps(1)</a>.
<li>Add -H option to <a href="https://man.openbsd.org/ps.1">ps(1)</a> to show rthreads, hiding them by default.
<!-- 2011/09/24 -->
<li>Repaired <a href="https://man.openbsd.org/rc.d.8">rc.d(8)</a> "restart" debug and force modes ("restart" calls "stop" then "start"); appended "_" to those variable names to clarify they are internal.
<li>Update to xf86-input-synaptics 1.5.0 and freetype 2.4.6.
<li><a href="https://man.openbsd.org/perl.1">perl(1)</a> no longer attempts to use LC_COLLATE or LC_NUMERIC which we don't yet support.
<li>Created a new "bounce" file for ports infrastructure. Use bsd.own.mk's guard against multiple includes.
<!-- 2011/09/23 -->
<li><a href="https://man.openbsd.org/ports.7">ports(7)</a> now tells people to use <a href="https://man.openbsd.org/dpb.1">dpb(1)</a> for bulk builds.
<li>Gnome.port.mk <a href="https://man.openbsd.org/port-modules.5">port-modules(5)</a> tweaks: MODGNOME_DESKTOP_FILE is not unconditonally set, expanded FAKE_FLAGS line.
<li>Make sure siop_xfer is a multiple of 128 bytes in sys/dev/ic/siopvar.h as intended; makes hppa64 much happier.
<li>Added a test for recursive pthread_mutex_trylock().
<li>XHCI -&gt; xHCI and some additional devices added to sys/dev/pci/pcidevs.
<li>Let makefile.cross detect word-size mismatches between host and target, previous behaviour resulted in the cross compiler generating incorrect code and aborting.
<li>Unbreak <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> remote port forwarding with dynamic allocated listen ports by send the actual listen port in the open message (instead of 0) and updating the matching permit-open entry.
<li>Add wildcard support to <a href="https://man.openbsd.org/sshd.8">sshd(8)</a> PermitOpen, allowing things like "PermitOpen localhost:*", from bz #1857.
<!-- 2011/09/22 -->
<li>Import of nginx 1.0.6 with a bundled libpcre. A possible replacement for Apache <a href="https://man.openbsd.org/httpd.8">httpd(8)</a> to be included in base.
<li>Now, always install all manuals on all architectures. No exceptions even for binutils. No more share/man in src/distrib/sets/lists/*/md.*.
<li>Improved kernel malloc type checking in sys/kern/kern_malloc.c.
<li>Fix order of arguments passed to <a href="https://man.openbsd.org/malloc.9">malloc(9)</a> - type first then flags in sys/scsi/scsiconf.c.
<li>Let <a href="https://man.openbsd.org/tcpdump.8">tcpdump(8)</a> use the same format for printing IPv6 fragments as for IPv4. Now both use id:len@off+more.
<li>Added missing ia64 bits to gnu/usr.bin/cc/libgcc/Makefile.
<li>Make use of the filename argument to open_error() in <a href="https://man.openbsd.org/yacc.1">yacc(1)</a>.
<li>Mask value no longer erased when setting/clearing system mask. Added diagnostic for interrupt handler IPL levels in sys/arch/hppa64/hppa64/intr.c.
<li>Purged the rcsid in <a href="https://man.openbsd.org/adduser.8">adduser(8)</a>.
<li>Removed the rcsid in <a href="https://man.openbsd.org/compress.1">compress(1)</a> and <a href="https://man.openbsd.org/gzip.1">gzip(1)</a>. -V and -L options are now silent.
<li>Stop using the latin1 character set in the "C" locale (non-standard behaviour which looks garbled in UTF-8). Non-locale-aware tools should only print ASCII. To use an extended character set you now must set LC_CTYPE.
<li>Fix to <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> bz#1935 and <a href="https://man.openbsd.org/sftp.1">sftp(1)</a> implicit sorts while globbing.
<!-- 2011/09/21 -->
<li>Added regression tests with many kinds of overlapping and invalid data for <a href="https://man.openbsd.org/pf.4">pf(4)</a> fragment reassembly.
<li>Move the prototype for disk_readlabel from sys/kern/subr_disk.c to sys/sys/disk.h so hibernate can access it.
<li>Added note in <a href="https://man.openbsd.org/gcc-local.1">gcc-local(1)</a> man page that -ftree-vrp removed from -O2 as it is known to be broken in 4.2.1.
<li>Check the protocol header length for tcp, udp, icmp, icmp6 in pf_setup_pdesc() in <a href="https://man.openbsd.org/pf.4">pf(4)</a>.
<li>Use new <a href="https://man.openbsd.org/relayd.8">relayd(8)</a> idle timeout for socket splicing so userland can measure session timeouts properly; splice with http if relayd does not check headers.
<li>Repair interrupted reads in <a href="https://man.openbsd.org/less.1">less(1)</a> and use volatile sig_atomic_t, not int, for the sigs variable.
<li>Fix to stop <a href="https://man.openbsd.org/named.8">named(8)</a> logging messages when it shouldn't. Bug reported to ISC (RT #24053) and now included in current bind releases.
<li>Disable st* in sys/arch/i386/conf/RAMDISK to shrink ramdisk size.
<li>Use the synaptics driver with ALPS touchpads.
<li>Add rdomain support to <a href="https://man.openbsd.org/ntpd.8">ntpd(8)</a>.
<li>Allow <a href="https://man.openbsd.org/bgpctl.8">bgpctl(8)</a> to parse and/or filter MRT table dumps (all 3 formats) and display them like the show rib/show rib detail output.
<li>Rename pmap_procwr() to pmap_proc_iflush() to get the intended behaviour in <a href="https://man.openbsd.org/pmap.9">pmap(9)</a>.
<li>Fix Beagleboard range check in intc_intr_establish() in sys/arch/beagle/dev/intc.c.
<li>When breaking an overflowing line, <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> now ignores pending whitespace (vbl), so next line is not misaligned or too long.
<li>Fix nexthop_modify() to reset the flags when called so later set nexthop &lt;IP&gt; is applied in <a href="https://man.openbsd.org/bgpd.8">bgpd(8)</a>.
<li>Add /usr/local/share/terminfo to search path so ports can install custom terminfo files. Minor <a href="https://man.openbsd.org/ncurses.3">ncurses(3)</a> bump to allow packages to depend on the right version.
<li>Cleanup page calculation for final memory chunk ordering list for hibernate resume in sys/kern/subr_hibernate.c.
<li>Perform most of the remaining refactoring of hibernate code into MI/MD parts. This also introduces a chunk placement routine.
<!-- 2011/09/20 -->
<li>Groff compatibility in <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> for the rendering of foreign manuals: support .Lb -libdwarf and update .Lb -libelf.
<li>Rewrite of the <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> horizontal spacing of tables, to work both with and without frames and rulers.
<li>Added a MACRO OVERVIEW section to <a href="https://man.openbsd.org/man.7">man(7)</a>.
<li>Remove all remains of arm26 code/support for ARM2, ARM2AS, ARM3, ARM6, ARM7, ARM7TDMI and StrongARM processor families.
<li>No longer check for SPX on KA410 (VS2000), since the only colour option for this machine is GPX.
<li>Use <a href="https://man.openbsd.org/errx.3">errx(3)</a> instead of <a href="https://man.openbsd.org/fprintf.3">fprintf(3)</a> and <a href="https://man.openbsd.org/exit.3">exit(3)</a> in <a href="https://man.openbsd.org/midiplay.1">midiplay(1)</a>.
<li>When restarting a system call go back four instructions, not three, since this has to match libc/arch/hppa64/SYS.h.
<li>When compiling PIC code; limit instructions between two set of pc-relative loaded data in find_barrier(); avoids "pcrel too far" <a href="https://man.openbsd.org/as.1">as(1)</a> errors.
<li>Remove the "portmap" variable, it's unused now (use portmap_flags) in etc/rc.conf.
<li>Avoid pf_setup_pdesc() panics in <a href="https://man.openbsd.org/pf.4">pf(4)</a> by using "switch(af)" for af dependent code.
<li>Disabled 3D ring commands on sandybridge so VT switches (and therefore suspend) will no longer hang.
<li>On x220 resume, skip restoring the modeset registers on sandybrige, rely on the (upcoming) xf86-video-intel driver instead. Fixes hang.
<li><a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> .TP no longer assumes that a head argument with a matching input line number is a same-line argument.
<li><a href="https://man.openbsd.org/pkg-config.1">pkg-config(1)</a> no longer allows variable expansion to multiple values in a field (unlike freedesktop.org version).
<li>Very early in suspend while the clock is still ticking realtime, save the clock back to the rtc.
<li>When advancing <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> left margin, .RS also needs to reset the right margin to the default and check that the left does not outgrow the right one.
<li>Mark <a href="https://man.openbsd.org/softraid.4">softraid(4)</a> crypto volumes as being capable of auto assembly (they are if used with a key disk).
<li>In <a href="https://man.openbsd.org/glob.3">glob(3)</a>, limit recursion during matching attempts, similar to <a href="https://man.openbsd.org/fnmatch.3">fnmatch(3)</a> fix. Also collapse consecutive "*".
<li>Clear RB_POWERDOWN early in boot() on hp300/hppa (which cannot powerdown and whose firmware does not send "spin up" to disks).
<li><a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> will now display sane page header line even when .Dt is very long.
<li><a href="https://man.openbsd.org/i386/memconfig.8">memconfig(8)</a> now reports the "fix-active" flag, and print any other unknown flags in hex.
<!-- 2011/09/19 -->
<li>Add pipe2 to sys/compat/linux/linux_ipc.c and syscalls.master.
<li>Add a test suite to analyse traffic going via <a href="https://man.openbsd.org/pf.4">pf(4)</a>. Needs four machines setup as described in the makefile.
<li>Fix unix socket handling by trimming when the length is too large in sys/compat/linux/linux_socket.c.
<li>Removed <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> terminal frontend flag TERMP_NOLPAD.
<li><a href="https://man.openbsd.org/kdump.1">kdump(1)</a> now understands "siginfo-style" signal sub-codes, and the (currently) limited subset of info the kernel supplies.
<li>Vax system type constants cleaned up.
<li>Enable loading kernel outside <a href="https://man.openbsd.org/softraid.4">softraid(4)</a> volume, yet still use it as root device (providing we booted from its chunks).
<li>When installboot runs on a <a href="https://man.openbsd.org/softraid.4">softraid(4)</a> volume, add boot metadata to store volume/chunk DUIDs, (so can ID root disk).
<li>Print 64 bit values in sys/arch/vax/vsa/hdc9224.c with %ll to get a meaningful message at attach time.
<li>Use long calls in lib/csu/hppa64/md_init.h like we do on hppa, stops functions possibly being unreachable.
<li>Sync with libX11/src/UIThrStubs to fix __pthread_once_stub() in lib/libpthread-stubs/stubs.c.
<li>Fix _Xthr_once_stub_() to call the init routine for each different id in lib/libX11/src/UIThrStubs.c.
<li>Set default daemon_flags (matching <a href="https://man.openbsd.org/rc.conf.local.8">rc.conf.local(8)</a>) for <a href="https://man.openbsd.org/ftpd.8">ftpd(8)</a>, <a href="https://man.openbsd.org/identd.8">identd(8)</a>, <a href="https://man.openbsd.org/mopd.8">mopd(8)</a>, <a href="https://man.openbsd.org/popa3d.8">popa3d(8)</a>, <a href="https://man.openbsd.org/rarpd.8">rarpd(8)</a>. See <a href="https://man.openbsd.org/rc.d.8">rc.d(8)</a>.
<li>Use arguments for rc script instead of env variables to indicate debug mode; allow "forced mode" even if daemon_flags="NO".
<li>Kill prototypes for long removed <a href="https://man.openbsd.org/ifconfig.8">ifconfig(8)</a> functions.
<li>Enable thread model posix for gcc 3. Dwarf2 exception handling and libstdc++ now thread safe.
<li>Clean up <a href="https://man.openbsd.org/systat.1">systat(1)</a> buffer cache statistics to remove useless statistics; add new ones regarding kva usage in cache.
<li>Expand syscall awareness in preparation for pipe2 implementation in sys/compat/linux/syscalls.master.
<li>Stopped unconditionally creating dynamic sections in gnu/usr.bin/binutils-2.17/bfd/elf64-hppa.c since that makes building static binaries impossible.
<li>Removed some unnecessary debug code in sys/arch/hppa64/hppa64/machdep.c.
<li><a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> fixed to avoid fatal() when we receive a line which have a length of exactly 1024.
<li>Disabled TRAPDEBUG in sys/arch/hppa64/hppa64/trap.c.
<li>Make it more clear what are subtypes and cleanup of the mrt definitions in <a href="https://man.openbsd.org/bgpd.8">bgpd(8)</a> code.
<li>Missing argument in STIDEBUG printf in sys/dev/ic/sti.c corrected.
<li>Fixed sys/arch/hppa/dev/elroy.c and hppa64/dev/elroyc so %b format strings take the value before the bitname string, not the other way around.
<li>In sys/lib/libkern/arch/hppa64/bcopy.m4, when checking if the addresses are 4-byte aligned, avoid sign-extension when extracting the low bits.
<li>Remove %r and %z from <a href="https://man.openbsd.org/printf.9">printf(9)</a> man page, deprecated some time ago. Mention %hh, %j and %t are not supported.
<li>Handle an instruction memory protection trap from userland as an ordinary fault in sys/arch/hppa64/hppa64/trap.c.
<li>In lib/libc/arch/hppa64/SYS.h, make sure entire system call address is cleared. Look at %r1 to determine whether a system call was successful, since that is where the kernel puts the information.
<li>Removed the /usr/share/man/ps* hierarchy and supporting variables; MANPS disappeared during the source manuals switch.
<li>Move <a href="https://man.openbsd.org/cwm.1">cwm(1)</a> client to group (movetogroup) and hide client only if group is already hidden.
<li>Breaking the line at a hyphen is now only allowed by <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> if the hyphen is both preceded and followed by an alphabetic character. Fixes about a dozen places in base.
<li>Make sure snooping is enabled on Intel HDA variants. Fixes audio on ThinkPad x220.
<!-- 2011/09/18 -->
<li>Add support for *at() system calls to <a href="https://man.openbsd.org/systrace.1">systrace(1)</a>.
<li>Fix more printf format string bugs in sys/ufs, and one more %hh format stringin sys/kern/uipc_mbuf.c.
<li>Removed requirement for processes that need PS_* flags to #define __need_process, as they are exposed to userspace via sysctl(KERN_PROC).
<li>Moved rq_host pointer to outside of rq_msg envelope, as a single <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> ramqueue message may be shared by many ramqueue envelopes for delivery to many ramqueue hosts.
<li>Regression check whether breakable hyphens are formatted correctly (normal, bold or underlined) and actually break the line.
<li>Renamed a few functions, structs, etc that collide with upcoming stuff in <a href="https://man.openbsd.org/altq.9">altq(9)</a> code.
<li>Add support for variable length optional metadata in <a href="https://man.openbsd.org/softraid.4">softraid(4)</a> allowing new optional metadata types to be added without needing to change the softraid metadata version.
<li>Fix exchanged arguments in sys/arch/hp300/dev/mb89352.c.
<li>Fixed pointer set to NULL not 0 in sys/dev/usb/ohci.c.
<li>Regression test for <a href="https://man.openbsd.org/pthreads.3">pthreads(3)</a> interrupted connect.
<li>Sync to <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> version 1.11.7, main new feature is support for <a href="https://man.openbsd.org/roff.7">roff(7)</a> .tr request; bugfixes and some refactoring.
<li>Fixes to the trap save/restore and the signal handling code in sys/arch/hppa64/hppa64/locore.S and machdep.c.
<li>Extract 8 octets (as per RFC 2661) rather than a long in usr.sbin/tcpdump/print-l2tp.c.
<li>Move <a href="https://man.openbsd.org/pf.4">pf(4)</a> pdesc initialization code into pf_setup_pdesc(); unify some IPv4 and IPv6 code and set fields in the same order.
<li>Disable space-ID hashing in sys/arch/hppa64/hppa64/locore.S like we do on hppa.
<li>Removed 'hh' modifier in printf format strings in sys/kern/kern_sysctl.c and subr_disk.c, unavailable in kernel printf.
<li>Update the Loongson system clock when we resume.
<li>Use an uvm object to track the page table pages, like on hppa. Add cache flushing in places where hppa does them.
<li>Make sure daddr64_t filesystem values get printed with %lld.
<li>Fix to various format string types to as a minimum match the width of the variables being processed.
<li>Take into account the PIE bits when masking PDEs in sys/arch/hppa64/hppa64/pmap.c.
<li>Add missing cache and TLB purges in sys/arch/hppa64/hppa64/mainbus.c.
<li>Sync <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> to version 1.11.5: adding an implementation of the <a href="https://man.openbsd.org/eqn.7">eqn(7)</a> language.
<li>Avoid potential 64-bit unaligned access on strict alignment architectures in <a href="https://man.openbsd.org/tcpdump.8">tcpdump(8)</a>.
<li>Reorder headerfiles used in <a href="https://man.openbsd.org/bgpd.8">bgpd(8)</a>. Move bgpd specific prototypes out of mrt.h to include only protocol specific defines.
<li>Override LIB2ADDEH on ia64. Makes it possible to build a cross compiler; exception handling needs work still.
<li>Makefile.cross corrected so ia64 will use gcc4.
<li>Added futex support for <a href="https://man.openbsd.org/compat_linux.8">compat_linux(8)</a>.
<li>Make sysctl__string() handle truncated output case via two copyout()s instead of altering variable; return full length via oldlenp.
<!-- 2011/09/17 -->
<li>Add MACRO OVERVIEW to <a href="https://man.openbsd.org/mdoc.7">mdoc(7)</a>, listing macros ordered by purpose, to decide which is best for a particular use case.
<li>Make <a href="https://man.openbsd.org/tcpdump.8">tcpdump(8)</a> -v print the id and seq of icmp6 echo packets.
<li>Added <a href="https://man.openbsd.org/pkg_add.1">pkg_add(1)</a> regression tests for --variable (expansion to multiple values) and for linebreaks inside fields, both currently failing.
<li>Document proper cross-tools command to run, especially when working on a new port.
<li>Update pointer variable after copying misaligned packet in <a href="https://man.openbsd.org/tcpdump.8">tcpdump(8)</a>.
<li>Implement new <a href="https://man.openbsd.org/bgpd.8">bgpd(8)</a> mrt table dump format as specified in draft-ietf-grow-mrt. Tested with IP and IPv6 sessions and against the libbgpdump parser.
<li>Remove pd-&gt;ip_sum and pd-&gt;proto_sum fields in <a href="https://man.openbsd.org/pf.4">pf(4)</a> code. Replace pd2.ip_sum with a local variable. Remove ip_sum and proto_sum from struct pf_pdesc.
<li>Access a 32-bit field as u_int32_t, not as u_long in <a href="https://man.openbsd.org/tcpdump.8">tcpdump(8)</a>.
<li>Make <a href="https://man.openbsd.org/pkg_add.1">pkg_add(1)</a> -nvv work with respect to <a href="https://man.openbsd.org/whatis.1">whatis(1)</a> whatis.db updates.
<li>Rewrite the main loop of the <a href="https://man.openbsd.org/sed.1">sed(1)</a> "s/..." command, to fix multiple issues regarding the replacement of zero-length strings.
<li>Apply the fnmatch recursion limit fix to the local copy of fnmatch in <a href="https://man.openbsd.org/httpd.8">httpd(8)</a>.
<li>Expand fnmatch() regress with patterns obtained from the tests for APR's new fnmatch implementation. Allow comment lines in the test data file.
<li>Initial, incomplete support for -Tman to convert <a href="https://man.openbsd.org/mdoc.7">mdoc(7)</a> documents to the <a href="https://man.openbsd.org/man.7">man(7)</a> language.
<li>Standarize the ToS option across <a href="https://man.openbsd.org/nc.1">nc(1)</a>/<a href="https://man.openbsd.org/ping.8">ping(8)</a>/<a href="https://man.openbsd.org/traceroute.8">traceroute(8)</a> so that they'll accept the same values as pf.conf. It accepts decimal, hexadecimal and the dscp/tos keywords.
<li>Add SMALL infrastructure to <a href="https://man.openbsd.org/ping.8">ping(8)</a> makefile.
<li>Change the <a href="#mandocdb">mandocdb</a> interface to better agree with <a href="https://man.openbsd.org/makewhatis.8">makewhatis(8)</a>; in particular, allow recursing multiple directories and create multiple databases in one call.
<li>Use default_chip_unmap for sata_chip_map, lets the VIA controllers detach.
<li>Cleaning of current solution for "Kill X on Ctrl+Alt+Backspace on default".
<li>Update to <a href="https://man.openbsd.org/xterm.1">xterm(1)</a> version 275.
<li>Move initialisation of <a href="https://man.openbsd.org/pf.4">pf(4)</a> pd-&gt;nsaddr and pd-&gt;ndaddr from pf_test_rule to pf_setup_pdesc. Fixes logging of packets passed statefully.
<li>Deduplicate <a href="https://man.openbsd.org/pf.4">pf(4)</a> IPv4 and IPv6 code that handles fragments that have not been reassembled by normalization.
<li>Improve -s description in <a href="https://man.openbsd.org/ntpd.8">ntpd(8)</a> to explain set vs adjust and stay in foreground until we receive a reply or hit the 15 second timeout.
<li>Work-around for default vs. no flavor in <a href="https://man.openbsd.org/pkg_add.1">pkg_add(1)</a>.
<li><a href="https://man.openbsd.org/sed.1">sed(1)</a> regression tests using <a href="https://man.openbsd.org/hexdump.1">hexdump(1)</a> for input files ending without a newline, and catching NUL characters in output. Produce more intelligible errors.
<li>Removed <a href="https://man.openbsd.org/i386/mdoc.samples.7">mdoc.samples(7)</a> as all info already is in <a href="https://man.openbsd.org/mdoc.7">mdoc(7)</a>.
<li>Removed {u,}lptioctl function which is a duplicate of enodev().
<!-- 2011/09/16 -->
<li>Use cdev_ulpt_init() to setup <a href="https://man.openbsd.org/ulpt.4">ulpt(4)</a> instead of using cdev_lpt_init, for consistency.
<li>Reorder SENSOR_* in switch() in <a href="https://man.openbsd.org/sysctl.8">sysctl(8)</a>, <a href="https://man.openbsd.org/systat.1">systat(1)</a> and <a href="https://man.openbsd.org/snmpd.8">snmpd(8)</a>.
<li>Intel E600/EG20T and some other devices added from submitted dmesgs to sys/dev/pci/pcidevs.
<li>Now when <a href="https://man.openbsd.org/ospfd.8">ospfd(8)</a> RTM_DESYNC is seen, set/extend a timer, only reload on expiry. Avoids "reloading interface list and routing table" repeatedly when machine overloaded on route socket.
<li>Set the shared priority entry to the value of the current maxipl entry, not the index in sys/arch/macppc/dev/macintr.c.
<li>Import of <a href="https://man.openbsd.org/less.1">less(1)</a> 444 with local patches.
<li>Device driver and man page for <a href="https://man.openbsd.org/usps.4">usps(4)</a> Fujitsu Components FX-5204PS smart power strip added.
<li>For sensor framework change accuracy of SENSOR_FREQ from Hz to muHz and add SENSOR_VOLTS_AC entry for userland programs.
<li>Use .St for ISO 8601 references in <a href="https://man.openbsd.org/strftime.3">strftime(3)</a>, <a href="https://man.openbsd.org/strptime.3">strptime(3)</a>, <a href="https://man.openbsd.org/cal.1">cal(1)</a>, <a href="https://man.openbsd.org/newsyslog.8">newsyslog(8)</a>.
<li>If a user configures logging explicitly in <a href="https://man.openbsd.org/relayd.conf.5">relayd.conf(5)</a>, do it regardlessly of debugging mode and compile switch.
<li>Added Vaisala's "USB instrument cable" entry in sys/dev/usb/usbdevs and sys/dev/usb/uslcom.c.
<li>Added entry for FX-5204PS in sys/dev/usb/usbdevs.
<li>Fixed usb vendor id mismatch. VID: 0x430 is not SUN Microsystems, it is Fujitsu Component, Inc.
<li>Use the correct regexp in etc/rc.d/ldapd to find the <a href="https://man.openbsd.org/ldapd.8">ldapd(8)</a> server process.
<!-- 2011/09/15 -->
<li>Add a script for <a href="https://man.openbsd.org/popa3d.8">popa3d(8)</a> to support running it outside of <a href="https://man.openbsd.org/inetd.8">inetd(8)</a>.
<li>Port the -Wbounded extension from gcc3 to gcc4 and add regression output.
<li>Fix recognition of Synaptics touchpad in sbin/wsconsctl/util.c.
<li>Switch vax to timecounters. 3 different clock sources: ICR/NICR on most systems (1MHz counter resolution), diagnostic timer on KA46/KA48 (1kHz counter resolution), 100Hz clock on VXT.
<!-- 2011/09/14 -->
<li>Update vt100 example in <a href="https://man.openbsd.org/getcap.3">getcap(3)</a> to vt200, as vt100 is no longer in the termcap database.
<li>Initial kernel support for sandybridge intel chipsets in intagp and inteldrm.
<li><a href="https://man.openbsd.org/ntpd.8">ntpd(8)</a> doesn't really support reload, so don't allow it in the rc script.
<!-- 2011/09/13 -->
<li>Regression test for threads in PS_FDR_WAIT state, check SA_RESTART before marking it as interrupted, (simulating system call restart behaviour in the non-pthreads case). Add a state for kevent since it shouldn't be restarted regardless.
<li>First round of regression tests to check system calls restarting with <a href="https://man.openbsd.org/pthreads.3">pthreads(3)</a>.
<li>On Vax KA43, silence noisy print of cache control registers at cache initialization time (but not during memory errors or machine checks); correctly access the prom mailbox register, so that halt and reboot work as intended.
<li>Update to xf86-video-geode 2.11.12.
<li>Let the intel driver/xf86-video-intel/src/i830_driver.c driver build with xserver &gt;= 1.10.
<li>Document that <a href="https://man.openbsd.org/calendar.1">calendar(1)</a> now behaves as <a href="https://man.openbsd.org/date.1">date(1)</a> and <a href="https://man.openbsd.org/touch.1">touch(1)</a>, with default values used when "yy" is given, but not "cc".
<li>Added <a href="https://man.openbsd.org/cwm.1">cwm(1)</a> WM_TRANSIENT_FOR event support: moves dialogs, toolbars and such to the group of the main application window.
<li>Repaired <a href="https://man.openbsd.org/cwm.1">cwm(1)</a> groupcycle (broke after cycle-in-group support added more flags) in app/cwm/group.c.
<li>Do not invoke hardclock() until cpu_initclocks() has been invoked in luna88k; avoids a NULL pointer dereference because the softclock interrupt handler cookie is not initialized yet.
<!-- 2011/09/12 -->
<li><a href="https://man.openbsd.org/calendar.1">calendar(1)</a> -t flag now uses macros instead of punctuation to avoid marking up the whole argument as an Ar block; remove a superfluous set of [] around month.
<li>Introduce filtermask in struct <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> - do not forward lines to mfa when FILTER_DATALINE is not set in filtermask.
<li>Update to tzdata2011j (timezone data) for Africa and Australasia.
<li>Clamp a maximum number of outstanding requests at 40 in <a href="https://man.openbsd.org/mpii.4">mpii(4)</a> as performance decreases severely above this with newer firmwares.
<!-- 2011/09/11 -->
<li>Update to glproto 1.4.14; dri2proto 2.6.
<li>Define symbolic constants for the addresses of Vax vsbus devices on 512KB PROM systems (e.g. KA49), or 256KB PROM systems built after KA49 (e.g. KA5[234]), and use them instead of magic numbers.
<li>Fix <a href="https://man.openbsd.org/sftp.1">sftp(1)</a> leaks in do_hardlink() and do_readlink() from bz#1921, and in do_lsreaddir().
<li>Fix inverted test when selecting resolution on the 1024x864 VLC frame buffer in <a href="https://man.openbsd.org/vax/lcg.4">lcg(4/vax)</a>.
<li>Mention the 1GB offset PROM limit on some systems in distrib/notes/vax/install.
<!-- 2011/09/10 -->
<li>Support <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> cancellation of local/dynamic forwardings from ~C commandline.
<li>Xenocara/driver/Makefile adjusted to make testing of newer Xserver versions easier.
<li>Updates to version: libXfont 1.4.4; libXt 1.1.1; inputproto 2.0.2; glproto 1.4.14; dri2proto 2.6.
<li>Let <a href="https://man.openbsd.org/pkg_add.1">pkg_add(1)</a> pkg_mklocatedb work consistently with SUBDIRLIST (print only the fullpkgpaths referenced there and nothing more).
<!-- 2011/09/09 -->
<li>Support <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> cancelling local and remote port forwards via the multiplex socket. Use "ssh -O cancel -L xx:xx:xx -R yy:yy:yy user@host".
<li>Kill the <a href="https://man.openbsd.org/sshd.8">sshd(8)</a> preauth privsep child on fatal errors in the monitor.
<li>Suppress <a href="https://man.openbsd.org/scp.1">scp(1)</a> adding '--' to remote commandlines when the first argument does not start with '-'. Saves breakage on some embedded/router platforms.
<li>Added an <a href="https://man.openbsd.org/mdoc.7">mdoc(7)</a> St macro for ISO 8601:2004 (representation of dates and times) and now used in <a href="https://man.openbsd.org/touch.1">touch(1)</a>.
<li>Added /var/nsd/ to <a href="https://man.openbsd.org/hier.7">hier(7)</a>.
<li>MUX_C_CLOSE_FWD includes forward type in message (though it isn't implemented anyway) in usr.bin/ssh/PROTOCOL.mux.
<li>Add -b option to <a href="https://man.openbsd.org/tcpbench.1">tcpbench(1)</a> which allows the client side to bind the socket to a numeric address.
<!-- 2011/09/08 -->
<li>Protocols 43 (ipv6-route) &amp; 44 (ipv6-frag) names synched with IANA database.
<li>Additional information on the -d option in <a href="https://man.openbsd.org/touch.1">touch(1)</a>.
<li>Provide namespace-safe alignment macros in machine/_types.h, with compat names kept in machine/param.h.
<li>In sys/socket.h, pull in sys/_types.h instead of the namespace polluting machine/param.h.
<li>Eliminate __CMSG_ALIGN, replaced by _ALIGN.
<li>Make the INT_FAST*_{MIN,MAX} macros match the types they're defined to; put internal macros in machine/_types.h.
<!-- 2011/09/07 -->
<li>Avoid possible SIGSEGV when wrong TOS option in sbin/pfctl/parse.y.
<!-- 2011/09/06 -->
<li>Better determination if the <a href="https://man.openbsd.org/ksh.1">ksh(1)</a> shell is restricted.
<li>Updated key size and algorithm recommendations in <a href="https://man.openbsd.org/ssl.8">ssl(8)</a>; knock out useless Pp in <a href="https://man.openbsd.org/openssl.1">openssl(1)</a>.
<li>Add test for http chunked encoding over <a href="https://man.openbsd.org/relayd.8">relayd(8)</a> http protocol.
<li>Properly initialize struct carp_if (especially vhif_nvrs) with M_ZERO. This lets <a href="https://man.openbsd.org/carp.4">carp(4)</a> delete IFF_PROMISC on its carpdev upon destroy.
<!-- 2011/09/05 -->
<li>Mark dead panes with some text saying they are dead in <a href="https://man.openbsd.org/tmux.1">tmux(1)</a>.
<li>Restore errno when it has been changed by the scheduling loop in lib/libpthread/uthread/uthread_kern.c.
<li>Optimized <a href="https://man.openbsd.org/alpha/bba.4">bba(4/alpha)</a> code to process four samples at a time as much as possible, before falling back to the remainder processed one byte at a time.
<li>Fix typo in <a href="https://man.openbsd.org/ssh.1">ssh(1)</a> IPQoS parsing: there is no "AF14" class, but there is an "AF21" class.
<li>ControlPersist and KbdInteractiveAuthentication descriptions added to -o section of <a href="https://man.openbsd.org/scp.1">scp(1)</a> and <a href="https://man.openbsd.org/sftp.1">sftp(1)</a>.
<li>Enable MSI support and fix establishing a link to a GigE link partner from a FastE <a href="https://man.openbsd.org/ale.4">ale(4)</a> controller.
<li>Fix hang in emacs when going over the line limit.
<li>Preserve errno across calls to open the password database(s), so that errno isn't changed when a normal user (who can't open spwd.db) does a lookup.
<li>Switch sigreturn() to the normal syscall entry instead of int$80 in amd64.
<!-- 2011/09/04 -->
<li>Driver for the <a href="https://man.openbsd.org/alpha/bba.4">bba(4/alpha)</a> TURBOchannel baseboard audio.
<li>Add the possibility for a MD attachment to stack a stream filter (sw_code) if it needs to rewrite the audio stream.
<li>Added /etc/ldap to <a href="https://man.openbsd.org/hier.7">hier(7)</a>.
<li>Silenced awacs_trigger_input in sys/arch/macppc/dev/awacs.c.
<li>Added two more udav devices and an Intel 6 Series/C200 Rate Matching Hub to sys/dev/usb/.
<li>For <a href="https://man.openbsd.org/cwm.1">cwm(1)</a>, make flavours of maximisation additive; reinit menu on reload (for upcoming menu config changes); allow menufg/menubg and menu font color to be configurable.
<li>Add test whether <a href="https://man.openbsd.org/i386/relayd.0">relayd(8)</a> is logging the correct http content-length.
<!-- 2011/09/03 -->
<li>General warning in sys/arch/amd64/amd64/locore.S (about gdb matching against sigcode instructions) added.
<li>Fix backtrace across signals in gnu/usr.bin/binutils/gdb/amd64obsd-tdep.c.
<li>Inaccuratly named char "*DefaultFontName" changed to char "*font" in <a href="https://man.openbsd.org/cwm.1">cwm(1)</a>.
<li>Add <a href="https://man.openbsd.org/cwm.1">cwm(1)</a> {r,}cycleingroup to cycle through clients belonging to the same group as the active client (as opposed to all unhidden clients).
<li>Simplified <a href="https://man.openbsd.org/cwm.1">cwm(1)</a> color initialization.
<li>Split off <a href="https://man.openbsd.org/cwm.1">cwm(1)</a> window hints from geometry so we don't need to carry them all around when dealing with {,h,v}max.
<li>Disable PHY (physical media interfaces) hibernation in Atheros AR8131/AR8132 PCIe ethernet to automatically re-establish link when the cable is plugged in.
<li>MI driver for AMD79C30 audio chip added (now used by sparc <a href="https://man.openbsd.org/sparc/audioamd.4">audioamd(4/sparc)</a>).
<li>Manpage added for <a href="https://man.openbsd.org/vax/vsaudio.4">vsaudio(4/vax)</a>, found in VAXstation 4000 VLC, /60 and /90.
<li>Rewrite -column lists in many man pages (to permit some markup in the column headers) while awaiting <a href="https://man.openbsd.org/mandoc.1">mandoc(1)</a> fix.
<!-- 2011/09/02 -->
<li>sys/scsi/scsiconf.c will now generate a devid from vpd page 80 if vpd page 83 doesnt exist or work.
<li>Added regress tests for <a href="https://man.openbsd.org/relayd.8">relayd(8)</a> protocol http 1.0 and 1.1, http put and https.
<li>Support for Intel Centrino Advanced-N 6205 network adaptors added (without differential gain calibration).
<li>Added regression tests for <a href="https://man.openbsd.org/relayd.8">relayd(8)</a> session timeout.
<!-- 2011/09/01 -->
<li>Removed drupal5 reference in <a href="https://man.openbsd.org/port-modules.5">port-modules(5)</a> as drupal5 is gone.
<li>Fix the display in <a href="https://man.openbsd.org/sysmerge.8">sysmerge(8)</a> so utilities reported as running are what is actually running.
<li>Stopped overwriting <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> data line with filtmsg buffer; removed excess debug lines; back filters now disabled at <a href="https://man.openbsd.org/smtpd.conf.5">smtpd.conf(5)</a> level.
<li>Added missing header needed by bsearch() in usr.sbin/smtpd/parse.y.
<li>Add regression tests for relaying connections through <a href="https://man.openbsd.org/relayd.8">relayd(8)</a> to test socket splicing works correctly.
<li>Introduce a small set of functions to simplify <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> stat counters.
<li>Log_debug() call moved to not get called for each line of DATA exchanged between smtp and mfa.
<!-- 2011/08/31 -->
<li>Allow <a href="https://man.openbsd.org/mg.1">mg(1)</a> dired mode to open files regardless of characters in filename.
<li>Use the same format/text, as far as possible, for date strings in <a href="https://man.openbsd.org/ls.1">ls(1)</a>, <a href="https://man.openbsd.org/touch.1">touch(1)</a> and <a href="https://man.openbsd.org/date.1">date(1)</a>.
<li>In <a href="https://man.openbsd.org/strptime.3">strptime(3)</a> only one leap second is permitted, not two.
<li>On a file write fail in <a href="https://man.openbsd.org/mg.1">mg(1)</a> return an error value and show an error message.
<li>Synch OpenBSD::Intro(3p) with current method of parsing packages.
<li>Moved <a href="https://man.openbsd.org/pkg_add.1">pkg_add(1)</a> versionspec from PackageName to PkgSpec.
<li>Add <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> support for per-line DATA callbacks, allowing filters to take their decisions while the message is still being received by the client.
<li>Remove faux "enable floating point" and PR_ACCS register on KA45 and KA48 in sys/arch/vax/vax/ka48.c.
<li>Report VXT cpu as "VXT", not "KA48" (to match what the PROM says) in sys/arch/vax/vax/vxt.c.
<!-- 2011/08/30 -->
<li>Add <a href="https://man.openbsd.org/pf.conf.5">pf.conf(5)</a> one shot rules automatically removed after match when it is the only rule in the anchor (eg for firewall proxies). Can be used by specifying a "once" filter option.
<li>Make <a href="https://man.openbsd.org/i386/ps.0">ps(1)</a> -N/-M work again by correcting kernel vs user address handling in the FILL_KPROC() macro.
<li>Make code match the <a href="https://man.openbsd.org/touch.1">touch(1)</a> and <a href="https://man.openbsd.org/at.1">at(1)</a> manpages and POSIX when year specified but century isn't: century is 1900 if year &gt;= 69; else 2000.
<li>Make vlanprio (PCP/CF) available to our network stack.
<li>Fixed format string in <a href="https://man.openbsd.org/smtpctl.8">smtpctl(8)</a>.
<li>Plugged memory leaks in <a href="https://man.openbsd.org/tmux.1">tmux(1)</a>.
<li>In <a href="https://man.openbsd.org/mdoc.7">mdoc(7)</a> column lists, enforce ordering: ".Bl -column header1 header2 ... &lt;Bl flags&gt;".
<li>Add another GeForce 8400 GS.
<li>Call free() into ramqueue_remove_{batch,host,message,envelope}() instead of just after the function call in <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a>.
<li>Switch to xkeyboard-config is done. Removed old xkbdata and unifdef it.
<!-- 2011/08/29 -->
<li>Regression test that <a href="https://man.openbsd.org/perl.1">perl(1)</a> reverse splicing timeout does not affect forward splicing.
<li>Mouse move via the keyboard restored.
<li>Added gpsmap 62s to <a href="https://man.openbsd.org/usbdevs.8">usbdevs(8)</a>.
<li>In <a href="https://man.openbsd.org/mg.1">mg(1)</a> dired mode, make point move up and down first character of file name; added missing keybindings.
<li>Update to tzdata2011i for <a href="https://man.openbsd.org/tzfile.5">tzfile(5)</a> from elsie.nci.nih.gov.
<li>Update firmware for <a href="https://man.openbsd.org/myx.4">myx(4)</a> to the latest version available from Myricom (1.4.53a).
<li>Only provide FLT_EVAL_METHOD for C99 in float.h.  Add missing DECIMAL_DIG for C99.
<li>Remove the reference to the non-existent <a href="https://man.openbsd.org/i386/mount_portal.8">mount_portal(8)</a> in keyword section of <a href="https://man.openbsd.org/man.1">man(1)</a>.
<li>Fixed a race causing some drives to trigger a panic in ncr53c9x_sched() at attach time on vax.
<li>Removed reference in <a href="https://man.openbsd.org/bsd.port.mk.5">bsd.port.mk(5)</a> discouraging use of xz distfiles on Sparc.
<li>Added missing header needed by signal() in <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a>.
<li>Return of the long missing powerpc interrupt rewrite.
<li>Cast all <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> printed time_t to long long int, and change format string accordingly.
<!-- 2011/08/28 -->
<li>Allow <a href="https://man.openbsd.org/perl.1">perl(1)</a> splice make regress to run with and without obj directory.
<li>Version updates to: DejaVu fonts 2.33; <a href="https://man.openbsd.org/xterm.1">xterm(1)</a> 273; <a href="https://man.openbsd.org/xset.1">xset(1)</a> 1.2.2; <a href="https://man.openbsd.org/i386/xrandr.1">xrandr(1)</a> 1.3.5; <a href="https://man.openbsd.org/xprop.1">xprop(1)</a> 1.2.1; <a href="https://man.openbsd.org/xman.1">xman(1)</a> 1.1.2; <a href="https://man.openbsd.org/xkbcomp.1">xkbcomp(1)</a> 1.2.3; <a href="https://man.openbsd.org/x11perf.1">x11perf(1)</a> 1.5.4; <a href="https://man.openbsd.org/twm.1">twm(1)</a> 1.0.7; <a href="https://man.openbsd.org/smproxy.1">smproxy(1)</a> 1.0.5; <a href="https://man.openbsd.org/mkfontscale.1">mkfontscale(1)</a> 1.0.9; libX11 1.4.4.
<li>Remove redundant final paragraph of STANDARDS in <a href="https://man.openbsd.org/touch.1">touch(1)</a>.
<!-- 2011/08/28 -->
<li>Clear <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> bounce envelope structure, to avoid wrong use when bounce_record_message() returns 0.
<li>Added support for the netid.byname YP map in <a href="https://man.openbsd.org/ypldap.8">ypldap(8)</a>.
<li>Make sure <a href="https://man.openbsd.org/lock.9">lock(9)</a> lockmgr() use a different address for the wchan when draining the lock.
<li>Fixed a <a href="https://man.openbsd.org/strlcpy.3">strlcpy(3)</a> truncation test block in <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a>.
<!-- 2011/08/27 -->
<li>Added initial support for a session-time filtering API in <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a>.
<li>Prevent <a href="https://man.openbsd.org/iked.8">iked(8)</a> from bypassing a signature verification caused by an incorrect check of the EVP_VerifyFinal return value.
<!-- 2011/08/26 -->
<li>Prevent spurious disappearance of <a href="https://man.openbsd.org/vax/le.4">le(4/VAX)</a> on some systems.
<li>Prevent a bogus <a href="https://man.openbsd.org/vax/lcg.4">lcg(4/VAX)</a> device from attaching on KA45 and also repair console operation if the S3 switch is down.
<li>Fixed <a href="https://man.openbsd.org/vax/vsbus.4">vsbus(4/VAX)</a> verbose <a href="https://man.openbsd.org/autoconf.9">autoconf(9)</a> output.
<li>Added initial framework in <a href="https://man.openbsd.org/tmux.1">tmux(1)</a> for more powerful formatting of command output and use it for list-{panes,windows,sessions}.
<li>Removed unused fatpackages from <a href="https://man.openbsd.org/pkg_add.1">pkg_add(1)</a>.
<li>Prevent watchdog timeouts in <a href="https://man.openbsd.org/age.4">age(4)</a>.
<li>Added a dmesg warning about sloppy disk I/O to <a href="https://man.openbsd.org/vnd.4">vnd(4)</a> devices to help identify bad distrib scripts/tools.
<!-- 2011/08/24 -->
<li>Added a tty_bell wrapper function, a pane-base-index option, support for line continuation with a backslash in the configuration file to <a href="https://man.openbsd.org/tmux.1">tmux(1)</a>.
<!-- 2011/08/23 -->
<li>Make <a href="https://man.openbsd.org/at.1">at(1)</a> use standard EXIT_SUCCESS/EXIT_FAILURE and STD{IN,OUT,ERR}_FILENO defines instead of using custom macros.
<li>Prevent that a <a href="https://man.openbsd.org/sosplice.9">sosplice(9)</a> timeout error in one direction from being also added to the other direction.
<li>Allow <a href="https://man.openbsd.org/tcpbench.1">tcpbench(1)</a> TOS/TCLASS to be set with -T and accept the same keywords as in pf.conf.
<!-- 2011/08/22 -->
<li>Added support for Radeon 4250 in <a href="https://man.openbsd.org/radeondrm.4">radeondrm(4)</a>.
<li>Make <a href="https://man.openbsd.org/cron.8">cron(8)</a> use standard EXIT_SUCCESS/EXIT_FAILURE and STD{IN,OUT,ERR}_FILENO defines instead of using custom macros.
<li>Moved powerpc to non-__STRICT_ALIGNMENT, as it always was.
<li>Reworked <a href="https://man.openbsd.org/cwm.1">cwm(1)</a> warning on configuration parsing.
<li>Make <a href="https://man.openbsd.org/rc.d.8">rc.d(8)</a> read <a href="https://man.openbsd.org/amd.8">amd(8)</a> amd_master using print -rn, fixes problems if the file has multiple lines.
<!-- 2011/08/21 -->
<li>Fixed <a href="https://man.openbsd.org/touch.1">touch(1)</a> -t option.
<li>Fixed some watchdog timeouts seen when unplugging the cable from the <a href="https://man.openbsd.org/alc.4">alc(4)</a> NIC while running or the NIC not working if the cable is not plugged in upon boot up.
<li>Fixed initial xkb_options setting in xf86-input-keyboard. Restores Ctrl+Alt+Backspace behaviour.
<li>Fixed serial mouse on X.
<!-- 2011/08/20 -->
<li>Fixed memory leaks in <a href="https://man.openbsd.org/tmux.1">tmux(1)</a>.
<li>Make <a href="https://man.openbsd.org/ahci.4">ahci(4)</a> not waiting for FR to come on after setting the FRE bit in the port command register.
<li>Added support for -v (enable verbose logging on the command line) in <a href="https://man.openbsd.org/iscsid.8">iscsid(8)</a>.
<li>Updated x11proto to version 7.0.22 and util-macros to 1.15.0.
<li>Decoupled <a href="https://man.openbsd.org/ospfd.8">ospfd(8)</a>, <a href="https://man.openbsd.org/bgpd.8">bgpd(8)</a>, <a href="https://man.openbsd.org/dvmrpd.8">dvmrpd(8)</a>, <a href="https://man.openbsd.org/ldpd.8">ldpd(8)</a>, <a href="https://man.openbsd.org/ripd.8">ripd(8)</a> log_verbose() from log_init() so the verbose flag stays set with "ospfd -v" (previously only "-vd" worked).
<li>Fixed segfault on <a href="https://man.openbsd.org/tcpbench.1">tcpbench(1)</a> server when the remote end closes and reopens a connection.
<li>Added nanosecond precision to <a href="https://man.openbsd.org/touch.1">touch(1)</a> and support for -d option.
<li>Make <a href="https://man.openbsd.org/mpe.4">mpe(4)</a>, <a href="https://man.openbsd.org/vlan.4">vlan(4)</a>, <a href="https://man.openbsd.org/ppp.4">ppp(4)</a> fix packet accounting in error cases.
<!-- 2011/08/19 -->
<li>Use <a href="https://man.openbsd.org/futimens.2">futimens(2)</a> instead of <a href="https://man.openbsd.org/futimes.2">futimes(2)</a> to avoid converting to/from struct timeval in <a href="https://man.openbsd.org/crontab.1">crontab(1)</a> and <a href="https://man.openbsd.org/vipw.8">vipw(8)</a>.
<li>Let <a href="https://man.openbsd.org/ums.4">ums(4)</a> probe bounds of absolute devices if available.
<li>Put libc and libm in line with the compiler on hppa64.
<li>Make sure the stack is properly aligned for using SSE instructions in crt0.
<!-- 2011/08/18 -->
<li>Added <a href="https://man.openbsd.org/sti.4">sti(4)</a> at <a href="https://man.openbsd.org/hp300/dio.4">dio(4/HP300)</a> in hp300 GENERIC and RAMDISK kernels.
<li>Improved hp300 <a href="https://man.openbsd.org/sti.4">sti(4)</a> and <a href="https://man.openbsd.org/wsdisplay.4">wsdisplay(4)</a> attachment on <a href="https://man.openbsd.org/hp300/dio.4">dio(4/HP300)</a>.
<li>Prevent hp300 models 362 and 382 from skipping <a href="https://man.openbsd.org/hp300/dio.4">dio(4/HP300)</a> frame buffer select codes.
<li>Updated <a href="https://man.openbsd.org/xterm.1">xterm(1)</a> to version 271.
<!-- 2011/08/17 -->
<li>Set the PSL_O bit on hppa64, like it's done for 64-bit capable CPUs on hppa.
<li>Fixed a memory leak in <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> runner_remove_envelope().
<li>Prevent hppa64 locore.S from setting the PSL_S bit.
<li>Moved ramqueue_host pointer from ramqueue_envelope to ramqueue_message. This allows to save one pointer from each envelope stored in ram while still allowing O(1) host lookups by ramqueue_envelope.
<li>Make <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> know how to remove th new ramqueue structure.
<li>Improved <a href="https://man.openbsd.org/smtpd.8">smtpd(8)</a> rescheduling from O(n) to O(log n) with functions working on the new ramqueue structure.
<li>Added assembler implementation of the GCM mode using the Carry-less Multiplication (CLMUL) instruction found in the new Intel and future AMD CPUs for amd64.
<li>Added support for Synaptics touchpad in <a href="https://man.openbsd.org/wsmouse.4">wsmouse(4)</a>.
<li>Make <a href="https://man.openbsd.org/pkg_add.1">pkg_add(1)</a> and <a href="https://man.openbsd.org/pkg_delete.1">pkg_delete(1)</a> syslog their activity by default.
<li>Make sure the installer set two rtsol <a href="https://man.openbsd.org/sysctl.8">sysctl(8)</a>s, not just the last one.
<!-- 2011/08/16 -->
</ul>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>OpenBSD 2.5 changes</title>
<link rev=made href="mailto:www@openbsd.org">
<meta name="resource-type" content="document">
<meta name="description" content="the main OpenBSD page">
<meta name="keywords" content="openbsd,main">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238E">

<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" src="images/smalltitle.gif" border="0"></a>
<p>
<h2><font color="#e00000">Changes made between OpenBSD 2.4 and OpenBSD 2.5</font></h2>
<hr>

<p>
This is a partial list of the major machine independent changes
(ie. these are the changes people ask about most often).  Port
specific changes have also been made, and are sometimes mentioned
in the pages for the specific <a href=plat.html>ports</a> if you
are interested in further port-specific details.  Many ports
have had architecture-specific enhancements relative to NetBSD,
but when they do not they certainly have plenty of platform-independent
changes, starting with those listed below..

<p>
Note: <font color="#e00000">Problems for which patches exist are marked in red</font>.

<p>
<h3>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>,
<a href="plus35.html">3.5</a>,
<a href="plus36.html">3.6</a>,
<a href="plus37.html">3.7</a>,
<a href="plus.html">current</a>.
<br>
</h3>

<hr>

<p>
<h3><font color="#0000e0">OpenBSD 2.5 released (May 19, 1999).</font></h3><p>
<ul>

<li>2.5 source tree frozen.
<li><font color="#e00000"><strong>Fix ln kernel bug in vfs_lookup.c. <a href="errata24.html#lnpanic">A patch is available</a></strong></font>.
<li>Fix ipf return-rst panic bug.
<li>Add a -q flag to newfs, so that it does not print out information about the superblock backups. This is used by the install process.
<li>Do not permit any IPSEC code unless the admin has enabled it using sysctl.
<li>More ISAPNP devices.
<li>Do not permit local address spoofing using ip4.
<li>Do not permit ip4 tunneling unless the admin has enabled it using sysctl.
<li>More man page and games fixes.
<li>Significant improvements to disklabel(8) and the install procedure.
<li>For CD support, if READ_CD_CAPACITY fails as it does on some units, provide nice defaults so that other things do not fail later.
<li>Rearrange default interrupt ordering for pcmcia somewhat more.
<li>Improve multicast handling in /etc/rc.
<li>Silence initgroups(3), it should not spew to stderr on failure.
<li>sudo 1.5.9
<li>Numerous ipsec changes, further making isakmpd useful, etc. etc.
<li>Support hostname.bridge* files.
<li>Support some 100Mbit ne2000-like pcmcia cards.
<li>Further Qlogic ISP support for PCI and sbus versions..
<li>Add ssl log rotation to newsyslog.conf

<li>In sun4m trap handler stubs, rd %wim which makes viking CPUs much happier.
<li>lifetime expiration notifications for the IPSEC stack.
<li>PF_KEYv2 support in isakmpd(8).
<li>In kvm_mkdb(8), better fallback from /dev/ksyms to /bsd if there are problems with nlist(3).
<li>Fix in6 dependence in various netinet header files.
<li>Tail anchor search in makewhatis.sed, so that overwritten titles are dealt with right.
<li>Fix a problem regarding "\r" translation in talk(1).
<li>Some more games fixes.
<li>Workaround sun4m STP1020A errata #148494 regarding cache initialization. 
<li>In ipsend(8), do not crash if no options provided.
<li>Various powerpc fixes, including further PIC support, and fix a kernel pmap crash.
<li><font color="#e00000"><strong>SECURITY ISSUE: In poll(2), constrain the <strong>nfds</strong> parameter better, so that kvm starvation is less likely. <a href="errata24.html#poll">A patch is available</a></strong></font>.
<li>Make at(1) easier to use next year (ie. Y2K issue).
<li><font color="#e00000"><strong>SECURITY ISSUE: Fix TSS fault handling. <a href="errata24.html#tss">A patch is available</a></strong></font>.
<li>In the ncr(4) driver, disable tagged queuing by default.  Our filesystems and vfs layer is not prepared for this play-it-loose behaviour.
<li>Repair <strong>ypwhich -h</strong> support; it was broken when running on non-server machines.
<li>Add non-learning and non-discovery modes to the bridging code.
<li>Many more man page fixes.
<li>Do not allow users to mount umapfs, even if root chooses to permit kern.usermount activity.
<li>termtypes database version 10.2.7, with our local modifications.
<li>Many more non-standard isapnp devices.
<li>On various architectures, more default swapgeneric swap devices.
<li>If an MFS IO is successful, set b_resid to 0, so that vnd support works.
<li>Add find -W support for white-outs.
<li>Brand new version of the isp(4) driver for SBUS and PCI.
<li>Ensure that sb(4) devices have at least one drq; thus not falsely probing one particularly stupid isapnp sb-like device.
<li>ncurses-4.2-990316
<li>A nice ssl(8) man page.
<li>Various changes to the ssl install, so that /etc/ssl contains nicer default files.
<li>Various disklabel(8) improvements and bug fixes, so that our 2.5 release will be easier to install.
<li>Bug fixes to the tx(4) driver.
<li>In /etc/daily, do /tmp pruning with a <strong>find -x</strong> so that sub-mounts do not get trashed.
<li>Add a f.startwm function to twm(1), so that it can start other window managers.

<li>On sparc cypress CPUs, do write-through instead of write-back caching.
<li>In netstat(1), print subnets containing 0 octets correctly.
<li>Fix an NFS bug which previously caused free()'ing of negative lengths.
<li>ncurses-4.2-990314
<li>In disklabel(8), permit "delete *".
<li>Make <strong>ifa_refcnt</strong> a u_int, because of very large routing tables.
<li>Kernel scheduler performance improvement.
<li>Numerous more man page repairs.
<li>A start at powerpc PIC support.
<li>Fix atapi cdrom driver bug where last entry in TOC had seconds and frame zeroed.
<li>Fix some more games.
<li>Numerous more bridge improvements.
<li>ncurses-4.2-990307
<li>Turns out the RAMDISK for the 2.4 i386 release had errors for the default NE2000 device driver locations.
<li>wb(4) PCI driver for Winbond W89C840F 100mbit cards.
<li>Fix some more pcidevs and pnpdevs entries -- a few more new devices work as a result.
<li>libpthread goes away, since libc_r now works really well.
<li>Many more man page fixups.
<li>For open(2) with O_TRUNC, both st_ctime and st_mtime are to be updated.
<li>On the P3, disable the processor serial number.
<li>Fix make depend in kerberosIV sub-tree.
<li>On i386, add support for cpuid level 2, permitting L2 cache size probing.
<li>In pkg_info(8), handle unterminated comments.
<li>sudo 1.5.8p2.
<li>Make sure httpd(8) works when the RSA SSL library is not installed.
<li>In mountd(8), fix a parsing error for the file /etc/exports.

<li>Man page clarifications for strncpy(3) and strncat(3), which people continue to misuse.
<li>Fix another ipsec bug.
<li>More bridge(4) tweaks.
<li>Support <strong>--</strong> argument separator in less(1).
<li>Merge cap_mkdb(1) and info_mkdb(1).
<li>Fix RAMDISK sizing problems on i386, alpha, and sparc.
<li>Fix a DNS stall problem in login(1), related to AFS.
<li>A couple of ipsec pfkey fixes.
<li>Handle bogus priority specifications in renice(1).
<li>Improve compress performance in compress(1).
<li>Handle cs4232 isapnp cards better.
<li>Fix various source-tree Makefile build-twice bugs
<li>Fix a bug in cvs(1).
<li>In calendar(1), correctly handle yearly events occurring on fixed weekdays in all cases.
<li>Make more ethernet drivers bridge-aware.
<li>In talk(1), print fatal errors to stderr after curses has terminated.
<li>De-inline vnode_if stubs.  This saves 120K in kernel size.
<li>Fix another coredumping case in Kerberos kadm library.
<li>Fix uninitialized variable bug in install(1).
<li>Implement RFNOWAIT with the exact same semantics as Plan9.
<li>Track SATYPE regs per PFKEY socket.
<li>Fix skeyinit(1) <strong>-n</strong> without an argument.
<li>Fix some panic cases in raidframe(4).
<li>Fix NFS3 NFS3ERR_JUKEBOX panic bug.
<li>Some ipsec error return patches.
<li>Other man page repairs..
<li>Add significant detailed information to select(2) manpage, which will help people not repeat mistakes others have made.
<li>Document timer{clear,add,sub,cmp,isset} in the getitimer(2) manpage.
<li>isapnp wss(4) support.
<li>curses 4.2-990301
<li>SIGINFO support in fsck_ffs(8).  Try ^T during bootup.
<li>Support stand-alone "up" command in /etc/hostname.* files, for bridges and such.
<li>led driver support for Sun4 machines.
<li>Revamp some bridge(4) ioctls.
<li>Add mod_ssl 2.2.3 support to apache 1.3.4.
<li>Rename disklabel <strong>-p</strong> flag to <strong>-d</strong>, and document for the first time.
<li>apache 1.3.4
<li>cvs 1.10.5
<li>Incorporate extensive configuration work done on egcs, into our gcc tools.
<li>Fix infinite recursion bug in libkafs, which hit during login(8) if DNS was dead.
<li>On boot media, if swapon(8) exists on the install floppy, attempt to add swap early during install.
<li>Rename OpenBSD 2.4 to OpenBSD 2.5 -- we are moving into `release mode'.
<li>Divide by zero bugfix to netstat(1).
<li>Some fixes to the pkg_*(8) tools.
<li>Add more isapnp card identifiers.
<li>Fixes to the rl(4), pn(4), mx(4), xl(4), and tl(4) PCI ethernet drivers.
<li>Many ethernet drivers were doing an packet ownership check which prevented bridging from working, and was better done in ether_input().
<li>network bridging support. The packets go through ipf(8) on their way to delivery.  See bridge(4) and brconfig(8).
<li>Some nfsd(8) and nfsiod(8) changes.
<li>Support the PNIC2 PCI ethernet controller in pn(4).
<li>Many many man page fixes.
<li>In ipsecadm(8), warn if DES or skipjack are used.
<li>isakmpd(8) update.
<li>newhashinit() kernel interface replaces hashinit() interface, and permits non-blocking malloc operation.
<li>Begin uvm import.
<li>Some man page improvements.
<li>Move ls(1) into ftpd(8).. directly.
<li>In setproctitle(3), if sysctl(2) fails do not crash.
<li>Constify getcap(3) API.
<li><font color="#e00000"><strong>For the i386, fix /boot argument mapping. <a href="errata24.html#bootargv">A patch is available</a></strong></font>.
<li>Put skipjack in libc.
<li>Continue squishing new bugs in new ipsec PF_KEY code...
<li>Fix autosetting of d_type and _dtypename in wd(4).
<li><font color="#e00000"><strong>SECURITY ISSUE: Fix the nlink overflow in FFS and EXT2FS. <a href="errata24.html#nlink">A patch is available</a></strong></font>.
<li>Add zegrep(1) and zfgrep(1).
<li>Change IPSEC stack to support PFKEYv2.
<li>PentiumIII detection.
<li>Fix two bugs in ifconfig(8); do not configure an address if not specified, and complain if more than src and dst addresses are specified.
<li>Fix another ping bug regarding payload alignment.
<li>Fix -R option in inetd(8).
<li>Fix send file function in cu(1).
<li>Some man page fixes.
<li>ncurses 4.2-990220
<li>NRL netinet6 compiles now.
<li>Two new kinds of rl(4) and vr(4) ethernet cards.
<li>Better promisc and multicast handling in sparc hme(4).
<li>Fix an rdist(8) bug.
<li>Handle powered-down xl(4) cards better.
<li><font color="#e00000"><strong>SECURITY ISSUE: Fix an overflow in ping(8). <a href="errata24.html#ping">A patch is available</a></strong></font>.
<li>In fork(2), always spare 5 last processes for root.
<li>Better vis(3) support in savecore(8).
<li>Quiet apm(4) and add machdep.apmwarn sysctl.
<li>Fix endian-bug in the blowfish routines.
<li>Various vis(3) related overflows (by one char).
<li>First step at supporting >2G files in less(1).
<li>Add -x, -p, and -m options to ls(1).
<li>In ld(1) and ld.so(1), do not optimize the search path when dealing with duplicate shared library names (even though both alternatives have problems).
<li>Fix an kernel ipf bug relating to out-going icmp.
<li><font color="#e00000"><strong>SECURITY ISSUE: Fix an ipq race in ipintr(). <a href="errata24.html#ipqrace">A patch is available</a>, which must be applied after the <a href="errata24.html#maxqueue">maxqueue patch</a> has been installed.</strong></font>
<li>Allocate u-area early in fork1(), instead of vm_fork().
<li>Fix msdosfs bug regarding corrupted FAT32 root directories.
<li>Improve vfs lkm interface.
<li>sudo 1.5.8
<li>Make vm_page_alloc_contig() a standard VM system function.
<li>Fix DES weak key checking in libdes (and netinet/libdeslite).
<li>Improve the ipsec(4) man page.
<li>Fix <strong>netstat -A</strong> header.
<li><font color="#e00000"><strong>SECURITY ISSUE: Improved fragment flood protection in the IP layer. <a href="errata24.html#maxqueue">A patch is available</a></strong></font>.
<li>IPSEC skipjack support (do not bother using this unless you are .gov or .mil).
<li>Check sub-regions better in subr_extent.c, which affects pcmcia.
<li>Add <strong>-f</strong> option to comm(1) for case folding.
<li>Some more man page fixups.
<li>In traceroute(1), do not permit normal users to set the source address as non-local.
<li>Make quoted strings work in the interactive mode in restore(8).
<li>Fix a padding byte in ipsec esp new.
<li>Use new pipe code on all architectures.
<li>Some man page repairs.
<li>Fix SIOCGIFCONF code in ypbind(8).
<li>New raidframe code.
<li>Improgve promisc/multicast support in a few sparc drivers.
<li>Merge changes from db.1.86 (but do not merge new hash code, since it has an incompatible format)
<li>Handle kernel malloc() failing, for TCP SACK block allocation.
<li>Do more careful system call range-checking and introduce socklen_t.
<li><font color="#e00000"><strong>Fix a bug we introduced before 2.4 shipped: readv(2) and writev(2) with iov_len == 0 is legal. <a href="errata24.html#uio">A patch is available</a></strong></font>.
<li>Fix a pcmcia mapping bug regarding address space allocation.
<li>For wds(4) and ex(4) drivers, unmap address space if probing fails.
<li>In ipsecadm(8), verify that keys and IVs are specified in hex.
<li>Document that MD4 is pretty much broken, and MD5 is looking pretty bad too (so much for quality designs from RSA).
<li><font color="#e00000"><strong>SECURITY ISSUE: i386 T_TRCTRAP DDB handling could cause a system crash. <a href="errata24.html#trctrap">A patch is available</a></strong></font>.
<li>tcpdump(8) out-of-range access in LLC decoding.
<li>Flesh out the vpn(8) manpage.
<li>Add old dbm-compatible interface code, from db-1.86
<li>Support Return-Path: in vacation(1).
<li>Network byte order for default lease time in dhclient(8). 
<li>Uninitialized memory in ktrace(2) system call.
<li>Fix 88k support in libgmp.
<li>Make types(5) more useful.
<li>ncurses-4.2-990206
<li>Correct various freebsd/linux emulation issues.
<li>Correct directory entry reads for numerous binary emulators.
<li><font color="#e00000"><strong>SECURITY ISSUE: Better RST handling in tcp input. <a href="errata24.html#rst">A patch is available</a></strong></font>.
<li>BeOS/i386 support in fdisk(8).
<li>Two more nop instructions in sparc locore.s for greater reliability on Viking CPUs.
<li>Pluralization fix in rup(1).
<li>Much more mvme88k support.  The port is coming alive...
<li>In ftp(1), if http fetch returns less than Content-Length, error out.
<li>gcc/binutils/ld support for mvme88k.
<li>Fix cua device handling in com(4) and pccom(4).
<li>Handle MNT_NODEV in nullfs.
<li>Correct a tcp ISS bug.
<li>Support sparc bootpath handling in qe(4) and be(4).
<li><font color="#e00000"><strong>hp300 X in the 2.4 release has an installation issue. <a href="errata24.html#hp300X">Further details available</a></strong></font>.
<li>Fix isa_check_intr() support on the alpha.
<li>Fix breaking support in <strong>fold -s</strong>.
<li>Improve long line support in hexdump(1).
<li>Improve some ipf-related man pages.
<li>Fix a server-side NFS issue for the alpha.
<li>Sendmail 8.9.3.
<li>ipf 3.2.10.
<li>Dynamically allocate some buffers in rdist to reduce memory footprint on directories that contain many hard-linked files.
<li>Some other random netinet fixes.
<li>Do not count ipsec related "route misses" as routing lookup failures.
<li>Support MSG_BCAST and MSG_MCAST in recvmsg(2).
<li>Allow higher uids in adduser(8).
<li>Make h2ph grok hex constants with suffixes, exponential floats, and the [fF] suffixes.
<li>Add '-p pattern' option to split for matching with a regexp.
<li>More man page fixes.
<li>Increase size of routing statistics variables.
<li>More info from rarpd in -d (debug) mode.
<li>${CC} and ${COPTS} were not always getting passed in Makefile.bsd-wrapper.
<li>tail(1) and wc(1) can now deal with files > 2gig.
<li>xterm patchlevel 91.
<li>Permit non-root users to mkfifo onto NFS filesystems.
<li>Fix AFS on mips.
<li>sparc sbus spif driver (serial+parallel card).
<li>Update curses to ncurses-4.2-990130 and import infocmp(1).
<li>Correct handling of negative fields in <strong>df -h</strong>.
<li>Fix i386 __asm clobber control, for egcs.
<li>Various fixes to the bt848 driver.
<li>Fix a multiple free patch in ipnat.
<li>preliminary powerpc PIC support.
<li>powerpc destructors were being called twice. Now only call them once.
<li>Add support for more pcmcia cards.
<li>Fix NEWRENO behaviour, which was buggy.
<li>tzdata1999a
<li>Add <strong>-b</strong> flag to install(1).
<li>For the bootblocks, fix error returns when running in decompressing mode.
<li>Disable i386 bootblocks E801 memory probing test.
<li><font color="#e00000"><strong>SECURITY ISSUE: Fix a select(2)/accept(2) race condition. <a href="errata24.html#accept">A patch is available</a></strong></font>.
<li>Support &amp; username expansion in sendbug, and fix the /tmp race.
<li>Avoid a sendmail DOS regarding huge numbers of header lines.
<li>rmdir(".") now returns EBUSY, as XPG2 says.
<li>pdksh 5.2.13.7
<li>In config(8), order probes according to device attachment, not device declaration.
<li>Many more games fixes.
<li>More man page fixes.
<li>Correct st_blocks for files > 2GB.
<li>Fix mktemp(3) behaviour in gcc(1).  It now handles files safely!  (Took 2 years to get this security issue resolved).
<li>Many pid_t fixes to the source tree.
<li>PID_MAX has to be at most 32766, due to interactions with sys/compat.
<li>texinfo 3.12
<li>Addition of raidframe.
<li>PNIC ethernet driver.
<li>Kernel threads (ie. kthread).
<li>Fix a varargs related bug in patch(1).
<li>MNT_NOATIME support in msdosfs.
<li>VIA Rhine ethernet driver.
<li><font color="#e00000"><strong>Fix an nfs v3 bug when talking to the pedantic solaris7 server. <a href="errata24.html#nfs3_solaris7">A patch is available</a></strong></font>.
<li>Merge other fixes from ksh 5.2.13.6
<li>Add RFNOWAIT support to rfork(2).
<li>Careful strtol() use in make(1).
<li>Fix a vm cache trashing bug.
<li>XFree86 3.3.3.1
<li>More care in getmntinfo(3).
<li>Fix an msdosfs bug.
<li>Driver for Macronix 98713, 98713A, 98715 and 98725.
<li>Check for more possible divide-by-zero cases in disklabel handling.
<li>Fix a display bug in tetris(6).
<li>Make lpt accept polled mode when its interrupt is unavailable.
<li>uint*_t types from newer POSIX standards.
<li>Delay irq allocation for the i82365 pcmcia chipset -- we want better interrupts to be given to pcmcia cards.
<li>Import of NRL IPv6.
<li>new airports database.
<li>Fix an apm bug for <strong>halt -p</strong>.
<li>Update CellServDB.
<li>In syslogd(8), be careful about <strong>sun_path</strong> termination.
<li>Avoid kernel divide-by-zero panics in disklabel handling.
<li>newsyslog(8) no longer needs to care about MAX_PID.
<li>In find(1), correct ! handling in parenthesis 
<li>In strftime(3), document what an ISO 8601 year is.  It's not what you think it is..
<li>In rdump(8), use TCP_NODELAY for a significant performance enhancement.
<li>Fix nsphy(4) MII driver to work on finicky hme(4) driver.
<li>Put some named files in the right place (post-2.4 bug).
<li>For nfs booting, print addresses using kernel inet_ntoa().
<li>range overflow in edquota(8).
<li>Provide pcmcia IO bus mapper with a list of regions where it should preferentially map new devices.
<li>In patch(1), remove some local functions and use basename(3) and dirname(3) instead.
<li>Integration of NetBSD's MIDI &amp; sequencer support.
<li>Sendmail 8.9.2
<li>c++ does not permit a structure to have a member that is called the same name as the structure (ie. <strong>netinet/in.h</strong> had <strong>struct ip_opts</strong> containing a member called <strong>ip_opts[]</strong>. Fix that.
<li>Fix ${PIPE} uses throughout the source tree (not kernel compiles though).
<li>A few htdocs were missing in our httpd(8) install. Add them.
<li>Some pcmcia fixes.
<li>Correct nested <strong>ip_sum</strong> in icmp packets.
<li>Correct the values of <strong>ip_len</strong>, <strong>ip_off</strong>, <strong>ip_id</strong>, and udp <strong>uh_sum</strong> fields for the embedded ip packet inside an icmp packet. (<strong>ip_sum</strong> is still wrong).
<li>More locking fixes in the vfs layer.
<li><font color="#e00000"><strong>Fix df(1) on NFS v3 filesystems. <a href="errata24.html#nfs3">A source code patch is available which solves this problem</a></strong></font>.
<li>Crank PID_MAX to 65535.
<li>Do better pcmcia interrupt allocation.
<li>Make <strong>ip_id</strong> non-repeating random, like DNS id's.
<li>range check signal conversions in the compat layer.
<li>make mount(2) return EOPNOTSUPP for filesystem missing in kernel.
<li>Fix a pcmcia com(4) driver panic.
<li>Many libc_r improvements.
<li>In xl(4), if no MII found, do not panic.
<li>Fix sh(1) and csh(1) builtin kill(1) clones so that they support -SIGXXX.
<li>Activate isakmpd in the build process.
<li>Newer version of isakmpd. 
<li>In kgmon(8), let libkvm decide the default kernel name.
<li>Repeat open operations in cdio, in case of slow changers.
<li><font color="#e00000"><strong>SECURITY ISSUE: Even more bootpd paranoia.  Updated patches are available for <a href="errata23.html#bootpd">2.3</a> and <a href="errata24.html#bootpd">2.4</a></strong></font>.
<li>Make sa(8) 64bit clean.
<li>In install(1), handle sparse files the same way pax(1) does.
<li><font color="#e00000"><strong>Replace raw termcap/terminfo databases with new ones based on a common and shared termtypes database. <a href="errata24.html#terminfo">Since these databases had problems in the 2.4 release, updated versions are available</a></strong></font>.
<li>Permit csh(1)-builtin printf function to have arguments.
<li>Fix a display problem in hexdump(1).
<li><font color="#e00000"><strong>Fix an i386 installboot bug which prevents proper installation when the root partition (or the root partition end) are placed BEYOND the 4GB line. <a href="errata24.html#installboot">A source code patch is available which solves this problem</a></strong></font>.
<li>Flesh mktemp(3) manpage out significantly.
<li>Working <a href=mvme88k.html>mvme88k</a> port.
<li>For IPHDRINCL, check <strong>ip_hl</strong> for validity, too.
<li>Fix goal and max parameters in fmt(1).
<li>Do not believe SS20 machines that claim to have BURST64 support.
<li>In sparc le(3), be more careful about media handling and such.
<li>In ftp, if passive connections fail, try active.
<li>Morse decoding in morse(6).
<li>Numerous fixes to calendar(1), in particular it can now calculate Easter correctly.
<li>Various race/deadlock fixes to umount(2).
<li>More man page fixes.
<li>More isapnp devices.
<li>Fix rand(3) bug introduced into 2.4.
<li>Fix [:print:] in tr(1).
<li>Merge make(1) fixes and changes from other projects.
<li>Consider limits in fdavail().
<li>Fix layer in VFS layer function vinvalbuf().
<li>Fix a tl(4) bug which caused a particular IDE controller to look like an ethernet card...
<li>Increase sparc obio le driver memory to 8K, enhances performance.
<li>Remove itrunc3 panic case: It is invalid code.
<li>fast retransmit statistics in netstat(1).
<li>Many new ISA PNP devices.
<li>Make -ltermcap be -lcurses; and -lotermcap be -locurses, via links.
<li>For kerberosIV, install <strong>prot.h</strong> (some things require it).
<li>XFree86 3.3.3
<li><font color="#e00000"><strong>SECURITY ISSUE: Fix a remote exploit problem in bootpd (which noone runs anyways, without filtering, right?).  This fixes a security problem. Patches are available for <a href="errata23.html#bootpd">2.3</a> and <a href="errata24.html#bootpd">2.4</a></strong></font>.
<li>In cut(1), avoid an infinite loop.
<li>In top(1), skip disabled swap spaces.
<li>Even more man page fixes courtesy of our local man page repair fanatic.
<li>Fix a crash in ps(1).
<li>Make file(1) understand mp3 formats.
<li>Repair a recent bug introduced with the SACK/FACK changes (only affected the alpha).
<li>Add <strong>-C</strong> support to our patch(1).
<li>Numerous IPSEC-related fixes inside the kernel and outside.
<li>Many more man page fixes.
<li>In ipf(8), do not crash for bad config file.
<li>Do not permit tapesize estimate overflows in dump(8).
<li>Fix memory leaks in yacc(1), lex(1).
<li>In nslookup(1), fix an bug in some previous overflow handling.
<li>Permit "Total" bar in "systat swap" to shrink.
<li>Fix /tmp race in ctm(1).
<li>Make /etc/security consistant to /etc/mtree for the /var/backups directory.
<li>Fix a gzip bug.
<li>More careful buffer handling in rpc library.
<li>Handle spaced-out arguments in lorder(1).
<li>Since some drivers occasionally return busted d_secpercyl fields to readdisklabel(), do more checking inside readdisklabel() for those ports that run into this issue.
<li>A couple of missing prototypes added.
<li>More man page fixes.
<li>sudo 1.5.7
<li>New getcat(1) manpage.
<li>Serious improvements to libc_r.  This is becoming usable.
<li>More careful mmap handling in various device drivers.
<li>Exponential space growth in v?asprintf(3).
<li>More manpage fixes.
<li>Fix a crash of ksh(1).
<li>Ignore out-of-range environment LINES and COLUMNS in libocurses.
<li>In libcurses in the issetugid(2) case, ignore $TERMINFO.
<li><font color="#e00000"><strong>SECURITY ISSUE: In libocurses and libcurses in the issetugid(2) case, only ignore $TERMCAP if it is a path. <a href="errata24.html#termcap">A patch is available</a></strong></font>.
<li>Support full set of pty devices in the MAKEDEV scripts.
<li>Make rl(4) match the Accton 1207D cards too.
<li>Prototype getpgid(2)
<li>Handle COMMENTS better in pkg_info(8).
<li>64-bit fixes in TCP SACK.
<li>Fix a bunch of strtol() range check errors.
<li>Improve tty permission checking in wall(1).
<li>NEWRENO, SACK, and FACK support in our TCP implementation.  SACK and FACK are enabled by default.
<li>Added <i>adw</i>, the AdvanSys Ultra Wide PCI SCSI controller driver.
<li>Make yacc's skeleton file pass gcc -Wall.
<li>ncurses-4.2-981114
<li>Fix pcvt attribute handling
<li>Fix system() buffer mis-handlings in lynx(1)
<li>Use -lcurses in xterm(1)
<li>Preserve errno in a libutil/passwd.c function
<li>In libm, use write(2,...) instead of stdio code.
<li>Fix an IPSEC SPI mishandling bug.
<li>ncurses based tset(1).
<li>Fix an expression handling bug in as(1).
<li>Improve setregid() and setreuid() emulated behaviour.
<li>ftok() is now XPG compliant.
<li><font color="#e00000"><strong>Put userdir support back into httpd(8). <a href="errata24.html#userdir">A patch is available</a></strong></font>.
<li>Put userdir support back into httpd(8).
<li>New daemon: isakmpd (ISAKMP/Oakley ipsec daemon).
<li>Move /tmp/bootpd.dump to /var/run to avoid filesystem race.
<li>Fix some manpages
<li>sudo 1.5.6p6
<li><font color="#e00000"><strong>Fix a remote lockup problem in the TCP packet decoding code.  This fixes a security problem. Patches are available for <a href="errata23.html#tcpfix">2.3</a> and <a href="errata24.html#tcpfix">2.4</a></strong></font>.
<li>Fix a deadlock in deadfs VOP_LOCK().
<li>Support -p option in ipmon(8).
<li>Change bpf to support full frame-grabbing for FDDI packets.
<li>Support more ISAPNP devices.
<li><a href=want.html>A new web page contains a list of hardware that the project could use for our development process.</a>
<li>Newer soft updates code.
<li>More manpage fixups.
<li>Driver for rl(4) PCI ethernet cards (rtl8129/8139).
<li>New phy drivers.
<li>Repair a bad strlcpy(3) manpage error.
<li>Support ftpd(8) running out of /etc/rc
<li>Fix fsck_ext2fs(8) for FIFOs.
<li>Detect and handle dma sbus cards in non-dma sbus slots.
<li>Handle scsi devices which terminate inquiry strings with 0xff.
<li>Fix append mode in freopen(3).
<li>Cache and hash hostnames in ipmon(8).
<li>Improvements to up-coming libc_r code.
<li>Minor possible security fix to xlock(1).
<li>Easter and Y2K leap year fix to calendar(1).
<li>Use optimal xfer blocksize in rm(1) instead of assuming 8K.
<li>Fix a bug in libocurses.
<li>curses 4.2-981017
<li>More man page fixes.
<li>Be sure to enable pci cards that the BIOS forgot about.
<li>Support hppa in rbootd(8)
<li>Merge bug fixes from pdksh 5.2.13.4
<li>Various new ppp(8) changes.
<li>Use correct ioctl for flushing in ipmon(8).
<li>Fix various tcp options bugs.
<li>Fix tcp timestamps.
<li><font color="#e00000"><strong>Repair sparc kvm dump header problem. <a href="errata24.html#kvm_mkdb">A patch is available</a></strong></font>.
<li>More carefully check /etc/hostname.* file contents before using it.
<li>Fix mktemp() problems in lynx(1).
</ul>
<p>

This list mentions mostly platform-independent changes.  For a list of changes
made in a particular platform, please check the page for that platform.  If you
find them not listed there, the changes are either (1) not being documented or
(2) are documented here.<br><br>

<hr>
<p>
<h3>
For changes in other releases, click below:<br>
<a href="plus20.html">2.0</a>,
<a href="plus21.html">2.1</a>,
<a href="plus22.html">2.2</a>,
<a href="plus23.html">2.3</a>,
<a href="plus24.html">2.4</a>,
<a href="plus26.html">2.6</a>,
<a href="plus27.html">2.7</a>,
<a href="plus28.html">2.8</a>,
<a href="plus29.html">2.9</a>,
<a href="plus30.html">3.0</a>,
<a href="plus31.html">3.1</a>,
<a href="plus32.html">3.2</a>,
<a href="plus33.html">3.3</a>,
<a href="plus34.html">3.4</a>,
<a href="plus35.html">3.5</a>,
<a href="plus36.html">3.6</a>,
<a href="plus37.html">3.7</a>,
<a href="plus.html">current</a>.
<br>
</h3>

<hr>
<a href="index.html"><img height=24 width=24 src=back.gif border=0 alt=OpenBSD></a> 
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br><small>$OpenBSD: plus25.html,v 1.26 2005/06/17 23:39:14 david Exp $</small>

</body>
</html>

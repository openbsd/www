<!DOCTYPE HTML PUBLIC  "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>OpenBSD/mvme88k</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="resource-type" content="document">
<meta name="description" content="de OpenBSD/mvme88k pagina">
<meta name="keywords" content="openbsd,mvme88k">
<meta name="distribution" content="global">
<meta name="copyright" content="Dit document copyright 1996-2004 OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238e">
<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" src="../images/smalltitle.gif" border="0"></a>
<p>
<h2><font color="#e00000">OpenBSD/mvme88k</font></h2>

<hr>

<p>
OpenBSD/mvme88k is een poging om OpenBSD te porten naar de systemen welke zijn
ontworpen bovenop Motorola's 881x0-based VME moederbord familie.

<p>
De huidige onderhouder van de port is Miod Vallat
(<a href="mailto:miod@openbsd.org">miod@openbsd.org</a>), met hulp van
Steve Murphree. Anderen zijn zeker welkom om mee te helpen!

<a href="#toc"></a>
<h3><font color="#0000e0"><i>Inhoudsopgave</i></font></h3>
<p>
<ul>
  <li><a href="#history">Geschiedenis van de port</a>
  <li><a href="#status">Huidige status</a>
  <li><a href="#projects">Project lijst</a>
  <li><a href="#hardware">Ondersteunde hardware</a>
  <li><a href="#install">Verkrijge en installeren van OpenBSD/mvme88k</a>
  <li><a href="#details">Hardware details</a>
</ul>

<hr>
<a name="history"></a>
<h3><font color="#0000e0"><strong>Gechiedenis:</strong></font></h3>

<p>
Van de Motorola 88k processor wordt er gezegt dat het de beste RISC processor is
die ooit is gemaakt. De combinatie van eenvoud en elegantie maakt de mvme88k tot 
een krachtig, robuust platform.

<p>
Nivas Madhur is begonnen met de oorspronkelijke mvme88k port voor de MVME187 
kaart, maar hij is sindsdien overgegaan naar een andere werkgever.
De port werd in de OpenBSD tree geplaatst door Dale Rahm, maar hij had niet 
genoeg tijd om er aan te werken.
Uiteindelijk heeft Steve Murphree, Jr. de port naar de MVME187 in november 1998 
afgemaakt.

<p>
Helaas onthulde, rond dezelfde tijd, een compiler upgrade van gcc 2.8.1 naar 
egcs een groot aantal problemen in de mvme88k ondersteuning in gcc. Deze konden 
niet op tijd worden opgelost voor de uitgave van OpenBSD 2.5.

<p>
Het gebrek aan de in-tree toolchain verhinderde echter niet dat er in de 
toekomst niet meer aan de port werd gewerkt. Veel veranderingen werden aan de 
code aangebracht, zoals bijvoorbeeld een vernieuwde autoconf en een 
stuurprogramma voor het ingebouwde SCSI, de VME bus ondersteuning werd 
ontzettend uitgebreidt, een werkend installatie process dat op de juiste manier 
Motorola VID blokken aanmaakt op de schijven, ondersteuning voor de MVME188 als 
ook betere ondersteuning voor de MVME197.

<p>
Een poging om de toolchain te repareren in de zomer van 2003, leverde een 
werkende gcc 2.95 compiler en dit maakte de port weer self-hosting. Met hulp van 
Mark Kettenis leverde de toolchain inspanningen uiteindelijk werkende binutils 
en gdb eind mei 2004.

<hr>
<a name="status"></a>
<h3><font color="#0000e0"><strong>Huidige status:</strong></font></h3>

<p>
Momenteel zijn alleen de MVME187 en MVME188 boards, en vergelijkbare ontwerpen, 
in staat om multi-user te booten en zij ondersteunen de meeste ingebouwde 
apparaten. Echter, er zijn nog een paar addertjes onder het gras; afhankelijk 
van je hardware kan je succes variëren. 
Er wordt gewerkt om de overgebleven problemen op te lossen en nieuwe boards 
betrouwbaar te ondersteunen.

<hr>
<a name="projects"></a>
<h3><font color="#0000e0"><strong>Projecten (in willekeurige volgorde):
</strong></font></h3>

<p>
<ul>
  <li>MVME197 ondersteuning.
  <li>Werken aan niet ondersteunde kaarten (MVME327, MVME374...).
  <li>Code schrijven voor nieuwe binutils (en gdb), overschakelen naar ELF, en 
      uituindelijke gedeelde bibliotheken.
</ul>

<hr>
<a name="hardware"></a>
<h3><font color="#0000e0"><strong>Ondersteunde hardware:</strong></font></h3>

<p>
<h4>Ondersteunde processor boards</h4>

<p>
<ul>
<li><strong>MVME187</strong><br>
Een 88100-processor gebaseerde versie van de <a href="mvme68k.html">mvme68k</a>
MVME167 en MVME177 boards. Met twee 88200 CMMU's met elk 16KB cache, SRAM en 
ingebouwd ethernet en SCSI controllers. Tevens met vier seriële poorten een één 
parallelle poort.<br>
<li><strong>MVME188 en MVME188A</strong><br>
In tegenstelling tot de andere MVME processor boards heeft dit board geen 
inbouwde apparaten; het is eigenlijk gewoon een omhulsel voor een 
<i>HYPERmodule</i> met één, twee of vier 88110 processoren, en twee of vier 
88200 (16KB cache) of 88204 (64KB cache) CMMU's per processor.<br>
Alle HYPERmodule combinaties worden ondersteund, maar M88200 1P128 en 1P512 zijn
niet getest.<br>
Externe kaarten specifiek voor de MVME188 familie kunnen geheugen en seriële 
poorten leveren.
</ul>

<p>
Behalve verschillende complete Motorola systemen (<strong>M8120</strong>,
MVME187-gebaseerde <strong>900 serie</strong>, etc), draait deze port ook op de 
MVME187-gebaseerde <strong>Triton Dolphin System 100</strong>.

<p>
<h4>Ondersteunde ingebouwde apparaten</h4>

<p>
<ul>
<li><strong>MVME187</strong>
  <ul>
  <li>Cirrus Logic CL2400 seriële poorten (tty00-tty03/tty07<i>[M8120]</i>) (cl)
  <li>Intel 82596CA Ethernet interface
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ie&amp;sektion=4&amp;arch=mvme88k">ie</a>)
  <li>NCR53c710 SCSI Controller
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=osiop&amp;sektion=4&amp;arch=mvme88k">osiop</a>)
  <li>128KB SRAM (/dev/sram0)
  <li>8KB NVRAM (/dev/nvram0)
  </ul>
</li>
<li><strong>MVME188</strong>
  <ul>
  <li>seriële poorten op het <i>SYSCON</i> board (ttya-ttyb) (dart)
  <li>2KB NVRAM (/dev/nvram0)
  </ul>
</li>
</ul>

<p>
<h4>Ondersteunde VME boards</h4>

<p>
<ul>
  <li><strong>MVME328</strong> High Performance SCSI Controller
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vs&amp;sektion=4&amp;arch=mvme88k">vs</a>)
  <li><strong>MVME332XT</strong> High Performance Serial I/O Controller
	(8 seriële poorten, 1 parallelle poort) (vx)
  <li><strong>MVME376</strong> Ethernet Communications Controller
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=le&amp;sektion=4&amp;arch=mvme88k">le</a>)
</ul>

<p>
<h4>Niet-ondersteunde processor boards</h4>
<p>

<p>
Deze boards worden momenteel niet ondersteund. Echter, de code van sommige van 
deze boards bevindt zich al in de tree en word momenteel ge-debugged.
<ul>
<li><strong>MVME180 <i>``Angelfire''</i> en MVME181</strong><br>
Een goedkoop, toegankelijk board, met één enkele 88100 processor, twee 88200 
CMMU's en twee ingebouwde seriële poorten.
<li><strong>MVME197LE</strong><br>
Een toegankelijk ontwerp dat vergelijkbaar is met de MVME187, maar dit ontwerp 
is gebaseerd op de 88110 processor met een ingebouwde MMU en cache controller.
<li><strong>MVME197SP en MVME197DP</strong><br>
Verbeterde versies van de MVME197LE, met één of twee 88100 processors en één 
externe 88410 cache controller per processor.
</ul>

<hr>
<a name="install"></a>
<h3><font color="#0000e0">
<strong>Verkrijgen en installeren van OpenBSD/mvme88k:</strong>
</font></h3>

<p>
De laatste ondersteunde OpenBSD/mvme88k uitgave is
<a href="37.html">OpenBSD 3.7</a>.
Hier zijn de
<a href="ftp://ftp.OpenBSD.org/pub/OpenBSD/3.7/mvme88k/INSTALL.mvme88k">
OpenBSD/mvme88k 3.7 installatie instructies
</a>.

<p>
Van tijd tot tijd worden snapshots beschikbaar gemaakt op
<a href="ftp://ftp.OpenBSD.org/pub/OpenBSD/snapshots/mvme88k">deze locatie</a>
en op enkele
<a href="ftp.html">mirrors</a>.
Hier zijn ook de
<a href="ftp://ftp.OpenBSD.org/pub/OpenBSD/snapshots/mvme88k/INSTALL.mvme88k">
OpenBSD/mvme88k snapshot installatie instructies
</a>.

<hr>
<a name="details"></a>
<h3><font color="#0000e0"><strong>Hardware details:</strong></font></h3>

<p>
Aangezien VME hardware nogal weinig voorkomt in de gemiddelde computer winkel, 
is deze sectie hier om de gegronde nieuwsgierigheid in de mvme88k hardware te 
bevredigen.

<p>
Een uitgebreide toelichting over de m88k processor and verschillende ontwerpen 
gebaseerd daarop zijn samengebracht door Paul Weissmann op
<a href="http://badabada.org/">badabada</a>.

<a name="pics"></a>
<p>
Afbeeldingen van een Motorola 900 modulair chassis, met een 33MHz MVME187 CPU
board, 32MB RAM, 4 MVME332XT seriële boards en een Archive 250MB QIC tape drive.
<ul>
 <li><a href="../images/mvme187-1.jpg">MVME187 Series 900 (vooraanzicht)</a>
 <li><a href="../images/mvme187-2.jpg">MVME187 Series 900 (achteraanzicht)</a>
 <li><a href="../images/mvme187-3.jpg">MVME187 Series 900 (achteraanzicht met terminal)</a>
 <li><a href="../images/mvme187-4.jpg">MVME187 Series 900 (close up van achteraanzicht)</a>
 <li><a href="../images/mvme188-2.jpg">MVME188 Dual processor board</a>
</ul>

<p>
Dit is de boot log van een MVME187 systeem.
<pre>
CPU0 is attached with 2 MC88200 CMMUs
CPU0 is master CPU
[ using 164336 bytes of bsd a.out symbol table ]
Copyright (c) 1982, 1986, 1989, 1991, 1993
        The Regents of the University of California.  All rights reserved.
Copyright (c) 1995-2003 OpenBSD. All rights reserved.  http://www.OpenBSD.org

OpenBSD 3.4-current (GENERIC) #339: Thu Dec 25 20:53:33 GMT 2003
    miod@ramade.gentiane.org:/usr/src/sys/arch/mvme88k/compile/GENERIC
real mem  = 33554432
avail mem = 28024832 (6842 pages)
using 435 buffers containing 1781760 bytes of memory
mainbus0 (root): Motorola MVME187, 25MHz
cpu0: M88100 rev 0x3, 2 CMMU
cpu0: M88200 (16K) rev 0x9, global Icache, M88200 (16K) rev 0x9, global Dcache
bugtty0 at mainbus0 addr 0xfff45000: fallback console
pcctwo0 at mainbus0 addr 0xfff00000: rev 0
clock0 at pcctwo0 ipl 5
memc0 at pcctwo0 offset 0x43000: MEMC040 rev 1
nvram0 at pcctwo0 offset 0xc0000: MK48T08 len 8192
cl0 at pcctwo0 offset 0x45000 ipl 3 console 
ssh0 at pcctwo0 offset 0x47000 ipl 2: version 0 target 7
scsibus0 at ssh0: 8 targets
vme0 at pcctwo0 offset 0x40000: vector base 0x80, system controller
vme0: using BUG parameters
vme0: 1phys 0x02000000-0xefff0000 to VME 0x02000000-0xefff0000
vme0: 2phys 0xff000000-0xff7f0000 to VME 0xff000000-0xff7f0000
vme0: 3phys 0x00000000-0x00000000 to VME 0x00000000-0x00000000
vme0: 4phys 0x00000000-0x00000000 to VME 0x00000000-0x00000000
vme0: vme to cpu irq level 1:1
vmes0 at vme0
vx0 at vmes0 addr 0xff780000 vaddr 0x3ad0000 vec 0x80 ipl 3
vx0: created channel 1
vs0 at vmes0 addr 0xffff9000 vaddr 0x3ae0000 vec 0x81 ipl 2: target 7
scsibus1 at vs0: 8 targets
sd0 at scsibus1 targ 0 lun 0: &lt;COMPAQPC, DCAS-32160, S6CA&gt; SCSI2 0/direct fixed
sd0: 2006MB, 8188 cyl, 3 head, 167 sec, 512 bytes/sec, 4110000 sec total
vmel0 at vme0
ie0 at pcctwo0 offset 0x46000 ipl 1: address 08:00:3e:21:07:25
boot device: sd0
root on sd0a
rootdev=0x400 rrootdev=0x800 rawdev=0x802
Automatic boot in progress: starting file system checks.
/dev/rsd0a: file system is clean; not checking
/dev/rsd0d: file system is clean; not checking
/dev/rsd0e: file system is clean; not checking
/dev/rsd0f: file system is clean; not checking
/dev/rsd0g: file system is clean; not checking
/dev/rsd0h: file system is clean; not checking
/dev/rsd0i: file system is clean; not checking
setting tty flags
ddb.console: 0 -&gt; 1
kern.splassert: 0 -&gt; 2
starting network
add net default: gateway odyssee
starting system logger
starting rpc daemons: portmap ypbind rdate timed.
savecore: no core dump
checking quotas: done.
building ps databases: kvm dev.
clearing /tmp
starting pre-securelevel daemons:.
setting kernel security level: kern.securelevel: 0 -&gt; 1
preserving editor files
creating runtime link editor directory cache.
starting network daemons: sendmail inetd sshd.
starting local daemons:.
standard daemons: cron.
Sat Jan  3 22:58:54 GMT 2004

OpenBSD/mvme88k (ramade.gentiane.org) (console)

login:  
</pre>

<hr>
<a href="plat.html">
<img height="24" width="24" src="../back.gif" border="0" alt="Ondersteunde platformen">
</a> 
<br>
<small><a href="mailto:www@openbsd.org">www@openbsd.org</a></small>
<br>
<small>
<!--
Originally [OpenBSD: mvme88k.html,v 1.61 ]<br>
$Translation: mvme88k.html,v 1.1 2005/08/04 09:50:06 jasper Exp $<br>
-->
$OpenBSD: mvme88k.html,v 1.1 2005/08/04 21:13:18 saad Exp $
</small>

</body>
</html>

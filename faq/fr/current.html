<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Suivre la version de développement "-current"</title>
<link rev= "made" href= "mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 2006 by OpenBSD">
</head>

<body bgcolor= "#ffffff" text= "#000000">
<a href="../../fr/index.html">
<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif" border="0">    
</a>
<p>
<font color= "#0000e0">
<a href= "index.html">[Index de la FAQ]</a>
</font>

<p>

<h1><font color="#e00000">Suivre la version de développement "<i>-current</i>"</font></h1>
<hr>

<h3>Table des matières</h3>
<p>
<ul>
<li><a href="#Intro">Introduction</a>
<!-- Les entrées les plus vieilles en haut... -->
<li><a href="#20060327">27/03/2006 - Nouveau microcode pour iwi(4)</a>
<li><a href="#20060518">18/05/2006 - Suppression de spppcontrol(8)</a>
<li><a href="#20060526">26/05/2006 - Suppression de ipsecadm(8)</a>
<li><a href="#20060621">21/06/2006 - Ajout de dvmrpd(8)</a>
<li><a href="#20060625">25/06/2006 - Suppression de wicontrol(8)</a>
<li><a href="#20060727">27/07/2006 - Nouvelle option du compilateur</a>
<li><a href="#20060926">26/09/2006 - Passage à gcc3 (alpha)</a>
<li><a href="#20061006">06/10/2006 - 'flags S/SA keep state' devient
    implicite dans pf.conf(5)</a>
<li><a href="#20061011">11/10/2006 - pas de disklabel dans les
    partitions FreeBSD ou NetBSD</a>
<li><a href="#20061012">12/10/2006 - Ne pas démarrer à partir de
    partitions NetBSD</a>
<!-- Les nouvelles additions se mettent en bas, merci -->
</ul>
    
<hr>

<a name="Intro"></a>
<!-- XXXversion -->
<h2>Introduction</h2>
Ce document est pour les personnes souhaitant suivre la version de
développement d'OpenBSD; celle-ci sera nommée <i>-current</i> dans la
suite de ce texte. Il contient des informations sur les changements
apportés entre la version 3.9-release et <i>-current</i>, et ne devrait
PAS être utilisé par quiconque voulant faire une mise à jour à partir
des versions 3.8 ou précédantes ou même par les personnes souhaitant
suivre <a href="../../fr/stable.html"><i>-stable</i></a>.

<p>
Si vous voulez passer vers la version 3.9-release ou 3.9-stable à partir
de versions antérieures, consulter le <a href="upgrade39.html">guide de
mise à niveau</a>.

<p>
Soyez certain d'avoir lu et compris la
<a href="faq5.html">FAQ 5 - Construire le Système à partir des Sources</a>
avant d'utiliser -current et les instructions qui suivent.

<p>
Vous devriez TOUJOURS partir d'un "snapshot" pour suivre
<i>-current</i>. Une mise à jour via la compilation des sources n'est
pas supportée.
   
<p>
Si vous souhaitez avoir des informations pour mettre à jour en partant de
versions plus anciennes, consultez le document
<a href="../upgrade-old.html">upgrade-old.html</a>.
Celui-çi est fourni en tant que document historique -- il ne DOIT PAS
servir de procédure de mise à jour.

<p>

<a name="20060327"></a>
<h3>27/03/2006 - Nouveau microcode pour iwi(4)</h3>
iwi(4) nécessite maintenant la version 3.0 du microcode. A cause de
problèmes de license, le microcode n'est pas distribué avec OpenBSD. Il
peut être installé avec les outils pkg en utilisant le paquetage à
<a href="http://damien.bergamini.free.fr/iwifw/OpenBSD/iwi-firmware-3.0.tgz">http://damien.bergamini.free.fr/iwifw/OpenBSD/iwi-firmware-3.0.tgz</a>.

<p>

<a name="20060518"></a>
<h3>18/05/2006 - Suppression de spppcontrol(8)</h3>
A présent, la configuration de PPP en mode noyau est totalement
supportée par
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ifconfig&amp;sektion=8">ifconfig(8)</a>.
L'utilitaire
<em><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spppcontrol&amp;sektion=8&amp;manpath=OpenBSD+3.9">spppcontrol(8)</a></em>
est désormais obsolète et a été retiré de l'arbre des sources.
Référez-vous aux manuels de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sppp&amp;sektion=4">sppp(4)</a>
et
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pppoe&amp;sektion=4">pppoe(4)</a>
pour des exemples de configuration.
<p>
Précédemment, le fichier /etc/hostname.pppoe0 ressemblait à :
<pre>
pppoedev ne0
!/sbin/ifconfig ne0 up
!/usr/sbin/spppcontrol \$if myauthproto=pap myauthname=testcaller \
        myauthkey=donttell
!/sbin/ifconfig \$if inet 0.0.0.0 0.0.0.1 netmask 0xffffffff
!/sbin/route add default 0.0.0.1
up
</pre>
Il devra être mis à jour de la façon suivante :
<pre>
inet 0.0.0.0 255.255.255.255 0.0.0.1 pppoedev ne0 \
        authproto pap authname testcaller authkey donttell up
!/sbin/route add default 0.0.0.1
</pre>
Et l'interface physique doit être marquée comme active ("UP") :
<pre>
# echo "up" > /etc/hostname.ne0
</pre>
<p>

<a name="20060526"></a>
<h3>26/05/2006 - Suppression de ipsecadm(8)</h3>
La configuration d'IPsec est désormais totalement supportée par
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ipsecctl&amp;sektion=8">ipsecctl(8)</a>.
L'utilitaire
<em><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ipsecadm&amp;sektion=8&amp;manpath=OpenBSD+3.9">ipsecadm(8)</a></em>
est désormais obsolète et a été supprimé de l'arbre CVS.
Référez-vous au manuel d'
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ipsec.conf&amp;sektion=5">ipsec.conf(5)</a>
pour des exemples de configuration.
<p>

<a name="20060621"></a>
<h3>21/06/2006 - Ajout de dvmrpd(8)</h3>
Le développement d'un remplacement a mrouted(8) a été démarré et
importé ; afin d'utiliser ce nouveau service, l'utilisateur _dvmrpd doit
être ajouté :<p>
<pre>
# useradd -u87 -g=uid -c"DVMRP Daemon" -d/var/empty -s/sbin/nologin _dvmrpd
</pre>

<a name="20060625"></a>
<h3>25/06/2006 - Suppression de wicontrol(8)</h3>
La configuration sans-fil pour
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wi&amp;sektion=4">wi(4)</a>
est désormais totalement supportée par
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ifconfig&amp;sektion=8">ifconfig(8)</a>.
L'utilitaire
<em><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wicontrol&amp;sektion=8&amp;manpath=OpenBSD+3.9">wicontrol(8)</a></em>
est désormais obsolète et a été supprimé de l'arbre CVS.
<p>

<a name="20060727"></a>
<h3>27/07/2006 - Nouvelle option du compilateur</h3>
Sur toutes les plateformes, le noyau est à présent compilé avec la
nouvelle option du compilateur <i>-Wstack-larger-than</i>. Avant de
construire un noyau, le compilateur doit être recompilé et installé.

<p>
Suivez les instructions de la
<a href="faq5.html#NewCompiler">FAQ 5 - Comment puis-je amorcer sur une
nouvelle version du compilateur ?</a> pour de plus amples détails.
<p>

<a name="20060926"></a>
<h3>26/09/2006 - Passage à gcc3 (alpha)</h3>
OpenBSD/alpha est passé à gcc3.
Pour mettre à jour,
<pre>
 # rm -rf /usr/include/g++
 # cp /usr/src/share/mk/bsd.own.mk /usr/share/mk/
</pre>
A présent, <a href="faq5.html#NewCompiler">compilez gcc3</a> (en
utilisant le répertoire gcc3) puis compilez un nouvel ld.so :

<pre>
 cd /usr/src/libexec/ld.so
 make clean
 make obj
 make depend
 make
 make install
</pre>

Ensuite, compilez le noyau et le système comme à
<a href="faq5.html#Bld">l'accoutumée</a>.
<p>

<a name="20061006"></a>
<h3>06/10/2006 - 'flags S/SA keep state' devient implicite dans
        pf.conf(5)</h3>
<i>flags S/SA keep state</i> est à présent le mode par défaut pour les
règles "pass" de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;sektion=5">pf.conf(5)</a>,
et les options <i>no state</i> et <i>flags any</i> ont été ajoutées afin
de changer le fonctionnement par défaut. Les jeux de règles actuels
continueront de se charger, mais leurs comportements pourraient changer
quelque peu, ces nouvelles options par défaut étant plus restrictives.
Les jeux de règles avec un filtrage sans état (<i>no state</i>) ou qui
doivent créer des états sur les paquets intermédiaires (<i>flags
any</i>) doivent être mis à jour explicitement afin d'obtenir le
comportement souhaité.
<p>
Une attention toute particulière devra être prise avec l'interface
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=enc&amp;sektion=4">enc0</a>,
étant donné que des états flottants constituent un problème potentiel
pour le filtrage du trafic IPsec : les états doivent être liés à une
interface afin d'éviter l'autorisation de trafic non chiffré dans le cas
où
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&amp;sektion=8">isakmpd(8)</a>
serait amené à s'arrêter. Toutes les règles liées à l'interface enc0
devraient donc contenir <i>keep state (if-bound)</i>.
<p>

<a name="20061011"></a>
<h3>11/10/2006 - pas de disklabel dans les partitions FreeBSD ou
          NetBSD</h3>
<i>Les partitions DOS de FreeBSD et NetBSD au niveau du MBR</i> ne sont
plus utilisées pour stocker des disklabels et pour chercher un
disklabel. Ainsi, les partitions DOS de FreeBSD et NetBSD au niveau du
MBR ne contiendront plus une partition 'a' créée par le disklabel
usurpé. Le disklabel de tels disques sera stocké et chargé à partir du
secteur 1. Mais cette opération pourrait trouver un vieux disklabel de
manière accidentelle. Utilisez fdisk(8) pour changer le type de
partition en OpenBSD ('A6') pour utiliser le disklabel existant.
<p>
 
<a name="20061012"></a>
<h3>12/10/2006 - Ne pas démarrer à partir de partitions NetBSD</h3>
<i>amd64, i386, macppc, and mvmeppc</i> n'essaient plus désormais de
démarrer à partir de la première partition NetBSD lorsqu'aucune
partition OpenBSD n'a été trouvée.
<p>

<font color= "#0000e0">
<a href= "index.html">[FAQ Index]</a>
</font>
<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt="[back]"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: current.html,v 1.50 ]<br>
$Translation: current.html,v 1.41 2006/10/23 09:26:54 saad Exp $<br>
-->
$OpenBSD: current.html,v 1.32 2006/10/23 09:57:07 saad Exp $
</small>

</body>
</html>

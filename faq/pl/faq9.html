<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>9 - Migracja do OpenBSD</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-2">
<meta name="resource-type" content="document">
<meta name="description" content="the OpenBSD FAQ page">
<meta name="keywords" content="openbsd,faq">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1998-2005 by OpenBSD."></head>

<body bgcolor="#ffffff" text="#000000">
<!-- Passes validator.w3.org, please keep it this way;
please, use a max of 72 chars per line -->

<img alt="[OpenBSD]" height="30" width="141" src="../../images/smalltitle.gif">

<p>
<font color="#0000e0">
<a href="index.html">[Spis tre¶ci]</a>
<a href="faq8.html">[Sekcja 8 - Ogólne pytania]</a>
<a href="faq10.html">[Sekcja 10 - Zarz±dzanie systemem]</a>
</font>
<h1><font color="#e00000">9 - Migracja do OpenBSD</font></h1>

<!--
UNCOMMENT ONLY WHEN THE FILE IS OUT OF SYNC

<hr>
<p>
<b><font color="#e00000">Uwaga:</font></b>Zawarto¶æ tego pliku
jest ju¿ bardzo nieaktualna w stosunku do
<a href="../faq9.html">bie¿±cej wersji anglojêzycznej</a>.

<p>
Je¶li chcesz pomóc w aktualizacji tego pliku, zajrzyj na
<a href="../../translation.html">stronê t³umaczeñ</a>.

-->

<hr>

<h3>Spis tre¶ci</h3>
<ul>
<li><a href="#Linux"   >9.1 - Rady dla u¿ytkowników Linuksa i innych
                              darmowych systemów Uniksowych</a></li>
<li><a href="#DualBoot">9.2 - Uruchamianie Linuksa i OpenBSD na jednym
                              komputerze</a></li>
<li><a href="#passwd"  >9.3 - Konwersja pliku hase³ Linuksa (lub innego
                              systemu w stylu System-6) do postaci BSD</a></li>
<li><a href="#Interact">9.4 - Korzystanie z aplikacji linuksowych w
                              OpenBSD</a></li>
<li><a href="#Ext2FS"  >9.5 - Odczytywanie partycji linuksowych z poziomu
                              OpenBSD</a></li>
</ul>

Aby uzyskaæ wiêcej informacji odwied¼ nastêpuj±c± stronê
<a href="http://sites.inka.de/mips/unix/bsdlinux.html">
http://sites.inka.de/mips/unix/bsdlinux.html</a>.


<hr>
<br>

<p>
<a name="Linux"></a>
</p><h2>9.1 - Rady dla u¿ytkowników Linuksa i innych darmowych systemów Uniksowych</h2>

<p>
Chocia¿ OpenBSD jest bardzo tradycyjnym unikso-podobnym systemem operacyjnym,
i wyda siê znajomy tym, którzy korzystali ju¿ z innych systemów uniksowych,
istniej± pewne bardzo wa¿ne ró¿nice.
Nowi u¿ytkownicy OpenBSD musz± przyj¿eæ siê swojemu do¶wiadczeniu:
je¿eli twoj± jedyn± wiedz± o Unix'ie jest trochê do¶wiadczenia z pewnym typem
Linuksa, mo¿esz postrzegaæ OpenBSD "jako dziwne".
Zreszt± Linux wygl±da ca³kiem dziwnie dla ka¿dego kto zaczyna³ z 
OpenBSD.
Musisz rozpoznaæ ró¿nicê pomiêdzy "standardem" i swoim
do¶wiadczeniem.

</p><p>
Je¿eli uczy³e¶ siê Uniksa z jakiejkolwiek <a href="../books.html">dobrej
ksi±¿ki</a>, staraj±c siê zrozumieæ filozofiê Unix'a, a pó¼niej
rozszerza³e¶ swoj± wiedzê na konkretne platformy, stwierdzisz ¿e OpenBSD
jest "prawdziwym" i znanym Uniksem.
Je¿eli uczy³e¶ siê Unix'ów w stylu "napisz to by zrobiæ tamto", lub z ksia¿ek
takich jak "Learn PinkBeenie v8.3 in 31.4 Hours", i powiedzia³e¶ sobie,
¿e "znasz uniksa", odnajdziesz OpenBSD zupe³nie ró¿nym.

</p><p>
Jedn± z wa¿niejszych ró¿nic pomiêdzy OpenBSD i wieloma innymi systemami
operacyjnymi, jest dokumentacja. Deweloperzy OpenBSD s± dumni z systemowych
<a href="http://www.openbsd.org/cgi-bin/man.cgi"> stron manuala</a>.
Strony manuali s± <tt>autorytatywnym</tt> ¼ród³em wiedzy o OpenBSD 
-- nie to FAQ, nie niezale¿nie tworzone dokumenty "<tt>third-party</tt>",
nie "HOTWO", itd.
Gdy deweloper dokonuje zmian w systemie, oczekujemy ¿e
bêdzie uaktualnia³ stronê manuala, tak d³ugo jak d³ugo istnieje jego zmiana w kodzie, nie
"po¼niej", "gdy zaczn± siê przekonywaæ do tego" lub "gdy kto¶ zacznie narzekaæ".
Strona manuala istnieje w³a¶ciwie dla ka¿dego programu, narzêdzia, sterownika,
pliku konfiguracyjnego, i wszystkiego innego czym system dysponuje.
Oczekuje siê ¿e u¿ytkownik sprawdzi strony manuali zanim poprosi o
pomoc na <a href="../mail.html">grupie dyskusyjnej</a>.

</p><p>
Poni¿ej opisano zazwyczaj podawane ró¿nice pomiêdzy OpenBSD i 
pozosta³ymi Unix'ami.

</p><ul>
<li>OpenBSD jest uczciwie czystym BSD Unix'em, opartym na 4.4BSD. 
Linux i SCO Unix nale¿± do rodziny System V. Niektóre uniksopodobne 
systemy operacyjne (w³±czaj±c niektóre dystrybucje Linuksa) s± 
mieszanin± SysV i BSD. Miejscem gdzie najczê¶ciej wystêpuj± ró¿nice
s± 
<a href="http://openbsd.org/faq/faq10.html#rc">skrypty startowe</a>. 
OpenBSD u¿ywa tradycyjnego BSD4.4-style
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc&amp;sektion=8">rc(8)</a>.

</li><li>OpenBSD jest kompletnym <tt>systemem</tt>, zaprojektowanym do 
zachowywania spójno¶ci. Nie jest to tylko "j±dro systemu i dodatki", 
które mog± byæ aktualizowane oddzielnie. Utrata spójno¶ci systemu 
(j±dro, narzêdzia u¿ytkowników i aplikacje) mo¿e doprowadziæ do sytuacji 
w której bêd± siê dziaæ dziwne rzeczy.

</li><li>Jako ¿e wiele aplikacji nie jest przygotowanych by bezpo¶rednio
kompilowaæ je i u¿ywaæ w ¶rodowisku OpenBSD, w OpenBSD stworzono
<a href="faq8.html#Ports">drzewo portów</a>, miejsce z którego u¿ytkownicy 
mog± w ³atwy sposób pobieraæ kod ¼ród³owy, paczowaæ go, uzgadniaæ zale¿no¶ci, 
kompilowaæ go, instalowaæ i usuwaæ w standaryzowany oraz kontrolowany sposób. 
Pre-kompilowane <a href="faq8.html#Packages">pakiety</a> s± tworzone i 
rozpowszechniane przez tworców OpenBSD.
U¿ytkownicy s± <a href="faq8.html#PortsvsPkgs">zachêcani</a> do u¿ywania tych pakietów 
zamiast kompilowaæ w³asne.

</li><li>
Do kontrolowania wersji ¼róde³ OpenBSD wykorzystuje system CVS. W 
OpenBSD wprowadzono 
<a href="http://openbsd.org/anoncvs.html">anonymous CVS</a>, który 
pozwala ka¿demu pobraæ pe³ny kod ¼ród³owy dla
ka¿dej wersji OpenBSD (od 2.0 do obecnej, i wszystkich wersji plików 
po¶rednich) w dowolnym czasie, daj±c przy tym dostêp do najnowszych zmian.
Istnieje tak¿e bardzo wygodny i ³atwy w u¿yciu 
<a href="http://www.openbsd.org/cgi-bin/cvsweb/">interfejs www dla
CVS'a</a>.

</li><li>
OpenBSD tworzy wydanie oficjalne dostêpne na 
<a href="../orders.html">CD</a> i <a href="../ftp.html">FTP</a> co sze¶æ miesiêcy
zgodnie z <a href="faq1.html#Next">za³o¿onym rozk³adem</a>. 
Snapshoty dla poszczególnych platform s± tworzone quazi-regularnie z 
aktualnego kodu ¼ród³owego. 
Celem jest by drzewo ¼ród³owe dawa³o mo¿liwo¶æ pe³nej kompilacji, 
a wynikowy system zdolny do pracy.
Czasem zdarza siê ¿e dane drzewo jest uszkodzone, dzieje siê tak niezwykle rzadko,
i jest bardzo szybko poprawiane.

</li><li>
OpenBSD zawiera mechanizmy <a href="http://openbsd.org/crypto.html">silnej kryptografii</a>, 
które nie mog± byæ dostarczana z systemami tworzonymi w niektórych krajach.

</li><li>
OpenBSD przesz³o przez ciê¿ki i ci±g³y audyt bezpieczeñstwa kodu, by zapewniæ jego jako¶æ
(czyli tak¿e bezpieczeñstwo).

</li><li>
J±drem OpenBSD jest <tt>/bsd</tt>.

</li><li>
Nazwy dysków to zazwyczaj /dev/wd0 (IDE) i /dev/sd (SCSI oraz urz±dzenia emuluj±ce dyski SCSI).

</li><li>
<A href="http://www.openbsd.org/cgi-bin/man.cgi?query=route&amp;sektion=8">/sbin/route</a>,
bez argumentów, w linuksie zwróci aktualn± tablicê routingu, pod OpenBSD
(oraz wielu innych OS'ach), bêdziesz potrzebowa³ parametru <tt>show</tt>, 
lub polecenia 
"<A href="http://www.openbsd.org/cgi-bin/man.cgi?query=netstat&amp;sektion=1">netstat -r</a>.

</li><li>
OpenBSD NIE zapewnia wsparcia dla systemów plików z ksiêgowaniem takich 
jak: ReiserFS, IBM JFS, lub SGI XFS. Zamiast tego u¿ywamy 
<a href="faq14.html#SoftUpdates">SoftUpdates</a> 
z bardzo odpornego systemu Unix Fast File System (FFS) spe³niaj±cego 
wymogi wydajno¶ci i stabilno¶ci.

</li><li>
OpenBSD jest dostarczany z <a href="pf/index.html">PacketFilter (PF)</a> 
zamiast ipfw, ipchains, netfilter, iptables, lub ipf. To oznacza ¿e 
Network Address Translation (znane tak¿e jako IP-Masquerading w Linuksie), 
kolejkowanie i filtrownie, s± wykonywane poprzez 
<A href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a>, 
<A href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=1">pf(4)</a> oraz 
<A href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;sektion=1">pf.conf(5)</a>. 
Zobacz <a href="http://openbsd.org/pl/faq/pf/index.html">PF Users Guide</a> 
by znaje¼æ wiêcej konfiguracyjnych informacji.

</li><li>
Adresy inerfejsów sieciowych s± przechowywane w 
<A href="http://www.openbsd.org/cgi-bin/man.cgi?query=hostname.if&amp;sektion=5">
/etc/hostname.&lt;interface&gt;</a> 
(np. /etc/hostname.dc0 dla kart u¿ywaj±cych sterownika 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dc&amp;sektion=4">dc(4)</a>). 
Mo¿esz zapisaæ nazwê hosta (resolwowan± w 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hosts&amp;sektion=5">/etc/hosts</a>)
zamiast numeru IP.

</li><li>
Nazwa hosta przechowywana jest w 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=myname&amp;sektion=5">/etc/myname</a>.

</li><li>Brama domy¶lna zapisana jest w 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mygate&amp;sektion=5">/etc/mygate</a>.

</li><li>Domy¶ln± pow³ok± w OpenBSD jest
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sh&amp;sektion=1">/bin/sh</a>,
która jest <a href="http://web.cs.mun.ca/%7Emichael/pdksh/">pdksh</a>,
Public Domain Korn shell in Bourne Shell mode.
Pozosta³e dostêpne pow³oki to:
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=csh&amp;sektion=1">csh</a>
(<a href="faq10.html#rootshell">domy¶lna powloka</a> dla <i>root'a</i>) oraz
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&amp;sektion=1">ksh</a>.
Pow³oki takie jak <i>bash</i> oraz <i>tcsh</i> mog± byæ dodane jako 
<a href="faq8.html#Packages">pakiet</a> lub zainstalowane z 
<a href="faq8.html#Ports">portów</a>.
U¿ytkownicy zaznajomieni z <i>bash-em</i> s± namawiani	by
<a href="faq10.html#ksh">wypróbowaæ ksh(1)</a> zanim za³aduj± <i>bash</i> na swoich 
systemach -- robi to co wiêkszo¶æ oczekuje od <i>bash'a</i>.

</li><li>Mechanizm hase³ w OpenBSD jest inny ni¿ mechanizmy stosowane 
w niektórych innych unikso-podobnych systemach operacyjnych.
Aktualne has³a s± przechowywane w pliku
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=master.passwd&amp;sektion=5">master.passwd(5)</a>
który mo¿e byæ czytany tylko przez <i>root'a</i>.
Plik ten powinien byæ modyfikowany tylko przy pomocy programu
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vipw&amp;sektion=8">vipw</a>.

</li><li>Urz±dzenia s± nazwane poprzez sterowniki, nie poprzez typ. 
Dla przyk³adu, nie ma urz±dzeñ eth*. Bêd± to ne0 dla karty NE200, 
oraz xl0 dla karty 3Com Etherlink XL lub Fast Etherlink XL, itd.
Wszystkie sterowniki maj± strony man w sekcji 4.
Tak wiêc, by znale¼æ informacjê o sterowniku karty 3c905
Mo¿esz wykonaæ
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xl&amp;sektion=4">man
4 xl</a>.
	
</li><li>
OpenBSD/i386 u¿ywa "dwuwarstwowego" systemu partycjonowania systemu,
przy czym pierwsza warstwa to 
<a href="faq14.html#fdisk">fdisk</a>, widoczna z poziomu BIOS-u
partycja, podobnie jak w wiêkszo¶ci  komputerów
Druga warstwa to <a href="faq14.html#disklabel">disklabel</a>,
tradycyjny system partycjonowania w BSD. OpenBSD obs³uguje do 15 
patrycji disklabel na dysku, wszystkie rezyduj±ce na jednej 
partycji w sensie fdisk. To pozwala OpenBSD/i386 wspó³istnieæ 
z innymi OS'ami, liczaj±c tak¿e inny uniksopodobny system.
OpenBSD musi byæ zainstalowany na jednej z czterech partycji "primary".

</li><li>Niektóre inne systemy operacyjne zachêcaj± do rekompilacji j±dra
dla twojej maszyny.
U¿ytkownicy systemu OpenBSD s± <a href="faq5.html#Why">zachêcani</a> by po prostu
u¿ywaæ standardowego (GENERIC) j±dra dostarczanego i testowanego przez developerów.	
U¿ytkownicy usi³uj±cy "dostosowaæ" lub "zoptymalizowaæ" swoje kernele zwykle
powoduj± znacznie wiêcej problemów ni¿ mog± rozwi±zaæ, a to nie jest wspierane
przez developerów.

</li><li>OpenBSD bardzo stara siê trzymaæ <a href="../policy.html">licencji
</a> oraz <a href="../security.html">bezpieczeñstwa</a> w projekcie.
Z tych powodów, niektóre nowsze wersje niektórych programów które nie godz±
licencj z celami bezpieczeñstwa, nie wchodz± i mog± nigdy nie wej¶æ
do OpenBSD.
Bezpieczeñstwo i zasady licencyjne nigdy nie bed± pozostawione w tyle
wobec wy¿szego numeru wersji.
</li></ul>
<br>

<p>
<a name="DualBoot"></a>
</p><h2>9.2 - Uruchamianie OpenBSD i Linuksa na jednym komputerze</h2>

<p>
Tak! Jest to mo¿liwe! (na dodatek proste).

</p><p>
Przeczytaj <a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.7/i386/INSTALL.linux">INSTALL.linux</a>

</p><p>
<a name="passwd"></a>
</p><h2>9.3 - Konwersja pliku hase³ Linuksa (lub innego systemu w stylu 
System-6) do postaci BSD</h2>

<p>
Po pierwsze, sprawd¼ czy Twoje has³a w Linuksie przechowywane s±
jako shadow czy te¿ nie. Je¶li tak, zdob±d¼ program
<a href="http://www.openwall.com/john/">John the Ripper</a> 
i u¿yj narzêdzia unshadow które siê w nim znajduje do scalenia
plików <tt>passwd</tt> i <tt>shadow</tt> w jeden plik specyficzny 
dla stylu pliku hase³ System-6.

</p><p>
Plik z has³ami Linuksa bêdziemy nazywaæ <tt>linux_passwd</tt>,
musisz dodaæ ::0:0 po czwartym polu ka¿dego wpisu.
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=awk&amp;sektion=1">awk(1)</a>
mo¿e to zrobiæ za Ciebie.

</p><blockquote>
<pre>
# <b>cat linux_passwd | awk -F : '{printf("%s:%s:%s:%s::0:0:%s:%s:%s\n", \</b>
> <b>$1,$2,$3,$4,$5,$6,$7); }' &gt; new_passwd</b>
</pre>
</blockquote>

W tym momencie, zechcesz zapewne wyedytowaæ plik <tt>new_passwd</tt> 
i usun±æ z niego wpis u¿ytkownika root oraz inne konta systemowe
które obecne s± w Twoim pliku z has³ami OpenBSD lub s± poprostu 
niepotrzebne.
Ponadto upewnij siê, ¿e nie w obu plikach (<tt>new_passwd</tt> oraz 
<tt>/etc/passwd</tt> w OpenBSD) nie wystêpuj± zduplikowane
nazwy u¿ytkowników oraz ich numery ID. Najpro¶ciej zacz±æ jest 
z czystym plikiem <tt>/etc/passwd</tt>.

<blockquote>
<pre># <b>cat new_passwd &gt;&gt; /etc/master.passwd</b>
# <b>pwd_mkdb -p /etc/master.passwd</b>
</pre>
</blockquote>

Ostatnim krokiem jest skorzystanie z <tt>pwd_mkdb</tt>, jest to
konieczne do przebudowania plików /etc/spwd.db oraz /etc/pwd.db.
Dodatkowo utworzony zostanie plik hase³ /etc/passwd w stylu System-6
(bez zaszyfrowanych hase³) aby mog³y z niego korzystaæ programy.
OpenBSD potrafi korzystaæ z potê¿niejszych narzêdzi kryptograficznych
dla hase³ (takich jak blowfish), które nie powinny siê znale¼æ 
w systemie korzystaj±cym z pliku hase³ w stylu System-6.
Aby skorzystaæ z tych mechanizmów skorzystaj po prostu z 
<tt>passwd <i>username</i></tt> jako root
i zmieñ has³o ka¿dego z u¿ytkowników (b±d¼ zasugeruj by zrobili
to sami, mo¿e wtedy ³atwiej bêdzie im dostaæ siê do systemu ;-)).
Nowe has³o zaszyfrowane zostanie zgodnie z ustawieniami w pliku
/etc/login.conf (standardowo blowfish).

<p>
<a name="Interact"></a>
</p><h2>9.4 - Korzystanie z aplikacji linuksowych w OpenBSD</h2>

<p>
OpenBSD/i386 posiada zdolno¶æ uruchamiania aplikacji linuksowych
je¶li j±dro skompilowane zosta³o z opcj± COMPAT_LINUX i zmienna
sysctl kern.emul.linux jest ustawiona. Je¶li u¿ywasz j±dra GENERIC,
COMPAT_LINUX jest domy¶lnie w³±czone, i jedyne co pozostaje do
zrobienia to

<blockquote>
<pre>
# <b>sysctl -w kern.emul.linux=1</b>
</pre>
</blockquote>

Je¶li chcesz aktywowaæ t± zmienna przy ka¿dym starcie systemu,
usuñ znak komentarza (#) z pocz±tku linii

<blockquote>
<pre>
#kern.emul.linux=1      # enable running Linux binaries
</pre>
</blockquote>

w pliku /etc/sysctl.conf, aby wygl±da³a w sposób nastêpuj±cy:

<blockquote>
<pre>
kern.emul.linux=1       # enable running Linux binaries
</pre>
</blockquote>

<p>
Wiêkszo¶æ aplikacji linuksowych dostêpnych w formie binarnej linkowana
jest dynamicznie, a nie statycznie, aby je uruchomiæ potrzebne bêdzie
wykonanie kilku dodatkowych czynno¶ci opisanych na stronie man
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compat_linux&amp;sektion=8">
compat_linux(8)</a>.

<p>
Najprostsz± metod± na zdobycie wiêkszo¶ci z u¿ywanych w Linuksie
bibliotek jest zainstalowanie <tt>redhat/base</tt> z binarnego
pakietu znajduj¹cego siê na najbli¿szym lustrzanym FTP.
Aby dowiedzieæ siê wiêcej o systemie pakietów, przeczytaj
<a href="faq8.html#Packages">FAQ 8 - Co to s± pakiety?</a>.
Aby zainstalowaæ wy¿ej wspomniany pakiet, u¿yj komend:

<blockquote><pre>
# export PKG_PATH=ftp://your.ftp.mirror/pub/OpenBSD/3.7/packages/i386
# pkg_add redhat_base-8.0p4.tgz
</pre></blockquote>

Zauwa¿, ¿e od OpenBSD 3.7,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1">pkg_add(1)</a>
automatycznie wywo³a sysctl, aby ustawiæ kern.emul.linux w³aœciw±
wartoœæ podczas dodawania pakietu. Niemniej, zmiana jest nietrwa³a
poniewa¿ nie dotyczy <tt>/etc/sysctl.conf</tt>.

<p>
<a name="Ext2FS"></a>
<h2>9.5 - Odczytywanie partycji linuksowych z poziomu OpenBSD</h2>

OpenBSD potrafi obs³ugiwaæ system plików EXT2FS.
Po dodatkowe informacje, zobacz <a href="faq14.html#foreignfs">FAQ 14</a>.

<p>
<font color="#0000e0">
<a href="index.html">[Spis tre¶ci]</a>
<a href="faq8.html">[Sekcja 8 - Ogólne pytania]</a>
<a href="faq10.html">[Sekcja 10 - Zarz±dzanie systemem]</a>
</font>

</p><p>
</p><hr>
<a href="index.html"><img height="24" width="24" src="../../images/back.gif" border="0" alt="[wstecz]"></a>
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
Originally [OpenBSD: faq9.html,v 1.74 ]<br>
$Translation: faq9.html,v 1.19 2005/08/20 15:10:03 pl-team Exp $<br>
$OpenBSD: faq9.html,v 1.19 2005/08/21 22:37:27 saad Exp $
</small>
</body></html>

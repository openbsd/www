<html>
<head>
<title>7.0 - Keyboard controls</title>
<link rev= "made" href= "mailto:www@openbsd.org">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 1998-1999 by OpenBSD.">
</head>

<body bgcolor= "#ffffff" text= "#000000" link= "#23238E">

<img alt="[OpenBSD]" height=30 width=141 src="../images/smalltitle.gif">
<p>
<h2><font color=#e00000>7.0 - Keyboard Controls</font><hr></h2>
</p>

<p>
<ul><h3>Table of Contents</h3>
<li><a href= "faq7.html#7.1">7.1 - How do I remap the keyboard?</a></li>
<li><a href= "faq7.html#7.2">7.2 - Is there gpm or the like in OpenBSD?</a></li>
<li><a href= "faq7.html#7.3">7.3 - How do I clear the console each time a user logs out?</a></li>
<li><a href= "faq7.html#7.4">7.4 - Accessing the console scrollback buffer.</a></li>
<li><A HREF= "faq7.html#7.5">7.5 - Why doesn't F9 through F12 switch consoles on i386 anymore?</a></li>
</ul>
</p> 
<hr>

<br>
<p>
<a name= "7.1"></a>
<h2>7.1 - How do I remap the keyboard? <i>(pcvt/i386 specific)</i></h2>
</p>

<p>
By using <strong>kcon(1)</strong>, "kcon - keyboard control and remapping for
the pcvt driver"
Before you can use this, you need to turn on character mapping with 
scon.
</p>

<p>
Example:
</p>

<ul>
<pre>bsd# <strong>scon -o</strong>
bsd# <strong>kcon -m gb</strong></pre> 
</ul>

<p>
This will load the keycap file for Great Britain.
Note that if you run scon -o again, this will turn character mapping back off,
which you probably don't want to do if you are using kcon for remapping.
Keep this in mind if you use scon in any automated fashion, such as in scripts.
<p>
These commands can only be executed from a pcvt virtual terminal.

<p>
<a name= "7.2"></a>
<h2>7.2 - Is there gpm or the like in OpenBSD?</h2>
</p>

<p>
After the release of OpenBSD 2.7 a port of FreeBSD's 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=moused&apropos=0&sektion=8&manpath=OpenBSD+Current&arch=i386&format=html">moused(8)</a> 
mouse daemon was done. It was modified to use OpenBSD's 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pcvt&apropos=0&sektion=0&manpath=OpenBSD+Current&arch=i386&format=html">pcvt(4)</a> 
console interface. This will be on by default for i386 release 2.8 and beyond. Other platforms cannot make use of this utility yet.
</p>

<p>
<a name="7.3"></a>
<h2>7.3 - Clearing the console each time a user logs out.</h2>
</p>

<p>
To do this you must add a line in <kbd>/etc/gettytab</kbd>. Change the section currently:
</p>

<ul><pre>
P|Pc|Pc console:\
        :np:sp#9600:
</pre></ul>

<p>
Add the line &quot;:cl=\E[H\E[2J:&quot; at the end, so it ends up looking like this:
</p>

<ul><pre>
P|Pc|Pc console:\
        :np:sp#9600:\
	:cl=\E[H\E[2J:
</ul></pre>

<p>
<a name="7.4"></a>
<h2>7.4 - Accessing the Console Scrollback Buffer <i>(pcvt/i386 specific)</i></h2>
</p>

<p>
For OpenBSD 2.6 the ability to scrollback on the console was added for
i386 machines. This allows you to see information that has already scrolled
past your screen. To be able to move up and down in the buffer simply use
the key combination &quot;[shift]+[pgup]&quot; to move up, and
&quot;[shift]+[pgdn]&quot;. The default scrollback buffer (the amount of
pages that you can move up and view) is 8, but this can be changed via the 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scon&apropos=0&sektion=1&manpath=OpenBSD+Current&arch=i386&format=html">scon(1)</a>
utility. For example, to change the number of pages you can scrollback to
10, do this:
</p>

<ul><pre>
bsd$ <strong>scon -b 10</strong>
</pre></ul>

<P>
This command can only be executed from a pcvt virtual terminal.

<p>
<a name="7.5"></a>
<h2>7.5 - Why doesn't F9 through F12 switch consoles anymore? <i>(pcvt/i386 specific)</i></h2>

In OpenBSD 2.6 and below, the pcvt console driver on the i386 port allowed
you to press F9, F10, F11, F12 and get corresponding virtual terminals
1, 2, 3, and 4.  In 2.7 and above, this behavior is removed, because several
applications use these keys for input.  

<p>
<font color= "#0000e0">
<a href= "index.html">[Back to Main Index]</a>
<a href= "faq6.html">[To Section 6.0 - Networking]</a>
<a href= "faq8.html">[To Section 8.0 - General Questions]</a>
</font>
</p>

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../images/back.gif" border= "0" alt= "[back]"></a> 
<a href= "mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>$OpenBSD: faq7.html,v 1.20 2001/01/27 22:19:48 ericj Exp $</small>
</p>
</body>
</html>

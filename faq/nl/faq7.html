<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>7 - Toetsenbord en Scherm Bediening</title>
<link rev= "made" href= "mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 1998-2008 by OpenBSD.">
</head>

<!-- Passes validator.w3.org, please keep it this way;
please, use a max of 72 chars per line -->

<body bgcolor= "#ffffff" text= "#000000">

<a href="../../nl/index.html">
<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif" border="0">    
</a>
<p>
<font color= "#0000e0">
<a href= "index.html">[FAQ Index]</a>
<a href= "faq6.html">[Naar Sectie 6 - Netwerken]</a>
<a href= "faq8.html">[Naar Sectie 8 - Algemene Vragen]</a>
</font>

<h1><font color="#e00000">7 - Toetsenbord en Scherm Bediening</font></h1>
<hr>
<p>
<h3>Inhoudsopgave</h3>
<ul>
<li><a href= "#Keyboard"     >7.1 - Hoe deel ik het toetsenbord opnieuw in?
    (wscons)</a>
<li><a href= "#ConsoleMouse" >7.2 - Is er console muis ondersteuning in
    OpenBSD?</a>
<li><a href= "#Scrollback"   >7.3 - Toegang tot de console scrollback
    buffer. (amd64, i386, sommige Alpha)</a>
<li><a href= "#SwitchConsole">7.4 - Hoe verander ik van console? (amd64, i386,
    Zaurus, sommige Alpha)</a>
<li><a href= "#80x50"        >7.5 - Hoe kan ik een console resolutie van
    80x50 gebruiken? (amd64, i386, sommige Alpha)</a>
<li><a href= "#SerCon"       >7.6 - Hoe gebruik ik een seriële console?</a>
<li><a href= "#Blanker"      >7.7 - Hoe verhul ik mijn console? (wscons)</a>
<li><a href= "#ALLCAPS"      >7.8 - AL WAT IK TYP BIJ DE LOGIN STAAT IN
    HOOFDLETTERS!</a>
<li><a href= "#tmux"         >7.9 - Wat is tmux(1)?</a>
</ul>
<hr>

<br>
<p>
<a name= "Keyboard"></a>
<h2>7.1 - Hoe deel ik het toetsenbord opnieuw in? <i>(wscons)</i></h2>

<p>
De ports die gebruik maken van de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wscons&amp;sektion=4">wscons(4)</a>
console driver: <a href="../../alpha.html">alpha</a>, 
<a href="../../amd64.html">amd64</a>,
<a href="../../hppa.html">hppa</a>,
<a href="../../i386.html">i386</a>,
<a href="../../mac68k.html">mac68k</a>,
<a href="../../macppc.html">macppc</a>,
<a href="../../sparc.html">sparc</a>,
<a href="../../sparc64.html">sparc64</a>,
<a href="../../vax.html">vax</a>
en <a href="../../zaurus.html">zaurus</a>.

<p>
Bij wscons(4) consoles kunnen de meeste opties gecontroleerd worden met de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wsconsctl&amp;sektion=8">wsconsctl(8)</a>
utility. Om bijvoorbeeld van toetsenindeling te veranderen met
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wsconsctl&amp;sektion=8">wsconsctl(8)</a> 
zou men het volgende uitvoeren:

<blockquote><pre>
# <strong>wsconsctl -w keyboard.encoding=uk</strong>
</pre></blockquote>

<p>
In het volgende voorbeeld zullen we &quot;Caps Lock&quot; herschikken naar
&quot;Control L&quot;:

<blockquote><pre>
# <strong>wsconsctl -w keyboard.map+="keysym Caps_Lock = Control_L"</strong>
</pre></blockquote>


<a name= "ConsoleMouse"></a>
<h2>7.2 - Is er console muis ondersteuning in OpenBSD?</h2>

<p>
Voor de <a href="../../alpha.html">alpha</a>,
<a href="../../amd64.html">amd64</a>
 en <a href="../../i386.html">i386</a> 
platformen voorziet OpenBSD
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wsmoused&amp;sektion=8&amp;arch=i386">wsmoused(8)</a>,
een port van moused(8) uit FreeBSD. Deze kan automatisch ingeschakeld worden
bij het starten door de juiste regel uit rc.conf te kopiëren naar
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.conf.local&amp;sektion=8">rc.conf.local(8)</a>
en deze aan te passen.

<p>
<a name= "Scrollback"></a>
<h2>7.3 - Toegang tot de Console Scrollback Buffer 
  <i>(amd64, i386, sommige Alpha)</i></h2>

<p>
Op sommige platformen voorziet
OpenBSD een console scrollback buffer. Deze laat u toe om informatie te zien
die al voorbij uw scherm gescrollt is.
Om naar omhoog en naar beneden te bewegen in de buffer gebruikt u de
toetsencombinaties
<tt>[SHIFT]+[PGUP]</tt> en <tt>[SHIFT]+[PGDN]</tt>.

<p>
De standaard scrollback buffer, met name het aantal pagina's dat u omhoog kan
bewegen en bekijken, is 8.
Dit is een functionaliteit van de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vga&amp;sektion=4">vga(4)</a>
driver, dus het zal niet werken zonder VGA kaart op gelijk welk platform (veel
Alpha systemen hebben TGA video).

<p>
Door plaatsbeperking bevatten de installatiekernels de scrollbackfunctie niet.
<a href="#SwitchConsole">Van console veranderen</a> zal de scrollbackbuffer
leegmaken.

<p>
<a name= "SwitchConsole"></a>
<h2>7.4 - Hoe verander ik van console? <i>(amd64, i386, Zaurus,
sommige Alpha)</i></h2>

Op amd64, i386 en Alpha systemen met
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vga&amp;sektion=4">vga(4)</a>
kaarten voorziet OpenBSD standaard zes virtuele terminals,
/dev/ttyC0 tot en met /dev/ttyC5.
ttyC4 is gereserveerd voor gebruik door het X Window systeem, waardoor
vijf tekstconsoles overblijven.
U kan hiertussen omschakelen met
<tt>[CTRL]+[ALT]+[F1]</tt>, <tt>[CTRL]+[ALT]+[F2]</tt>,
<tt>[CTRL]+[ALT]+[F3]</tt>, <tt>[CTRL]+[ALT]+[F4]</tt> en
<tt>[CTRL]+[ALT]+[F6]</tt>.

<p>
De X omgeving gebruikt ttyC4, <tt>[CTRL]+[ALT]+[F5]</tt>.
Wanneer u X gebruikt,
zullen de <tt>[CTRL]+[ALT]+[F</tt><i>n</i><tt>]</tt> toetsen u naar de
tekstschermen brengen;
<tt>[CTRL]+[ALT]+[F5]</tt>
zal u terug naar de grafische omgeving brengen.

<p>
Als u meer dan het standaardaantal virtuele consoles wenst,
gebruik dan het
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wsconscfg&amp;sektion=8">wsconscfg(8)</a>
commando om schermen te maken voor ttyC6, ttyC7 en hoger.
Bijvoorbeeld:

<blockquote>
<pre>
wsconscfg -t 80x25 6
</pre>
</blockquote>

zal een virtuele terminal maken voor ttyC6,
toegankelijk met <tt>[CTRL]+[ALT]+[F7]</tt>.
Vergeet niet om dit commando toe te voegen aan uw
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.local&amp;sektion=8"><tt>rc.local(8)</tt></a>
bestand als u het extra scherm ook wil wanneer u de computer de volgende keer
opstart.

<p>
Merk op dat u geen "<tt>login:</tt>" prompt krijgt op de zojuist
gecreëerde virtuele console tenzij u deze op "on" zet in 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ttys&amp;sektion=5"><tt>/etc/ttys(5)</tt></a>,
en ofwel herstart ofwel met
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=init&amp;sektion=8">init(8)</a>
een HUP signaal stuurt naar
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kill&amp;sektion=1">kill(1)</a>.

<p>
Op de Zaurus zijn standaard twee virtuele terminals (/dev/ttyC0 en /dev/ttyC1)
beschikbaar, toegankelijk met <tt>[ALT]+[CALENDAR]</tt> en
<tt>[ALT]+[ADDRESS]</tt> (De <tt>[ALT]</tt> toets bevindt zich rechts van
de linker <tt>[CTRL]</tt> toets).

<a name="80x50"></a>
<h2>7.5 - Hoe gebruik ik een console resolutie van 80x50? <i>(amd64, i386,
sommige Alpha)</i></h2>

amd64, i386 en VGA Alpha gebruikers krijgen normaal een console scherm
met 25 lijnen van 80 tekens.
Veel VGA videokaarten kunnen echter een hogere tekstresolutie
weergeven met 50 lijnen van 80 tekens.

<p>
Ten eerste moet er een lettertype dat de gewenste resolutie ondersteunt,
geladen worden met het
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wsfontload&amp;sektion=8">wsfontload(8)</a>
commando. Het standaard 80x25 tekstscherm gebruikt 8x16 pixel lettertypes;
om het aantal lijnen te verdubbelen zullen we 8x8 pixel lettertypes moeten
gebruiken.

<p>
Daarna zullen we een
<a href="#SwitchConsole">virtuele console</a> moeten verwijderen en opnieuw
aanmaken op de gewenste schermresolutie, met het
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wsconscfg&amp;sektion=8">wsconscfg(8)</a>
commando.

<p>
Dit kan automatisch gedaan worden bij het starten door de volgende lijnen
aan het einde van uw
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.local&amp;sektion=8"><tt>rc.local(8)</tt></a>
bestand toe te voegen:
<blockquote>
<pre>
wsfontload -h 8 -e ibm /usr/share/misc/pcvtfonts/vt220l.808
wsconscfg -dF 5
wsconscfg -t 80x50 5
</pre>
</blockquote>

Zoals met gelijk welke wijziging aan uw systeemconfiguratie is het aan te
raden om wat tijd door te brengen met de man pagina's om te begrijpen wat
deze commando's doen.

<p>
De eerste lijn hierboven laadt het 8x8 lettertype. De tweede lijn verwijdert
scherm 5 (dat toegankelijk zou zijn met <tt>[CTRL]+[ALT]+[F6]</tt>). De derde
lijn creëert een nieuw scherm 5 met 50 lijnen van elk 80 tekens.
Als u dit doet, zal u uw primair scherm, en de andere drie standaard
virtuele consoles zien verschijnen in de standaard 80x25 modus, maar ook een
nieuw scherm 5 bij 80x50, toegankelijk via <tt>[CTRL]+[ALT]+[F6]</tt>.

<p>
Onthou dat <tt>[CTRL]+[ALT]+[F1]</tt> scherm 0 (ttyC0) is.
Als u andere schermen wil aanpassen,
herhaal dan gewoon de stappen om een scherm te verwijderen en toe te voegen
voor nog andere schermen die u bij de 80x50 resolutie wil draaien.

<p>
U vermijdt best het aanpassen van scherm 4 (ttyC4, <tt>[CTRL]+[ALT]+[F5]</tt>),
dat door X gebruikt wordt als een grafisch scherm. Het is ook niet mogelijk
om de resolutie van het primaire console device (dus ttyC0) te veranderen.

<p>
Zoals men kon verwachten kunnen al deze commando's ook ingegeven worden op
de commandoprompt, als root, of (beter nog) met
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sudo&amp;sektion=8">sudo(8)</a>.

<p>
<b>Opmerking: dit zal niet met alle videokaarten werken.</b> Jammer genoeg
ondersteunen niet alle videokaarten de lettertypes die
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wscons&amp;sektion=4">wscons(4)</a>
vereist om de 80x50 tekstmodus te bekomen. In deze gevallen kan u misschien
overwegen om X te gebruiken.


<a name="SerCon"></a>
<h2>7.6 - Hoe gebruik ik een seriële console?</h2>

Er zijn veel redenen waarom u misschien een seriële console voor uw
OpenBSD systeem wil gebruiken:
<ul>
<li>Console uitvoer registreren (voor documentatie). 
<li>Remote beheer.
<li>Gemakkelijker onderhoud van een grote hoeveelheid machines.
<li>Een nuttige dmesg voorzien van machines waarbij het anders misschien
  moeilijk is om een van te krijgen.
<li>Een nauwkeurige "trace" en "ps" uitvoer voorzien als uw systeem
  crasht zodat ontwikkelaars de mogelijkheid hebben om het probleem op te
  lossen.
</ul>
OpenBSD ondersteunt seriële console op de meeste platformen, details
variëren echter aanzienlijk tussen de platformen.

<p>
Merk op dat seriële interfacing geen triviale taak is -- u zal
vaak ongebruikelijke kabels nodig hebben, en de poorten zijn niet
gestandaardiseerd tussen machines, in sommige gevallen zelfs niet
consistent op één machine. Er wordt verondersteld dat
u weet hoe u de gepaste kabel selecteert om uw computer en het toestel
dat u gebruikt als seriële terminal met elkaar te verbinden.
Een volledige tutorial over seriële interfacing valt buiten het
bestek van dit artikel, maar we bieden één hint: het is
niet omdat de uiteinden passen, dat het ook zal werken.

<a name="SerContty"></a>
<h3><i>/etc/ttys</i> wijziging</h3>
Er zijn twee delen om een werkende seriële console te bekomen op een 
OpenBSD systeem. Ten eerste moet u OpenBSD uw seriële poort laten
gebruiken voor status en single user modus. Dit deel is heel
platformafhankelijk. Ten tweede moet u de seriële poort inschakelen
om gebruikt te worden als een interactieve terminal, zodat een gebruiker
erop kan inloggen als het systeem in multi-user draait.
Dit deel is vrij gelijkaardig tussen de platformen, en wordt hier in
detail besproken.

<p>
Terminal sessies worden gecontroleerd door het
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ttys&amp;sektion=5"><i>/etc/ttys</i></a>
bestand. Alvorens OpenBSD u een "<tt>login:</tt>" prompt zal geven op een
device, moet dit ingeschakeld worden in <i>/etc/ttys</i>, er zijn tenslotte
andere gebruiken voor een seriële poort dan een terminal. Op platformen
waaraan typisch een toetsenbord en scherm hangen als console, wordt de
seriële terminal typisch standaard uitgeschakeld. We zullen het i386
platform als voorbeeld gebruiken. In dit geval moet u de volgende lijn
aanpassen

<pre>
     tty00   "/usr/libexec/getty std.9600"   unknown off
</pre>
ongeveer als volgt:
<pre>
     tty00   "/usr/libexec/getty std.9600"   vt220   on secure
</pre>

Hier is <tt>tty00</tt> de seriële poort die we als console gebruiken.
<tt>vt220</tt> is de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=termcap&amp;sektion=5">termcap(5)</a>
entry die overeenstemt met UW terminal (andere mogelijkheden zijn o.a.
<tt>vt100</tt>, <tt>xterm</tt>, enz.).
De "<tt>on</tt>" activeert de 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getty&amp;sektion=8"><i>getty</i></a>
voor die seriële poort zodat een "<tt>login:</tt>" prompt vertoond zal
worden, de "<tt>secure</tt>" laat een root (uid 0) login via deze console toe
(wat al dan niet is wat u wenst), en de
"<tt>9600</tt>" is de terminal baudsnelheid.
Weersta de drang om de baudsnelheid op te drijven tot het maximum dat uw
hardware kan ondersteunen, aangezien u waarschijnlijk eerder problemen zal
creëren dan er voordeel uit halen.
De meeste systemen hebben een "standaard" snelheid (standaard ondersteund
door het boot ROM en/of de boot loader, vaak 9600), gebruik dit tenzij u
een echte reden hebt om iets anders te gebruiken.

<p>
Merk op dat u een seriële
console kan gebruiken voor de installatie zonder deze stap uit te voeren,
aangezien het systeem dan in single user modus draait en geen
<i>getty</i> gebruikt voor login.

<p>
Op sommige platformen en sommige configuraties moet u het systeem naar
single user modus brengen om deze verandering door te voeren als een
seriële console het enige is dat u ter beschikking hebt.

<h3>amd64 en i386</h3>
Om het boot proces op te dragen om de seriële poort te gebruiken als
console, creëert of bewerkt u uw
<i><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot.conf&amp;sektion=8&amp;arch=i386">/etc/boot.conf</a></i>
bestand zodat het de volgende lijn bevat:
<pre>
     set tty com0
</pre>

om de eerste seriële poort als uw console te gebruiken. De standaard
baud rate is 9600bps, dit kan veranderd worden met een
<i>/etc/boot.conf</i> lijn door de stty optie te gebruiken. Dit bestand wordt
op uw boot schijf geplaatst, die ook uw installatiediskette zou kunnen zijn, of
het commando kan op de <tt>boot></tt> van de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot&amp;sektion=8&amp;arch=i386">OpenBSD
second-stage boot loader</a> ingegeven worden voor een eenmalig (of eerste)
gebruik van de seriële console.


<p>
<h4>amd64 en i386 opmerkingen:</h4>
<ul>
<li>OpenBSD nummert de seriële poorten beginnend bij <i>tty00</i>,
DOS/Windows duidt ze aan beginnend bij <i>COM1</i>. Dus, hou in het achterhoofd
dat <i>tty02</i> overeenstemt met <i>COM3</i>, niet met <i>COM2</i>.

<li>Sommige systemen kunnen misschien werken zonder een videokaart in de
machine, maar zeker niet allemaal -- veel systemen beschouwen dit als een
fouttoestand. Sommige machines zullen zelfs weigeren om gemakkelijk te
werken als er geen toetsenbord aan hangt.

<li>Sommige systemen kunnen alle BIOS toetsenbord- en schermactiviteit
naar een seriële poort doorsturen via een configuratie-optie, zodat
de machine volledig via de seriële poort kan onderhouden worden.
Uw resultaten kunnen verschillen -- wanneer u deze mogelijkheid gebruikt,
kunnen sommige BIOSen beletten dat de bootloader de seriële poort
ziet, en dus zal aan de kernel gezegd worden ze niet te gebruiken.
Sommige BIOSen hebben een optie
"Continue Console Redirection after POST"
(Power On Self Test), deze moet op "OFF" gezet worden, zodat de boot loader
en de kernel hun eigen console kunnen hanteren.
Jammer genoeg is deze mogelijkheid niet universeel.

<li>PC-compatibele computers zijn niet ontworpen om vanaf een seriële
console gedraaid te worden, in tegenstelling tot sommige andere platformen.
Zelfs die systemen die een seriële console ondersteunen, hebben het
gewoonlijk als een BIOS configuratie-optie -- en als de configuratie
informatie beschadigd wordt, zal u merken dat het systeem opnieuw een
standaard monitor en toetsenbord zoekt. In het algemeen moet u een manier
hebben om een monitor en toetsenbord naar uw amd64 en i386 machines te
brengen in geval van nood.

<li>U zal <i>/etc/ttys</i> moeten bewerken zoals 
<a href="#SerContty">hierboven</a>.

</ul>


<h3>SPARC en UltraSPARC</h3>
Deze machines zijn ontworpen om volledig onderhoudbaar te zijn met een
seriële console. Haal gewoon het toetsenbord weg van de machine, en
het systeem zal serieel draaien.

<h4>SPARC en UltraSPARC opmerkingen</h4>
<ul>
<li>De seriële poorten op een SPARC worden aangeduid als <i>ttya</i>,
<i>ttyb</i>, etc.

<li>In tegenstelling tot sommige andere platformen, is het niet nodig om
wijzigingen aan te brengen in <i>/etc/ttys</i> om een seriële console
te gebruiken.

<li>De SPARC/UltraSPARC systemen interpreteren een BREAK signaal op de console
poort als hetzelfde als een STOP-A commando, en schopt het systeem
terug naar de Forth prompt, en stopt daarmee op dat ogenblik gelijk welke
toepassing of besturingssysteem.
Dit is handig indien het gewenst is, maar jammer genoeg sturen sommige
seriële terminals bij power-down en sommige RS-232 schakeltoestellen
iets dat de computer interpreteert als een break signaal, waardoor de
machine afgesloten wordt.
Test dus vooraleer u in productie gaat.

<li>Als u al een toetsenbord en monitor hebt aangesloten, kan u toch
gebruik van de seriële console forceren door de volgende commando's
te gebruiken op de <tt>ok</tt> prompt:
 <pre>
     ok <b>setenv input-device ttya</b>
     ok <b>setenv output-device ttya</b>
     ok <b>reset</b>
 </pre>
Als het toetsenbord en de monitor (ttyC0) actief zijn in <i>/etc/ttys</i>
(<a href="#SerContty">hierboven</a>), kan u het toetsenbord en de monitor
gebruiken in X.
</ul>

<h3>MacPPC</h3>
De MacPPC machines zijn geconfigureerd voor een seriële console via
OpenFirmware.  Gebruik de commando's:
 <pre>
     ok <b>setenv output-device scca</b>
     ok <b>setenv input-device scca</b>
     ok <b>reset-all</b>
 </pre>
Stel uw seriële console in op 57600bps, 8N1.

<h4>MacPPC opmerkingen</h4>
<ul>
<li>Jammer genoeg is seriële console niet rechtstreeks mogelijk op de
meeste MacPPC's. Hoewel de meeste van deze machines seriële hardware
hebben, is deze niet toegankelijk van buiten de machine. Gelukkig bieden
enkele bedrijven add-on toestellen voor verscheidene Macintosh modellen
die deze poort beschikbaar maken voor gebruik als een seriële console
(of andere gebruiken). Gebruik uw favoriete zoekrobot en zoek naar
"Macintosh internal serial port".

<li>U zal <tt>tty00</tt> in <i>/etc/ttys</i> moeten veranderen naar
<tt>on</tt> en de snelheid instellen op 57600 in plaats van de standaardwaarde
van 9600 zoals uitgelegd <a href="#SerContty">hierboven</a>, en dit in single
user modus, alvorens u multi-user start en een werkende seriële
console hebt.  </ul>


<h3>Mac68k</h3>
Seriële console wordt geselecteerd in het <i>Booter</i> programma, onder
het "<tt>Options</tt>" pull-down menu, vervolgens "<tt>Serial Ports</tt>".
Druk op de "Serial Console" knop, en kies dan de Modem of Printer poort. U zal
een Macintosh modem of printerkabel nodig hebben om te verbinden met de
seriële poorten van de Mac. Als u dit als standaardinstelling wenst, zeg
het Booter programma dan om uw opties te bewaren.


<h4>Mac68k Opmerkingen</h4>
<ul>
<li>De modempoort is <i>tty00</i>, de printerpoort is <i>tty01</i>.

<li>De Mac68k zet zijn seriële poort niet aan tot hij daarom gevraagd
wordt, dus uw breakout box kan misschien geen signalen vertonen op de
seriële poort van de Mac totdat het OpenBSD boot proces gestart is.

<li>U zal de poort (<i>tty00</i> of <i>tty01</i>) moeten inschakelen zoals
<a href="#SerContty">hierboven</a> aangegeven.  </ul>

<a name="Blanker"></a>
<h2>7.7 - Hoe verhul ik mijn console? (wscons)</h2>
Als u uw console wenst te verhullen na een periode van inactiviteit zonder
X te gebruiken, kan u de volgende
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wscons&amp;sektion=4">wscons(4)</a>
variabelen aanpassen:

<ul>
<li><b><tt>display.vblank</tt></b> ingesteld op <tt>on</tt> zal dit de
verticale sync puls uitschakelen, wat er bij veel monitoren voor zorgt dat ze
in een "energy saver" toestand gaan. Dit zal meer tijd vereisen om het scherm
weer terug te brengen, maar zal energieverbruik en warmteproductie van nieuwere
monitoren verlagen. Ingesteld op <tt>off</tt>, zal het scherm leeg zijn, maar
de monitor zal nog steeds de normale horizontale en verticale sync pulsen
ontvangen, dus het scherm terugbrengen zal bijna ogenblikkelijk gebeuren.

<li><b><tt>display.screen_off</tt></b> bepaalt de verhullingstijd in
duizendsten van een seconde, dus, 60000 zou de timeout op één
minuut instellen.

<li><b><tt>display.kbdact</tt></b> bepaalt of toetsenbordactiviteit het
scherm terugbrengt. Gewoonlijk is dit wenselijk.

<li><b><tt>display.outact</tt></b> bepaalt of schermuitvoer het scherm
zal terugbrengen.
</ul>

U kan deze variabelen op de commandolijn instellen met het
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wsconsctl&amp;sektion=8">wsconsctl(8)</a> 
commando:
<pre>
     # <b>wsconsctl -w display.screen_off=60000</b>
     display.screen_off -> 60000
</pre>

of ze blijvend instellen door
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wsconsctl.conf&amp;sektion=5"><i>/etc/wsconsctl.conf</i></a>
aan te passen zodat deze wijzigingen plaatsvinden bij de volgende start:

<pre>
     display.vblank=on               # enable vertical sync blank
     display.screen_off=600000       # set screen blank timeout to 10 minutes
     display.kbdact=on               # Restore screen on keyboard input
     display.outact=off              # Restore screen on display output
</pre>

De verhuller wordt geactiveerd wanneer ofwel <tt>display.kbdact</tt> ofwel
<tt>display.outact</tt> op "<tt>on</tt>" is ingesteld.

<a name="ALLCAPS"></a>
<h2>7.8 - AL WAT IK TYP OP DE LOGIN PROMPT STAAT IN HOOFDLETTERS!</H2>
Dit is eigenlijk een functionaliteit, geen bug.

<p>
Praktisch alle Unix commando's en gebruikersnamen worden ingegeven met
alleen kleine letters.
Sommige heel oude terminals konden echter alleen hoofdletters weergeven,
wat het moeilijk maakt, zoniet onmogelijk, om ze met Unix te gebruiken.
Als oplossing, als u uw gebruikersnaam volledig in hoofdletters ingaf,
zou
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getty&amp;sektion=8">getty(8)</a>
veronderstellen dat uw terminal "lowercase challenged" is, en gewoon al wat u
typt als kleine letters interpreteren, maar toch als hoofdletters weergeven.
Als u een wachtwoord met zowel hoofdletters als kleine letters of met enkel
hoofdletters hebt, zal dit inloggen onmogelijk maken.

<p>
CTRL-D duwen op de login prompt zal ervoor zorgen dat getty(8) afgesloten
wordt, en
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=init&amp;sektion=8">init(8)</a>
zal er een nieuwe opstarten, die hoofdletters en kleine letters aanvaardt zoals
het hoort.

<a name="tmux"></a>
<h2>7.9 - Wat is tmux?</h2>
<i>Noot: tmux is een nieuw programma in OpenBSD 4.6</i>
<p>

Voor degenen die bekend zijn met het "screen"-programma, beschikbaar als
package, of window(1) dat in base zat, is deze vraag het makkelijkst te
beantwoorden door te zeggen dat
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&amp;sektion=1"
>tmux(1)</a>
veel van de functies van screen en window combineert, met veel extra
mogelijkheden.

<p>
Voor degenen die niet bekend zijn met deze programma's, tmux is een
<i>terminal multiplexer</i>.
Dat is een programma dat het mogelijk maakt om een aantal processen hetzelfde
scherm te laten delen voor invoer en uitvoer.
In tmux is een dergelijke verzameling programma's bekend als een <i>sessie</i>,
waarbij ieder programma in een tmux <i>window</i> zit.

<p>
Naast het delen van de terminal, laat tmux u een sessie verlaten, waarbij
de windows van het scherm verdwijnen en doordraaien op de achtergrond.
U kunt later vanaf dezelfde of vanaf een andere terminal weer verbinding maken.
Een sessie kan handmatig verlaten worden of door een onverwachte gebeurtenis
als een netwerkonderbreking.  In beide gevallen zullen de programma's dit
overleven en normaal doordraaien.

<p>
tmux heeft ook vele andere mogelijkheden zoals het opsliten van een
enkel window in meerdere delen (<i>panes</i> genaamd), een historie van
de tekst die in ieder window is afgedrukt, kopiëren en plakken tussen windows,
configureerbare toetsen en het blokkeren van de terminal.
Kijk naar de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&amp;sektion=1"
>tmux(1)</a>
man page voor meer informatie.

<h3>Hoe gebruik ik tmux?</h3>

<p>
De eerste stap is om tmux te starten:

<blockquote><pre>
$ tmux
</pre></blockquote>

<p>
Dit start een nieuwe tmux met een enkele nieuwe sessie (genaamd "0") en
creëert een client die het op het scherm afbeeldt.
Het grootste deel van het scherm zal een venster laten zien met een shell
prompt en u zult zien dat de onderste regel wordt bezet een een statusregel.
Deze laat de naam van de sessie in vierkante haken aan de linkerzijde zien,
de titel van het window (normaliter leeg voor shells) en de tijd aan de
rechterzijde en een samenvatting van overige openstaande windows in het midden.
In uw nieuwe sessie zal het huidige openstaande window één item bevatten,
bijvoorbeeld:

<blockquote><pre>
0:ksh*
</pre></blockquote>

<p>
Een korte zijsprong betreffende terminals: in OpenBSD worden applicaties
op de hoogte gebracht van de mogelijkheden van de terminal via de TERM
omgevingsvariabele.
Deze wordt ingesteld op een ingang in de terminfo(5) database en vertelt
programma's dat de terminal, bijvoorbeeld, kleur ondersteunt, of de mogelijkheid
heeft om regels in te voegen en nog veel meer.
Belangrijk om op te merken is dat de "xterm"-ingang in de database geen
kleur ondersteunt, dus tmux zal standaard geen kleur gebruiken.  TERM zou op
"xterm-xfree86" ingesteld moeten worden als kleur gewenst is (de
"XTerm*termName" X resource kan worden gebruikt in .Xdefaults om dit bij
alle xterms in te stellen).
Het is ook belangrijk te melden dat TERM in shells die binnen tmux worden
gestart, is ingesteld op "screen" anders worden programma's die in de shell
worden gestart niet goed afgebeeld - tmux stelt dit zelf in, maar let erop
dat deze niet wordt overschreven in de startup file van de shell.

<p>
Terugkomend bij de statusregel, het getal "0" is de window-index, "ksh" de
naam van het programma en de "*" geeft aan dat dit het window is dat nu
wordt getoond boven de statusregel.
Alle getypte tekens worden doorgegeven aan de shell en alle uitvoer wordt
afgebeeld.
Als u bijvoorbeeld "top" start:

<blockquote><pre>
$ top
</pre></blockquote>

<p>
Het draait als normaal en gebruikt het deel van het scherm boven de statusregel.
Wellicht valt u op dat de naam van het window in de statusregel is gewijzigd
van "ksh" naar "top" - tmux hernoemt windows om het programma weer te geven
dat er momenteel in draait.

<p>
Laten we nu zeggen dat u tmux wilt verlaten om terug te keren naar de
oorspronkelijke shell van waaruit u het gestart heeft.
Een tmux-sessie kan worden verlaten door eerst de <i>Ctrl</i> en <i>b</i>
toets samen in te drukken en daarna de <i>d</i> toets.
De <i>Ctrl-b</i> toetscombinatie (in tmux en de man page afgekort tot "C-b")
staat bekend als de <i>prefix-toets</i> en wordt gebruikt om tmux te vertellen
dat de volgende toets die ingedrukt wordt een instructie is en dat een actie
uitgevoerd moet worden, in plaats van de toets door te sturen naar het
programma in het window.

<p>
Na het intoetsen van <i>Ctrl-b d</i> en het terugkeren naar de shell prompt,
kunt u weer verbinding maken met de tmux-sessie met het "attach" commando:

<blockquote><pre>
$ tmux attach
</pre></blockquote>

<p>
De tmux-sessie zal weer verschijnen, met de statusregel en "top" nog steeds
vrolijk draaiend.
(Indien u in plaats hiervan tmux opnieuw start zonder argumenten, dan wordt
een tweede sessie gestart, "1" genaamd.)

<p>
Laten we nu een tweede window creëren.
Dit wordt gedaan met de "c"-toets: druk op op prefix-toets, <i>Ctrl-b</i>,
daarna op de "c"-toets.
Een nieuw window wordt gecreëerd en opnieuw wordt er een shell prompt op het
scherm getoond.
De statusregel wordt ververst om het nieuwe window te tonen:

<blockquote><pre>
0:top- 1:ksh*
</pre></blockquote>

<p>
De "-" erna geeft aan wat het vorige actieve window was (het laatste window).
Door nogmaals op <i>Ctrl-b c</i> te drukken creëert u nog een nieuwe shell:

<blockquote><pre>
0:top  1:ksh- 2:ksh*
</pre></blockquote>

<p>
Er zijn diverse commando's om tussen windows te bewegen.
Vanaf window 2 kunt u naar het vorige window, nummer 1, gaan door <i>Ctrl-b p</i>
te toetsen.
<i>Ctrl-b n</i> gaat naar het volgende window: in dit geval is er geen window
3 waardoor het huidige window verder gaat naar window 0.
U kunt ook op <i>Ctrl-b w</i> drukken om een interactief menu van openstaande
windows te krijgen, <i>Ctrl-b l</i> om naar het laatste window te gaan
(degene gemarkeerd met "-") of <i>Ctrl-b 0</i> om naar window 0 te gaan,
<i>Ctrl-b 1</i> om naar window 1 te gaan en zo verder tot <i>Ctrl-b 9</i> 
voor window 9.
Om dus terug te gaan naar "top" in window 0 kunt u op <i>Ctrl-b 0</i>
drukken om direct naar window 0 te gaan, tweemaal op <i>Ctrl-b p</i> drukken
om via window 1 te gaan, <i>Ctrl-b n</i> gebruiken om om te lopen van window 2
naar window 0 of u drukt op <i>Ctrl-b w</i> en kiest window 0 uit de lijst.

<p>
Soms wilt u een window creëren dat direct een programma start, zonder eerst
een shell te gebruiken.
Dit kan worden gedaan vanaf de tmux <i>commando prompt</i>.
Door op <i>Ctrl-b :</i> te drukken wijzigt de statusregel en toont een ":"
prompt waar u commando's kunt invoeren.
Alle tmux-commando's zijn gedocumenteerd in de man page.
In dit geval is het "new-window" commando nodig.
Ieder commando heeft een verkorte alias die kan worden gebruikt in plaats van
het volledige commando.  Voor "new-window" is dat "neww".
Om dus een nieuw window te creëren dat tetris(6) draait, typt u:

<blockquote><pre>
neww tetris
</pre></blockquote>

<p>
Het nieuwe window wordt gesloten als tetris eindigt of het kan geforceerd
worden gekilld met de <i>Ctrl-b &</i> toetscombinatie.
Dit vraagt eerst om een bevestiging en, als deze wordt gegeven, sluit het
window en sluit het programma af dat er in draait.

<p>
Een andere veelgevraagde eigenschap is het hernoemen van een window.
Dit kan worden gedaan met de <i>Ctrl-b ,</i> toetscombinatie.
De statusregel verandert in een "(rename-window)" prompt waarop de nieuwe
naam kan worden ingevoerd.
Het hernoemen van een window schakelt het automatisch hernoemen uit voor dat
window.  Om deze eigenschap weer in te schakelen drukt u op <i>Ctrl-b :</i>
voor de commando prompt en typ het volgende (de betekenis hiervan volgt
in de volgende paragraaf):

<blockquote><pre>
setw -u automatic-rename
</pre></blockquote>

<p>
Een andere belangrijke toets om te onhouden: <i>Ctrl-b ?</i>.
Dit laat een lijst van alle tmux-toetsen zien en de commando's die ze
uitvoeren.
<i>Ctrl-b ?</i> laat bijvoorbeeld zien dat de <i>c</i> toets is gekoppeld
aan het "new-window" commando en de <i>n</i> toets aan het "next-window"
command.

<h3>tmux configureren</h3>

<p>
Veel gebruikers willen het uiterlijk of gedrag van tmux aanpassen.
Dit wordt gedaan met het configuratiebestand, <i>~/.tmux.conf</i>.
Dit bestand is een lijst van tmux-commando's die worden uitgevoerd wanneer
tmux initieel wordt gestart, voordat de eerste sessie wordt gecreëerd.
Alle tmux-commando's zijn gedocumenteerd in de man page, maar enkele veel
gebruikte voorbeelden die u wellicht in uw configuratiebestand wilt zetten
worden hieronder besproken.

<p>
De meeste gebruikte eigenschap is het instellen van opties.
Er zijn twee soorten opties in tmux: <i>sessie-opties</i> en
<i>window-opties</i>.
Sessie-opties sturen het gedrag van een sessie en window-opties dat van een
individueel window.
Voor beide is er een set van globale opties.
Als tmux moet beslissen over de waarde van een optie voor een bepaalde sessie
of window, dan wordt eerst naar de lokale optie voor dat window gekeken; als
deze optie niet is ingesteld, dan wordt de globale waarde gebruikt.

<p>
Sessie-opties worden ingesteld met het "set-option" (alias "set") commando
en window-opties met het "set-window-option" commando (alias "setw").
Gebruik de "-g" vlag om een optie globaal in te stellen, als deze wordt
weggelaten dan wordt de optie ingesteld voor de huidige window of sessie.
Deze commando's accepteren ook enkele andere vlaggen, zoals "-u" om een
lokale optie te verwijderen zodat een window of sessie de waarde van de
globale optie verkrijgt.

<p>
Het is gebruikelijk om globale opties in te stellen in het configuratiebestand.
Laten we enkele voorbeelden bekijken om de statusregel aan te passen:

<blockquote><pre>
set -g status-bg blue
set -g status-right '#(sysctl vm.loadavg)'
setw -g window-status-current-attr underscore
</pre></blockquote>

<p>
Met deze drie commando's in .tmux.conf en door tmux te herstarten, verandert
de achtergrond van de statusregel naar blauw, wordt de huidige load aan de
rechterzijde getoond en wordt het huidige window onderstreept.
De statusregel kan geheel worden uitgeschakeld met:

<blockquote><pre>
set -g status off
</pre></blockquote>

<p>
Er zijn vele andere opties; een andere handige is om te wisselen naar
vi(1)-style toetscombinaties op de commando prompt en in de window-lijst en
andere interactieve tmux-modes:

<blockquote><pre>
set -g status-keys vi
setw -g mode-keys vi
</pre></blockquote>

<p>
De huidige opties en hun waarden kunnen worden getoond met de "show-options"
en de "show-window-options" commando's.
Net als de set-commando's accepteren deze "-g" om de globale opties te laten
zien.

<p>
Een andere veelvoorkomende taak voor het configuratiebestand is om
tmux-toetscombinaties toe te voegen of te wijzigen, dat zijn de command's
die worden uitgevoerd na het indrukken van <i>Ctrl-b</i> en een andere toets.
Deze worden toegevoegd of gewijzigd met het "bind-key" commando (alias "bind")
en verwijderd met het "unbind-key" commando (alias "unbind").
Twee voorbeelden van het gebruik van "bind-key":

<blockquote><pre>
bind C-d detach
bind / neww 'exec top'
</pre></blockquote>

<p>
De eerste regel creëert een combinatie om met <i>Ctrl-b Ctrl-d</i> tmux te
verlaten, net als met de standaard <i>Ctrl-b d</i> combinatie, en de tweede
start een nieuw window met daarin top met <i>Ctrl-b /</i>.

<p>
Velen willen een andere prefix-toets dan <i>Ctrl-b</i> gebruiken.
Dit kan worden bereikt met zowel het "set-option" commando als het
toetscombinatie-commando om de prefix-toets optie aan te passen en om in te
stellen dat tweemaal drukken op de prefix-toets zorgt voor het doorsturen
van deze toets naar het window.
Om de prefix-toets te wijzigen in <i>Ctrl-a</i>:

<blockquote><pre>
set -g prefix C-a
unbind C-b
bind C-a send-prefix
</pre></blockquote>

<p>
De laatste zinvolle actie in het configuratiebestand is om een initiële set
windows te creëren bij de start van tmux.
Dit is iets gecompliceerder dan de vorige voorbeelden.
In tmux kan een sessie niet geen windows hebben en je kunt geen windows
creëren zonder een sessie.
Om dus windows te creëren door het configuratiebestand, moet u eerst een
sessie creëren om ze te kunnen omvatten.
Bijvoorbeeld (merk op dat "new" het alias is voor het "new-session" commando):

<blockquote><pre>
new -d 'exec top'
neww -d
neww -d
</pre></blockquote>

<p>
Deze commando's creëren een nieuwe sessie met "top" draaiend in het eerste
window en vervolgens twee extra windows.
De "-d" vlag vertelt tmux om niet te proberen om te verbinden met de nieuwe
sessie of om de nieuwe windows het huidige window te laten worden.
Voordat u deze regels in .tmux.conf, is er nog iets anders.
Als u tmux start zonder argumenten, dan wordt het "new-session" commando
uitgevoerd.
Dus als u tmux start vanaf de shell, dan vertelt het configuratiebestand tmux
om een sessie te creëren, vervolgens vertelt het commando vanaf de shell om
nog een sessie te creëren, dus eindigt u met <i>twee</i> sessies.
Om dit te vermijden moet tmux worden gestart met "tmux attach" als u een
sessie vanuit het configuratiebestand start - dit betekent dat de sessie
uit .tmux.conf wordt gecreëerd en vervolgens direct wordt gekoppeld zonder
een tweede sessie te creëren.

<h3>Gevorderd tmux-gebruik</h3>

<p>
Deze paragraaf behandelt in het kort enkele van de geavanveerde mogelijkheden
van tmux.
Zie de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&amp;sektion=1"
>man page</a>
voor meer informatie.

<p>
In tmux kunt u tekst kopiëren en plakken tussen windows.
Dit wordt gedaan door de tekst te kopiëren in <i>copy mode</i> en vervolgens
te plakken met het plak-commando.
Druk op <i>Ctrl-b [</i> om copy mode te starten.
In copy-mode (met de "mode-keys" window-optie ingesteld op emacs, zie de
man page voor vi-keys), kunnen de pijltjes-toetsen worden gebruikt om de
cursor te positioneren, <i>Ctrl-Space</i> start de selectie en <i>Ctrl-w</i>
kopieert.
U kunt ook <i>Page Up</i>, <i>Page Down</i>, <i>Ctrl-a</i> en <i>Ctrl-e</i>
gebruiken om de cursor te verplaatsen.
Druk op <i>q</i> of <i>Escape</i> om copy mode te verlaten.
Druk hierna op <i>Ctrl-b ]</i> om de gekopieerde tekst in het huidige window
te plakken alsof u de tekst direct had ingetypt.

<p>
tmux is goed te scripten en de meeste commando's die kunnen worden gegeven
vanaf de commando prompt of gekoppeld zijn aan een toets kunnen worden
uitgevoerd vanaf de shell.
Vrijwel alle tmux-commando's accepteren een optioneel "-t" argument om te
specificeren op welke sessie of welk window ze moeten werken.
Dit commando bijvoorbeeld:

<blockquote><pre>
$ tmux kill-window -t0:1
</pre></blockquote>

killt window 1 in sessie 0.
En:

<blockquote><pre>
$ tmux new-window -tmysession
</pre></blockquote>

<p>
Creëert een nieuw window in de sessie genaamd "mysession".
Veel commando's accepteren andere argumenten, het "new-window" commando
bijvoorbeeld accepteert een "-n" optie om de naam van het nieuwe window op
te geven en "new-session" accepteert diverse argumenten om de attributen
van het initiële window op te geven dat met de sessie wordt gecreëerd.
Deze argumenten kunnen uiteraard ook worden gebruikt wanneer een commando is
gekoppeld aan een toets of wordt uitgevoerd vanaf de commando prompt.

<p>
En andere zinvolle optie is de mogelijkheid om een enkel window op te splitsen
in meerdere delen, zogenaamde <i>panes</i>.
In 4.6 kunt u een window verticaal splitsen (van boven naar beneden) met de
<i>Ctrl-b "</i> toetscombinatie.
Een pane kan in grootte naar boven of beneden worden aangepast met
<i>Ctrl-b Alt-Up</i> en <i>Ctrl-b Alt-Down</i> en het actieve pane worden
gewisseld met <i>Ctrl-b o</i>.
Als toevoeging kan een dusdanig gesplitst window worden gewijzigd in een aantal
vaste layouts, waar doorheen gelopen kan worden met <i>Ctrl-b Space</i>, maar
panes in één van deze layouts kunnen niet in grootte worden aangepast.
In -current is splitsen uitgebreid met horizontaal splitsen (<i>Ctrl-b %</i>)
en de vaste layouts zijn gewijzigd zodat als ze eenmaal zijn toegepast (met
dezelfde <i>Ctrl-b Space</i> toetscombinatie) ze daarna vrijelijk aangepast
kunnen worden, zowel horizontaal als verticaal.

<p>
<font color= "#0000e0">
<a href= "index.html">[FAQ Index]</a>
<a href= "faq6.html">[Naar Sectie 6 - Netwerken]</a>
<a href= "faq8.html">[Naar Sectie 8 - Algemene Vragen]</a>
</font>

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt= "[terug]"></a> 
<a href= "mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: faq7.html,v 1.85 ]<br>
$Translation: faq7.html,v 1.27 2009/10/17 06:38:07 maurice Exp $<br>
-->
$OpenBSD: faq7.html,v 1.24 2009/10/17 15:58:26 ajacoutot Exp $
</small>
</body>
</html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>4 - OpenBSD 3.6 Installatiegids</title>
<link rev= "made" href= "mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 1998-2005 by OpenBSD.">
</head>

<!-- Passes validator.w3.org.  Please keep it this way -->

<body bgcolor= "#ffffff" text= "#000000">

<a href="../../nl/index.html">
<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif" border="0">    
</a>
<p>

<font color= "#0000e0">
<a href= "index.html">[FAQ Index]</a>
<a href= "faq3.html">[Naar Sectie 3 - Verkrijgen van OpenBSD]</a>
<a href= "faq5.html">[Naar Sectie 5 - Het Systeem vanaf Broncode Bouwen]</a>
</font>

<h1><font color="#e00000">4 - OpenBSD 3.6 Installatiegids</font></h1>
<hr>

<p>
<h3>Inhoudstafel</h3>
<ul>
<li><a href= "#Overview"    >4.1 - Overzicht van de installatieprocedure</a>
<li><a href= "#Checklist"   >4.2 - Checklist voor de installatie</a>

<li><a href="#MkInsMedia"   >4.3 - Bootable OpenBSD installatiemedia maken</a>
    <ul>
    <li><a href="#UnixFlop" >4.3.1 - Diskettes maken onder Unix</a>
    <li><a href="#DosFlop"  >4.3.2 - Diskettes maken onder Windows of DOS</a>
    <li><a href="#MkCD-ROM" >4.3.3 - Een boot CD maken</a>
    </ul>
<li><a href="#Boot"         >4.4 - OpenBSD installatiemedia booten</a>
<li><a href="#Install"      >4.5 - Een installatie uitvoeren</a>
  <ul>
  <li><a href="#Start"      >4.5.1 - De installatie beginnen</a>
  <li><a href="#Disks"      >4.5.2 - Schijven instellen</a>
  <li><a href="#Hostname"   >4.5.3 - De hostname van het systeem instellen</a>
  <li><a href="#Network"    >4.5.4 - Het netwerk configureren</a>
  <li><a href="#InstMedia"  >4.5.5 - Installatiemedia kiezen</a>
  <li><a href="#Filesets"   >4.5.6 - Bestandensets kiezen</a>
  <li><a href="#Finish"     >4.5.7 - De installatie afronden</a>
  </ul>

<li><a href= "#FilesNeeded" >4.6 - Welke bestanden zijn er nodig voor de
                                     installatie?</a>
<li><a href= "#SpaceNeeded" >4.7 - Hoeveel ruimte heb ik nodig voor een
                                     OpenBSD installatie?</a>
<li><a href= "#Multibooting">4.8 - Multibooten van OpenBSD/i386</a>
<li><a href= "#SendDmesg"   >4.9 - Uw dmesg naar dmesg@openbsd.org sturen
                                     na de installatie</a>
<li><a href= "#AddFileSet"  >4.10 - Een bestandenset toevoegen na de
                                      installatie</a>
<li><a href= "#bsd.rd"      >4.11 - Wat is 'bsd.rd'?</a>
<li><a href= "#InstProb"    >4.12 - Vaak voorkomende installatieproblemen</a>
  <ul>
  <li><a href="#cpq16m"     >4.12.1 - Mijn Compaq herkent slechts 16M RAM</a>
  <li><a href="#noboot"     >4.12.2 - Mijn i386 wil niet starten na de
     installatie</a>
  <li><a href="#sshhang"    >4.12.3 - Mijn machine startte, maar bleef hangen
     bij het ssh-keygen proces</a>
  <li><a href="#noftplist"  >4.12.4 - Ik kreeg de boodschap "Failed to change
     directory" tijdens het uitvoeren van een installatie</a>
  <li><a href="#krb4"       >4.12.5 - Wanneer ik inlog, krijg ik
     "login_krb4-or-pwd: Exec format error"</a>
  <li><a href="#blankfdisk" >4.12.6 - Mijn fdisk partitietabel is vernield
     of blanco!</a>
  </ul>
<li><a href= "#site"        >4.13 - Het installatieproces aanpassen</a>
<li><a href= "#Multiple"    >4.14 - Hoe kan ik een aantal gelijkaardige
     systemen installeren?</a>
<li><a href="#getdmesg"     >4.15 - Hoe verkrijg ik een dmesg(8) om een
     installatieprobleem te melden?</a>
<li><a href="#bsdrdaout"    >4.16 - OpenBSD/i386 upgraden/herinstalleren
     met <tt>bsd.rd-a.out</tt></a>.
</ul>
<hr>

<p>
<a name= "Overview"></a>
<h2>4.1 - Overzicht van de OpenBSD installatieprocedure</h2>

<p>
OpenBSD heeft een robuuste en aanpasbare tekstgebaseerde installatieprocedure,
en kan van een enkele diskette geïnstalleerd worden.
De meeste platformen volgen een gelijkaardige installatieprocedure;
er zijn echter enkele verschillen in de details.
In elk geval wordt u verzocht om het platform-specifieke INSTALL document
te lezen in de <i>platform</i> directory op de CD-ROM of FTP sites
(bijvoorbeeld, <tt>i386/INSTALL.i386</tt>, <tt>mac68k/INSTALL.mac68k</tt>
of <tt>sparc/INSTALL.sparc</tt>).

<p>
Op de meeste platformen gebruikt de OpenBSD installatie een speciale kernel
met een aantal utilities en installatiescripts vastgelegd in een vooraf
geladen RAM schijf.
Nadat deze kernel gestart is, wordt het besturingssysteem uitgepakt uit
een aantal gecomprimeerde
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tar&amp;sektion=1">tar(1)</a>
(<tt>.tgz</tt>) bestanden.
Er zijn verschillende manieren om deze installatiekernel te starten:

<ul>
<li><b>Diskette:</b>
Diskette ("floppy disk") images worden voorzien die gebruikt kunnen worden om
een installatiediskette te maken op een ander
<a href="#UnixFlop">Unix-achtig</a> systeem, of op een
<a href="#DosFlop">DOS/Windows</a> systeem.
Een typische bestandsnaam is <tt>floppy36.fs</tt>, hoewel er voor verscheidene
platformen meerdere diskette images beschikbaar zijn.

<li><b>CD-ROM:</b> Op verscheidene platformen is er een CD-ROM image
(<tt>cd36.iso</tt>) voorzien die toelaat een bootable CD-ROM te maken.
Deze bevat louter de installatiekernel - installatiebestanden moeten nog
steeds via FTP of een andere bron opgevraagd worden.
U kan natuurlijk uw eigen CD-ROM maken met de bestanden en tools die u wenst.

<li><b><a href="#bsd.rd">bsd.rd</a>:</b> De RAM disk kernel,
bedoeld om te booten ofwel vanaf een reeds bestaande OpenBSD partitie ofwel
over het netwerk.

<li><b>Netwerk:</b> Sommige platformen ondersteunen het booten over een
netwerk.

<li><b>Een bestandssysteem image naar de schijf schrijven:</b> een
bestandssysteem image kan naar een bestaande partitie geschreven worden en
kan vervolgens geboot worden.

<li><b>Bootable Tape:</b> Sommige platformen ondersteunen het booten vanaf
tape. Deze tapes kunnen gemaakt worden door de INSTALL.<i>platform</i>
instructies te volgen.

</ul>

Niet elk <a href="../../nl/plat.html">platform</a> ondersteunt alle boot opties:

<ul>
<li><a href="../../alpha.html"><b>alpha:</b></a> Diskette, CD-ROM, een diskette
image naar de harde schijf schrijven.

<li><a href="../../amd64.html"><b>amd64:</b></a> Diskette, CD-ROM,
<a href="faq6.html#PXE">netwerk</a>.

<li><a href="../../cats.html"><b>cats:</b></a> CD-ROM.

<li><a href="../../hp300.html"><b>hp300:</b></a> CD-ROM, netwerk.

<li><a href="../../hppa.html"><b>hppa:</b></a> Netwerk.

<li><a href="../../i386.html"><b>i386:</b></a> Diskette, CD-ROM,
<a href="faq6.html#PXE">netwerk</a>.

<li><a href="../../mac68k.html"><b>mac68k:</b></a> Geïnstalleerd
(en gestart) met utilities die op Mac OS draaien.
Zie
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.6/mac68k/INSTALL.mac68k">INSTALL.mac68k</a> voor details.

<li><a href="../../macppc.html"><b>macppc:</b></a> CD-ROM, netwerk.

<li><a href="../../mvme68k.html"><b>mvme68k:</b></a> Netwerk, bootable tape.

<li><a href="../../mvme88k.html"><b>mvme88k:</b></a> Netwerk, bootable tape.

<li><a href="../../sparc.html"><b>sparc:</b></a> Diskette, CD-ROM, netwerk,
image schrijven naar bestaande swappartitie, bootable tape.

<li><a href="../../sparc64.html"><b>sparc64:</b></a> Diskette (U1/U2 only),
CD-ROM, netwerk, image schrijven naar bestaande partitie.

<li><a href="../../vax.html"><b>vax:</b></a> Diskette, netwerk.

</ul>

Alle platformen behalve mac68k kunnen ook een
<a href="#bsd.rd">bsd.rd</a> gebruiken om te herinstalleren of te upgraden.

<p>
Zodra de installatiekernel gestart is, hebt u verscheidene opties om te
kiezen waar u de 
<a href="#FilesNeeded">installatiebestandensets</a> vandaan wil halen.
Opnieuw ondersteunt niet elk platform elke optie.

<ul>
<li><b>CD-ROM:</b> Natuurlijk verkiezen we dat u de
<a href="../../nl/orders.html">Officiële CD-ROM set</a> gebruikt, maar voor
speciale noden kan u ook uw eigen CD-ROM maken.

<li><b>FTP:</b>
Gelijk welke van de OpenBSD
<a href="../../nl/ftp.html">FTP mirror sites</a>
of uw eigen lokale FTP server waarop de bestandensets staan.

<li><b>HTTP:</b>
Gelijk welke van de OpenBSD
<a href="../../nl/ftp.html#http">HTTP mirror sites</a>
of uw eigen lokale web server waarop de bestandensets staan.

<li><b>Lokale schijfpartitie:</b>
In vele gevallen kan u bestandensets installeren vanaf een andere partitie
op een lokale harde schijf.
Op <a href="../../i386.html">i386</a> kan u bijvoorbeeld
vanaf een FAT partitie installeren of vanaf een CD-ROM geformatteerd in
ISO9660, Rock Ridge of Joliet formaat.
In sommige gevallen zal u het bestandssysteem manueel moeten mounten
alvorens het te gebruiken.

<li><b>NFS:</b>
Sommige platformen ondersteunen het gebruik van NFS mounts voor de
bestandensets.

<li><b>Tape:</b>
Bestandensets kunnen ook vanaf een ondersteunde tape gelezen worden.
</ul>

<a name="Checklist"></a>
<h2>4.2 - Checklist voor de installatie</h2>

<p>
Voor u uw installatie begint, zou u een idee moeten hebben van hetgeen
u achteraf wenst te bekomen.

U zal tenminste de volgende punten willen kennen:
<ul>
<li>Machinenaam
<li>Geïnstalleerde en beschikbare hardware
  <ul>
  <li>Controleer compatibilieit op de hardware compatibility pagina van uw
      platform
  <li>Voor ISA moet u ook hardware instellingen kennen en bevestigen dat ze
      zijn wat OpenBSD vereist.
  </ul>
<li>Installatiemethode die u zal gebruiken (CD-ROM, FTP, enz.)
<li>Hoe zal u het systeem updaten en patchen?
  <ul>
  <li>Als u dit lokaal doet, zal u
      <a href="#SpaceNeeded">voldoende ruimte</a> nodig hebben voor de
      source tree en het builden ervan.
  <li>Anders zal u toegang nodig hebben tot een andere machine om een
      gepatchte
      <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=release&amp;sektion=8">release</a>
      op te bouwen.
  </ul>
<li>Gewenste schijflayout
  <ul>
  <li>Moeten bestaande gegevens ergens anders bewaard worden?
  <li>Zal OpenBSD op dit systeem samenleven met een ander besturingssysteem?
      Zo ja, hoe zullen beide geboot worden?
      Zal u een "boot manager" moeten installeren?
  <li>Zal de volledige schijf gebruikt worden voor OpenBSD, of wil u een
      bestaande (of plaats voor een toekomstige) partitie/besturingssysteem
      behouden?
  <li>Hoe wenst u het OpenBSD gedeelte van uw schijf te sub-partitioneren?
  </ul>
<li>Netwerkinstellingen, indien u geen DHCP gebruikt:
  <ul>
  <li>Domeinnaam
  <li>Domain Name Server(s) (DNS) adres
  <li>IP adressen en subnet masks voor elke NIC
  <li>Gateway adres
  </ul>
<li>Zal u het X Window Systeem draaien?
</ul>


<a name="MkInsMedia"></a>
<h2>4.3 - Bootable OpenBSD installatiemedia aanmaken</h2>

<p>
Als voorbeelden zullen we de installatie-images bekijken die beschikbaar zijn
voor de <a href="../../i386.html">i386</a>
en <a href="../../sparc.html">sparc</a> platformen.

<p>
Het <a href="../../i386.html">i386</a> platform heeft zes afzonderlijke
installatie schijf-images om uit te kiezen:

<ul>
<li><b><tt>floppy36.fs</tt></b> (Desktop PC) ondersteunt vele
  PCI en ISA NICs, IDE en eenvoudige SCSI adapters en wat PCMCIA
  ondersteuning.  De <i>meeste</i> gebruikers zullen deze image gebruiken
  als ze vanaf een diskette booten.
<li><b><tt>floppyB36.fs</tt></b> (Servers) ondersteunt vele RAID controllers,
  en sommige minder voorkomende SCSI adapters. Ondersteuning voor
  vele standaard SCSI adapters en vele EISA en ISA NICS werd echter
  verwijderd.
<li><b><tt>floppyC36.fs</tt></b> (Laptops) ondersteunt de CardBus en PCMCIA
  apparaten die u in vele laptops terugvindt.
<li><b><tt>cdrom36.fs</tt></b> is in feite een combinatie van alle drie
  de boot disks. Deze kan gebruikt worden om een bootable 2.88M
  diskette te maken, of meer waarschijnlijk, als een boot image voor een
  eigen beschrijfbare CD.
<li><b><tt>cd36.iso</tt></b> is een ISO9660 image die gebruikt kan worden om
  een bootable CD te maken met de meeste populaire CD-ROM creation
  software op de meeste platforms.
  Deze image heeft de breedste selectie van drivers, en is gewoonlijk de
  aanbevolen keuze als uw hardware vanaf een CD-ROM kan booten.
<li><b><tt>cdemu36.iso</tt></b> is een ISO9660 image, die "floppy emulation"
  booting gebruikt, met de 2.88M image, <tt>cdrom36.fs</tt>.
  We hopen dat weinig mensen deze image nodig zullen hebben -- de meeste
  mensen zullen <tt>cd36.iso</tt> gebruiken. Gebruik <tt>cdemu36.iso</tt>
  alleen als <tt>cd36.iso</tt> voor u niet werkt.
</ul>

Ja, er kunnen situaties zijn waarin een installatieschijf vereist is
om uw SCSI adapter te ondersteunen en een andere schijf vereist is om
uw netwerk adapter te ondersteunen.
Gelukkig komt dit zelden voor, en het kan gewoonlijk verholpen worden.

<p>
De <a href="../../sparc.html">sparc</a> platformen hebben drie afzonderlijke
installatieschijf images om uit te kiezen:

<ul>
<li><b><tt>floppy36.fs:</tt></b> Ondersteunt systemen met een diskette.
<li><b><tt>cd36.iso</tt></b> Een ISO image bruikbaar om uw eigen CD te maken
  om SPARC systemen te booten met een CD-ROM.
<li><b><tt>miniroot36.fs</tt></b> Kan naar een swap-partitie geschreven
  worden en geboot.
</ul>

<a name="MkFlop"></a>
<a name="UnixFlop"></a>
<h3>4.3.1 - Diskettes maken onder Unix</h3>

<p>
Om een geformatteerde floppy te maken, gebruikt u het
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdformat&amp;sektion=1&amp;arch=i386">fdformat(1)</a>
commando om zowel te formatteren als te controleren op slechte sectoren.

<p>
<table border=0 width="650"> <tr> <td nowrap bgcolor="#EEEEEE"><pre>
  # <b>fdformat /dev/rfd0c</b>
  Format 1440K floppy `/dev/rfd0c'? (y/n): y
  Processing VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV done.
</pre></td></tr> </table>

<p>
Als uw uitvoer is zoals in het bovenstaande voorbeeld, dan is de schijf OK.
Als u echter niet ALLEMAAL "V"'s ziet, dan is de schijf heel waarschijnlijk
slecht, en probeert u best een nieuwe.

<p>
Merk op dat sommige Unix-achtige systemen verschillende commando's hebben
om diskettes te formatteren.
Raadpleeg de documentatie van uw systeem voor de precieze procedure.

<p>
Zodra u een schone, geformatteerde diskette hebt, is het tijd om de
installatie-image naar de diskette te schrijven.
Hiervoor kan u de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&amp;sektion=0">dd(1)</a>
utility gebruiken.
Een voorbeeldgebruik van <tt>dd(1)</tt> staat hieronder:

<p>
<table border=0 width="650"> <tr> <td nowrap bgcolor="#EEEEEE"><pre>
  # <b>dd if=floppy36.fs of=/dev/rfd0c bs=32k</b>
</pre></td></tr></table>

<p>
Zodra de image geschreven is, controleer dan om zeker te zijn dat de
gekopieerde image dezelfde is als de originele met het
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cmp&amp;sektion=1">cmp(1)</a>
commando.
Als de diskette identiek is aan de image, zult u gewoon nog een prompt zien.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  # <b>cmp /dev/rfd0c floppy36.fs</b>
</pre></td> </tr> </table>

<a name="DosFlop"></a>
<h3>4.3.2 - Diskettes maken onder Windows of DOS</h3>

<p>
Deze sectie beschrijft hoe u de installatie-images naar een diskette
kan schrijven onder Windows of DOS.
U kan de hieronder vermelde tools vinden in de 
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.6/tools/">tools</a>
directory op gelijk welke FTP mirror,
of in de <tt>3.6/tools</tt> directory op CD1 van de OpenBSD CD set.

<p>
Om een diskette klaar te maken in MS-DOS of Windows, gebruikt u eerst
de voorziene formatteringstools om de schijf te formatteren.

<p>
Om de installatie-image naar de klaargemaakte diskette te schrijven kan u
<i>rawrite</i>, <i>fdimage</i>, of <i>ntrw</i> gebruiken.
<i>rawrite</i> zal niet werken op Windows NT, 2000 or XP.

<p>
Merk op dat <tt>FDIMAGE.EXE</tt> en <tt>RAWRITE.EXE</tt> beide MS-DOS
toepassingen zijn, en dus beperkt tot de MS-DOS conventie van "8.3"
bestandsbenaming.
Aangezien <tt>floppyB36.fs</tt> en <tt>floppyC36.fs</tt> langere bestandsnamen
hebben, zal u moeten uitzoeken hoe uw systeem het bestand in "8.3 formaat"
bewaard heeft alvorens <tt>FDIMAGE.EXE</tt> of <tt>RAWRITE.EXE</tt> te
gebruiken om uw bootdiskettes te maken.

<p>
Voorbeeldgebruik van <i>rawrite</i>:
<table border=0 width="650"> <tr> <td nowrap bgcolor="#EEEEEE"><pre>
  C:\> <b>rawrite</b>
  RaWrite 1.2 - Write disk file to raw floppy diskette

  Enter source file name: <b>floppy36.fs</b>
  Enter destination drive: <b>a</b>
  Please insert a formatted diskette into drive A: and press -ENTER- : <i><b>Enter</b></i>
</pre> </td> </tr> </table>

<p>
Voorbeeldgebruik van <i>fdimage</i>:
<table border=0 width="650"> <tr> <td nowrap bgcolor="#EEEEEE"><pre>
  C:\> <strong>fdimage -q floppy36.fs a:</strong>
</pre></td></tr></table>

<p>
Voorbeeldgebruik van <i>ntrw</i>:
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  C:\> <strong>ntrw floppy36.fs a:</strong>
  3.5", 1.44MB, 512 bytes/sector
  bufsize is 9216
  1474560 bytes written
</pre></td></tr></table>

<a name="MkCD-ROM"></a>
<h3>4.3.3 - Een CD-ROM maken</h3>

<p>
U kan een CD-ROM aanmaken met ofwel het <tt>cd36.iso</tt> bestand ofwel, in
geval van het i386 platform, kan u ook <tt>cdrom36.fs</tt> gebruiken als de
bootable floppy image die gebruikt wordt om een i386 systeem vanaf
CD-ROM te booten.
Het wordt aan de lezer overgelaten om de precieze details te bepalen
met de tools die hij/zij ter beschikking heeft.

<p>
Enkele van de tools in OpenBSD zijn:
<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mkhybrid&amp;sektion=8">mkhybrid(8)</a>
<li><a href="http://www.fokus.gmd.de/research/cc/glone/employees/joerg.schilling/private/cdrecord.html">cdrecord</a>,
onderdeel van de cdrtools collectie in het <a href="faq8.html#Ports">OpenBSD
Ports Systeem</a>.
</ul>

<a name="Boot"></a>
<h2>4.4 - OpenBSD installatiemedia booten</h2>

<h3>i386 booten</h3>

Een installatie-image booten op het i386 PC platform is voor de meeste
mensen niets nieuws.
Als u een diskette gebruikt, steek de diskette dan in het diskettestation
en start het systeem.
De installatie-image zal dan laden, indien floppy boot ingeschakeld is in
uw BIOS. Als u wil booten vanaf CD, moet u in de BIOS van uw systeem gaan
en de boot-opties instellen om booten vanaf CD toe te laten.
Sommige oudere BIOSen hebben deze optie niet, en dan moet u een diskette
gebruiken om uw installatie-image te booten.
Maak u echter geen zorgen; zelfs als u boot vanaf een diskette, kan u nog
steeds vanaf CD installeren.

<p>
U kan ook installeren door <a href="#bsd.rd">bsd.rd</a> te booten vanaf een
bestaande OpenBSD partitie, of over het netwerk met het
<a href="faq6.html#PXE">PXE boot proces</a>.

<h3>sparc/sparc64 booten</h3>

<b>NOTE:</b>
Op het <a href="../../sparc64.html">sparc64</a> platform zijn alleen de SBus
machines (Ultra 1, Ultra 2) bootable vanaf diskette.

<p>
Om vanaf diskette te booten, plaatst u de diskette met de OpenBSD
installatie-image erop in het diskettestation.
Gebruik daarna het volgende commando om te booten vanaf de diskette:

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  ok <b>boot floppy</b>
</pre></td></tr></table>

<p>
Om vanaf CD-ROM te booten, plaatst u de OpenBSD CD-ROM schijf in de lezer.
Als uw Sun slechts één CD-ROM lezer heeft, ga dan gewoon naar
de boot prompt, waar u '<tt>boot cdrom</tt>' kan uitvoeren:

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  ok <b>boot cdrom</b>
</pre></td></tr></table>

<p>
Natuurlijk zal dit enkel werken in new command mode.
Als u op de old command mode prompt (een rechts pijltje) bent, typ dan 'n'
voor de new commando mode.
(Als u een oude sparc gebruikt die pre-sun4c is, dan hebt u waarschijnlijk
geen new command mode. In dat geval zal u moeten experimenteren.)
Als u meerdere CD-ROM devices hebt, moet u vanaf de juiste booten.
Probeer <tt>probe-scsi</tt> vanaf de new command mode.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  ok <b>probe-scsi</b>

  Target 0
    Unit 0   Disk     QUANTUM LIGHTNING 365S
  Target 1
    Unit 0   Removable Disk     QUANTUM EMPIRE_1080S
  Target 3
    Unit 0   Removable Disk     Joe's CD-ROM
</pre></td></tr></table>

<p>
Zoek uit welk toestel de CD-ROM is waarvan u wil booten.  Onthou het
target nummer.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  ok <b>boot /sbus/esp/sd@X,0</b>
</pre></td></tr></table>


<a name="Install"></a>
<h2>4.5 - Een installatie uitvoeren</h2>
<a name="Start"></a>
<h3>4.5.1 - De installatie beginnen</h3>
<!-- XXXrelease -->
Wat u ook gebruikt als middel om te booten, nu is het tijd om het te gebruiken.
Tijdens het bootproces worden de kernel en al de programma's, gebruikt om
OpenBSD te installeren, in het geheugen geladen. Het meest voorkomende
probleem bij het booten is een slechte diskette of een
probleem met schijfalignering. De bootdiskette staat erg vol -- gelijk welke
slechte plek zal problemen veroorzaken.

<p>
Op bijna gelijk welk ogenblik tijdens het OpenBSD installatieproces kan u
de huidige installatiepoging beëindigen door CTRL-C te drukken en
een nieuwe poging beginnen zonder te herstarten door <tt>install</tt> te
starten op de shell prompt.

<p>
Wanneer uw boot geslaagd is, zal u veel tekstboodschappen zien voorbij
rollen. Deze tekst, op vele architecturen in witte letters op blauwe
achtergrond, is de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dmesg&amp;sektion=8">dmesg</a>, 
de kernel die u zegt welke devices gevonden werden, en waar.
Maak u geen zorgen over het onthouden van deze tekst, want een kopie wordt
bewaard in
<tt>/var/run/dmesg.boot</tt>. Op sommige architecturen zal SHIFT+PGUP u
tekst laten onderzoeken die voorbij het scherm gerold is.

<p>
Nadien zal u het volgende zien:

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  rootdev=0x1100 rrootdev=0x2f00 rawdev=0x2f02
  erase ^?, werase ^W, kill ^U, intr ^C, status ^T
  (I)nstall, (U)pgrade or (S)hell? <b>i</b>
</pre></td></tr></table>

<p>
En daarmee bereiken we onze eerste vraag.  Meestal hebt u de drie getoonde
opties:
<ul>
<li><b>Install:</b> zet OpenBSD op het systeem, daarmee overschrijvend wat
er ook op stond.  Merk op dat het mogelijk is om een aantal partities
onaangeroerd te laten bij dit proces, zoals een <tt>/home</tt>, maar ga er
verder vanuit dat alles overschreven wordt.
<li><b>Upgrade:</b> Installeer een nieuwe set van
<a href="#FilesNeeded">installatiebestanden</a> op deze machine, maar
overschrijf geen configuratie-informatie, gebruikersgegevens, of bijkomende
programma's.  Er gebeurt geen schijfformattering, noch worden de /etc of
/var directories overschreven.
Enkele belangrijke opmerkingen:
<ul>
<li> U zal niet de keuze krijgen om het
<tt>etc36.tgz</tt> bestand te installeren.
Na de installatie zal u manueel de veranderingen van
<tt>etc36.tgz</tt> in uw systeem moeten mergen alvorens u kan verwachten dat
het volledig functioneel is.
Dit is een belangrijke stap die uitgevoerd moet worden, omdat anders enkele
voorname diensten (zoals
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a>)
misschien niet zullen starten.

<li>Het Upgrade proces is niet ontworpen om releases over te slaan!
Hoewel dit vaak zal werken, wordt het niet ondersteund.
Voor OpenBSD 3.6 is het upgraden van 3.5 naar 3.6 de enige ondersteunde
upgrade.
Als u moet upgraden vanaf een oudere versie, wordt een volledige herinstallatie
aanbevolen.<br>

</ul>

<li><b>Shell:</b> Soms moet u reparaties of onderhoud uitvoeren op een systeem
dat niet wil (of niet mag) booten naar een normale kernel.
Deze optie laat u toe om onderhoud aan het systeem te doen.
</ul>

Soms zal u de "Upgrade" optie niet in de lijst zien.
Na een <i>flag day</i> event, is het niet mogelijk om rechtstreeks te upgraden;
men moet dan het systeem volledig vanaf nul herinstalleren.

<p>
In dit voorbeeld zullen we een Install doen, maar het Upgrade proces is
gelijkaardig.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Welcome to the OpenBSD/i386 3.6 install program.

  This program will help you install OpenBSD in a simple and rational way. At
  any prompt except password prompts you can run a shell command by typing
  '!foo', or escape to a shell by typing '!'. Default answers are shown in []'s
  and are selected by pressing RETURN. At any time you can exit this program by
  pressing Control-C and then RETURN, but quitting during an install can leave
  your system in an inconsistent state.

  Specify terminal type: [vt220] <b><i>Enter</i></b>
  Do you wish to select a keyboard encoding table? [no] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
In de meeste gevallen is het standaard terminal type geschikt; als u echter
een <a href="faq7.html#SerCon">seriële console</a> gebruikt voor de
installatie, kies dan niet zomaar de standaardwaarde, maar antwoord
gepast.

<p>
Als u geen toetsenbord indelingstabel selecteert, zal een US toetsenbord
layout aangenomen worden.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  IS YOUR DATA BACKED UP? As with anything that modifies disk contents, this
  program can cause SIGNIFICANT data loss.

  It is often helpful to have the installation notes handy. For complex disk
  configurations, relevant disk hardware manuals and a calculator are useful.

  Proceed with install? [no] <b>y</b>
</pre></td></tr></table>

<p>
Als u hier de standaardwaarde neemt, zal het installtieproces zichzelf
beëindigen en u een shell prompt geven.

<a name="Disks"></a>
<h3>4.5.2 - Schijven instellen</h3>

<p>
Schijven instellen onder OpenBSD varieert een beetje tussen platformen. Voor
<a href="../../i386.html">i386</a> en <a href="../../macppc.html">macppc</a>
gebeurt schijf setup in twee stappen.  Eerst wordt de OpenBSD slice van de
harde schijf gedefinieerd met fdisk(8), vervolgens wordt die slice
onderverdeeld in OpenBSD partities met disklabel(8).

<p>
Sommige gebruikers kunnen misschien een beetje in de war raken door de
terminologie die hier gehanteerd wordt. Het zal blijken dat we het woord
"partitie" op twee verschillende manieren gebruiken. Deze vaststelling
is juist. Er zijn twee lagen van partitionering in verscheidene OpenBSD
platformen, de eerste zou men kunnen beschouwen als de partitionering door
het Besturingssysteem, dat betekent hoe meerdere besturingssystemen op
één computer hun eigen plaats op de schijf afbakenen; en de
tweede is hoe de OpenBSD partitie gesub-partitioneerd wordt in individuele
bestandssystemen. De eerste laag is zichtbaar als een schijfpartitie voor
DOS, Windows en gelijk welk ander besturingssysteem dat kan samenleven met
andere Besturingssytemen op de machines die afgeleid zijn van de IBM AT.
De tweede laag is enkel zichtbaar voor OpenBSD en die besturingssystemen
die rechtstreeks een OpenBSD bestandssysteem kunnen lezen.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Cool!  Let's get to it...

  You will now initialize the disk(s) that OpenBSD will use. To enable all
  available security features you should configure the disk(s) to allow the
  creation of separate filesystems for /, /tmp, /var, /usr, and /home.

  Available disks are: wd0.
  Which one is the root disk? (or done) [wd0] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
De root disk is de schijf waarvan het systeem zal booten, en waar normaal
gezien de swapruimte verblijft.
IDE schijven zullen getoond worden als <tt>wd0</tt>, <tt>wd1</tt>, enz., SCSI
schijven en RAID devices zullen verschijnen als <tt>sd0</tt>, <tt>sd1</tt>,
enzoverder. Al de schijven die OpenBSD kan vinden worden hier opgesomd --
als u schijven hebt die niet verschijnen, dan hebt u niet-ondersteunde of
onjuist geconfigureerde hardware.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Do you want to use *all* of wd0 for OpenBSD? [no] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
Als u "yes" antwoordt op deze vraag, zal de gehele schijf toegekend worden
aan OpenBSD. Dit zal leiden tot het wegschrijven van een standaard Master
Boot Record en partitietabel naar de schijf -- één partitie, ter
grootte van de gehele schijf, ingesteld op het OpenBSD partitietype, en
gemarkeerd als bootable partitie. Dit zal een vaak voorkomende keuze zijn
voor de meeste productie-gebruiken van OpenBSD; er zijn echter systemen
waarop dit beter niet gedaan wordt. Veel Compaq systemen, veel laptops,
sommige Dell en andere systemen gebruiken een "maintenance" of "Suspend to
Disk" partitie, die best intact gehouden wordt. Als uw systeem nog andere
partities van gelijk welk type heeft, die u niet wil verwijderen, antwoord
dan niet "yes" op de bovenstaande vraag.

<p>
Voor dit voorbeeld zullen we veronderstellen dat de schijf moet opgesplitst
worden tussen OpenBSD en een vooraf bestaande Windows 2000 partitie, dus we
nemen het standaard antwoord "no", dat ons naar het
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&amp;sektion=8&amp;arch=i386">fdisk(8)</a>
programma zal brengen.  U kan ook
<a href="faq14.html#fdisk">hier</a> meer informatie over fdisk(8) bekomen.

<p>
<b>Important Note:</b>
Gebruikers met een grote harde schijf (groter dan 8G op een recentere i386,
maar op oudere machines en andere platformen vaak veel kleiner) zullen zeker
<a href="faq14.html#LargeDrive">deze sectie</a> willen bekijken alvorens
verder te gaan.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  You will now create a single MBR partition to contain your OpenBSD data. This
  partition must have an id of 'A6'; must *NOT* overlap other partitions; and
  must be marked as the only active partition.

  The 'manual' command describes all the fdisk commands in detail.

  Disk: wd0       geometry: 2586/240/63 [39100320 Sectors]
  Offset: 0       Signature: 0xAA55
           Starting       Ending       LBA Info:
   #: id    C   H  S -    C   H  S [       start:      size   ]
  ------------------------------------------------------------------------
  *0: 06    0   1  1 -  202 239 63 [          63:     3069297 ] DOS > 32MB
   1: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
   2: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
   3: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
  Enter 'help' for information
  fdisk: 1> <b>help</b>
          help            Command help list
          manual          Show entire OpenBSD man page for fdisk
          reinit          Re-initialize loaded MBR (to defaults)
          setpid          Set the identifier of a given table entry
          disk            Edit current drive stats
          edit            Edit given table entry
          flag            Flag given table entry as bootable
          update          Update machine code in loaded MBR
          select          Select extended partition table entry MBR
          print           Print loaded MBR partition table
          write           Write loaded MBR to disk
          exit            Exit edit of current MBR, without saving changes
          quit            Quit edit of current MBR, saving current changes
          abort           Abort program without saving current changes
  fdisk: 1> 
</pre></td></tr></table>

<p>
Een aantal commando's verdienen uitweiding:
<ul>
<li><b><tt>r</tt></b> of <b><tt>reinit</tt>:</b> Maakt de bestaande
partitietabel leeg, maakt één grote OpenBSD partitie, markeert ze
actief, en installeert de OpenBSD MBR code.
Equivalent met "yes" antwoorden op de vraag "<tt>use *all* of ...</tt>".
<li><b><tt>p</tt></b> of <b><tt>print:</tt></b> Geeft de huidige partitietabel
weer in sectoren.  "<tt>p m</tt>" zal de partitietabel tonen in megabytes,
"<tt>p g</tt>" zal ze tonen in gigabytes.
<li><b><tt>e</tt></b> of <b><tt>edit:</tt></b> bewerk of wijzig een entry in
de tabel.
<li><b><tt>f</tt></b> of <b><tt>flag:</tt></b> Markeert een partitie als de
actieve partitie, degene waarvan geboot zal worden.
<li><b><tt>u</tt></b> of <b><tt>update:</tt></b> Update de MBR met de OpenBSD
boot code, gelijkaardig aan "<tt>reinit</tt>", behalve dat het de bestaande
partitietabel niet wijzigt.
<li><b><tt>exit</tt></b> en <b><tt>quit:</tt></b> Voorzichtig hiermee, want
sommige gebruikers zijn eraan gewend dat "exit" en "quit" tegenovergestelde
betekenissen hebben.
</ul>

Het loont de moeite er nog maar eens op te wijzen dat een fout hier zal
leiden tot aanzienlijk verlies van gegevens. Als u dit gaat doen op een schijf
met belangrijke gegevens, zou het de moeite kunnen lonen om te oefenen op een
"wegwerp-" schijf, bovenop een goede backup te hebben.

<p>
Onze schijf hier heeft een 1.5G partitie voor Windows 2000 (dat het FAT
bestandssysteem gebruikt).  Wanneer we naar de info uit de bovenstaande
weergave kijken, kunnen we zien dat de Windows partitie tot en met cilinder
202 ineemt op de schijf. We gaan dus de rest van de schijf toekennen aan
OpenBSD, te beginnen bij cilinder 203. U zou ook OpenBSD's beginsector van
3069360 kunnen berekenen door de beginsector (63) van de bestaande partitie
en haar grootte (3069297) op te tellen.

<p>
U kan de schijf layout wijzigen in ofwel Cylinder/Heads/Sectors
vorm ofwel gewoon raw sectors.  Wat het gemakkelijkst is, hangt af van wat u
aan het doen bent; in dit geval, werkend rond een bestaande partitie, zal
gebruik van het CHS formaat waarschijnlijk het gemakkelijkst zijn.
Als u de eerste partitie op de schijf aan het maken bent, kan het gemakkelijker
zijn om gewoon raw sectors te gebruiken.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  fdisk: 1> <b>e 1</b>
           Starting       Ending       LBA Info:
   #: id    C   H  S -    C   H  S [       start:      size   ]
  ------------------------------------------------------------------------
   1: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
  Partition id ('0' to disable)  [0 - FF]: [0] (? for help) <b>a6</b>
  Do you wish to edit in CHS mode? [n] <b>y</b>
  BIOS Starting cylinder [0 - 2585]: [0] <b>203</b>
  BIOS Starting head [0 - 239]: [0] <b><i>Enter</i></b>
  BIOS Starting sector [1 - 63]: [0] <b>1</b>
  BIOS Ending cylinder [0 - 2585]: [0] <b>2585</b>
  BIOS Ending head [0 - 239]: [0] <b>239</b>
  BIOS Ending sector [1 - 63]: [0] <b>63</b>
  fdisk:*1> <b>p</b>
  Disk: wd0       geometry: 2586/240/63 [39100320 Sectors]
  Offset: 0       Signature: 0xAA55
           Starting       Ending       LBA Info:
   #: id    C   H  S -    C   H  S [       start:      size   ]
  ------------------------------------------------------------------------
  *0: 06    0   1  1 -  202 239 63 [          63:     3069297 ] DOS > 32MB
   1: A6  203   0  1 - 2585 239 63 [     3069360:    36030960 ] OpenBSD
   2: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
   3: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
  fdisk:*1> <b>p m</b>
  Disk: wd0       geometry: 2586/240/63 [19092 Megabytes]
  Offset: 0       Signature: 0xAA55
           Starting       Ending       LBA Info:
   #: id    C   H  S -    C   H  S [       start:      size   ]
  ------------------------------------------------------------------------
  *0: 06    0   1  1 -  202 239 63 [          63:        1499M] DOS > 32MB
   1: A6  203   0  1 - 2585 239 63 [     3069360:       17593M] OpenBSD
   2: 00    0   0  0 -    0   0  0 [           0:           0M] unused
   3: 00    0   0  0 -    0   0  0 [           0:           0M] unused
  fdisk:*1> 
</pre></td></tr></table>

<a name="trackoffset"></a>
<p>
Het is belangrijk dat de eerste partitie de eerste track van de schijf
overslaat, in dit geval, beginnend op sector <tt>63</tt>.
Als een OpenBSD partitie gemaakt wordt beginnend op offset <tt>0</tt>,
zal deze partitietabel uiteindelijk overschreven worden door de
<a href="faq14.html#Boot386">Partition Boot Record</a> van de OpenBSD partitie.
Het systeem zou nog kunnen starten, maar het zou heel moeilijk te onderhouden
zijn, en deze configuratie is <i>niet aanbevolen of ondersteund</i>.

<p>
Merk op dat de prompt veranderde en nu een asterisk ('<tt>*</tt>') bevat om
aan te geven dat u onbewaarde wijzigingen hebt. Zoals we kunnen zien aan de
uitvoer van <tt>p&nbsp;m</tt> hebben we onze Windows partitie niet gewijzigd,
we hebben goed en wel de rest van de schijf aan OpenBSD toegekend, en de
partities overlappen elkaar niet.  We are in business.  Bijna.

<p>
Wat we niet gedaan hebben is de partitie als active gemarkeerd zodat de
machine OpenBSD zal starten bij de volgende reboot:

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  fdisk:*1> <b>f 1</b>
  Partition 1 marked active.
  fdisk:*1> <b>p</b>
  Disk: wd0       geometry: 2586/240/63 [39100320 Sectors]
  Offset: 0       Signature: 0xAA55
           Starting       Ending       LBA Info:
   #: id    C   H  S -    C   H  S [       start:      size   ]
  ------------------------------------------------------------------------
   0: 06    0   1  1 -  202 239 63 [          63:     3069297 ] DOS > 32MB
  *1: A6  203   0  1 - 2585 239 63 [     3069360:    36030960 ] OpenBSD
   2: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
   3: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
  fdisk:*1>
</pre></td></tr></table>

<p>
En nu zijn we klaar om onze wijzigingen te bewaren:

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  fdisk:*1> <b>w</b>
  Writing MBR at offset 0.
  wd0: no disk label
  fdisk: 1> <b>q</b>
</pre></td></tr></table> 

<p>

<a name="disklabel"></a>
<h3>Een disklabel aanmaken</h3>
De volgende stap is het gebruiken van
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&amp;sektion=8">disklabel(8)</a> 
om de OpenBSD partitie in slices onder te verdelen.  Meer details over het
gebruik van disklabel(8) kunt u terugvinden in
<a href="faq14.html#disklabel">FAQ 14, disklabel</a>.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Here is the partition information you chose:
  
  Disk: wd0       geometry: 2586/240/63 [39100320 Sectors]
  Offset: 0       Signature: 0xAA55
           Starting       Ending       LBA Info:
   #: id    C   H  S -    C   H  S [       start:      size   ]
  ------------------------------------------------------------------------
   0: 06    0   1  1 -  202 239 63 [          63:     3069297 ] DOS > 32MB
  *1: A6  203   0  1 - 2585 239 63 [     3069360:    36030960 ] OpenBSD
   2: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
   3: 00    0   0  0 -    0   0  0 [           0:           0 ] unused

  You will now create an OpenBSD disklabel inside the OpenBSD MBR
  partition. The disklabel defines how OpenBSD splits up the MBR partition
  into OpenBSD partitions in which filesystems and swap space are created.

  The offsets used in the disklabel are ABSOLUTE, i.e. relative to the
  start of the disk, NOT the start of the OpenBSD MBR partition.

  disklabel: no disk label
  WARNING: Disk wd0 has no label. You will be creating a new one.
  
  # using MBR partition 1: type A6 off 3069360 (0x2ed5b0) size 36030960 (0x225c9f0)

  Treating sectors 3069360-39100320 as the OpenBSD portion of the disk.
  You can use the 'b' command to change this.

  Initial label editor (enter '?' for help at any prompt)
  > <b>?</b>
  Available commands:
          ? [cmnd]  - this message or command specific help.
          a [part]  - add new partition.
          b         - set OpenBSD disk boundaries.
          c [part]  - change partition size.
          D         - set label to default.
          d [part]  - delete partition.
          e         - edit drive parameters.
          g [b|d|u] - use [b]ios, [d]isk or [u]ser geometry.
          M         - show entire OpenBSD man page for disklabel.
          m [part]  - modify existing partition.
          n [part]  - set the mount point for a partition.
          p [unit]  - print label.
          q         - quit and save changes.
          r         - recalculate free space.
          s [path]  - save label to file.
          u         - undo last change.
          w         - write label to disk.
          X         - toggle expert mode.
          x         - exit without saving changes.
          z         - zero out partition table.
  Numeric parameters may use suffixes to indicate units:
          'b' for bytes, 'c' for cylinders, 'k' for kilobytes, 'm' for megabytes,
          'g' for gigabytes or no suffix for sectors (usually 512 bytes).
          '%' for percent of total disk size, '&' for percent of free space.
          Non-sector units will be rounded to the nearest cylinder.
  Entering '?' at most prompts will give you (simple) context sensitive help.
  > 
</pre></td></tr></table>

<p>
Opnieuw kunnen enkele van deze commando's een beetje toelichting gebruiken:
<ul>
<li><b><tt>p</tt></b> - (print) geeft de huidige disklabel weer op het scherm,
en u kan de modifiers <tt>k, m</tt> of <tt>g</tt> gebruiken voor
kilobytes, megabytes of gigabytes.

<li><b><tt>D</tt></b> - Maakt een bestaande disklabel leeg, maakt een nieuwe
standaard disklabel die precies de huidige OpenBSD partitie bedekt. Dit kan
nuttig zijn als de schijf vroeger een disklabel had, en de OpenBSD partitie
opnieuw aangemaakt werd met een andere grootte -- het zou kunnen dat de oude
disklabel niet verwijderd wordt, en voor verwarring kan zorgen.

<li><b><tt>m</tt></b> - (modify) Wijzigt een bestaande entry in een disklabel.
Overschat niet wat dit voor u zal doen. Hoewel het de grootte van een
disklabel partitie kan veranderen, zal het het bestandssysteem op de schijf
NIET wijzigen. Deze optie gebruiken en verwachten dat ze bestaande partities
van grootte verandert, is een goede manier om grote hoeveelheden gegevens
te verliezen.

</ul>

<p>
Uw schijf netjes onderverdelen in slices is belangrijk. Het antwoord op de
vraag "Hoe kan ik best mijn systeem partitioneren?" is "Precies zoals u het
nodig hebt". Dit zal variëren van toepassing tot toepassing. Er bestaat
geen universeel antwoord. Als u niet zeker bent over hoe u uw systeem wenst
te partitioneren, bekijk dan
<a href="#SpaceNeeded">deze bespreking</a>.

<p>
Op dit systeem hebben we meer dan 17G beschikbaar voor OpenBSD. Dat is veel
ruimte, en het is weinig waarschijnlijk dat we het meeste ervan zullen nodig
hebben. We zullen dus opzettelijk geen absolute minimumgroottes gebruiken.
We zouden liever enkele honderden megabytes ongebruikte ruimte hebben dan
een kilobyte te weinig.

<p>
Op de root disk <b>moeten</b> de twee partities 'a' en 'b' aangemaakt worden.
Het installatieproces zal niet verder gaan voordat deze twee partities
beschikbaar zijn. 'a' zal gebruikt worden voor het root bestandssysteem (/)
en 'b' zal gebruikt worden als swapruimte.

<p>
Na een beetje nadenken beslissen we om net genoeg partities aan te maken
om het aanmaken van de aanbevolen afzonderlijke bestandssystemen (<tt>/,
/tmp, /var, /usr, /home</tt>) toe te laten, samen met een swap partitie:
<ul>
<li><i><b>wd0a: /</b></i> (root) - 150M.  Zou meer dan genoeg moeten zijn.
<li><i><b>wd0b: </b></i>(swap) - 300M.
<li><i><b>wd0d: /tmp</b></i> - 120M.  <tt>/tmp</tt> wordt gebruikt om sommige
  software te bouwen, 120M zal waarschijnlijk voor de meeste dingen volstaan.
<li><i><b>wd0e: /var</b></i> - 80M.  Als dit een web of mail server zou worden,
  zouden we deze partitie veel groter gemaakt hebben, maar dat is niet wat
  we aan het doen zijn.
<li><i><b>wd0g: /usr</b></i> - 2G.  We willen deze partitie groot genoeg om
  een aantal gebruikerstoepassingen te laden, en om het systeem te kunnen
  updaten en weer vanaf broncode opbouwen indien nodig of gewenst. De
  <a href="../../nl/ports.html">Ports tree</a> zal hier ook op staan, en deze neemt
  bijna 100M van deze ruimte in voordat er ports gebouwd zijn.
  Als men van plan was om veel toepassingen vanaf broncode te bouwen met
  <a href="faq8.html#Ports">ports</a> veeleer dan voorafgebouwde
  <a href="faq8.html#Packages">packages</a> te gebruiken, zou u hier wellicht
  veel meer ruimte willen.
<li><i><b>wd0h: /home</b></i> - 4G.  Dit zal genoeg ruimte laten voor
  gebruikersbestanden.
</ul>

Als u deze nu optelt, zal u zien dat meer dan 10G ruimte ongebruikt is!
Ongebruikte ruimte zal geen kwaad kunnen, en geeft ons de flexibiliteit om
de dingen in de toekomst groter te maken indien nodig. Meer <i>/tmp</i>
nodig? Geen probleem, maak een nieuwe in de ongebruikte ruimte, wijzig
<i>/etc/fstab</i> en probleem opgelost.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  > <b>p m</b>
  device: /dev/rwd0c
  type: ESDI
  disk: ESDI/IDE disk
  label: ST320011A
  bytes/sector: 512
  sectors/track: 63
  tracks/cylinder: 16
  sectors/cylinder: 1008
  cylinders: 16383
  total sectors: 39102336
  free sectors: 36030960
  rpm: 3600
  
  16 partitions:
  #        size   offset    fstype   [fsize bsize   cpg]
    a: 17593.2M  1498.7M    unused        0     0
    c: 19092.9M     0.0M    unused        0     0
    i:  1498.7M     0.0M     MSDOS
  > <b>d a</b>
  > <b>a a</b>
  offset: [3069360] <b><i>Enter</i></b>
  size: [36030960] <b>150M</b>
  Rounding to nearest cylinder: 307440
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/</b>
  > <b>a b</b>
  offset: [3376800] <b><i>Enter</i></b>
  size: [35723520] <b>300M</b>
  Rounding to nearest cylinder: 614880
  FS type: [swap] <b><i>Enter</i></b>
  > <b>a d</b>
  offset: [3991680] <b><i>Enter</i></b>
  size: [35108640] <b>120m</b>
  Rounding to nearest cylinder: 245952
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/tmp</b>
  > <b>a e</b>
  offset: [4237632] <b><i>Enter</i></b>
  size: [34862688] <b>80m</b>
  Rounding to nearest cylinder: 164304
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/var</b>
  > <b>a g</b>
  offset: [4401936] <b><i>Enter</i></b>
  size: [34698384] <b>2g</b>
  Rounding to nearest cylinder: 4194288
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/usr</b>
  > <b>a h</b>
  offset: [8596224] <b><i>Enter</i></b>
  size: [30504096] <b>4g</b>
  Rounding to nearest cylinder: 8388576
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/home</b>
  > <b>p m</b>
  device: /dev/rwd0c
  type: ESDI
  disk: ESDI/IDE disk
  label: ST320011A
  bytes/sector: 512
  sectors/track: 63
  tracks/cylinder: 16
  sectors/cylinder: 1008
  cylinders: 16383
  total sectors: 39102336
  free sectors: 22115520
  rpm: 3600
  
  16 partitions:
  #        size   offset    fstype   [fsize bsize   cpg]
    a:   150.1M  1498.7M    4.2BSD     1024  8192    16  # /
    b:   300.2M  1648.8M      swap
    c: 19092.9M     0.0M    unused        0     0
    d:   120.1M  1949.1M    4.2BSD     1024  8192    16  # /tmp
    e:    80.2M  2069.2M    4.2BSD     1024  8192    16  # /var
    g:  2048.0M  2149.4M    4.2BSD     1024  8192    16  # /usr
    h:  4096.0M  4197.4M    4.2BSD     1024  8192    16  # /home
    i:  1498.7M     0.0M     MSDOS
  > <b>q</b>
  Write new label?: [y] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
U zal hier opmerken dat er een <i>c</i> partitie is die we schijnbaar hebben
genegeerd.  Deze partitie is uw volledige harde schijf; probeer niet om ze
te wijzigen. U zal ook opmerken dat de <i>i</i> partitie niet door ons
gedefinieerd werd; dit is de vooraf bestaande
Windows 2000 partitie. Partities worden geen bepaalde letters
toegekend -- met uitzondering van
<i>a</i> (root), <i>b</i> (swap) en <i>c</i> (volledige schijf), de rest
van de partities (tot en met letter <i>p</i>) zijn beschikbaar voor gebruik
zoals u wenst.

<p>
Als u nauwkeurig naar de uitvoer van disklabel kijkt, zal u opmerken dat
uw schijf RPM notering waarschijnlijk verkeerd is. Dit is historisch; de
schijfsnelheid wordt op geen enkele manier door het systeem gebruikt. Maak u
er geen zorgen over.

<h3>Uw mount points configureren en uw bestandssystemen formatteren</h3>

Nu komt de finale configuratie van uw mount points. Als u de mount points
geconfigureerd hebt met behulp van
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&amp;sektion=8">disklabel(8)</a>, 
bestaat deze stap louter uit het verifiëren van uw selecties; anders kunt
u ze nu specificeren.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  The root filesystem will be mounted on wd0a.
  wd0b will be used for swap space.
  Mount point for wd0d (size=122976k), none or done? [/tmp] <b><i>Enter</i></b>
  Mount point for wd0e (size=82152k), none or done? [/var] <b><i>Enter</i></b>
  Mount point for wd0g (size=2097144k), none or done? [/usr] <b><i>Enter</i></b>
  Mount point for wd0h (size=4194288k), none or done? [/home] <b><i>Enter</i></b>
  Mount point for wd0d (size=122976k), none or done? [/tmp] <b>done</b>
  Done - no available disks found.
 
  You have configured the following partitions and mount points:

  wd0a /
  wd0d /tmp
  wd0e /var
  wd0g /usr
  wd0h /home

  The next step creates a filesystem on each partition, ERASING existing data.
  Are you really sure that you're ready to proceed? [no] <b>y</b>
  /dev/rwd0a:     307440 sectors in 305 cylinders of 16 tracks, 63 sectors
          150.1MB in 20 cyl groups (16 c/g, 7.88MB/g, 1920 i/g)
  /dev/rwd0d:     245952 sectors in 244 cylinders of 16 tracks, 63 sectors
          120.1MB in 16 cyl groups (16 c/g, 7.88MB/g, 1920 i/g)
  /dev/rwd0e:     164304 sectors in 163 cylinders of 16 tracks, 63 sectors
          80.2MB in 11 cyl groups (16 c/g, 7.88MB/g, 1920 i/g)
  /dev/rwd0g:     4194288 sectors in 4161 cylinders of 16 tracks, 63 sectors
          2048.0MB in 261 cyl groups (16 c/g, 7.88MB/g, 1920 i/g)
  /dev/rwd0h:     8388576 sectors in 8322 cylinders of 16 tracks, 63 sectors
          4096.0MB in 521 cyl groups (16 c/g, 7.88MB/g, 1920 i/g)
  /dev/wd0a on /mnt type ffs (rw, asynchronous, local, ctime=Thu Oct 10 21:
  50:36 2004)
  /dev/wd0h on /mnt/home type ffs (rw, asynchronous, local, nodev, nosuid,
   ctime=Thu Oct 10 21:50:36 2004)
  /dev/wd0d on /mnt/tmp type ffs (rw, asynchronous, local, nodev, nosuid, 
  ctime=Thu Oct 10 21:50:36 2004)
  /dev/wd0g on /mnt/usr type ffs (rw, asynchronous, local, nodev, ctime=Th
  u Oct 10 21:50:36 2004)
  /dev/wd0e on /mnt/var type ffs (rw, asynchronous, local, nodev, nosuid, 
  ctime=Th u Oct 10 21:50:36 2004)
</pre></td></tr></table>

<p>
U kan zich afvragen waarom het installatieprogramma opnieuw om mount points
vraagt. Dit laat u toe om te herstellen van fouten of weglatingen in de mount
points, gespecificeerd tijdens het aanmaken van de disklabel. Het
installatieproces zal bijvoorbeeld dubbele mount points die u ingeeft tijdens
de configuratie van de disklabel, verwijderen. Het disklabel programma laat
toe dat u zulke dubbels ingeeft, en dus moeten deze nagekeken worden nadat
het disklabel programma afsluit. De verwijderde dubbele mount points zullen
leiden tot partities zonder mount points, waaraan u nieuwe mount points moet
toekennen als u de ruimte wil gebruiken.

<p>
Bemerk dat op de vraag "Are you really sure that you are ready to proceed?"
standaard "no" geantwoord wordt, dus u zal het opzettelijk moeten zeggen om
door te gaan en uw partities te formatteren. Als u "no" gekozen had, zou u
gewoon een shell krijgen en zou u de installatie opnieuw kunnen starten door
install te typen, of door gewoon nog eens te herstarten met uw boot disk.

<p>
Op dit ogenblik zullen alle bestandssystemen voor u geformatteerd worden.
Dit zou een tijdje kunnen duren afhankelijk van de grootte van de partities
en de snelheid van de schijf.

<a name="Hostname"></a>
<h3>4.5.3 - De hostname van het systeem instellen</h3>
<p>
Nu moet u de hostname van het systeem instellen. Deze waarde zal,
samen met de DNS domeinnaam
(<a href="#Network">hieronder</a> gespecificeerd), bewaard worden in het
bestand <tt>/etc/myname</tt>, dat tijdens een normale boot gebruikt wordt
om de hostname van het systeem in te stellen.
Als u de domeinnaam van het systeem niet instelt, zal de standaardwaarde
'my.domain' gebruikt worden.

<p>
Het is belangrijk om deze naam nu in te stellen, omdat hij gebruikt zal
worden wanneer de cryptografische sleutels voor het systeem gegenereerd
worden bij de eerste boot na de installatie. Dit genereren vindt plaats
ook al is het netwerk niet geconfigureerd.

<p> 
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Enter system hostname (short form, e.g. 'foo'): <b>puffy</b>
</pre></td></tr></table>

<a name="Network"></a>
<h3>4.5.4 - Het netwerk configureren</h3>

<p>
Nu is het tijd om uw netwerk te configureren. Het netwerk moet geconfigureerd
worden als u van plan bent om een FTP- of NFS-gebaseerde installatie te doen,
in acht genomen dat dit gebaseerd zal zijn op de informatie die u nu gaat
ingeven. Hier volgt een overzicht van de netwerkconfiguratie gedeelte van het
installatieproces.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Configure the network? [yes] <b><i>Enter</i></b>
  Available interfaces are: fxp0.
  Which one do you wish to initialize? (or 'done') [fxp0] <b><i>Enter</i></b>
  Symbolic (host) name for fxp0? [puffy] <b><i>Enter</i></b>
  The default media for fxp0 is
          media: Ethernet autoselect (100baseTX full-duplex)
  Do you want to change the default media? [no] <b><i>Enter</i></b>
  IP address for fxp0? (or 'dhcp') <b>199.185.137.55</b>
  Netmask? [255.255.255.0] <b><i>Enter</i></b>
  Done - no available interfaces found.
  DNS domain name? (e.g. 'bar.com') [my.domain] <b>example.com</b>
  DNS nameserver? (IP address or 'none') [none] <b>199.185.137.1</b>
  Use the nameserver now? [yes] <b><i>Enter</i></b>
  Default route? (IP address, 'dhcp' or 'none') <b>199.185.137.128</b>
  add net default: gateway 199.185.137.128
  Edit hosts with ed? [no] <b><i>Enter</i></b> 
  Do you want to do any manual network configuration? [no] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
In het bovenstaande voorbeeld gebruiken we een statisch IP adres. Zoals
aangegeven kan u in plaats daarvan "<tt>dhcp</tt>" gebruiken op de meeste
platformen (niet <a href="../../alpha.html">Alpha</a>), in de veronderstelling
dat uw omgeving het ondersteunt.
In het geval van DHCP zal de meeste informatie van de remote DHCP server
afgehaald worden; u zal de kans krijgen om het te bevestigen.
Hier volgt een vorbeeld van het netwerkconfiguratie gedeelte van de
installatie, deze keer gedaan met DHCP:

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Configure the network? [yes] <b><i>Enter</i></b>
  Available interfaces are: fxp0.
  Which one do you wish to initialize? (or 'done') [fxp0] <b><i>Enter</i></b>
  Symbolic (host) name for fxp0? [puffy] <b><i>Enter</i></b>
  The default media for fxp0 is
          media: Ethernet autoselect (100baseTX full-duplex)
  Do you want to change the default media? [no] <b><i>Enter</i></b>
  IP address for fxp0? (or 'dhcp') <b>dhcp</b>
  Issuing hostname-associated DHCP request for fxp0.
  Sending on   Socket/fallback/fallback-net
  DHCPDISCOVER on fxp0 to 255.255.255.255 port 67 interval 1
  DHCPOFFER from 199.185.137.128
  DHCPREQUEST on fxp0 to 255.255.255.255 port 67
  DHCPACK from 199.185.137.128 
  New Network Number: 199.185.137.0
  New Broadcast Address: 199.185.137.255
  bound to 199.185.137.55 -- renewal in 43200 seconds.
  Done - no available interfaces found.
  DNS domain name? (e.g. 'bar.com') [example.org] <b><i>Enter</i></b>
  DNS nameserver? (IP address or 'none') [199.185.137.1] <b><i>Enter</i></b>
  Use the nameserver now? [yes] <b><i>Enter</i></b>
  Default route? (IP address, 'dhcp' or 'none') [199.185.137.128] <b><i>Enter</i></b>
  Edit hosts with ed? [no] <b><i>Enter</i></b>
  Do you want to do any manual network configuration? [no] <b><i>Enter</i></b>
</pre></td></tr></table>
<p>
<b>OPMERKING: </b>Slechts <b>één</b> interface kan gemakkelijk
geconfigureerd worden met DHCP tijdens een installatie. Als u probeert
meer dan één interface te configureren, zal u fouten krijgen.
U zal de bijkomende interfaces manueel moeten configureren na de installatie.

<p>
Nu zetten we het wachtwoord voor de root account:
<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
Password for root account? (will not echo) <b><i>pAssWOrd</i></b>
Password for root account? (again) <b><i>pAssWOrd</i></b>
</pre></td></tr></table>
<p>
Gebruik een veilig wachtwoord voor de root account. U zal andere
gebruikersaccounts aanmaken nadat het systeem gestart is. Uit
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=passwd&amp;sektion=1">passwd(1)</a>:
<pre>
    The new password should be at least six characters long and not purely
    alphabetic.  Its total length must be less than _PASSWORD_LEN (currently
    128 characters).  A mixture of both lower and uppercase letters, numbers,
    and meta-characters is encouraged.
</pre>

<a name="InstMedia"></a>
<h3>4.5.5 - Installatiemedia kiezen</h3>

<p>
Nadat uw netwerk ingesteld is, zal het installatiescript u de kans geven
om manueel aanpassingen aan te brengen aan de configuratie. Daarna zullen
de bestandssystemen die u aangemaakt hebt, gemount worden en zal een root
wachtwoord ingesteld worden. Dit zal uw lokale schijven klaarmaken om er
de OpenBSD bestandensets op te installeren.

<p>
Vervolgens zal u de kans krijgen om uw installatiemedia te kiezen. De
mogelijkheden zijn hieronder opgesomd.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  You will now specify the location and names of the install sets you want to
  load. You will be able to repeat this step until all of your sets have been
  successfully loaded. If you are not sure what sets to install, refer to the
  installation notes for details on the contents of each.
 
  Sets can be located on a (m)ounted filesystem; a (c)drom, (d)isk or (t)ape
  device; or a (f)tp, (n)fs or (h)ttp server.
  Where are the install sets? <b>c</b>
  Available CD-ROMs are: cd0.
</pre></td></tr></table>

<p>
In dit voorbeeld installeren we vanaf CD-ROM. Dit zal een lijst van devices
tevoorschijn brengen, die als CD-ROM geïdentificeerd zijn. De meeste
mensen zullen er maar één hebben. Als het nodig is, zorg dan dat
u dat device eruit kiest waarvan u OpenBSD zal installeren.

<p>
<b>OPMERKING: </b>Alle mogelijke bronnen van bestandensets worden opgesomd,
maar daarom zijn ze niet allemaal beschikbaar op uw systeem.
"<tt>(n)fs</tt>" wordt bv. getoond maar niet alle architecturen laten NFS
installaties toe. Als u een bron kiest die niet beschikbaar is, zal u een
foutboodschap krijgen en de kans krijgen om een andere bron te kiezen voor
uw installatiesets.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Available CD-ROMs are: cd0.
  Which one contains the install media? (or 'done') [cd0] <b><i>Enter</i></b>

  Pathname to the sets?  (or 'done') [3.6/i386] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
Hier wordt u gevraagd in welke directory de installatiebestanden staan, dit
is <tt>3.6/i386/</tt> op de officiële CD-ROM.  

<a name="Filesets"></a>
<h3>4.5.6 - Bestandensets kiezen.</h3>

<p>
Nu is het tijd om te kiezen welke bestandensets u zal installeren. U kan
een beschrijving van deze bestanden vinden in <a href="#FilesNeeded">de
volgende sectie</a>. De bestanden die het installatieprogramma vindt, zullen
op het scherm getoond worden. Het is uw taak om aan te geven welke bestanden
u wil. Standaard worden alle niet-X bestandensets geselecteerd; sommige mensen
wensen dit echter te beperken tot het absolute minimum vereist om OpenBSD te
draaien, dat zou <tt>base36.tgz</tt>, <tt>etc36.tgz</tt> en <tt>bsd</tt> zijn.
Anderen zullen liever alle bestandensets installeren. Het voorbeeld hieronder
is dat van een volledige installatie.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  The following sets are available. Enter a filename, 'all' to select
  all the sets, or 'done'. You may de-select a set by prepending a '-'
  to its name.

          [X] bsd
          [X] bsd.rd
          [ ] bsd.mp
          [X] base36.tgz
          [X] etc36.tgz
          [X] misc36.tgz
          [X] comp36.tgz
          [X] man36.tgz
          [X] game36.tgz
          [ ] xbase36.tgz
          [ ] xetc36.tgz
          [ ] xshare36.tgz
          [ ] xfont36.tgz
          [ ] xserv36.tgz

  File Name? (or 'done') [bsd.mp] <b>all</b>

  The following sets are available. Enter a filename, 'all' to select
  all the sets, or 'done'. You may de-select a set by prepending a '-'
  to its name.

          [X] bsd
          [X] bsd.rd
          [X] bsd.mp
          [X] base36.tgz
          [X] etc36.tgz
          [X] misc36.tgz
          [X] comp36.tgz
          [X] man36.tgz
          [X] game36.tgz
          [X] xbase36.tgz
          [X] xetc36.tgz
          [X] xshare36.tgz
          [X] xfont36.tgz
          [X] xserv36.tgz
</pre></td></tr></table>

<p>
U kan hier allerlei handige dingen doen -- <tt>-x*</tt> zou alle X componenten
verwijderen, als u van gedachten zou veranderen. In dit geval gaan we alle sets
laden. Hoewel het systeem wel draait met minder sets, is toch de standaard
startwaarde of het installeren van alle sets aanbevolen.
Meer details over het selecteren van sets vindt u
<a href="#FilesNeeded">hier</a>.

<p>
Zodra u goed en wel de bestandensets hebt gekozen die u wenst, zal u gevraagd
worden of u zeker bent dat u deze bestandensets wil uitpakken en vervolgens
zullen ze geïnstalleerd worden. Een voortgangsbalk zal getoond worden
die u informeert over hoe lang het zal duren. De tijden variëren enorm
naargelang wat voor systeem het is waarop u OpenBSD installeert, welke
bestandensets u installeert, en de snelheid van het bronmedium. Dit
gedeelte kan van enkele minuten tot verscheidene uren duren.

<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  File Name? (or 'done') [done] <b><i>Enter</i></b>
  Ready to install sets? [yes] <b><i>Enter</i></b>
  Getting bsd ...
  100% |**************************************************|  5232 KB    00:08    
  Getting bsd.rd ...
  100% |**************************************************|  4614 KB    00:02    
  Getting bsd.mp ...
  100% |**************************************************|  5285 KB    00:03    
  Getting base36.tgz ...
  100% |**************************************************| 31396 KB    00:22    
  Getting etc36.tgz ...
  100% |**************************************************|  1655 KB    00:01    
  Getting misc36.tgz ...
  100% |**************************************************|  2193 KB    00:01    
  Getting comp36.tgz ...
  100% |**************************************************| 18232 KB    00:15    
  Getting man36.tgz ...
  100% |**************************************************|  6792 KB    00:05    
  Getting game36.tgz ...
  100% |**************************************************|  2536 KB    00:01    
  Getting xbase36.tgz ...
  100% |**************************************************| 10121 KB    00:07    
  Getting xetc36.tgz ...
  100% |**************************************************|   430 KB    00:00    
  Getting xshare36.tgz ...
  100% |**************************************************|  1888 KB    00:02    
  Getting xfont36.tgz ...
  100% |**************************************************| 31742 KB    00:22    
  Getting xserv36.tgz ...
  100% |**************************************************| 15460 KB    00:11    

  Sets can be located on a (m)ounted filesystem; a (c)drom, (d)isk or (t)ape
  device; or a (f)tp, (n)fs or (h)ttp server.
  Where are the install sets? (or 'done') [done] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
Op dit ogenblik kan u bijkomende bestandensets afhalen van andere bronnen
(inclusief <a href="#site">aangepaste bestandensets</a>) indien gewenst,
of '<tt>done</tt>' intypen als u alle bestandensets geïnstalleerd hebt
die u nodig hebt.

<a name="Finish"></a>
<h3>4.5.7 - De installatie afronden</h3>

Vervolgens worden u enkele vragen gesteld over instellingen voor uw
geïnstalleerd systeem.
De eerste is of
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8">sshd(8)</a>
moet gestart worden bij het booten.
Gewoonlijk wil u dat sshd(8) draait, maar soms wil u dat misschien niet.
Als uw toepassing geen behoefte heeft aan sshd(8), is er een klein theoretisch
veiligheidsvoordeel om het niet te draaien.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Started sshd(8) by default? [yes] <b>y</b>
</pre></td></tr></table> 

<p>
U zal nu gevraagd worden of u van plan bent om X te draaien op dit systeem.
Als u 'Y' antwoordt, zal <tt>/etc/sysctl.conf</tt> gewijzigd worden zodat het
de lijn <tt>machdep.allowaperture=1</tt> of <tt>machdep.allowaperture=2</tt>,
bevat, afhankelijk van uw platform.
Sommige platformen zullen deze vraag helemaal niet stellen.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Do you expect to run the X Window System? [yes] <b>y</b>
</pre></td></tr></table>

<p>
Vervolgens wordt u gevraagd of u een
<a href="faq7.html#SerCons">seriële console</a> wil gebruiken met deze
computer, veeleer dan een standaard toetsenbord en monitor.
Als u "<tt>yes</tt>" kiest en hierover nog enkele andere eenvoudige vragen
beantwoordt, zullen
<tt><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot.conf&amp;sektion=8">/etc/boot.conf</a></tt>
en
<tt><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ttys&amp;sektion=5">/etc/ttys</a></tt>
op de gepaste manier voor u bewerkt worden.
De meeste gebruikers zullen hier de standaardwaarde <b><tt>no</tt></b> nemen.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Change the default console to com0? [no] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
Uw laatste taak is het ingeven van de tijdszone. Afhankelijk van waar uw
machine leeft, zijn er mogelijk verscheidene geldige antwoorden op deze
vraag. In het voorbeeld dat volgt, hebben we <tt>US/Eastern</tt> gebruikt,
maar, we konden ook <tt>EST5EDT</tt> of <tt>US/Michigan</tt> gebruikt hebben
en hezelfde resultaat hebben. Als u <tt>?</tt> typt op de prompts, zal u
doorheen uw keuzes geleid worden.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Saving configuration files......done.
  Generating initial host.random file ......done.
  What timezone are you in? ('?' for list) [US/Pacific] <b>?</b>
  Africa/      Chile/       GB-Eire      Israel       NZ-CHAT      Turkey
  America/     Cuba         GMT          Jamaica      Navajo       UCT
  Antarctica/  EET          GMT+0        Japan        PRC          US/
  Arctic/      EST          GMT-0        Kwajalein    PST8PDT      UTC
  Asia/        EST5EDT      GMT0         Libya        Pacific/     Universal
  Atlantic/    Egypt        Greenwich    MET          Poland       W-SU
  Australia/   Eire         HST          MST          Portugal     WET
  Brazil/      Etc/         Hongkong     MST7MDT      ROC          Zulu
  CET          Europe/      Iceland      Mexico/      ROK          posix/
  CST6CDT      Factory      Indian/      Mideast/     Singapore    posixrules
  Canada/      GB           Iran         NZ           SystemV/     right/
  What timezone are you in? ('?' for list) [US/Pacific] <b>US</b>
  What sub-timezone of 'US' are you in? ('?' for list) <b>?</b>
  Alaska          Central         Hawaii          Mountain        Samoa
  Aleutian        East-Indiana    Indiana-Starke  Pacific
  Arizona         Eastern         Michigan        Pacific-New
  Select a sub-timezone of 'US' ('?' for list): <b>Eastern</b>
  Setting local timezone to 'US/Eastern'...done.
</pre></td></tr></table>

Als u bezorgd bent om heel precieze tijd, wil u misschien
<a href="faq8.html#NTPerror">dit</a> lezen.

<p>
De laatste stappen zijn dat het systeem de <tt>/dev</tt> directory aanmaakt 
(wat op sommige systemen een tijdje kan duren, vooral als u een kleine
hoeveelheid RAM hebt), en de bootblocks installeert.

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Making all device nodes...done.
  Installing boot block...
  boot: /mnt/boot
  proto: /usr/mdec/biosboot
  device: /dev/rwd0c
  /usr/mdec/biosboot: entry point 0
  proto bootblock size 512
  /mnt/boot is 3 blocks x 16384 bytes
  fs block shift 2; part offset 3069360; inode block 152, offset 4136
  using MBR partition 1: type 166 (0xa6) offset 3069360 (0x2ed5b0)
  done.

  CONGRATULATIONS! Your OpenBSD install has been successfully completed!
  To boot the new system, enter halt at the command prompt. Once the
  system has halted, reset the machine and boot from the disk.
  # <b>halt</b>
  syncing disks... done

  The operating system has halted.
  Please press any key to reboot.
</pre></td></tr></table>

<p>
OpenBSD is nu geïnstalleerd op uw systeem en klaar voor zijn eerste boot,
maar voor u dit doet...

<p>

<h4>Alvorens u herstart</h4>
Op dit ogenblik is uw systeem geïnstalleerd en klaar om herstart te worden
en geconfigureerd te worden voor dienst. Alvorens dit te doen, zou het echter
verstandig zijn om de <a href="../../errata.html">Errata pagina</a> na te kijken
om te zien of er bugs zijn die u meteen zouden treffen.

<p>
Een truc die u kan gebruiken voor wat "vóór de eerste start" configuratie,
is dit uitvoeren:
<pre>
    # <b>/mnt/usr/sbin/chroot /mnt</b>
</pre>
op de shell prompt.
Dit zal uw mount points instellen op wat ze zullen zijn bij een normale
herstart van uw nieuw geïnstalleerd systeem.
U kan nu wat basis-systeemconfiguratie doen, zoals gebruikers toevoegen,
mount points veranderen, enz.

<h4>Nadat u herstart</h4>

<p>
Eén van de eerste dingen om te lezen nadat u uw systeem installeert, is
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=afterboot&amp;sektion=8">afterboot(8)</a>.

<p>
U zou de volgende links ook nuttig kunnen vinden:
<ul>
<li><a href="faq10.html#AddDelUser">Gebruikers toevoegen in OpenBSD</a> 
<li><a href="faq6.html#Setup">Initiële Netwerkinstelling</a>
<li><a href="faq2.html#ManPages">Man Pagina's van populaire/nuttige commando's</a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi">OpenBSD man pagina's op
  het Web</a>
<li><a href="../../nl/ports.html">Het OpenBSD Ports en Packages systeem om
  software te installeren</a>, maar ook
<a href="faq8.html#Ports">dit</a> en <a href="faq8.html#Packages">dit</a>
</ul>

<h4>Nog één laatste ding...</h4>
De OpenBSD ontwikkelaars vragen u om
<a href="#SendDmesg">een kopie van uw dmesg op te sturen</a>. Dit wordt echt
gewaardeerd door de ontwikkelaars, en uiteindelijk, door alle gebruikers.

<p>
<a name= "FilesNeeded"></a>
<h2>4.6 - Welke bestanden zijn er nodig voor de installatie?</h2>
<!-- XXXrelease -->

<p>
De volledige OpenBSD installatie wordt opgesplitst in een aantal afzonderlijke
<i>bestandensets</i>.  Niet elke toepassing heeft elke bestandenset nodig.
Hier volgt een overzicht:
<p>
<ul>
  <li><b><i>bsd</i></b>          - Dit is de Kernel. <b>Vereist</b>
  <li><b><i>bsd.mp</i></b> - Multi-processor (SMP) kernel (slechts enkele
     platformen)
  <li><b><i>bsd.rd</i></b> - <a href="#bsd.rd">RAM disk kernel</a>
  <li><b><i>base36.tgz</i></b>   - Bevat het "base" OpenBSD systeem 
    <b>Vereist</b>
  <li><b><i>etc36.tgz</i></b>    - Bevat alle bestanden in /etc 
    <b>Vereist</b>
  <li><b><i>comp36.tgz</i></b>   - Bevat de compiler en zijn tools, headers
    en libraries. <b>Aanbevolen</b>
  <li><b><i>man36.tgz</i></b>    - Bevat man pagina's <b>Aanbevolen</b>
  <li><b><i>misc36.tgz</i></b>   - Bevat "misc" info, setup documentatie
  <li><b><i>game36.tgz</i></b>   - Bevat de spelletjes voor OpenBSD
  <li><b><i>xbase36.tgz</i></b>  - Bevat de basisinstallatie voor X11
  <li><b><i>xetc36.tgz</i></b>   - Bevat de /etc/X11 en /etc/fonts
    configuratiebestanden
  <li><b><i>xfont36.tgz</i></b>  - Bevat X11's font server en fonts
  <li><b><i>xserv36.tgz</i></b>  - Bevat X11's X servers
  <li><b><i>xshare36.tgz</i></b> - Bevat man pagina's, "locale" instellingen,
    includes, enz. voor X
</ul>

De <b>etc36.tgz</b> en <b>xetc36.tgz</b> sets worden niet geïnstalleerd
als onderdeel van een upgrade, alleen als onderdeel van een volledige
installatie, zodat aanpassingen die u maakt niet verloren zouden gaan.
U zal uw <tt>/etc</tt>, <tt>/dev</tt> en <tt>/var</tt> directories manueel
moeten updaten.

<p>
<a name= "SpaceNeeded"></a>
<h2> 4.7 - Hoeveel ruimte heb ik nodig voor een OpenBSD installatie?</h2>
<!-- XXXrelease -->

<p>
Hieronder volgen de minimum aangeraden bestandssysteemgroottes voor een
volledige systeeminstallatie. De getallen omvatten voldoende extra ruimte
om u toe te laten een typisch thuissysteem te draaien dat verbonden is met
het Internet.

<ul>
<li>Dit zijn minimumwaarden.
<li>Als u van plan bent om een aanzienlijke hoeveelheid third party software
te installeren, maak dan uw <tt>/usr</tt> partitie groot!  Neem
<b>ten minste</b> het drievoud van deze waarden!
<li>Voor een systeem dat veel e-mail of webpagina's behandelt (of opslaat,
repsectievelijk in <tt>/var/mail</tt> en <tt>/var/www</tt>) zal u uw
<tt>/var</tt> partitie aanzienlijk groter willen maken, of ze op aparte
partities zetten.
<li>Voor een meergebruiker systeem dat veel logs zou kunnen genereren, zal u
nog steeds uw <tt>/var</tt> partitie aanzienlijk groter willen maken
(<tt>/var/log</tt>).
<li>Als u van plan bent om de kernel of het systeem te herbouwen vanaf de
broncode, zal u de <tt>/usr</tt> partitie aanzienlijk groter willen maken,
<b>ten minste</b> 2G groter dan hieronder aangegeven.
</ul>

Hou, terwijl u dit leest, in gedachten dat <tt>/usr</tt> en <tt>/usr/X11R6</tt>
gewoonlijk allebei onderdeel zijn van hetzelfde bestandssysteem, met name
<tt>/usr</tt>, aangezien het geen groot voordeel biedt om er afzonderlijke
bestandssystemen van te maken.

<blockquote>
<pre>
<b>
SYSTEM          /       /usr    /var    /usr/X11R6
alpha           80M     250M    25M     140M
hp300           80M     250M    25M     140M
hppa           100M     200M    25M     120M
i386            60M     250M    25M     140M
mac68k          80M     250M    25M     100M
macppc          80M     250M    25M     140M
mvme68k         80M     250M    25M     100M
sparc           80M     250M    25M     120M
sparc64         80M     250M    25M     100M
vax            100M     200M    25M     120M
</b>
</pre>
</blockquote>

Daarenboven wordt het aanbevolen om een <tt>/tmp</tt> partitie te gebruiken.
De <tt>/tmp</tt> partitie wordt onder andere gebruikt bij het compileren van
ports, dus hoe groot u ze maakt, hangt af van wat u ermee doet.
50M kan voor de meeste mensen genoeg zijn, maar sommige grote toepassingen
kunnen 100M of meer <tt>/tmp</tt> ruimte vereisen.

<p>
Wanneer u in de disklabel editor bent, kan u ervoor kiezen om  uw volledig
systeem enkel een 'a' (hoofdbestandssysteem) en 'b' (swap) te laten hebben.
Het 'a' bestandssysteem dat u in disklabel instelt, zal uw root partitie
worden, wat de som zou moeten zijn van alle 3 de hoofdwaarden hierboven
(<tt>/</tt>, <tt>/usr</tt>, en <tt>/var</tt>) plus wat ruimte voor
<tt>/tmp</tt>.  De 'b' partitie die u instelt, wordt automatisch de
swappartitie van uw systeem -- we bevelen een minimum van 32MB aan maar als
u schijfruimte op overschot hebt, maak ze dan minstens 64MB groot.
Als u veel schijfruimte op overschot hebt, maak er dan 256MB of zelfs 512MB
van.

<p>
Swapruimte wordt gebruikt om core dumps van het systeem op te bewaren wanneer
een
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=crash&amp;sektion=8">crash(8)</a>
zich voordoet.
Als dit voor u een overweging is, zou uw swapruimte een beetje groter moeten
zijn dan de hoeveelheid hoofdgeheugen die u in het systeem hebt of ooit zal
hebben. Merk op dat bij het starten,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=savecore&amp;sektion=8">savecore(8)</a>
zal proberen om de inhoud van de swappartitie te bewaren in een bestand in
<tt>/var/crash</tt>, dus opnieuw, als dit voor u een prioriteit is, moet uw
<tt>/var</tt> partitie voldoende <i>vrije ruimte</i> hebben om deze
dumpbestanden op te slaan.

<p>
Er zijn verscheidene redenen om afzonderlijke bestandssystemen te gebruiken,
in plaats van alles op één of twee bestandssystemen te duwen:

<ul>
<li><b>Veiligheid</b>: U kan sommige bestandssystemen markeren als 'nosuid',
  'nodev', 'noexec', 'readonly', enz.  Dit wordt nu in feite gedaan door het
  installatieproces, indien u de hoger beschreven partities gebruikt.
<li><b>Stabiliteit</b>: Een gebruiker, of een programma dat zich slecht
  gedraagt, kunnen een bestandssysteem met rommel vullen als ze er
  schrijfpermissies voor hebben. Uw kritieke programma's, die natuurlijk op
  een ander bestandssysteem draaien, worden dan niet onderbroken.
<li><b>Snelheid</b>: Een bestandssysteem waarnaar vaak geschreven wordt, kan
  een beetje gefragmenteerd raken. (Gelukkig is het ffs bestandssysteem, dat
  OpenBSD gebruikt, niet vatbaar voor zware fragmentering.)
<li><b>Integriteit</b>: Als één bestandssysteem om een of andere
  reden aangetast wordt, dan zijn de andere bestandssystemen nog steeds OK.
<li><b>Grootte</b>: Veel machines hebben beperkingen voor het gebied van
  een schijf waar het boot ROM de kernel van kan laden. In sommige gevallen
  kan deze limiet heel klein zijn (504M voor een oudere 486), in andere
  gevallen veel groter (bijvoorbeeld 2G, 8G, of 128G op i386 systemen).
  Aangezien de kernel gelijk waar kan belanden in de root partitie, moet de
  gehele root partitie binnen dit gebied vallen.
  Bekijk voor meer details <a href="faq14.html#LargeDrive">deze
  sectie</a>. Een goede richtlijn zou kunnen zijn om uw / partitie volledig
  onder 2G te houden, tenzij u weet dat uw platform (en bepaalde machine!)
  meer (of minder!) dan dat aankan.
</ul>

<p>
Enkele bijkomende bedenkingen bij partitionering:
<ul>
 <li>Voor uw eerste poging tot een experimenteel systeem, kan één
   grote <tt>/</tt> partitie en swap het gemakkelijkst zijn totdat u weet
   hoeveel ruimte u nodig hebt. Door dit te doen zal u sommige standaard
   beveiligingsfunctionaliteiten van OpenBSD opofferen, die afzonderlijke
   bestandssystemen vereisen voor <tt>/, /tmp, /var, /usr</tt> en
   <tt>/home</tt>.
 <li>Een systeem dat blootgesteld is aan het Internet of andere vijandige
   krachten, heeft best een afzonderlijke <tt>/var</tt> (en misschien zelfs
   een aparte <tt>/var/log</tt>) voor logging.
 <li>Een <tt>/home</tt> partitie kan aardig zijn. Nieuwe versie van het
   besturingssysteem?
   Veeg al het andere er af en laad de nieuwe versie, waarbij uw
   <tt>/home</tt> partitie onaangeroerd blijft.
   Denk er echter aan om een kopie van uw configuratiebestanden te bewaren!
 <li>Een afzonderlijke partitie voor dingen die een grote hoeveelheid bestanden
   kunnen accumuleren, die misschien weer verwijderd moeten worden, kan sneller
   zijn om te herformatteren en opnieuw te maken dan om te verwijderen.
   Bekijk de <a href="faq5.html#ProbObjPt">vanaf broncode bouwen FAQ</a> voor
   een voorbeeld (<tt>/usr/obj</tt>).
 <li>Als u uw systeem om gelijk welke reden vanaf broncode wil herbouwen,
   zal de broncode in <tt>/usr/src</tt> staan.  Als u geen afzonderlijke
   partitie maakt voor <tt>/usr/src</tt>, zorg er dan voor dat <tt>/usr</tt>
   voldoende ruimte heeft.
 <li>Een vaak vergeten feit: u hoeft <b>niet</b> alle ruimte op een schijf
   toe te kennen wanneer u het systeem instelt! Aangezien u het nu een
   uitdaging zal vinden om een nieuwe schijf kleiner dan 20G te kopen, kan
   het verstandig zijn om een deel van uw schijf ongealloceerd te laten.
   Als een partitie uit zijn voegen dreigt te barsten, kan u een nieuwe
   partitie toekennen uit uw ongebruikte ruimte, uw bestaande partitie
   <a href="faq10.html#DupFS">dupliceren</a> naar de nieuwe partitie,
   <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fstab&amp;sektion=5">/etc/fstab</a>
   wijzigen om naar de nieuwe partitie te wijzen, opnieuw mounten, en u
   hebt nu meer ruimte.
 <li>Indien u uw partities te nauw maakt, met net de minimaal vereiste grootte,
   dan zal u het zich later waarschijnlijk beklagen, wanneer het tijd is om
   uw systeem te upgraden.
 <li>Als u gebruikers toestaat om te schrijven naar <tt>/var/www</tt> (bv.
   persoonlijke webpagina's), wenst u dit misschien op een afzonderlijke
   partitie te zetten, zodat u <a href="faq10.html#Quotas">quotas</a> kan
   inschakelen om de ruimte die ze gebruiken, te beperken, en als ze de
   partitie helemaal vullen, zullen andere delen van uw systeem er niet
   onder lijden.
</ul>


<p>
<a name= "Multibooting"></a>
<h2>4.8 - Multibooten van OpenBSD/i386</h2>

Multibooten is meerdere besturingssystemen op één computer hebben en
een middel om te selecteren welk besturingssysteem moet starten.
Dit is <i>geen</i> triviale opdracht!
Als u niet begrijpt wat u doet, zou het kunnen dat u grote hoeveelheden
gegevens van uw computer verwijdert. Nieuwe OpenBSD gebruikers worden
<i>ten zeerste</i> aangemoedigd om te beginnen met een lege harde schijf op
een specifieke machine, en om vervolgens uw gewenste configuratie te
oefenen op een niet-productie systeem alvorens een multiboot configuratie
te proberen op een productiemachine.  <a href="faq14.html">FAQ 14</a> biedt
meer informatie over het OpenBSD bootproces.

<p>
Hier zijn verscheidene mogelijkheden om te multibooten:

<h3>Actieve partities instellen</h3>
Dit is waarschijnlijk de meest over het hoofd geziene, en soms toch de
beste oplossing voor multibooting. Stel in gelijk welk besturingssysteem
dat u momenteel gebruikt, gewoon de actieve partitie in op degene waarvan u
bij de volgende start standaard wil booten. Praktisch ieder besturingssysteem
biedt een programma om dit te doen; dat van OpenBSD is
<a href="faq14.html#fdisk">fdisk(8)</a>, gelijkaardig genaamde programma's
zijn er in Windows 9x en DOS, en vele andere besturingssystemen.
Dit kan uiterst gewenst zijn voor besturingssystemen of systemen waarbij het
lang duurt om af te sluiten en te herstarten -- u kan het instellen, het
reboot proces starten, weggaan, een kopje koffie drinken en terugkomen naar
het systeem dat geboot is zoals u wil -- niet nodig om te wachten op het
Magische Moment om het volgende besturingssysteem te selecteren.

<h3>Bootdiskette</h3>
Als u een systeem hebt dat gebruikt wordt om OpenBSD zelden te booten
(of niet wenst dat andere gebruikers van de computer merken dat er iets
veranderd is), overweeg dan een bootdiskette te gebruiken. Gebruik
eenvoudigweg een van de <a href="#MkFlop">standaard OpenBSD
installatiediskettes</a>, en maak een <tt>/etc/boot.conf</tt> bestand
(ja, u zal ook een <tt>/etc</tt> directory moeten maken op de diskette)
met de inhoud:

<pre>
     boot hd0a:/bsd
</pre>

om ervoor te zorgen dat het systeem boot vanaf harde schijf 0, OpenBSD
partitie 'a', kernelbestand <tt>/bsd</tt>.  Merk op dat u ook vanaf andere
schijven kan booten met een lijn als: "<tt>boot hd2a:/bsd</tt>" om vanaf de
derde harde schijf in uw systeem te booten. Om OpenBSD te booten,
steekt u de diskette er in en herstart.
Om het andere besturingssysteem te booten, haalt u de diskette er uit en
herstart.

<p>
In dit geval wordt het
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot&amp;sektion=8&amp;arch=i386">boot(8)</a>
programma ingeladen vanaf de diskette, dit zoekt en leest
<tt>/etc/boot.conf</tt>.  De "<tt>boot hd0a:/bsd</tt>" lijn vertelt boot(8)
waar het de kernel vandaan moet laden -- in dit geval de eerste HD die
het BIOS ziet.  Hou in gedachten dat alleen een klein bestand (<tt>/boot</tt>)
geladen wordt vanaf de diskette -- het systeem laadt de gehele kernel vanaf
de harde schijf, dus dit voegt slechts ongeveer vijf seconden toe aan het
bootproces.

<h3>Windows NT/2000/XP NTLDR</h3>

Om OpenBSD en Windows NT/2000/XP te multibooten, kan u NTLDR gebruiken,
de boot loader die NT gebruikt. Om met NT te multibooten, hebt u een kopie
van uw OpenBSD Partition Boot Record (PBR) nodig. Na het uitvoeren van
installboot kan u het naar een bestand kopiëren met
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&amp;sektion=1">dd(1)</a>:

<pre>
	# <strong>dd if=/dev/rsd0a of=openbsd.pbr bs=512 count=1</strong>
</pre>

<p>
Boot nu NT en plaats <tt>openbsd.pbr</tt> op C:. Voeg een lijn als deze toe
aan het einde van <tt>C:\BOOT.INI</tt>:

<pre>
	c:\openbsd.pbr="OpenBSD"
</pre>

<p>
Wanneer u herstart, zou u OpenBSD moeten kunnen selecteren vanuit het NT
loader menu. Er is veel meer informatie beschikbaar over NTLDR in de
<a href="http://www.tburke.net/info/ntldr/ntldr_hacking_guide.htm">NTLDR
Hacking Guide.</a>

<p>
Op Windows XP kan u de bootinformatie ook bewerken met de GUI; zie de
<a href="http://support.microsoft.com/default.aspx?scid=kb;EN-US;q289022">XP 
Boot.ini HOWTO</a>.

<p>
Er zijn programma's beschikbaar die veel hiervan voor u doen, bijvoorbeeld
<a href="http://www.winimage.com/bootpart.htm">BootPart</a>.
Dit programma kan gedraaid worden vanop Windows NT/2000/XP, zal de OpenBSD
PBR halen, deze op uw NT/2000/XP partitie plaatsen, en zal deze toevoegen
aan <tt>C:\BOOT.INI</tt>

<p>
<!-- XXXVersion: issue "expires" after last 3.4 systems are upgraded. -->
Het OpenBSD installatie- en upgradeproces zal de OpenBSD 
<a href="faq14.html#Boot386">boot loader</a> herinstalleren, waarvan de
locatie in de PBR gecodeerd zit, dus bij herinstallatie of upgrade van uw
OpenBSD, moet u het bovenstaande proces herhalen om een nieuwe kopie van
de OpenBSD PBR te halen.

<p>
Opmerking: De Windows NT/2000/XP boot loader kan alleen besturingssystemen
booten vanaf de eerste harde schijf.
U kan hem niet gebruiken om OpenBSD te laden vanaf de tweede schijf in een
systeem.

<p>
<h3>Andere boot loaders</h3>

<p>
Enkele andere bootloaders die OpenBSD gebruikers met success gebruikt hebben,
zijn <a href="http://gag.sourceforge.net/">GAG</a>,
OS-BS,
<a href="http://www.ranish.com/part/">The Ranish Partition Manager</a>
en <a href="http://www.gnu.org/software/grub/">GRUB</a>. 

<p>
<h3>OpenBSD en Linux (i386)</h3>
<!-- XXXversion -->

<p>
Raadpleeg alstublieft
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.6/i386/INSTALL.linux">INSTALL.linux</a>,
dat diepgaande instructies geeft om OpenBSD samen met Linux te laten werken.

<a name= "SendDmesg"></a>
<h2>4.9 - Uw dmesg naar dmesg@openbsd.org sturen na de installatie</h2>

<p>
Gewoon om mensen eraan te herinneren, het is belangrijk voor de OpenBSD
ontwikkelaars om bij te houden welke hardware werkt, en welke hardware
niet volkomen werkt.

<p>
Een citaat uit /usr/src/etc/root/root.mail
<pre>
If you wish to ensure that OpenBSD runs better on your machines, please do us
a favor (after you have your mail system configured!) and type something like:
 # dmesg | mail -s "Sony VAIO 505R laptop, apm works OK" dmesg@openbsd.org
so that we can see what kinds of configurations people are running.  As shown,
including a bit of information about your machine in the subject or the body
can help us even further.  We will use this information to improve device driver
support in future releases.  (Please do this using the supplied GENERIC kernel,
not for a custom compiled kernel, unless you're unable to boot the GENERIC
kernel).  The device driver information we get from this helps us fix existing
drivers. Thank you!
</pre>

<p>
Zorg ervoor dat u e-mail stuurt vanaf een account die ook e-mail kan
ontvangen, zodat ontwikkelaars u kunnen contacteren als ze iets hebben dat
ze u graag willen laten uitproberen of veranderen om uw installatie te
laten werken. Het is helemaal niet belangrijk om de e-mail te versturen
vanop dezelfde machine die OpenBSD draait, dus als die machine geen e-mail
kan ontvangen doe dan gewoon

<pre>
$ dmesg | mail your-account@yourmail.dom
</pre>
en forward dat bericht dan naar
<pre>
 dmesg@openbsd.org
</pre>
waarbij <tt>your-account@yourmail.dom</tt> uw vaste e-mail account is.
(of breng de dmesg uitvoer over met FTP/scp/diskette/postduif/...)

<p>
<strong>OPMERKING</strong> - Stuur alstublieft alleen GENERIC kernel dmesg's.
Aangepaste kernels waarbij device drivers verwijderd zijn, zijn niet nuttig.

<p>
Merk ook op dat de dmesg's ontvangen worden op een computer met het
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd&amp;sektion=8">spamd</a>
spam verwerpingssysteem.
Dit kan ervoor zorgen dat uw dmesg een tijd lang niet aanvaard wordt door de
mail servers.
Wees geduldig, na een halfuur tot een uur ofzo, zal hij er door komen.

<a name="AddFileSet"></a>
<h2>4.10 - Een bestandenset toevoegen na de installatie</h2>
<!-- XXXversion -->
"O nee!  Ik ben een bestandenset vergeten toe te voegen toen ik de installatie
deed!"
<p>
Soms realiseert u zich dat u tenslotte ECHT <tt>comp36.tgz</tt> (of gelijk
welke andere systeemcomponent) nodig had, maar u besefte dit niet op het
moment dat u uw systeem installeerde. Goed nieuws: Er zijn twee manieren om
bestandensets toe te voegen na de initiële installatie:

<h3>Met het upgrade proces</h3>
Boot eenvoudigweg uw installatiemedium (CD-ROM of Diskette), en kies Upgrade
(veeleer dan Install).  Wanneer u bij de lijst van bestandensets komt om te
installeren, kies dan de sets die u de eerste maal vergat te installeren,
kies uw bron, en laat het ze voor u installeren.

<h3>Met tar(1)</h3>
De installatiebestandensets zijn gewoon gecomprimeerde tar bestanden, en u
kan ze manueel uitpakken vanop de root van het bestandssysteem:

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  # cd /
  # tar xzvpf comp36.tgz
</pre></td></tr></table>

<p>
Vergeet NIET de <tt>'p'</tt> optie in het bovenstaande commando om de
bestandspermissies te herstellen zoals het moet!
<p>
Een vaak voorkomende fout is om te denken dat men
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1">pkg_add(1)</a>
kan gebruiken om ontbrekende bestandensets toe te voegen.  Dit werkt niet.
pkg_add(1) dient
voor package bestanden, niet voor algemene tar bestanden zoals de
installatiesets.


<a name="bsd.rd"></a>
<h2>4.11 - Wat is 'bsd.rd'?</h2>

<b><tt>bsd.rd</tt></b> is een "RAM Disk" kernel.  Dit bestand kan heel
nuttig zijn; veel ontwikkelaars letten er op om het in de root van hun
systeem te houden.

<p>
Het een "RAM Disk kernel" noemen, beschrijft het root bestandssysteem van
de kernel -- veeleer dan een fysische schijf te zijn, worden de utilities
beschikbaar na het starten van <tt>bsd.rd</tt> in de kernel opgeslagen, en
worden ze uitgevoerd vanaf een RAM-gebaseerd bestandssysteem.
<tt>bsd.rd</tt> bevat ook een gezonde reeks utilities om u toe te laten
systeemonderhoud en installatie te doen.

<p>
Op sommige platformen is <tt>bsd.rd</tt> is zowaar de
voorkeursinstallatietechniek -- u plaatst deze kernel op een bestaand
bestandssysteem, boot hem, en draait de installatie ervan. Op de meeste
platformen, als u een draaiende oudere versie van OpenBSD hebt, kan u een
nieuwe versie van <tt>bsd.rd</tt> FTP'en, ervan herstarten, en een nieuwe
versie van OpenBSD installeren zonder ook maar enig verwijderbaar medium te
gebruiken.

<p>
Hier is een voorbeeld van het booten van <tt>bsd.rd</tt> op een i386 systeem:

<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Using Drive: 0 Partition: 3
  reading boot.....
  probing: pc0 com0 com1 apm mem[639k 255M a20=on]
  disk: fd0 hd0+
  &gt;&gt; OpenBSD/i386 BOOT 2.02
  boot&gt; <b>boot hd0a:/bsd.rd</b>
<i>. . . normal boot to install . . .</i>
</pre></td></tr></table>

Zoals aangegeven, zal u naar het installatieprogramma gebracht worden, maar u
kan ook naar de shell gaan om onderhoud aan uw systeem uit te voeren.
<p>
De algemene regel over <tt>bsd.rd</tt> booten, is om uw boot kernel van
<tt>/bsd</tt> in <tt>bsd.rd</tt> te veranderen met gelijk welk middel
gebruikt op uw platform.
<p>
<br>

<a name="InstProb"></a>
<h2>4.12 - Vaak voorkomende installatieproblemen</h2>

<a name="cpq16m"></a>
<h3>4.12.1 - Mijn Compaq herkent slechts 16M RAM</h3>
<i>Sommige</i> Compaq systemen hebben een probleem waarbij de volledige
systeem-RAM niet juist gedetecteerd wordt door de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot&amp;sektion=8&amp;arch=i386">OpenBSD
second stage boot loader</a>, en het kan zijn dat slechts 16M gedetecteerd
en gebruikt wordt door OpenBSD. Dit kan gecorrigeerd worden ofwel door een
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot.conf&amp;sektion=8&amp;arch=i386"><tt>/etc/boot.conf</tt></a>
bestand aan te maken of aan te passen, ofwel door commando's op de
"<tt>boot></tt>" prompt in te geven voordat OpenBSD laadt.
Als u een machine had met 64M RAM, maar OpenBSD detecteerde alleen de
eerste 16M, dan zou het commando dat u zou gebruiken het volgende zijn:

<pre>
     machine mem +0x3000000@0x1000000
</pre>
om 48M (<tt>0x3000000</tt>) toe te voegen na de eerste 16M
(<tt>0x1000000</tt>).  Typisch zou u, als u een machine met dit probeem had,
het bovenstaande commando eerst op de
<tt>boot></tt> prompt van de installatie-diskette/CD-ROM ingeven,
het systeem laden, herstarten, en een <tt>/etc/boot.conf</tt> bestand maken
met de bovenstaande lijn er in, zodat alle toekomstige boots al het
beschikbare RAM herkennen.

<p>
Het werd ook gemeld dat een ROM update dit zal herstellen op <i>sommige</i>
systemen.

<a name="noboot"></a>
<h3>4.12.2 - Mijn i386 wil niet starten na de installatie</h3>
Uw installatie leek vlot te verlopen, maar bij de eerste start ziet u
geen teken van OpenBSD dat probeert te booten. Er zijn enkele veel
voorkomende redenen voor dit probleem:

<ul>
<li><b>Er werd geen partitie als actief gemarkeerd in fdisk(8).</b> Om dit
op te lossen, herstart u de machine met de bootdiskette of medium, en "flag"
de partitie als "active" (bootable).  Kijk
<a href="faq14.html#fdisk">hier</a> en
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&amp;sektion=8&amp;arch=i386">hier</a>

<li><b>Er werd nooit een geldige boot loader op de schijf gezet.</b>
Als u tijdens de installatie "Y" antwoordt op de vraag "Use entire disk for
OpenBSD?", of de "<tt>reinit</tt>" optie van fdisk(8) gebruikt, wordt de
OpenBSD boot record geïnstalleerd op de Master Boot Record van de schijf;
in het andere geval blijft de bestaande master boot code onaangeroerd. Dit
zal een probleem zijn als er geen andere boot record bestond.
Een oplossing is om het installatiemedium nog eens te booten, naar de shell
te gaan en
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&amp;sektion=8&amp;arch=i386">fdisk(8)</a>
te starten om de MBR code te updaten vanop de commandoregel:
<pre>
    # fdisk -u wd0
</pre>
Opmerking: de "update" optie in de interactieve ("-e") modus van fdisk
zal niet de signature bytes schrijven die vereist zijn om de schijf
bootable te maken.

<li><b>In enkele zeldzame gevallen kan er iets verkeerd gaan met de second
stage boot loader installatie.</b>  Het herinstalleren van de second stage
boot loader wordt <a href="faq14.html#InstBoot">hier</a> besproken.

</ul>

<a name="sshhang"></a>
<h3>4.12.3 - Mijn (oudere, tragere) machine startte, maar bleef hangen bij
de ssh-keygen stappen</h3>
Het is heel waarschijnlijk dat uw machine goed draait, maar gewoon wat tijd
nodig heeft om het ssh sleutelgeneratieproces te voltooien.
Een SPARCStation2 of een Macintosh Quadra kan 45 minuten of meer nodig hebben
om de drie
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keygen&amp;sektion=1">ssh-keygen(1)</a>
stappen te voltooien, sommige machines hebben zelfs nog langer nodig.  Laat
het gewoon deze taak afwerken; dit wordt slechts éénmaal per
installatie gedaan.

<a name="noftplist"></a>
<h3>4.12.4 - Ik kreeg de boodschap "Failed to change directory" toen ik een
installatie deed</h3>

Wanneer u een FTP installatie van een
<a href="faq5.html#Flavors">snapshot</a> uitvoert tijdens de
<i>-beta</i> fase van de OpenBSD ontwikkelingscyclus,
zou u het volgende kunnen zien:

<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>

  Do you want to see a list of potential FTP servers?  [yes] <b><i>Enter</i></b>
  Getting the list from 192.128.5.191 (ftp.openbsd.org)... FAILED
  Failed to change directory.
  Server IP address or hostname? 
</pre></td></tr></table>

Dit is normaal en te verwachten gedrag tijdens dit pre-release gedeelte van
de cyclus. Het installatieprogramma zoekt naar de FTP lijst op de primaire
FTP server in een directory die niet beschikbaar zal zijn tot op de
<a href="faq1.html#Next">release datum</a>, en daardoor krijgt u de
bovenstaande boodschap.

<p>
Gebruik gewoon de <a href="../../nl/ftp.html">FTP mirror lijst</a> en zoek uw
favoriete FTP mirror, en geef manueel zijn naam in wanneer u er om
gevraagd wordt.

<p>
<b>Opemrking: U zou dit niet mogen zien als u <i>-release</i> installeert
of vanaf CD-ROM.</b>

<a name="krb4"></a>
<h3>4.12.5 - Wanneer ik inlog, krijg ik "login_krb4-or-pwd: Exec format error"</h3>
Kerberos IV werd verwijderd vanaf OpenBSD 3.4, maar als u een upgrade deed,
zullen de oude Kerberos IV binaries nog steeds op uw systeem staan.
Dit is een probleem op het i386 platform, aangezien de oude Kerberos bestanden
in
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=a.out&amp;sektion=5">a.out</a>
format zijn en dus niet kunnen gedraaid worden op de standaard ELF kernel
(waarbij a.out emulatie uitgeschakeld is, zoals
<a href="faq1.html#WhatsNew">hier</a> vermeld).
Als u dit probleem bent tegengekomen, moet u de krb4 authenticatiemethode
overschrijven wanneer u inlogt:
<pre>
    OpenBSD/i386 (puffy.openbsd.org) (ttyC0)

    login: joeuser:passwd
    password:
</pre>
U kan dezelfde "<tt><i>username</i>:passwd</tt>" syntax gebruiken met een
ssh verbinding en met
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=su&amp;sektion=1">su(1)</a>
om toegang te krijgen tot uw systeem.
Bewerk nu <tt>/etc/login.conf</tt> en verwijder de krb4 verwijzingen.

<a name="blankfdisk"></a>
<h3>4.12.6 - Mijn fdisk partitietabel is vernield of blanco!</h3>
Af en toe zal een gebruiker zien dat een systeem werkt, maar bij het
uitvoeren van <tt>fdisk wd0</tt> zullen ze een volledig lege (of soms,
rommelige) partitietabel zien.
Dit wordt gewoonlijk veroorzaakt door in
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&amp;sektion=8&amp;arch=i386">fdisk(8)</a>
een partitie aan te maken die een offset van nul sectoren had, veeleer dan de
<a href="#trackoffset">one track offset</a> die ze zou moeten hebben
(opmerking: dit veronderstelt het <a href="../../i386.html">i386</a> of
<a href="../../amd64.html">amd64</a> platform.
Andere platformen hebben andere offset vereisten, sommige hebben GEEN offset
nodig).
Het systeem <a href="faq14.html#Boot386">boot</a> dan via de PBR, niet via
de MBR.

<p>
Hoewel deze configuratie kan werken, kan het een onderhoudsprobleem geven
en wordt het beter rechtgezet.
Om dit op te lossen, moeten de bestandssystemen van de schijf vanaf nul
hermaakt worden (hoewel u als u ECHT weet wat u doet, misschien enkel uw
disklabel en MBR kan hermaken, en enkel de eerste OpenBSD partitie op de
schijf moet herbouwen).

<a name="site"></a>
<h2>4.13 - Het installatieproces aanpassen</h2>
<!-- XXXversion -->

<h3><tt>siteXX.tgz</tt> bestand</h3>
De OpenBSD install/upgrade scripts laten de selectie toe van een door de
gebruiker gecreëerde set genaamd "<tt>siteXX.tgz</tt>", waarbij XX de
werkelijke release versie is (bv. 36).  De <tt>siteXX.tgz</tt> bestandenset
is, zoals de andere
<a href="#FilesNeeded">bestandensets</a>, een met
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gzip&amp;sektion=1">gzip(1)</a>
gecomprimeerd
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tar&amp;sektion=1">tar(1)</a>
archief geroot in '/' en wordt geüntarred zoals de andere sets met de
opties <tt>xzpf</tt>.  Deze set zal als laatste geïnstalleerd worden,
na alle andere bestandensets.

<p>
Deze bestandenset laat de gebruiker toe om bestanden toe te voegen en/of
bestanden geïnstalleerd in de 'normale' sets te overschrijven en dus
de installatie of upgrade aan te passen.

<p>
Enkele voorbeeldgebruiken van een <tt>siteXX.tgz</tt> bestand:
<ul>
<li>Maak een siteXX.tgz bestand aan dat alle bestandswijzigingen bevat die u
gemaakt hebt sinds u OpenBSD installeerde. Vervolgens, als u het systeem
opnieuw moet maken, selecteert u eenvoudigweg siteXX.tgz tijdens de
herinstallatie, en al uw wijziginen worden exact gekopieerd op het nieuwe
systeem.

<li>Maak een reeks machine-specifieke directories die elk een siteXX.tgz
bestand bevatten, dat wijzigingen specifiek voor die machinetypes bevat.
Installatie van machines (bv. computers met verschillende grafische kaarten)
uit een bepaalde categorie kunnen voltooid worden door het gepaste
siteXX.tgz bestand te selecteren.

<li>Zet de bestanden die u routinematig aanpast op dezelfde of op
gelijkaardige manier in een siteXX.tgz bestand --
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=adduser&amp;sektion=8"
><tt>/etc/skel</tt></a> bestanden,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;sektion=5"
><tt>/etc/pf.conf</tt></a>, 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8"
><tt>/var/www/conf/httpd.conf</tt></a>,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.conf.local&amp;sektion=8"
><tt>/etc/rc.conf.local</tt></a>,
enz. 
</ul>

<h3><tt>install.site</tt>/<tt>upgrade.site</tt> scripts</h3>
Als laatste stap in het install/upgrade proces, zoeken de scripts in de root
directory van het zopas geïnstalleerde/geüpgraded systeem naar
<tt>install.site</tt> of <tt>upgrade.site</tt>, zoals gepast voor het huidige
proces, en voeren dit script uit in een omgeving
ge<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chroot&amp;sektion=8">chroot</a>ed
naar de root van het geïnstalleerde/geüpgraded systeem. Onthou dat de
upgrade gebeurt vanaf een geboot bestandssysteem, dus uw doel-bestandssysteem
is eigenlijk gemount op <tt>/mnt</tt>.  Uw script kan echter geschreven
worden alsof het draait in de "normale" root van uw bestandssysteem.
Aangezien dit script uitgevoerd wordt nadat alle bestanden geïnstalleerd
zijn, hebt u bijna de volledige functionaliteit van uw systeem (echter in
single user modus) wanneer uw script draait.

<p>
Merk op dat het <tt>install.site</tt> script in een
<tt>siteXX.tgz file</tt> zou moeten zitten, terwijl het <tt>upgrade.site</tt>
script ofwel in de root directory gezet kan worden vóór de
upgrade, ofwel in een <tt>siteXX.tgz</tt> bestand gezet kan worden.

<p>
De scripts kunnen gebruikt worden om vele dingen te doen:
<ul>
<li>Verwijderen van bestanden die geïnstalleerd/geüpgraded werden maar die
u niet aanwezig wenst op het systeem.
<!-- XXXversion li> Verwijderen/upgraden/installeren van
<a href="faq8.html#Packages">packages</a> die u op het geïnstalleerde
systeem wenst. -->
<li> Maak een <a href="faq14.html#Backup">onmiddellijke backup/archief</a> van
het nieuwe systeem alvorens u het blootstelt aan de rest van de wereld.
</ul>

Jammer genoeg is het niet mogelijk om
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1">pkg_add(1)</a>
te gebruiken vanuit deze omgeving.

<p>
De combinatie van <tt>siteXX.tgz</tt> en
<tt>install.site/upgrade.site</tt> bestanden is bedoeld om gebruikers brede
aanpasbaarheidsmogelijkheden te geven zonder hun eigen aangepaste
installatiesets te moeten bouwen.

<a name="Multiple"></a>
<h2>4.14 - Hoe kan ik een aantal gelijkaardige systemen installeren?</h2>
Hier zijn enkele tools die u kan gebruiken wanneer u een aantal
gelijkaardige OpenBSD systemen moet inzetten.

<h3><tt>siteXX.tgz</tt> en <tt>install/upgrade.site</tt> bestanden</h3>
Kijk naar het <a href="#site">bovenstaande</a> fragment.

<h3>Restore van dump(8)</h3>
Op de meeste platformen bevat het bootmedium het
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=restore&amp;sektion=8">restore(8)</a>
programma, dat kan gebruikt worden om een backup te herstellen gemaakt door
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dump&amp;sektion=8">dump(8)</a>.
Dus, u zou kunnen booten vanaf een
<a href="#MkFlop">diskette</a>, 
<a href="../../nl/orders.html">CD</a>, of
<a href="#bsd.rd">bsd.rd</a> bestand, vervolgens
<a href="faq14.html#fdisk">fdisk</a>,
<a href="faq14.html#disklabel">disklabel</a>, en
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=restore&amp;sektion=8">restore</a>
de gewenste configuratie vanaf tape of andere media, en de
<a href="faq14.html#InstBoot">boot blocks</a> installeren. Meer details 
<a href="faq14.html#Backup">hier</a>.

<h3>Disk imaging</h3>
Jammer genoeg zijn er geen gekende disk imaging pakketten die FFS
ondersteunen en een image kunnen maken die alleen de actieve bestandenruimte
bevat.
De meeste grote disk imaging oplossingen zullen een OpenBSD partitie als een
"generic" partitie behandelen, en kunnen een image van de hele schijf maken.
Dit vervult vaak uw doel, maar gewoonlijk met enorme hoeveelheden verspilde
ruimte -- een lege 10G <tt>/home</tt> partitie zal 10G ruimte verspillen in
de image, ook al zit er geen enkel bestand in. Hoewel u typisch een
schijf-image naar een grotere schijf kan installeren, zal u de extra ruimte
niet meteen kunnen gebruiken, en zal u een image niet kunnen installeren
naar een kleinere schijf.

<p>
Als dit een aanvaardbare situatie is, vindt u misschien dat het
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&amp;sektion=1">dd</a>
commando zal doen wat u nodig hebt, het zal u toelaten de ene schijf
sector-voor-sector naar de andere te kopiëren.
Dit zou dezelfde functionaliteit bieden als commerciële programma's
maar dan zonder de kosten.

<a name="getdmesg"></a>
<h2>4.15 - Hoe kan ik een dmesg(8) bekomen om een installatieprobleem te melden?</h2>
Wanneer u een <a href="../../nl/report.html">probleem meldt</a>, is het van belang
de volledige
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dmesg&amp;sektion=8">dmesg(8)</a>
van het systeem bij te voegen.
Wanneer u dit moet doen, is het echter vaak omdat het systeem niet naar
behoren werkt of niet wil installeren, dus u hebt misschien geen schijf,
netwerk of andere middelen die u nodig hebt om de dmesg naar de gepaste
<a href="../../nl/mail.html">mailinglijst</a> te krijgen. Er zijn echter andere
manieren:

<ul>
<li><b>Diskette:</b>  De bootdiskettes en CD-ROM hebben voldoende tools
om u uw dmesg te laten optekenen op een MSDOS diskette om op een
andere machine uit te lezen. Plaats een MSDOS geformatteerde diskette in uw
diskettestation en voer de volgende commando's uit:

<pre>
     mount -t msdos /dev/fd0a /mnt
     dmesg >/mnt/dmesg.txt
     umount /mnt
</pre>
Als u een ander OpenBSD systeem hebt, kan u het ook naar een
OpenBSD-compatibele diskette schrijven -- vaak heeft de bootdiskette genoeg
ruimte om de dmesg op te zetten. In dat geval laat u de
"<tt>-t msdos</tt>" van hierboven achterwege.

<p>
<li><b>Seriële Console:</b>
Een seriële console gebruiken en de uitvoer op een andere computer vangen
is vaak de beste manier om diagnose-informatie te vangen - vooral als de
computer meteen na de start een panic geeft.
U zal zowel een tweede computer als een geschikte seriële kabel
(vaak een null-modem kabel) nodig hebben, en een terminal emulatieprogramma
dat schermuitvoer naar een bestand kan vangen.

<p>
Algemene informatie over het opzetten van een seriële console vindt u
<a href="faq7.html#SerCon">elders in de FAQ</a>;
om een log van de installatie te vangen, volstaan gewoonlijk de volgende
commando's.

<p><b>i386</b>

<p>
Geef op de boot loader prompt in:

<p>
<blockquote>
<pre>
boot> <b>set tty com0</b>
</pre>
</blockquote>

<p>
Dit zal OpenBSD zeggen de eerste seriële poort (vaak COM1 of COMA
genoemd in PC documentatie) te gebruiken als seriële console.
De standaard baudsnelheid is 9600.

<p><b>Sparc/Sparc64</b>

<p>
Deze machines zullen automatisch een seriële console gebruiken als ze
gestart worden zonder dat er een toetsenbord aanwezig is.
Als er een toetsenbord en monitor aan hangen, kan u het systeem nog steeds
dwingen om een seriële console te gebruiken met de volgende aanroep op
de <tt>ok</tt> prompt.

<p>
<blockquote>
<pre>
ok <b>setenv input-device ttya</b>
ok <b>setenv output-device ttya</b>
ok <b>reset</b>
</pre>
</blockquote>

<p>
<li><b>FTP:</b>  Onder sommige omstandigheden zou u misschien de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&amp;sektion=1">ftp(1)</a>
client op de bootdiskette of CD-ROM kunnen gebruiken om de dmesg naar een
lokale FTP server te sturen, waar u hem later kan opvragen.
</ul>
<p>

<a name="bsdrdaout"></a>
<h2>4.16 - OpenBSD/i386 upgraden/herinstalleren met <tt>bsd.rd-a.out</tt></h2>

Het is normaal mogelijk om upgrades en installaties uit te voeren met de
<a href="faq4.html#bsd.rd">bsd.rd</a> kernel.
Met OpenBSD 3.4, veranderde op het i386 platform echter het executable formaat
van
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=a.out&amp;sektion=5"
>a.out</a> naar
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=elf&amp;sektion=5"
>ELF</a>,
zodat oudere
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot&amp;sektion=8&amp;arch=i386"
>boot
loaders</a> (OpenBSD 3.3 en vroeger) de nieuw-formaat <tt>bsd.rd</tt> kernel
niet kunnen draaien.

<p>
Om dit probleem te omzeilen en upgrades met <tt>bsd.rd</tt> toe te laten,
werd een a.out versie van <tt>bsd.rd</tt> beschikbaar gemaakt als onderdeel
van de <a href="../../nl/ftp.html">OpenBSD/i386 v3.5 FTP distributie</a>.
Dit bestand, <tt>bsd.rd-a.out</tt>,
kan geboot worden door OpenBSD 3.3 en lager,
maar is een onvervalste OpenBSD 3.5 kernel, die de nieuwe ELF boot loader
bevat, en dus kan gebruikt worden om OpenBSD/i386 3.5 te bootstrappen vanop
een ouder systeem.

<p>
Download gewoon <tt>bsd.rd-a.out</tt> en zet het in de root directory van uw
machine.
Boot het in plaats van de normale <tt>bsd</tt> of <tt>bsd.rd</tt> kernels
zoals <a href="faq4.html#bsd.rd">hier</a> getoond (door natuurlijk
<tt>bsd.rd-a.out</tt> als uw boot kernel te specificeren).

<p>
Na een minimale 3.5 installatie (<tt>base35.tgz, etc35.tgz,
bsd</tt>), downloadt u het 3.6 (of <i>-snapshot</i>) <tt>bsd.rd</tt>
bestand en installeert u daarvan.

<p>

<font color= "#0000e0">
<a href= "index.html">[FAQ Index]</a>
<a href= "faq3.html">[Naar Sectie 3 - OpenBSD verkrijgen]</a>
<a href= "faq5.html">[Naar Sectie 5 - Het Systeem vanaf Broncode Bouwen]</a>
</font>

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt= "[terug]"></a> 
<a href= "mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: faq4.html,v 1.198 ]<br>
$Translation: faq4.html,v 1.8 2005/05/11 08:29:36 smestdag Exp $<br>
-->
$OpenBSD: faq4.html,v 1.8 2005/05/12 06:42:20 saad Exp $
</small>
</body>
</html>

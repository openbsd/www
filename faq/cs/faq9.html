<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>9 - Přechod na OpenBSD</title>
<link rev="made" href= "mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 1998-2007 by OpenBSD.">
</head>

<body bgcolor= "#ffffff" text= "#000000">
<!-- Passes validator.w3.org, please keep it this way;
please, use a max of 72 chars per line -->

<a href="../../cs/index.html">
<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif" border="0">    
</a>
<p>
<font color= "#0000e0">
<a href= "index.html">[FAQ Index]</a>
<a href= "../faq8.html">[Do sekce 8 - Obecné otázky]</a>
<a href= "../faq10.html">[Do sekce 10 - Správa systému]</a>
</font>

<h1><font color="#e00000">9 - Přechod na OpenBSD</font></h1>
<hr>

<p>
<h3>Obsah</h3>
<ul>
<li><a href= "#Introduction">9.1 - Tipy pro uživatele jiných Unix-like
operačních systémů</a>
<li><a href= "#DualBoot">9.2 - Dual boot Linuxu a OpenBSD</a>
<li><a href= "#passwd">9.3 - Převod vašeho Linux (nebo jiného Sixth
Edition-style) password souboru do BSD-style</a>
<li><a href= "#Interact">9.4 - Spouštění Linux binárek na OpenBSD</a>
<li><a href= "#Ext2FS">9.5 - Přístup k vašim Linux souborům z OpenBSD</a>
</ul>

Pro více informací vhodných pro Linux uživatele, se prosím podívejte zde
 <a href="http://sites.inka.de/mips/unix/bsdlinux.html">http://sites.inka.de/mips/unix/bsdlinux.html</a>.
<hr>
<br>


<p>
<a name= "Linux"></a>
<a name="Introduction"></a>
<h2>9.1 - Tipy pro uživatele jiných Unix-like operačních systémů</h2>

<p>
I když je OpenBSD velmi podobné tradičnímu Unix-like systému a může být 
velmi snadný pro ty,kteří používali jiné Unix-like systémy,tak jsou zde 
důležité rozdíly.Noví uživatelé OpenBSD musí zhodnotit své vlastní 
zkušenosti: pokud je vaše jediná znalost Unixu nějáká zkušenost s jednou 
z variant Linuxu,tak vám může OpenBSD připadat "cizí".Samozřejmě,že Linux 
vypadá velmi cize pro kohokoliv,kdo začínal s OpenBSD.Musíte pochopit 
rozdíl mezi "standardem" a vaší zkušeností.

<p>
Pokud jste se učili Unix z některé z <a href="../../books.html">dobrých
knih</a> všeobecně o Unixu, k pochopení "Unix filozofie" a pak jste 
rozšířili vaše znalosti o některou z platforem, tak zjistíte, že 
OpenBSD je velmi "pravý" a známý Unix.Pokud jste se učili Unix stylem 
"napište tohle k udělání tohohle", z knih jako "Naučte se PinkBeenie v8.3 
za 31,4 hodin" a myslíte si, že "znáte Unix", tak většinou zjistíte, že 
OpenBSD je velmi jiné.

<p>
Jedním důležitým rozdílem mezi OpenBSD a mnoha ostatními operačními systémy 
je dokumentace.OpenBSD vývojáři jsou pyšní na systémové 
<a href="http://www.openbsd.org/cgi-bin/man.cgi">manuálové stránky</a>.
Manuálové stránky <i>jsou</i> hlavním zdrojem OpenBSD
dokumentace -- ne toto FAQ, ne nezávisle třetí stranou udržované stránky, 
ne různá "HOWTO" atp.Když udělá vývojář změnu do systému, tak se od něj 
očekává, že hned i aktualizuje manuálovou stránku.Ne "později" nebo 
"až s tím budou něco dělat" nebo "až se na to někdo zeptá".
Manuálová stránka existuje prakticky pro každý program, utilitu, ovladač, 
konfigurační soubor a další části celého systému.Očekává se, že uživatel 
si přečte manuálové stránky dříve, než požádá o pomoc na 
<a href="../../mail.html">mailing listu</a>.

<p>
Zde jsou některé z běžných rozdílů mezi OpenBSD a dalšími Unix variantami.

<ul>
<li>OpenBSD je skutečně čistý "BSD-Style" Unix, sledující těsně design 
4.4BSD.Linux a SCO Unix jsou "System V-style" systémy.
Některé Unix-like operační systémy (včetně některých Linux distribucí)
míchají mnoho SysV a BSD charakteristik.Běžným místem, kde tohle dělá 
problémy jsou <a href="../faq10.html#rc">startup skripty</a>, OpenBSD 
používá tradiční BSD4.4-style,  
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc&amp;sektion=8">rc(8)</a>
styl.

<li>OpenBSD je kompletní <i>systém</i>, určený k udržování v 
synchronizovaném stavu.Není to "jádro plus utility", které může být 
aktualizováno samostatně od dalších částí.Selhání v udržování vašeho 
systému synchronizovaného (jádro, uživatelské utility a aplikace) vede 
k problémům.

<li>Mnoho aplikací není vyvíjeno k přímé kompilaci a spuštění v prostředí 
OpenBSD.Proto má OpenBSD <a href="../faq15.html#Ports">ports tree</a>.
Je to systém, kde mohou uživatelé snadno získat kód, upravit jej pro 
OpenBSD, nainstalovat závislosti, zkompilovat a instalovat nebo odebírat 
jej standardizovaným a udržovatelným způsobem.Před-kompilované 
<a href="../faq15.html#PkgMgmt">balíčky</a> jsou vytvářeny a distribuovány 
OpenBSD ports týmem.Uživatelé by jim měli dát 
<a href="../faq15.html#PkgVsPorts">přednost</a> před kompilováním vlastních.

<li>OpenBSD používá CVS ke sledování změn ve zdrojovém kódu.OpenBSD 
vyvinulo <a href="../../anoncvs.html">anonymní CVS</a>, které umožňuje 
komukoliv získat plný zdrojový kód jakékoliv verze OpenBSD 
(od 2.0 až po current, včetně všech revizí a souborů mezi tím) v 
jakémkoliv čase.Získáte tak i přístup k aktuálním změnám v hodinách po 
jejich zapsání.Je zde také velmi pohodlné a snadno použitelné 
<a href="http://www.openbsd.org/cgi-bin/cvsweb/">web rozhraní pro
CVS</a>.

<li>OpenBSD vytváří oficiální vydání dostupné na <a
href="../../orders.html">CD</a> a <a href="../../ftp.html">FTP</a> každých 
šest měsíců dle <a href="faq1.html#Next">dohodnutého kalendáře</a>.
Snapshoty pro všechny podporované platformy jsou dělány průběžně z 
current vývojového kódu.Je to výsledek toho, že zdrojový kód je udržován 
plně sestavitelný a výsledný systém je vždy využitelný.Občas jsou zdroje 
nedostupné, ale to je vyjímečná situace, která je rychle napravena a 
není to něco, co by mohlo pokračovat.

<li>OpenBSD obsahuje <a href="../../cs/crypto.html">silnou kryptografii</a>,
která nemůže být obsažena v operačních systémech vyvíjených v některých 
zemích.

<li>OpenBSD prochází silným a neustálým bezpečnostním auditem k zajištění 
kvality (a tím pádem i bezpečnosti) zdrojového kódu.

<li>OpenBSD jádro je <tt>/bsd</tt>.

<li>Jména pevných disků jsou obvykle <tt>/dev/wd</tt> (IDE) a
<tt>/dev/sd</tt> (SCSI nebo zařízení emulující SCSI disky).

<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=route&amp;sektion=8">/sbin/route</a>
bez argumentů davá v Linuxu stav všech aktivních route.V OpenBSD (a mnoha dalších OS) 
je třeba přidat "<i>show</i>" parametr a nebo napsat
"<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=netstat&amp;sektion=1"><tt>netstat -r</tt></a>".

<li>OpenBSD NEPODPORUJE žurnálovací souborové systémy jako je ReiserFS, JFS 
od IBM nebo XFS od SGI.
Místo toho používáme <a href="../faq14.html#SoftUpdates">Soft Updates</a> vylepšení
již velmi robustního Unix Fast File System (FFS) k dosažení výkonu a stability.

<li>OpenBSD obsahuje <a href="../pf/index.html">Packet Filter (PF)</a>,
ne ipfw, ipchains, netfilter, iptables nebo ipf. To znamená,že 
Network Address Translation (známé jako IP-Masquerading v Linuxu), 
queuing a filtrování se provádí pomocí
<a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a>,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a>, a
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;sektion=5">pf.conf(5)</a>.
Přečtěte si <a href="../pf/index.html">PF uživatelskou příručku</a> pro více 
konfiguračních informací.

<li>Adresy rozhraní jsou uloženy v 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hostname.if&amp;sektion=5">/etc/hostname.&lt;jménorozhraní&gt;</a>
(například, <tt>/etc/hostname.dc0</tt> pro NIC kartu používající 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dc&amp;sektion=4">dc(4)</a>
ovladač).
Může obsahovat (přeložené v 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hosts&amp;sektion=5">/etc/hosts</a>)
místo IP adresy.

<li>Jméno počítače je v 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=myname&amp;sektion=5">/etc/myname</a>.

<li>Defaultní brána je v  
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mygate&amp;sektion=5">/etc/mygate</a>.

<li>OpenBSD defaultní shell je 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&amp;sektion=1">/bin/ksh</a>,
což je <a href="http://web.cs.mun.ca/~michael/pdksh/">pdksh</a>, 
Public Domain Korn shell.
Další obsažené shelly jsou 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=csh&amp;sektion=1">csh</a>
a
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sh&amp;sektion=1">sh</a>.
Shelly jako <i>bash</i> a <i>tcsh</i> mohou být přidány jako 
<a href="../faq15.html#PkgMgmt">balíčky</a> nebo instalovány z 
<a href="../faq15.html#Ports">portů</a>.
Uživatelé zvyklí na <i>bash</i> jsou pobízeni k
<a href="../faq10.html#ksh">vyzkoušení ksh(1)</a> před nahráním <i>bash</i> do jejich
systému -- dělá to, co většina lidí odčekává od <i>bash</i>.

<li>Správa hesel v OpenBSD je odlišná od správy hesel na jiných Unix-like 
operačních systémech.Aktuální hesla jsou uložena v souboru 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=master.passwd&amp;sektion=5">master.passwd(5)</a>
, který může číst pouze <i>root</i>.
Tento soubor by měl být měněn pouze pomocí
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vipw&amp;sektion=8">vipw</a>
programu.

<li>Zařízení jsou pojmenovaná podle ovladače a ne podle typu.
Například zde nejsou žádné eth* zařízení.Bude to ne0 pro NE2000 
Ethernet kartu a xl0 pro 3Com Etherlink XL nebo Fast Etherlink XL 
Ethernet zařízení atd.Všechny tyto ovladače mají manuálovou stránku 
v sekci 4.Takže pro nalezení více informací o zprávách,které vypisuje 
váš 3c905 ovladač můžete udělat 
"<tt><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xl&amp;sektion=4">man
4 xl</a></tt>".

<li>OpenBSD/i386, amd64 a některé další platformy používají "dvou vrstvý"
systém rozložení partitions na disku, kde první vrstva je 
<a href="../faq14.html#fdisk">fdisk</a> partition viditelná pro BIOS, známá
pro většinu uživatelů IBM kompatibilních počítačů.Druhá vrstva je 
<a href="../faq14.html#disklabel">disklabel</a>, tradiční BSD partitioning systém.
OpenBSD podporuje až 15 disklabel partitions na jeden disk disk, všechny 
uložené v jedné fdisk partition.To dovoluje OpenBSD koexistovat s dalšími 
operačními systémy, včetně ostatních Unix-like systémů.OpenBSD musí být 
na jedné ze čtyř "primárních" partition.

<li>Některé další operační systémy vás nabádají k úpravě vašeho jádra 
pro váš počítač.OpenBSD uživatelé jsou <a href="../faq5.html#Why">nabádáni</a> 
používat standardní GENERIC jádro poskytvané a testované vývojáři.Uživatelé 
pokoušející se "customizovat" nebo "optimalizovat" jejich jádro si většinou 
způsobí jen více problémů než mohou vyřešit a ze strany vývojářů se nedočkají 
podpory.

<li>OpenBSD tvrdě pracuje na dodržení <a href="../../policy.html">licenční
politiky</a> a <a href="../../cs/security.html">bezpečnosti</a> projektu.
Z tohoto důvodu některé novější verze některých programů, které nesplní 
licenční nebo bezpečnostní požadavky projektu nejsou a nikdy nemusí být 
integrovány do OpenBSD.Bezpečnost a svobodné licencování nikdy neustoupí 
vyššímu číslu verze.

</ul>

<p>
<a name= "DualBoot"></a>
<h2>9.2 - Dual boot Linuxu a OpenBSD</h2>

<p>
Ano! Je to možné!

<p>
Čtěte <a href= "ftp://ftp.openbsd.org/pub/OpenBSD/4.4/i386/INSTALL.linux">INSTALL.linux</a>.

<p>
<a name= "passwd"></a>
<h2>9.3 - Převod vašeho Linux (nebo jiného Sixth Edition-style) password 
souboru do BSD-style</h2>

<p>
Nejprve zjistěte, jestli je váš Linux soubor s hesly stínovaný nebo ne. Pokud je, 
tak nainstalujte <a href="http://www.openwall.com/john/">John the Ripper</a> z
<a href="../faq15.html">balíčků nebo portů</a> (<tt>security/john</tt>) a
použijte utilitu unshadow, která je v programu ke spojení vašeho 
<tt>passwd</tt> a <tt>shadow</tt> souboru do jednoho Sixth Edition-style souboru.

<p>
Při použití vašeho Linux souboru hesel, nazvěme jej <tt>linux_passwd</tt>, 
potřebujete přidat ::0:0 mezi pole čtyři a sedm.
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=awk&amp;sektion=1">awk(1)</a>
to pro vás udělá.

<blockquote>
<pre>
# <b>cat linux_passwd | awk -F : '{printf("%s:%s:%s:%s::0:0:%s:%s:%s\n", \</b>
&gt; <b>$1,$2,$3,$4,$5,$6,$7); }' &gt; new_passwd</b>
</pre>
</blockquote>

V tomto bodě budete chtít editovat <tt>new_passwd</tt> soubor a 
odstranit roota a další systémové položky, které již jsou ve vašem 
OpenBSD password souboru a nebo nejsou využitelné v OpenBSD (všechny 
z nich).Také se ujistěte, že zde nejsou žádná zdvojená jména nebo 
uživatelské ID mezi <tt>new_passwd</tt> a vaším OpenBSD <tt>/etc/passwd</tt>.
Nejlehčí cesta jak tohle vyřešit, je začít s čistým <tt>/etc/passwd</tt>.

<blockquote>
<pre>
# <b>cat new_passwd &gt;&gt; /etc/master.passwd</b>
# <b>pwd_mkdb -p /etc/master.passwd</b>
</pre>
</blockquote>

Poslední krok, <tt>pwd_mkdb</tt> je nutné pro nové sestavení 
/etc/spwd.db a /etc/pwd.db souborů. Také vytvoří Sixth Edition-style
password soubor (kromě šifrovaných hesel) v /etc/passwd pro programy, 
které jej používají. OpenBSD používá silnější šifrování pro hesla - 
blowfish, které je málokdy na systémech, které používají plnohodnotný 
Sixth Edition-style password soubor. K použití tohoto silnějšího 
šifrování nechte spustit uživatele 'passwd' ke změně jejich hesla.
Nové heslo, které zadají bude zašifrováno pomocí vašich defaultních 
nastavení (obvykle blowfish pokud jste nezměnili
/etc/login.conf). A nebo můžete jako <i>root</i> spustit <tt>passwd
<i>uživatelskéjméno</i></tt>.


<p>
<a name= "Interact"></a>
<h2>9.4 - Spouštění Linux binárek na OpenBSD</h2>

<p>
OpenBSD/i386 je schopné spouštět Linux binárky pokud je jádro 
kompilováno s volbou COMPAT_LINUX a sysctl kern.emul.linux je 
také nastaveno.Pokud používáte GENERIC jádro (což by jste měli), 
tak je COMPAT_LINUX již zapnuto a musíte pouze udělat:

<blockquote>
<pre>
# <b>sysctl kern.emul.linux=1</b>
</pre>
</blockquote>

Aby toto vše bylo nastaveno automaticky pokaždé, když počítač 
startuje, tak musíte odstranit # (komentář) znak na začátku 
řádku

<blockquote>
<pre>
#kern.emul.linux=1      # enable running Linux binaries
</pre>
</blockquote>

v /etc/sysctl.conf, aby řádek vypadal takto

<blockquote>
<pre>
kern.emul.linux=1       # enable running Linux binaries
</pre>
</blockquote>

a restartovat váš systém aby se změna projevila.

<p>
Pro spuštění jakýchkoliv Linux binárek, které nejsou staticky linkované 
(většina z nich), musíte následovat instrukce na  
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compat_linux&amp;sektion=8">compat_linux(8)</a> 
manuálové stránce.

<p>
Nejlehčí cesta jak získat většinu z užitečných Linux binárek je instalace 
<tt>fedora/base</tt> balíčku z nejbližšího FTP mirroru.Pro více informací 
o balíčcích a systému portů si přečtěte 
<a href="../faq15.html">FAQ 15 - OpenBSD balíčky a systém portů</a>.
Pro nainstalování výše zmíněných balíčků použijte

<blockquote><pre>
# export PKG_PATH=ftp://your.ftp.mirror/pub/OpenBSD/4.4/packages/i386/
# pkg_add -i fedora_base
</pre></blockquote>

Upozorňujeme, že
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1">pkg_add(1)</a>
automaticky spustí sysctl k nastavení kern.emul.linux na správnou hodnotu po 
přidání tohoto balíčku.I přesto ale nezmění nastavení <tt>/etc/sysctl.conf</tt>, 
takže pokud chcete mít Linux emulaci defaultně zapnutou,tak musíte nastavit 
kern.emul.linux zde.


<p>
<a name= "Ext2FS"></a>
<h2>9.5 - Přístup k vašim Linux souborům z OpenBSD</h2>

<p>
OpenBSD podporuje EXT2FS souborový systém. 
Pro více informací čtěte <a href="../faq14.html#foreignfs">FAQ 14</a>.


<p>
<font color= "#0000e0">
<a href= "index.html">[FAQ Index]</a>
<a href= "../faq8.html">[Do sekce 8 - Obecné otázky]</a>
<a href= "../faq10.html">[Do sekce 10 - Správa systému]</a>
</font>

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt= "[back]"></a>
<a href= "mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: faq9.html,v 1.91 ]<br>
$Translation: faq9.html,v 1.18 2008/11/08 19:33:18 paldium Exp $<br>
-->
$OpenBSD: faq9.html,v 1.18 2008/11/09 19:00:51 tobias Exp $
</small>
</body>
</html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>PF: Opciones</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta http-equiv="Content-Language" content="es">
<meta name="resource-type" content="documento">
<meta name="description"   content="Preguntas Frecuentes de OpenBSD">
<meta name="keywords"      content="openbsd,preguntas frecuentes,faq,pf">
<meta name="distribution"  content="global">
<meta name="copyright"     content="Este documento es copyright 2002-2003 de OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000">

<img alt="[OpenBSD]" height="30" width="141" src="../../../images/smalltitle.gif">
<p>
[<a href="tables.html">Anterior: Tablas</a>]
[<a href="index.html">Contenido</a>]
[<a href="scrub.html">Siguiente: Normalizaci&oacute;n de Paquetes</a>]

<p>
<h1><font color="#e00000">PF: Opciones</font></h1>

<hr>

<p>
Las opciones se usan para controlar la operaci&oacute;n de PF, y se
especifican en el fichero <tt>/etc/pf.conf</tt> usando la directiva
<tt>set</tt>.

<a name="block-policy"></a>
<p>
<dl>
<dt><b><tt>set block-policy</tt></b><br>
<dd>Configuraci&oacute;n del comportamiento predeterminado para las
reglas de <a href="filter.html">filtrado</a> que especifiquen la
acci&oacute;n de bloqueo, <tt>block</tt>.
<ul>
<li><tt>drop</tt> - bloquea el paquete en silencio, sin devolver
ning&uacute;n paquete a modo de respuesta.
<li><tt>return</tt> - devuelve un paquete TCP RST por paquete TCP
bloqueado, y un paquete ICMP UNREACHABLE por paquete UDP bloqueado.  El
resto de paquetes los bloquea en silencio.
</ul>
<dd>N&oacute;tese que las reglas de filtrado individuales pueden anular
la respuesta predeterminada.
</dl>

<a name="limit"></a>
<p>
<dl>
<dt><b><tt>set limit</tt></b>
<dd><tt>frags</tt> - n&uacute;mero m&aacute;ximo de entradas en el
<i>pool</i> de memoria (almac&eacute;n de memoria) usado para el
reensamblaje de paquetes (v&eacute;se las reglas de
<a href="scrub.html"><i>scrub</i></a>).  El n&uacute;mero predeterminado
es de 5.000.
<dd><tt>states</tt> - n&uacute;mero m&aacute;ximo de entradas en el
<i>pool</i> de memoria usado para las entradas en la tabla de estado
(reglas de <a href="filter.html">filtrado</a> que especifican <tt>keep
state</tt>).  El n&uacute;mero predeterminado es de 10.000.
</dl>

<a name="loginterface"></a>
<p>
<dl>
<dt><b><tt>set loginterface <i>int</i></tt></b><br>
<dd>Indicar la interfaz desde la que PF debe recoger
estad&iacute;sticas, como el n&uacute;mero de <i>bytes</i> que han
entrado o salido y los paquetes que han pasado o que se han bloqueado.
Estas estad&iacute;sticas s&oacute;lo se pueden recoger para una sola
interfaz por vez.  N&oacute;tese que los contadores <tt>match</tt>,
<tt>bad-offset</tt>, etc... y los contadores de la tabla de estado se
registrar&aacute;n aunque no se haya configurado
<tt>logininterface</tt>.
</dl>

<a name="optimization"></a>
<p>
<dl>
<dt><b><tt>set optimization</tt></b><br>
<dd>Optimizar PF para uno de los siguientes entornos de red:
<ul>
<li><tt>normal</tt> - sirve para para casi todas las redes.  Es el
predeterminado.
<li><tt>high-latency</tt> - redes de gran latencia, como las conexiones
por sat&eacute;lite.
<li><tt>aggressive</tt> - fuerza en modo agresivo la terminaci&oacute;n
de conexiones de la tabla de estado que hayan alcanzado el l&iacute;mite
de inactividad.  Esto puede reducir mucho los requisitos de memoria en
un cortafuegos con mucha actividad, aunque a riesgo de cortar otras
conexiones inactivas demasiado pronto.
<li><tt>conservative</tt> - un tipo de configuraci&oacute;n muy
conservadora.  Evita cortar las conexiones inactivas, aunque a coste de
una mayor utilizaci&oacute;n de la memoria y de un ligero incremento en
el uso del procesador.
</ul>
</dl>

<a name="timeout"></a>
<p>
<dl>
<dt><b><tt>set timeout</tt></b>
<dd><tt>interval</tt> - segundos que pasan entre las purgas de estados
que han llegado al vencimiento y los fragmentos de paquetes.
<dd><tt>frag</tt> - segundos que pasan antes de que venza un fragmento
desensamblado.
</dl>

<p>
Ejemplo:
<p>
<table border=0 width="650">
<tr><td nowrap bgcolor="#EEEEEE">
<pre>
set timeout interval 10
set timeout frag 30
set limit { frags 5000, states 2500 }
set optimization high-latency
set block-policy return
set loginterface dc0
</pre>
</td></tr>
</table>


<p>
[<a href="tables.html">Anterior: Tablas</a>]
[<a href="index.html">Contenidos</a>]
[<a href="scrub.html">Siguiente: Normalizaci&oacute;n de Paquetes</a>]

<p>
<hr>
<a href="index.html"><img height="24" width="24" src="../../../images/back.gif" border="0" alt="[&Iacute;ndice]"></a> 
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
Originally [OpenBSD: options.html,v 1.3 2003/09/16 01:23:49 nick Exp ]<br>
$OpenBSD: options.html,v 1.4 2003/09/20 07:00:26 horacio Exp $<br>
$Translation: options.html,v 1.5 2003/09/19 22:10:58 horacio Exp $
</small>
</body>
</html> 

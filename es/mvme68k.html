<!DOCTYPE HTML PUBLIC  "-//IETF//DTD HTML Strict//EN">
<html>
<head>
<title>OpenBSD/mvme68k</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta name="resource-type" content="document">
<meta name="description" content="the OpenBSD/mvme68k page">
<meta name="keywords" content="openbsd,mvme68k">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-2001 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238e">

<img alt="[OpenBSD]" height="30" width="141" SRC="../images/smalltitle.gif">
<p>
<h2><font color="#e00000">OpenBSD/mvme68k</font></h2>

<hr>
<h3><strong>Cronolog&iacute;a y Estado Actual:</strong></h3>

<p>
El autor original de este porte fue Theo de Raadt en 1.995, como parte
de un contrato con Willowglen Singapore.  Un porte anterior de Chuck
Cranor del MVME147, basado en el viejo c&oacute;digo DA30, y el uso de
hardware donado por Jonathan Levine a petici&oacute;n de Theo, dio
lugar a una plataforma de desarrollo s&oacute;lida.  De modo poco
usual, tambi&eacute;n Dale Rahn de Motorola cre&oacute; un porte para
el MVME147.  Ambos portes fueron analizados para la mayor&iacute;a de
las partes del n&uacute;cleo, pero tambi&eacute;n se
a&ntilde;adi&oacute; mucho c&oacute;digo nuevo escrito por Theo o
basado en el c&oacute;digo del hp300.  La ayuda de Dale fue muy
significativa mientras se portaba el c&oacute;digo a los modelos 68040,
y escribi&oacute; la mayor parte del c&oacute;digo para el modelo
MVME167.  Steve Murphee continu&oacute; con el trabajo y
escribi&oacute; el c&oacute;digo para el MVME177, as&iacute; como
tambi&eacute;n a&ntilde;adi&oacute; el soporte para algunos
dispositivos VME.

<p>
Actualmente, las personas que m&aacute;s est&aacute;n trabajando en el
porte OpenBSD/mvme68k con Steve Murphee, Theo de Raadt y Dale Rahn.  Y
por supuesto, &iexcl;cualquier otro ser&aacute; bienvenido!

<p>
En la actualidad el mismo n&uacute;cleo funciona en las siguientes
piezas de hardware:

<ul>
<li><strong>MVME147: </strong>68030<br>
Funciona y es estable.
<ul>
  <li>Soporte para todo excepto el puerto paralelo.
  <li>Tengo un controlador para el puerto paralelo, pero no est&aacute;
      integrado todav&iacute;a.
</ul>
<p>

<li><strong>MVME162: </strong>68040<br>
Funciona y es estable.
<ul>
  <li>Todo lo principal funciona... con algunas notas adicionales:
  <ul>
    <li>SCSI funciona (4.5MB/segundo en un Quantum Grand Prix de 4.2GB).
    <li>soporte para bus VME no verificado
    <li>paridad y ecc sin soporte
    <li>dispositivo de flash no funciona
    <li>controlador del m&oacute;dulo IP no verificado
  </ul>
</ul>
<p>

<li><strong>MVME165: </strong>68040<br>
Lo poco que sabemos sobre &eacute;l nos hace pensar que se puede hacer.
<p>

<li><strong>MVME166: </strong>68040<br>
Es posible que ya funcione.
&iexcl;Hay alguien que lo quiera comprobar?
<p>

<li><strong>MVME167C: </strong>68040<br>
Funciona y es estable.
<ul>
  <li>Funciona tan bien como el porte para MVME162 mencionado antes;
      s&oacute;lo no tiene soporte para el puerto paralelo.
</ul>
<p>

<li><strong>MVME177-001: </strong>68060<br>
Funciona y es estable.
<ul>
  <li>Funciona tan bien como el porte para MVME167.
</ul>
<p>
</ul>

Dispositivos VME adicionales para los que existe soporte:<p>
<ul>
  <li><strong>MVME376</strong>: ethernet VME Lance
  <li><strong>MVME328</strong>: controlador SCSI
</ul> 

<p>
Para todas estas arquitecturas, tanto el arranque sin disco mediante el
bootparams/nfs al estilo sun, como el arranque mediante disco tienen
soporte.

<p>
Nota: Este porte tiene soporte para COMPAT_SUNOS, por tanto puede
ejecutar binarios de SunOS sun3.  A&uacute;n es m&aacute;s, creo que la
MVME177 es probablemente la m&aacute;quina m&aacute;s r&aacute;pida con
capacidad para la ejecuci&oacute;n de binarios de SunOS sun3...

<hr>
<p>
Cada cierto periodo de tiempo se lanzan <a href="ftp.html">versiones
preliminares (<em>&quot;snapshots&quot;</em>)</a> del porte de mvme68k.

<hr>
<h3><strong>&laquo;&iquest;Qu&eacute; pinta
tiene?&raquo;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Esto es un NVME162.
<br>
(a continuaci&oacute;n de la imagen sigue los mensajes de arranque de
un MVME162)</strong></h3>

<img src="../images/mvme162.gif"><p>

<pre>
Copyright Motorola Inc. 1988 - ...., All Rights Reserved

MVME177 Debugger/Diagnostics Release Version ...
COLD Start

Local Memory Found =02000000 (&amp;33554432)

MPU Clock Speed =50Mhz

162-Bug&gt;bo
Booting from: VME177, Controller 0, Drive 0
Loading: Operating System

Volume: NBSD

IPL loaded at: $003F0000
&gt;&gt; OpenBSD BOOT [$Revision: 1.6 $]
using ctrl 0 dev 0
Booting /OpenBSD @ 0x10000
8c000+8000+caf8 [8f40+9162]  start 0x10020
[ preserving 73898 bytes of OpenBSD symbol table ]
Copyright (c) 1982, 1986, 1989, 1991, 1993
        The Regents of the University of California.  All rights reserved.

OpenBSD 2.6-current (GENERIC) #10: Mon Jan 24 14:04:57 PST 2000
    deraadt@m167.openbsd.org:/sys/arch/mvme68k/compile/GENERIC
Motorola 177-001: 50MHz MC68060 CPU+MMU+FPU, 8k on-chip physical I/D caches, unknown FPU
real mem = 33554432
avail mem = 27975680
using 409 buffers containing 1675264 bytes of memory
mainbus0 (root)
pcctwo0 at mainbus0 addr 0xfff00000: rev 0
clock0 at pcctwo0 ipl 5
cl0 at pcctwo0 offset 0x45000 ipl 3 console
vme0 at pcctwo0 offset 0x40000: system controller
vme0: using BUG parameters
vme0: 1phys 0x02000000-0xefff0000 to VME 0x02000000-0xefff0000
vme0: 2phys 0x00000000-0x00000000 to VME 0x00000000-0x00000000
vme0: 3phys 0x00400000-0x00ff0000 to VME 0x00400000-0x00ff0000
vme0: 4phys 0x00000000-0x00000000 to VME 0x00000000-0x00000000
vme0: vme to cpu irq level 1:1
vmes0 at vme0
vmel0 at vme0
ie0 at pcctwo0 offset 0x46000 ipl 1: address 08:00:3e:23:5c:a2
siop0 at pcctwo0 offset 0x47000 ipl 2: version 2 target 7
scsibus0 at siop0: 8 targets
siop0: target 0 now synchronous, period=100ns, offset=8
sd0 at scsibus0 targ 0 lun 0: &lt;QUANTUM, FIREBALL1080S, 1Q04&gt; SCSI2 0/direct fixed
sd0: 1042MB, 3835 cyl, 4 head, 139 sec, 512 bytes/sec, 2134305 sec total
memc0 at pcctwo0 offset 0x43000: MCECC rev 0
nvram0 at pcctwo0 offset 0xc0000: MK48T08 len 8192
flash0 at mainbus0 addr 0xffa00000: unknown manu 0x00 ident 00
sram0 at mainbus0 addr 0xffe00000: len 131072
boot device: sd0
root on sd0a
ie0: supplying EUI64: 08:00:3e:ff:fe:23:5c:a2
rootdev=0x400 rrootdev=0x800 rawdev=0x802
Automatic boot in progress: starting file system checks.
/dev/rsd0a: file system is clean; not checking
/dev/rsd0g: file system is clean; not checking
/dev/rsd0e: file system is clean; not checking
setting tty flags
starting network
add host m177: gateway localhost
starting rpc daemons: portmap ypbind nfsiod amd.
starting system logger, time daemon.
checking for core dump...
savecore: no core dump
checking quotas: done.
building databases...
clearing /tmp
standard daemons: update cron.
starting network daemons: routed printer inetd.
starting local daemons:.
runtime link editor directory cache
Thu Jan 14 03:58:38 MDT 2000
Sep 14 03:58:38 m177 init: kernel security level changed from 0 to 1

OpenBSD/mvme68k (m177) (ttya)

login: 
</pre>

<hr>
<a href="plat.html"><img height="24" width="24" src="../back.gif" border="0" alt="OpenBSD"></a> 
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
Originally [OpenBSD: mvme68k.html,v 1.38 2001/08/28 21:36:36 horacio Exp ]<br>
$Translation: mvme68k.html,v 1.8 2001/08/29 09:59:57 horacio Exp $<br>
$OpenBSD: mvme68k.html,v 1.6 2001/08/29 16:37:30 jufi Exp $
</small>

</body>
</html>

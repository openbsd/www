<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>OpenBSD 3.3 changes</title>
<link rev="made" href="mailto:www@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=iso-2022-jp">
<meta name="resource-type" content="document">
<meta name="description" content="OpenBSD-current changes">
<meta name="keywords" content="openbsd,current,changes">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-2002 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000" link="#23238e">

<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" src="../images/smalltitle.gif" border="0"></a>
<p>
<h2><font color="#e00000">OpenBSD 3.3 リリース (2003 月 5 月 1 日)</font></h2>
<hr>

<p>
以下は、機種に依存しない主な変更点の部分的なリストで、これらは、
皆さんがかなり頻繁に問い合わされる変更点でもあります。ports に
関する変更も行われており、それらについては、ときどき、それぞれの
<a href="plat.html">機種</a>に関するページに記載されています。

<p>
<a href="ports.html">ports</a> コレクションの変更点については、
<a href="../portsplus/index.html">ここ</a>に記述されています。

<p>
注: <font color="#e00000">パッチの存在する問題については、朱書きで記されています。</font>

<p>
<h3>
他のリリースの変更点については、こちらをご覧ください。</a><br>
<a href="../plus20.html">2.0</a>、
<a href="../plus21.html">2.1</a>、
<a href="../plus22.html">2.2</a>、
<a href="../plus23.html">2.3</a>、
<a href="../plus24.html">2.4</a>、
<a href="../plus25.html">2.5</a>、
<a href="../plus26.html">2.6</a>、
<a href="../plus27.html">2.7</a>、
<a href="../plus28.html">2.8</a>、
<a href="plus29.html">2.9</a>、
<a href="plus30.html">3.0</a>、
<a href="plus31.html">3.1</a>、
<a href="plus32.html">3.2</a>、
<a href="plus.html">current</a>。
<br>
</h3>

<p>
<h3><font color="#0000e0">OpenBSD 3.2 と OpenBSD 3.3 との間の変更点</font></h3><p>
<p>

<ul>
<li>3.3 リリースブランチの生成。
<!-- ^ 20030326 -->
<li><font color="#e00000"><strong>セキュリティのための修正: <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendmail&amp;sektion=8">sendmail(8)</a> のアドレス解析部のバッファオーバーフローにより、攻撃者に root 権限の奪取を許す危険性がありました。</strong></font><br>
    <a href="errata32.html#sendmail2">ソースコードパッチはこちら。</a><br>
    <a href="stable.html"><font color="#00b000">[安定版への適用]</font></a>
<li>シンボリックリンクとディレクトリのリネームが再び動作するよう、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp-server&amp;sektion=8">sftp-server(8)</a> の競合の修正をさらに修正。
<!-- ^ 20030325 -->
<li>印刷されるファイルがもはや誰もが書き込み可能でなくても良いように、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lpr&amp;sektion=1">lpr(1)</a> および <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lprm&amp;sektion=1">lprm(1)</a> で、より良い偽の setuid(daemon) の挙動を行うように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vlan&amp;sektion=4">vlan(4)</a> に対するいくつかの堅牢性の修正。
<li>ハンドリング可能になる前に割り込みがかかるのを防止するため、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xl&amp;sektion=4">xl(4)</a> をリセットする前に splimp() をセット。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ld&amp;sektion=1">ld(1)</a> への引数 --soname を認識 (して無視)。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> の状態テーブルのダンプの際に欠落していた戻り値の命令文を追加。
<li>hfsc キューをカーネルに追加する際に、メモリを割り当てられなければ正しい値を返すようにし、そしていくつかの欠落していたエラーのクリーンアップを追加。
<!-- ^ 20030324 -->
<li>特権分離モードで実行されている場合の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> の鍵の再生成を修正。
<li>/etc/rc で、いくつかの特別なクウォートを偏執狂的に追加。
<!-- ^ 20030323 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=md5&amp;sektion=1">md5(1)</a> で stdin をクローズしないように。
<!-- ^ 20030322 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendbug&amp;sektion=1">sendbug(1)</a> が偽のエラーを報告しないように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=apm&amp;sektion=4">apm(4)</a> のリジューム後に <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ac97&amp;sektion=4">ac97(4)</a> の状態を復帰。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslogd&amp;sektion=8">syslogd(8)</a> のデフォルトのファシリティを (バグのため) LOG_UUCP の代わりに LOG_USER に。
<li>mbuf クラスタ用の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=netstat&amp;sektion=1">netstat(1)</a> の -m の出力をより役に立つものに。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ps&amp;sektion=1">ps(1)</a> のメモリ使用率の出力を修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahc&amp;sektion=4">ahc(4)</a> にいくつかのエンディアン関連の修正を加え、macppc でも稼働可能に。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のテーブル統計情報のいくつかの問題を修正。
<li>Kerberos V の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kdc&amp;sektion=8">kdc(8)</a> の、Kerberos IV の realm からの cross-realm 認証をデフォルトで無効化 (し、有効化するためのスイッチを追加)。これは、最近発見された<a href="http://web.mit.edu/kerberos/www/advisories/MITKRB5-SA-2003-004-krb4.txt">脆弱性</a>を解決。<br>
    <a href="stable.html"><font color="#00b000">[安定版への適用]</font></a>
<li>Kerberos V の kdc にはすべての機能が有効化されているので、Kerberos IV の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kdc&amp;sektion=8">kdc(8)</a> を無効化。
<!-- ^ 20030321 -->
<li>/etc/rc の $lpd_flags をクウォート。
<!-- ^ 20030320 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sudo&amp;sektion=8">sudo(8)</a> の SIGCHLD ハンドラの論理エラーを修正。
<li><font color="#e00000"><strong>セキュリティのための修正: OpenSSL は、チェコの研究者 Klima、Pokorny ならびに Rosa によって設計された `Bleichenbacher' 攻撃に対して脆弱です。</strong></font><br>
    <a href="errata.html#kpr">ソースコードパッチはこちら。</a><br>
    <a href="stable.html"><font color="#00b000">[安定版への適用]</font></a>
<li>例外的なケースを捉えるため、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> のホストアドレス解析を微調整。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dhcpd&amp;sektion=8">dhcpd(8)</a> のリースファイルの解析を修正。
<!-- ^ 20030319 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mkhybrid&amp;sektion=8">mkhybrid(8)</a> に欠落していた戻り値の命令文を追加。
<!-- ^ 20030318 -->
<li>sparc アーキテクチャに、ブート可能なテープの機能を復元。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=arp&amp;sektion=8">arp(8)</a> からカーネルに、ロングワード境界に整合された構造体 sockaddrs をわたすように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getaddrinfo&amp;sektion=3">getaddrinfo(3)</a> に対する RFC 2553 に準拠するための微調整。
<li>本当のシステムコールに対する <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=setreuid&amp;sektion=2">setre[ug]id(2)</a> の推進を反映するため、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=perl&amp;sektion=1">perl(1)</a> の設定ヒントファイルを変更。
<li>libcurses および libcurses++ で、いくつかの (v)sprintf を (v)snprintf に。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> のバージョンが 3.6 に増加。<br>
    <a href="stable.html"><font color="#00b000">[安定版への適用]</font></a>
<!-- ^ 20030317 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=login_passwd&amp;sektion=8">login_passwd(8)</a> に対するオプションのチェックの際の不正な文字列長を修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hack&amp;sektion=6">hack(6)</a> にすばらしいフリーライセンスを追加。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=netstat&amp;sektion=1">netstat(1)</a> でセグメントフォールトの原因となっていた IPv6 アドレスを表示する際の偽の文字列初期化を修正。
<!-- ^ 20030316 -->
<li>4.3BSD 互換ライブラリ、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=crypto&amp;sektion=3">crypto(3)</a><!-- 20030316 --> および <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sudo&amp;sektion=8">sudo(8)</a> の中の文字列関数のさらなる清浄化。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mountd&amp;sektion=8">mountd(8)</a> の文字列の割り当て不足を修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sudo&amp;sektion=8">sudo(8)</a> を 1.6.7 に更新。
<li><font color="#e00000"><strong>セキュリティのための修正: OpenSSL のさまざまな SSL および TLS の操作は、タイミング攻撃に対して脆弱です。</strong></font><br>
    <a href="errata.html#blinding">`RSA blinding' ソースコードパッチはこちら。</a><br>
    <a href="stable.html"><font color="#00b000">[安定版への適用]</font></a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8">httpd(8)</a> に欠落していた、SSL 相互排他ファイルの生成の際の chroot のパスの修正を追加。
<!-- ^ 20030315 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&amp;sektion=1">gcc(1)</a> のスタック保護に対するもうひとつの修正。
<li>今回は <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cron&amp;sektion=8">cron(8)</a> で、さらなる strcpy を strlcpy に。
<li>X サーバが root 以外のユーザで実行できるようにするための大仕事の後、10 分以上の CPU 時間を経過後の root 以外のプロセスの優先度をスケジューラが下げてしまわないように。
<li>すべての固定長の IPv6 の近隣発見オプションの長さをチェック。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=keynote&amp;sektion=3">keynote(3)</a> の RSA blinding を有効化。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mt&amp;sektion=1">mt(1)</a> から冗長な -t オプションを除去。
<li>(たとえば DHCP のような) 0.0.0.0 の送信元もしくは送信先アドレスを持つパケットのテーブルベースのフィルタリングがカーネルに悪影響を及ぼす原因となり得る、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> テーブルのバグを修正。
<li>mod_ssl の秘密鍵の操作のための RSA blinding を有効化。
<!-- ^ 20030314 -->
<li>キューの中の最後のジョブのオーナがすべてのジョブを所有しているかのように <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=atq&amp;sektion=1">atq(1)</a> が表示してしまう原因となるバグを修正。<br>
    <a href="stable.html"><font color="#00b000">[安定版への適用]</font></a> <!-- XXX 3.2-stable -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd&amp;sektion=8">spamd(8)</a> は予約ポートからの制御接続を要求するように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> テーブルのメモリリークを修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=altq&amp;sektion=9">altq(9)</a> の RED の閾値をキューのリミットの 10% (最小) から 30% (最大) の間の倍率に。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=raidctl&amp;sektion=8">raidctl(8)</a> の 1 バイトのアンダーフローを修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&amp;sektion=8">isakmpd(8)</a>、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-agent&amp;sektion=1">ssh-agent(1)</a> および <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssk-keysign&amp;sektion=8">ssh-keysign(8)</a> で <a href="http://crypto.stanford.edu/~dabo/papers/ssl-timing.pdf">RSA blinding</a> を有効化。
<li>非常に多くの場所で、さらなる sprintf を snprintf に、そして strcpy を strlcpy に。
<!-- ^ 20030313 -->
<li>今回は <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=badsect&amp;sektion=8">badsect(8)</a>、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=restore&amp;sektion=8">restore(8)</a> および <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scsi&amp;sektion=8">scsi(8)</a>で strcpy を strlcpy に。
<li>alpha アーキテクチャでパニックを回避するため、PS/2 キーボードがシステムコンソールではない場合の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pckbc&amp;sektion=4">pckbc(4)</a> に欠落していた初期化を修正。
<li>sbin/photurisd をツリーから除去。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mrouted&amp;sektion=8">mrouted(8)</a> で (v)sprintf を (v)snprintf に。
<li>GNU md5sum との互換性のため、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=md5&amp;sektion=1">md5(1)</a> に -c オプションを追加。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sk&amp;sektion=4">sk(4)</a> に IFCAP_VLAN_MTU を設定。
<!-- ^ 20030312 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bktr&amp;sektion=4">bktr(4)</a> に欠落していたエンディアン関連の修正を追加。
<li>Opera のような最近の FreeBSD バイナリを獲得するため、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compat_freebsd&amp;sektion=8">compat_freebsd(8)</a> をハック。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cron&amp;sektion=8">cron(8)</a> のパーサがより多くのシンタクスエラーを検出可能に。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bridge&amp;sektion=4">bridge(4)</a> で、IFCAP_VLAN_MTU がセットされたインターフェイス上で、フラグメント化されていない最大長の 802.1q パケットの送信を許容。
<li>すべてのインターフェイス間でユニークなキュー ID を <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> キューが持つことを確認。
<li>anchor 上での動作の際に、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> の -F オプションで、anchor 中のすべてサブルールセットを詳しく検討するように。
<li>ある種のライセンス問題が解決するまで、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=larn&amp;sektion=6&amp;release=OpenBSD+3.2">larn(6)</a> を除去。
<!-- ^ 20030311 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&amp;sektion=1">gcc(1)</a> のスタック保護のさらなる修正。
<li>多数のスペルおよびダブった単語の修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lpr&amp;sektion=1">lpr(1)</a> および <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lprm&amp;sektion=1">lprm(1)</a> を、(こちらの方がより危険なので) setuid daemon としてではなく setuid root としてインストールし、早期に daemon に setuid するように。
<li>欠落していた <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getnameinfo&amp;sektion=3">getnameinfo(3)</a> のエラーチェックを <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&amp;sektion=1">ftp(1)</a> に追加。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bpf&amp;sektion=4">bpf(4)</a> は最大長のパケットをつかんでしまうので、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pflogd&amp;sektion=8">pflogd(8)</a> で bpf(4) フィルタを常に設定。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mount_portal&amp;sektion=8">mount_portal(8)</a>、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=quotacheck&amp;sektion=8">quotacheck(8)</a>、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=route&amp;sektion=8">route(8)</a> および <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=routed&amp;sektion=8">routed(8)</a> で、strcpy を strlcpy に。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のキューコードは不正な非 PKTHDR mbuf を廃棄するようにし、いかなる問題も注意され修正されるはずなので、うるさく警告を出力するように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=st&amp;sektion=4">st(4)</a> のテープ密度のコードを 0xff (従来のリミットは 0x45) まで許容。 <!-- 反物質のテープはサポートしていないので負の密度は許容せず -->
<li>man ページの間違い、怠慢、間違った英語に対する継続的な猛攻。
<li>inode quota の稼働を停止していた 3.1 以前のころのタイポを修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd-setup&amp;sektion=8">spamd-setup(8)</a> が常にエラーコードを返していたのを修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cron&amp;sektion=8">cron(8)</a> が起動され、制御端末から切り離される前ではなく、切り離された後にログを開始するように。
<li>コマンドが間違っている場合に、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cron&amp;sektion=8">cron(8)</a> は正しいエラー行番号を表示するように。
<li>インターフェイスに複数の同名のキューが追加された場合に、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> はわかりやすいエラーメッセージを出力するように。
<li>30m 未満のケーブル長の場合に極端な受信エラーが発生するという、少数の DP83815 デバイスに見つかった <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sis&amp;sektion=4">sis(4)</a> の問題点を修正。
<!-- ^ 20030310 -->
<li>いかなるサーバも反応する前に受信した FIN に関連する <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の TCP の状態コードの制限を厳しく。
<li>smapd および spamd-cfg の TCP ポートを <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=services&amp;sektion=5">services(5)</a> に追加し、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd&amp;sektion=8">spamd(8)</a> のポート番号はこれに従うように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の子キューに関するいくつかの問題を修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cron&amp;sektion=8">cron(8)</a> のエラー出力の際に、正確な行番号を表示するように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=crontab&amp;sektion=1">crontab(1)</a> で、EOF の前の不要な行を警告。
<li>パケットヘッダを含む、チェーン中の最初の mbuf を確認することにより、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ppp&amp;sektion=4">ppp(4)</a> のパニックを修正。
<!-- ^ 20030309 -->
<li>P_SUGID の場合と同様に、P_SUGIDEXEC でも <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ptrace&amp;sektion=2">ptrace(2)</a> を無効化。
<li>カーネルの P_SUGIDEXEC フラグのセマンティクスが、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=issetugid&amp;sektion=2">issetugid(2)</a> などと一致するように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mailwrapper&amp;sektion=8">mailwrapper(8)</a> のエラーおよび警告メッセージが、ラップされたプログラムではなくラッパーそれ自身からのものであるということを明確に。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mountd&amp;sektion=8">mountd(8)</a> は、自身でオープンした PID ファイルに対してだけ書き込みを行うように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lpr&amp;sektion=1">lpr(1)</a> に指定される -h フラグを要求する代わりに、リモートプリンタとして <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=printcap&amp;sektion=5">printcap(5)</a> の :sh: フラグに忠実に。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd-setup&amp;sektion=8">spamd-setup(8)</a> の設定ファイルとして <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd.conf&amp;sektion=5">spamd.conf(5)</a> を追加。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd-setup&amp;sektion=8">spamd-setup(8)</a> は最早 Perl スクリプトではないので、Net::Netmask モジュールを除去。
<li>今回は C で <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd-setup&amp;sektion=8">spamd-setup(8)</a> を再々実装。
<li>キューが複数のインターフェイスにまたがる場合の問題を解消するため、キュールールの拡張を微調整。
<li>常に '6Kb' という値を使用する代わりにインターフェイス固有の計算値を使用する場合の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> の警告メッセージ 'bandwidth too small' を基本とするように。
<!-- ^ 20030308 -->
<li>-vv でオーバーロードする代わりに、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> はデバッグ出力用に独立したフラグ (-g) を持つように。
<li>libc のレゾルバ中の符合のバグ (KAME PR 469) を修正。
<!-- ^ 20030307 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ti&amp;sektion=4">ti(4)</a> に欠落していたいくつかのフラグを設定し、VLAN のタグサポートを修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cac&amp;sektion=4">cac(4)</a> に対する安定性のための修正。
<li>非常に多くの man ページの相互参照を修正。
<li>カーネルの mail() で、プロセス 0 がより完全に初期化された後にデバイスを構成するように。
<li>テキストのアドレスから sockaddr への変換の際の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&amp;sektion=8">isakmpd(8)</a> の NULL 被参照を回避。
<li>インターフェイスが指定されていない場合の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のキューの割り当てを修正。
<li>IPv6 の etherip パケット用に、ヘッダ中の次のプロトコルフィールドを設定。
<li>IP proto 97 (Ethernet-in-IP) パケットを <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bpf&amp;sektion=4">bpf(4)</a> にわたすように。
<!-- ^ 20030306 -->
<li>インストーラにおいて、URL として表示されないよう、インストールセットが見つからなければ FTP パスワードを消去。
<li>alpha アーキテクチャ用のブート可能な ISO イメージを追加。
<li>新しいイメージ: リリース前の最後の X の更新。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> およびその関連プログラムで、多数のメモリリークを修正。
<li>すべてのツールコマンドをカバーした、単一の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=openssl&amp;sektion=1">openssl(1)</a> の man ページを追加。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hme&amp;sektion=4">hme(4)</a> に対するメディアのハンドリングの修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のテーブルに、IPv6 用の正しいアドレスファミリをセット。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=named&amp;sektion=8">named(8)</a> を BIND 9.2.2-release に更新。
<!-- ^ 20030305 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=named&amp;sektion=8">named(8)</a> が起動するように構成されている場合、/etc/rc だけが <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rndc&amp;sektion=8">rndc(8)</a> 用の鍵を生成するように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=named&amp;sektion=8">named(8)</a> は常に named に setuid し、/var/named に chroot するので、/etc/rc からこれらの動作のための変数を除去。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lkm&amp;sektion=4">lkm(4)</a> を構築する際には、スタック保護をオフにするように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mrinfo&amp;sektion=8">mrinfo(8)</a> と <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mtrace&amp;sektion=8">mtrace(8)</a> とを root への setuid としてインストールしないように。
<li>/etc/rndc.key と /var/named/etc/rndc.key とが異なるものであった場合や、そのいずれも存在していない場合に、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rndc&amp;sektion=8">rndc(8)</a> 用の鍵を再生成。
<li>3.3-beta -&gt; 3.3
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の IPv6 用のルールにおいて、ユーザとグループのキーワードを修正。
<li>CD のブートイメージのみを搭載した、小さな i386 用の ISO イメージを生成。
<!-- ^ 20030304 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd&amp;sektion=8">spamd(8)</a> の設定用チャネルを、spamd がリスン中のポートからその次のポートに移動。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=file&amp;sektion=1">file(1)</a> に、追加のイメージフォーマット、および JPEG のサイズのファーストパスのサポートを追加。
<li>libc のレゾルバコードの strncpy を strlcpy に変更。
<li>バッファオーバーフローを修正するため、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=file&amp;sektion=1">file(1)</a> を 3.41 に更新。これによって、同時に 64 ビット ELF サポートも改善。<br>
    <a href="stable.html"><font color="#00b000">[安定版への適用]</font></a> <!-- XXX 3.2-stable -->
<li>libc のスタック消去用のハンドラにおいて、直ちにすべてのシグナルハンドラをその実行からブロックするように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isp&amp;sektion=4">isp(4)</a> に対する、さらなる修正と改善。
<li>sendmail を 8.12.8 に更新。
<li><font color="#e00000"><strong>セキュリティのための修正: <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendmail&amp;sektion=8">sendmail(8)</a> のエンベロープのコメント処理部分には、攻撃者に root 特権の奪取を許してしまうかも知れないバッファオーバーフローが存在しています。</strong></font><br>
    <a href="errata.html#sendmail">ソースコードパッチはこちら。</a><br>
    <a href="stable.html"><font color="#00b000">[安定版への適用]</font></a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=m_pulldown&amp;sektion=9">m_pulldown(9)</a> の単純なミスを修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rd&amp;sektion=4">rd(4)</a> から意味のあるパーティションサイズを返るように。
<!-- ^ 20030303 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> の altq の帯域幅の数字の表示を修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd&amp;sektion=8">spamd(8)</a> で、欠落していた設定メッセージの正当性のチェックを修正。
<li>spamd-setup.sh スクリプトを除去。
<li>spamd-setup.pl が通信可能なように、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd&amp;sektion=8">spamd(8)</a> に設定チャネルを追加。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd.conf&amp;sektion=5">spamd.conf(5)</a> を通じて設定される複数のブラックリストをサポートし、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd&amp;sektion=8">spamd(8)</a> を設定するための新しい spamd-setup.pl スクリプト。
<li>新しい <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd&amp;sektion=8">spamd(8)</a> の設定用 perl スクリプトに perl モジュール Net::Netmask を追加。
<li>altq の CBQ から冗長な 'control' キーワードを除去。
<li>プライオリティキューイング用にペイロードのない ACK だけの TCP パケットにタグを付与。詳細と例は /usr/share/pf/ackpri を参照。
<li>同じ内部キュー ID を持つ異なるインターフェイス上で、同じ名前のふたつの <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のキューを保証。
<!-- ^ 20030302 -->
<li>sparc64 において失敗の原因となる、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gem&amp;sektion=4">gem(4)</a> がまだ使用中であっても DMA のマッピングを除去してしまうのを防止。
<li>インストーラで、FTP インストールで使用する必要があるかも知れないデフォルトルートを間違って消去してしまわないように。
<!-- ^ 20030301 -->
<li>sparc64 アーキテクチャ用のブート可能な ISO イメージを追加。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pflogd&amp;sektion=8">pflogd(8)</a> の、少数の不正な printf のフォーマット指定を修正。
<li>すべてのアーキテクチャにおいて、GNU の mmalloc を無効化。
<li>すべての <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disktab&amp;sektion=5">disktab(5)</a> ファイルが、サポートする 16 個のパーティションを見せるよう更新し、その他の少数の問題点を解消。
<li>最終的に <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mrouted&amp;sektion=8">mrouted(8)</a> とその周辺プログラムは、適正なライセンスを得て、デフォルトでビルドされるように。
<li>AH と ESP における SA のエクスパイアの際に、エラー値を適正に設定することを確実に。
<li>propolice によって見つかった Kerberos (IV ならびに V) のレゾルバのオーバーフローを修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=random&amp;sektion=3">random(3)</a> およびその関連の関数が、内部的に long の代わりに u_int32_t を使用するように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isp&amp;sektion=4">isp(4)</a> のファームウェアイメージを更新。
<li>ATA の IDENTIFY コマンドのタイムアウトを 1 秒から 3 秒に増加。
<li>__progname 用に basename(argv[0]) の BSS のコピーを使用し、実際のスタックの消去が実行される際にも、propolice のスタック消去が正しいプログラム名を報告するように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のテーブルコードに欠落していた splsoftnet() を追加。
<!-- ^ 20030228 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendmail&amp;sektion=8">sendmail(8)</a> 用に mk.conf のフック、WANT_LIBMILTER、WANT_SASL および WANT_LDAP を追加。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&amp;sektion=1">gcc(1)</a> の collect2 に -trace-ctors-dtors オプションを追加。<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc-local&amp;sektion=1">gcc-local(1)</a> を参照。
<li>エラーの際に <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rndc&amp;sektion=8">rndc(8)</a> が適正に終了するように。
<li>libz で、切り詰めを検出するために <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=snprintf&amp;sektion=3">snprintf(3)</a> の戻り値を検査。<br>
    <a href="stable.html"><font color="#00b000">[安定版への適用]</font></a>
<li>LOG_CONS が有効化されている場合に、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslog&amp;sektion=3">syslog(3)</a> が常にコンソールにロギングするのを停止。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=updatedb&amp;sektion=8">updatedb(8)</a> は /tmp ではなく /var/tmp を使用するようにし、データベースに ext2fs のボリュームも含むように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cron&amp;sektion=8">cron(8)</a> で、不正なステップのサイズを適正に扱うように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のキュー用に、IPv6 の分類サポートを追加。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> テーブルの IPv6 のサポートを修正。
<!-- ^ 20030227 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のルールを拡張する際に、プライオリティキューを正しく設定。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ti&amp;sektion=4">ti(4)</a> のいくつかのクリーンアップ。
<li>現在、この作業中で、libz でも sprintf の代わりに <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=snprintf&amp;sektion=3">snprintf(3)</a> を使用するように。<br>
    <a href="stable.html"><font color="#00b000">[安定版への適用]</font></a>
<li>OpenBSD では使用されていないにも関わらず、BIND の isc_print_vsnprintf() のバグを修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=named&amp;sektion=8">named(8)</a> はデフォルトで IPv6 インターフェイスをリスンするように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&amp;sektion=1">gcc(1)</a> のスタック保護のさらなる修正。
<!-- ^ 20030226 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ipsecadm&amp;sektion=8">ipsecadm(8)</a> に 'show' および 'monitor' コマンドを追加。
<li><a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2003-0063">CAN-2003-0063</a> および <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2003-0071">CAN-2003-0071</a> を修正するため、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xterm&amp;sektion=1">xterm(1)</a> を更新。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の binat ルールのマッチングを修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> の binat ルールの解析をクリーンアップ。
<li>Linux 互換および <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gdt&amp;sektion=4">gdt(4)</a> のさらなる境界チェックの修正。
<!-- ^ 20030225 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ami&amp;sektion=4">ami(4)</a> のふたつのひとつ違い (off-by-one) を修正。 
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=midi&amp;sektion=4">midi(4)</a> の正しくない境界チェックを修正。
<li>無限ループの原因となる不正な次へのポインタをやめるため、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のマクロ再定義コードを以前の古いものに。
<li>pfkeyv2 のデバッギングコード中のクラッシュの原因を修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hifn&amp;sektion=4">hifn(4)</a> に LZS 圧縮のサポートを追加。現時点では IPComp のみ、この機能を利用。
<!-- ^ 20030224 -->
<li>portal ファイルシステムでファイル変更時刻を適正に設定。
<li>ライセンスの問題で tcfs を除去。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vmstat&amp;sektion=8">vmstat(8)</a> の偽の警告メッセージを修正。
<li>libz で vsprintf の代わりに <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vsnprintf&amp;sektion=3">vsnprintf(3)</a> を使用するように。<br>
    <a href="stable.html"><font color="#00b000">[安定版への適用]</font></a> <!-- XXX 3.2-stable -->
<!-- ^ 20030223 -->
<li>古い X サーバにも特権分離を追加。
<!-- ^ 20030222 -->
<li>X サーバで、特権分離を使用してキーボードおよびフレームバッファドライバをオープン。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bridge&amp;sektion=4">bridge(4)</a> のエラー中の一対の mbuf のリークを修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cron&amp;sektion=8">cron(8)</a> の環境変数解析コードのより良いものを FreeBSD から導入。
<li>ETag による inode のリークの修復によって壊れていた <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8">httpd(8)</a> の再起動を修正 (etag 用状態ファイルが、権限を落とした後に読めないファイルパーミッションだった)。
<li>libcrypto で、0 以下のバイト数のメモリを割り当てようとしないように。<br>
    <a href="stable.html"><font color="#00b000">[安定版への適用]</font></a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> の 'set loginterface none' オプションを再び有効化。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> の auth_krb4 中の正しくない sizeof を修正。
<li>BIND 4 を屋根裏部屋 (CVS の Attic) 送りに。既に、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=named&amp;sektion=8">named(8)</a> は BIND 9 に。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&amp;sektion=1">gcc(1)</a> のスタック保護に対する、さらなる修正。
<!-- ^ 20030221 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&amp;sektion=8">tcpdump(8)</a> が、その内容をダンプする前に、AH と ESP が正しい長さであるかどうかをチェックするように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&amp;sektion=8">tcpdump(8)</a> が IPComp パケットを表示可能に。
<li>カーネル内のいくつかのロックを行うコードを修復し、ユーザランドの NULL 被参照を除去することで、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systrace&amp;sektion=1">systrace(1)</a> がクラッシュするのを修正。
<li>OpenBSD に固有の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=at&amp;sektion=1">at(1)</a> との統合を維持しながら、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cron&amp;sektion=8">cron(8)</a> を ISC の cron の -current に同期。
<li>(X サーバと同様に) <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xconsole&amp;sektion=1">xconsole(1)</a> が root としてではなく _x11 ユーザとして実行され、root の特権が必要な部分については、特権分離を使用するように。
<li>cron.allow および cron.deny ファイルが存在していない場合には root だけが <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=crontab&amp;sektion=1">crontab(1)</a> を実行できることを POSIX では要求しているので、空の cron.deny ファイルを追加。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ipcomp&amp;sektion=4">ipcomp(4)</a> がトリガーを引く NULL 被参照を修正。
<!-- ^ 20030220 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> は、ダイナミックインターフェイスシンタクスを使用するルール中の、存在しないインターフェイスを除去。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=at&amp;sektion=1">at(1)</a> は <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cron&amp;sektion=8">cron(8)</a> の一部となったので、/var/at のファイルを /var/cron に移動。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のシンタクス (if)/24 (ネットワークのプレフィクスを伴なう、ダイナミックインターフェイス名の解釈) のサポートを修正。
<li><font color="#e00000"><strong>セキュリティのための修正: <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssl&amp;sektion=8">ssl(8)</a> において、MAC の計算を実行するタイミングで、不正なブロック暗号化パッディングが発見されたとしても、情報のリークが発生し得ます。これはその対策です。メモリ割り当てルーチンにおける、負のサイズのチェックもまた同様です。</strong></font><br>
    <a href="errata.html#ssl">ソースコードパッチはこちら。</a><br>
    <a href="stable.html"><font color="#00b000">[安定版への適用]</font></a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=netstat&amp;sektion=1">netstat(1)</a> に、パケットが圧縮閾値を下回ったことで、どれくらい頻繁に <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ipcomp&amp;sektion=4">ipcomp(4)</a> がスキップされているのかを表示するためのカウンタを追加。
<li>64 ビットプラットフォーム上の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> のバッファオーバーフローを修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vr&amp;sektion=4">vr(4)</a> の安定性向上。
<li>LFS はサポートされていないので、そのためのサポートを <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=df&amp;sektion=1">df(1)</a> から除去。
<!-- ^ 20030219 -->
<li>新しく追加された LZS のサポートに対する、さらなく気難しい修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> のロードするスイッチ (-A、-N、-R) のひとつが強制された場合に、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;sektion=5">pf.conf(5)</a> のオプションをロードしないように。
<li>上に成長するアーキテクチャのために、core ファイルへのスタックの書き出しを適正に。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ipcomp&amp;sektion=4">ipcomp(4)</a> で以前、 LZS が追加されたものの、失われていた LZS のサポートを有効化。
<li>ある種の決して学習しない人たちのことを知りたくもないので、BIND 9 における lame server のロギングを停止。
<li>外向きパケットに対する <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の scrub ルールと同様、内向きパケットでも最小 TTL およびランダム ID で動作するように。
<li>多数の欠落していた著作権表示を man ページに追加。
<!-- ^ 200300218 -->
<li>X のサーバに特権分離のサポートを追加。多数の問題を修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&amp;sektion=1">ftp(1)</a> の二重 free を修正。
<li>デーモンにならないようにする -n 'no daemon' オプションを <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cron&amp;sektion=8">cron(8)</a> に追加。
<li>後の 4 行が free されるので、元の mbuf ではなくコピーをキューイングすることによって、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bridge&amp;sektion=4">bridge(4)</a> がカーネルをクラッシュさせないように。
<!-- ^ 20030217 -->
<li>インストーラのデフォルトルートの設定を改善。
<li>'PermitRootLogin forced-commands-only' がセットされた <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> を強制するコマンドを修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8">httpd(8)</a> のマルチパート MIME の PID 漏曳の修正に対する、いくつかの RFC 準拠のための修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のマクロ解析のクリーンアップ。
<!-- ^ 20030216 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=grep&amp;sektion=1">grep(1)</a> および <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nohup&amp;sektion=1">nohup(1)</a> のフォーマット文字列のバグの修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rpc.pcnfsd&amp;sektion=8">rpc.pcnfsd(8)</a> で strcpy を strlcpy に。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=crypto&amp;sektion=9">crypto(9)</a> および <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ipsec&amp;sektion=4">ipsec(4)</a> に LZS 圧縮をサポートするためのフレームワークを追加。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ld.so&amp;sektion=1">ld.so(1)</a> で、書き込み保護のさらなる偏執狂的改善。
<li>bsd.rd をインストール/アップグレードのターゲットに。
<li><font color="#e00000"><strong>セキュリティのための修正: <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8">httpd(8)</a> は、マルチパート MIME 用のバウンダリ生成に子プロセスの PID をリークしてしまうのと同様、Etag ヘッダ経由でファイルの inode もリークしてしまいます。これは、たとえば、ファイルハンドルの一部に inode 番号を使用する NFS での権限の奪取につながり得るものです。</strong></font><br>
    <a href="errata.html#httpd">ソースコードパッチはこちら。</a><br>
    <a href="stable.html"><font color="#00b000">[安定版への適用]</font></a>
<li>802.11g のステーションが関係しても良いように <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wi&amp;sektion=4">wi(4)</a> のホスト AP のレートバッファのサイズを増加。
<li>手動でヘッダを生成し、生の IP を出力する場合に、フルサイズの IP ヘッダに対して十分な大きさをパケットが確実に持つように。<br>
    <a href="stable.html"><font color="#00b000">[Applied to stable]</font></a> <!-- XXX 3.2-stable -->
<!-- ^ 20030215 -->
<li>IPv6 の TCP の mbuf のリークを修正。
    <a href="stable.html"><font color="#00b000">[安定版への適用]</font></a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のテーブルがオンデマンドで存在するようになったため、不要になった '-T create' オプションを除去。
<li>呼び出し元の PID が変った場合に <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=arc4random&amp;sektion=3">arc4random(3)</a> はプールを撹拌するように。
<li>Linux NFS サーバを使用するディスクレスのブートを助けるため、/etc/rc がインストールする初期の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;sektion=5">pf.conf(5)</a> に 'scrub in all no-df' を追加。
<li>ループが発生しないようになったので、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のループバックインターフェイスへのリダイレクトを再び許容。
<!-- ^ 20030214 -->
<li>libpthread のファイルディスクリプタ参照のバグを修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd&amp;sektion=8">spamd(8)</a> は anchor の一般ルールの代わりにテーブルを参照するように。
<li>ATAPI の PIO モードの選択を改善。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wi&amp;sektion=4">wi(4)</a> の mbuf のリークを修正。
<li><font color="#e00000"><strong>セキュリティのための修正: 1996 年に組み込まれてしまった、上位権限の奪取につながり得るエラーを含む、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lprm&amp;sektion=1">lprm(1)</a> のバグに対する修正です。OpenBSD 3.2 では、lprm(1) が root ではなく daemon への setuid となっているため、このインパクトは限定的なものです。</strong></font><br>
    <a href="errata.html#lprm">ソースコードパッチはこちら。</a><br>
    <a href="stable.html"><font color="#00b000">[安定版への適用]</font></a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pciide&amp;sektion=4">pciide(4)</a> で nForce をサポート完了。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> が不正なネットマスクを検出した場合、それを目障りな項目として見せるように。
<!-- ^ 20030213 -->
<li>おかしな <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ypxfr&amp;sektion=8">ypxfr(8)</a> を修正し、キーと値がもはや交換されたりしないように。これは素晴しいことだ。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cdio&amp;sektion=1">cdio(1)</a> に libedit の行編集のサポートを追加。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&amp;sektion=8">disklabel(8)</a> のコマンドラインでセクタ以外の単位を使用するように。
<li>3.2-current -&gt; 3.3-beta。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> と <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wi&amp;sektion=4">wi(4)</a> の CRC32 のコードを BSD ライセンスのバージョンに置換。
<li>Linux NFS が送信するような DF がセットされたフラグメントでもより良く取り扱えるよう、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の scrub オプションの 'no-df' を変更。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wscons&amp;sektion=4">wscons(4)</a> で、非同期モード時に WSEVENT_WAKEUP からのプロセスではなくプロセスグループにシグナルを送るように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=newsyslog.conf&amp;sektion=5">newsyslog.conf(5)</a> で、'.' と同様、':' でもユーザとグループとを区切れるように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=newsyslog&amp;sektion=8">newsyslog(8)</a> は指定した時刻にファイルをローテート可能に。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&amp;sektion=8">isakmpd(8)</a> で、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bind&amp;sektion=2">bind(2)</a> のエラーをより良くチェックするように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の解析コードで ntohs() の整合性を取れるように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> のルール解析コードのいくつかの整理統合と整頓。
<!-- ^ 20030212 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のルーティングに対するより多くの修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のリダイレクションパケットに対する ICMP リダイレクトを送信しないように。
<li>コマンドライン上で <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のマクロの記述を許容。
<li>'hz' という間違たった単位の省略を削除 (ご存じのとおり、これはもちろん 'Hz' が正しい)。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&amp;sektion=8">tcpdump(8)</a> は IP のフラグメントの DF フラグを表示するように。
<!-- ^ 20030211 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd&amp;sektion=8">spamd(8)</a> は memset() に目的に適ったパラメータをわたすように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=yp&amp;sektion=8">yp(8)</a> のホストマップに IPv6 のアドレスを許容。
<!-- ^ 20030210 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のルールのより多くの圧縮。'from' と 'to' キーワードは 'any' がアドレスのひとつかどうかのオプションとなり、'any' それ自身もポートが指定された場合のオプショナルなものに。
<!-- ^ 20030209 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chroot&amp;sektion=8">chroot(8)</a> の -u および -g オプションのセマンティクスを (-u は -g でオーバーライドされない限りは -U と同様に) 変更し、-U と -G を削除。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spell&amp;sektion=1">spell(1)</a> の辞書の FreeBSD や NetBSD の変更に同期。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の scrub ルールに新しい 'random-id' オプションを追加。これは外に出ていく IP の ID をランダム化し、<a href="http://www.research.att.com/~smb/papers/fnat.pdf">NAT 検出と OS の特定</a>を無効化。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mktemp&amp;sektion=1">mktemp(1)</a> を使用スクリプトが失敗時に使用しない一時ファイルを残したままにしないように。
<!-- ^ 20030208 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chpass&amp;sektion=1">chpass(1)</a> に小さな特別の偏執狂的修正を行い、一時ファイルが自分の実際の UID で所有されているかどうかをチェックするように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslogd&amp;sektion=8">syslogd(8)</a> が接続できない場合に、コンソールに <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslog&amp;sektion=3">syslog(3)</a> は出力しないように。
<!-- ^ 20030207 -->
<li>PermitRootLogin が 'no' にセットされている場合の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8">sshd(8)</a> の情報の漏曳を修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;sektion=5">pf.conf(5)</a> をデフォルトで 600 のモードでインストールするように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp-server&amp;sektion=8">sftp-server(8)</a> の rename と symlink コマンドの競合を修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> で 'ProxyCommand none' を許容。
<!-- ^ 20030206 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&amp;sektion=8">disklabel(8)</a> のツールまわりのバグをハック。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の不正なリダイレクションのハンドリングを改善。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> の ProxyCommand オプション解析を整理。
<!-- ^ 20030205 -->
<li>スレッド化ファイルディスクリプタの改善の最後の部分の、ステージ 1 の途中からのいくつかのバグを修正。
<li>全アドレス空間上のラウンドロビンが意図した結果になりそうもないので、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のルーティングの際にすべて 1 のマスクをセットするように。
<li>スレッド化されたファイルディスクリプタハンドリングに対する改善の最初のインストール (詳細は<a href="http://www.openbsd.org/cgi-bin/cvsweb/src/lib/libpthread/uthread/uthread_fd.c.diff?r1=1.16&amp;r2=1.17&amp;cvsroot=openbsd&amp;f=h">チェックインのコメント</a>を参照)。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&amp;sektion=8">isakmpd(8)</a> は OpenBSD 3.2 と同様、Default-Phase-1-Configuration 変換を 3DES-SHA-RSA_SIG にセットするように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> のバッファは符号なし整数のみサポートしているため、BSD 認証時に符号付き整数をバッファにロードしないように。
<!-- ^ 20030204 -->
<li>シグナルハンドラ中で、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=snprintf&amp;sektion=3">snprintf(3)</a> および <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslog_r&amp;sektion=3">syslog_r(3)</a> を (注意して) 使用することが安全であることをドキュメント中に記述。
<li>現時点では、これはループを生成し得るものなので、ループバックインターフェイスをターゲットとして使用する <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の {dup,reply,route}-to ルールを停止。
<li>altq のルールが実際にロードされるまで、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> は altq のルールを拡張しないように (また、親キュー等をチェックするように)。
<li>より多くの <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&amp;sektion=1">gcc(1)</a> のスタック保護の修正と微調整。
<!-- ^ 20030203 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> が、オープンしていないファイルのクローズを行わないように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chpass&amp;sektion=1">chpass(1)</a> が一時ファイルのオープンをより偏執狂的に。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iostat&amp;sektion=8">iostat(8)</a> のディスクのスループットバーをより良いものに。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> に secsh の標準に従った鍵交換の推測を実装。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scp&amp;sektion=1">scp(1)</a> のユーザ名の解析を緩和。
<!-- ^ 20030202 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> を IPv6 なしでビルドするように。
<li>ESP コードの mbuf のリークを修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=netstat&amp;sektion=1">netstat(1)</a> の間違った配列のインデックスを修正。
<!-- ^ 20030201 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vlan&amp;sektion=4">vlan(4)</a> のマルチキャストの問題を修正し、いくつかの不要な Ethernet 固有の部分をドライバから除去。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の変換と route-to/reply-to を実際に修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> で TCP、UDP、ICMP および ICMP6 のチェックサムをチェックし、カーネルのレイヤ 4 をパケットがヒットした際に、サムが再計算されないように。不良パケットに対するフィルタのレスポンスの使用による<a href="http://www.phrack.org/phrack/60/p60-0x0c.txt">ファイアウォール検出</a>を回避するため、不正なチェックサムを持つパケットを静かに廃棄するように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の TCP の状態検査を RFC 763 準拠のものにして、TCP のハンドシェイク中のウィンドウの範囲外の ACK を送信する SYN-クッキーの仕組みが存在する場合に、reset を送信するように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=route&amp;sektion=8">route(8)</a> がもはや setuid root ではなくなり、実 UID の代わりに実効 UID をチェックするように。
<li>多数のファイルシステムのロックの問題を修正。詳細は<a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/kern/vfs_cache.c?rev=1.9&amp;content-type=text/x-cvsweb-markup">チェックインのコメント</a>を参照。
<li>ICMP の mbuf のリークを修正。<br>
    <a href="stable.html"><font color="#00b000">[安定版への適用]</font></a> <!-- XXX 3.2 -->
<!-- ^ 20030131 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pthread_kill&amp;sektion=3">pthread_kill(3)</a> 用に見せかけの siginfo_t を生成。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dhcpd&amp;sektion=8">dhcpd(8)</a> および <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dhcrelay&amp;sektion=8">dhcrelay(8)</a> が死んだインターフェイスを使用しようとする試みを停止。
<li>ELF イメージでは、読み込み専用データはもはや実行可能ではないので、プログラムテキストに対して分離されたセクションに .rodata を置くように。
<li>インターフェイスに接続されたネットワーク用の  &lt;if&gt;:network や、インターフェイスのブロードキャストアドレス用の &lt;if&gt;:broadcast のような、新しい <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;sektion=5">pf.conf(5)</a> のインターフェイスモディファイア。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd&amp;sektion=8">spamd(8)</a> は要求があれば特権ポートにバインドすることもできるため、早い時期に特権を放棄するように。
<!-- ^ 20030130 -->
<li>ELF に対する initialise-dependent-libraries-first を a.out にも反映。
<li>POSIX の理由のため、4.3BSD 互換のライブラリ呼び出しの代わりに、本当の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=setreuid&amp;sektion=2">setre[ug]id(2)</a> システムコールを (まだ setres[ug]id() を使用して実装されているにも関わらず) 再び実行するように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8">authpf(8)</a> は、プロセスタイトルを '&lt;user&gt;@&lt;ip&gt;' として設定。
<!-- ^ 20030129 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のプリントが正常に動作するよう、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&amp;sektion=8">tcpdump(8)</a> に欠落していた ntohs を追加。
<!-- ^ 20030128 -->
<li>libc 中のレゾルバのコードのさらなるスレッドセーフ化。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=telnetd&amp;sektion=8">telnetd(8)</a> の fd_set のオーバーフローを修正。
<li>pthread のシグナルハンドリングに対する改善。詳細は<a href="http://www.openbsd.org/cgi-bin/cvsweb/src/lib/libpthread/uthread/uthread_sig.c?rev=1.18&amp;content-type=text/x-cvsweb-markup">チェックインのコメント</a>を参照。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=eg&amp;sektion=4">eg(4)</a>、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=el&amp;sektion=4">el(4)</a>、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ie&amp;sektion=4&amp;arch=hppa">ie(4/HPPA)</a> および <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=url&amp;sektion=4">url(4)</a> で、最少フレーム長より小さなフレームをゼロパディング。
<li>termcap エントリの wsvt25 用のカラーを現実に即して更新。
<li>anchor を特定するため、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> に -a オプションが付与された場合、これがグローバルな効果を持つように働くことを許容しないように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&amp;sektion=8">tcpdump(8)</a> は、IPv6 のオプションヘッダを表示するためのループから正しく脱出するよう確認。
<!-- ^ 20030127 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=audio&amp;sektion=4">audio(4)</a> でレコードの高水位線を計算するのに、演奏パラメータの代わりにレコードを使用。
<li>多重行のコマンドを壊してしまうかも知れないので、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp-proxy&amp;sektion=8">ftp-proxy(8)</a> は先頭の空白を除去しないように。
<li>インストーラのスクリプトのさらなるクリーンアップと縮小。
<!-- ^ 20030126 -->
<li>ポートのレンジに関係している <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の rdr ルールの運用を正確に。現時点では、from- および to- レンジのサイズは異なる。
<li>オフセットがネガティブの場合の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の正規化の間に、偽造パケットを廃棄しないように。
<li>テーブルステートメントをともなう <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> の -n オプションの働きを修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;sektion=5">pf.conf(5)</a> にリストされたファイルからの初期化すべき <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のテーブルを許容。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のルール中の、不正なテーブル関連の構造体のための、より良いチェックとエラーレポート。
<li>送信バッファ空間のリミットの半分以下の送信セグメントによる TCP の性能を改善。これは (もし、送信すべきデータが十分に利用可能である場合には)、常に少なくとも 2 セグメントが送信されることを意味する。受信側が BSD なら、TCP はソケット上にひとつ以上の ACK を受信していないパケットのある遅延 ACK をターンオフする。
<!-- ^ 20030125 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=newsyslog&amp;sektion=8">newsyslog(8)</a> のモニタモードに対する改善。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd&amp;sektion=8">spamd(8)</a> の潜在的なメモリリークを修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xinit&amp;sektion=1">xinit(1)</a> がコマンドライン経由で MIT_MAGIC_COOKIE を決して漏曳しないよう確認。
<li>一時ファイルに対する変更を検出する際の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vipw&amp;sektion=8">vipw(8)</a> のタイムスタンプの使用。
<li>スレッドが -current で作成されるまでは、スレッドのシグナルハンドラが実行されないよう確認。
<li>i386 および sparc64 で、スレッドが切り替えられる際に FPU の状態を保存し、これらのアーキテクチャにおいて浮動小数点のプリエンプトのリグレッションテストが通るように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ndc&amp;sektion=8">ndc(8)</a> の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.conf&amp;sektion=8">rc.conf(8)</a> の変数 NAMED_FLAGS の読み込みを修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の TCP ウィンドウのスケーリングサポートに対する修正。
<li>pfctl の -vvsq による (altq の統計情報) 表示がより便利になり、CBQ および PRIQ についての帯域幅およびパケットレートの統計を表示するように。
<li>BIND 9 とともに <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nslookup&amp;sektion=8">nslookup(8)</a> もインストールし、いらだたしい反対の警告を表示しないように。
<!-- ^ 20030124 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp-proxy&amp;sektion=8">ftp-proxy(8)</a> は mk.conf 中の TCP_WRAPPERS の設定に忠実に。
<li>新しい CVSROOT/config のオプションの "DisableXProg" によって、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&amp;sektion=1">cvs(1)</a> のチェックインプログラムとアップデートプログラムが無効化されるのを許容。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wi&amp;sektion=4">wi(4)</a> で <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=splimp&amp;sektion=9">splimp(9)</a> を常に使用するようにし、ある種の送信の失敗を修正。
<li>要求に応じて SSH プロトコル 1 や 2 を強制的に使用するよう、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scp&amp;sektion=1">scp(1)</a> に -1 および -2 のオプションを追加。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scp&amp;sektion=1">scp(1)</a> の新しい帯域幅制限用オプション -l。
<li>保存された鍵の使用の確認を要求するポップアップダイアログを <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-agent&amp;sektion=1">ssh-agent(1)</a> に強制する新しい -c オプションを <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-add&amp;sektion=1">ssh-add(1)</a> に追加。
<li>icmp6 パケットの変換時に <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> がカーネルをクラッシュさせないように。
<!-- ^ 20030123 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=unifdef&amp;sektion=1">unifdef(1)</a> に対するより多くの更新。
<!-- ^ 20030122 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&amp;sektion=1">ftp(1)</a> のマクロ拡張の strcpy を strlcpy に変更。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> の add または replace コマンドによる参照の際に、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のテーブルが自動的に現れてくるように。
<li><a href="http://www.ietf.org/rfc/rfc1323.txt">RFC 1323</a> の TCP ウィンドウのスケーリングサポートを <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> に追加。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wi&amp;sektion=4">wi(4)</a> のホストアクセスポイントのタイムアウトを改善。
<li>デフォルトの鍵の生存期間を設定するための新しいオプション -t を <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-agent&amp;sektion=1">ssh-agent(1)</a> に追加。
<li>一般的な監視用インターフェイスと <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&amp;sektion=3">sysctl(8)</a> とを追加。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wi&amp;sektion=4">wi(4)</a> を縮小し、-DSMALL_KERNEL 付きでコンパイルされた場合にホストアクセスポイントのコードを除去することで、インストールフロッピーのいくらかのスペースを捻出。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=traceroute6&amp;sektion=8">traceroute6(8)</a> が <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&amp;sektion=3">sysctl(3)</a> 経由でデフォルトのホップのリミットを取得する際に、正しい変数の型を使用。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compat_linux&amp;sektion=8">compat_linux(8)</a> のソケットシステムコールのエミュレーションを微調整し、UDP を使用するプログラムのエミュレーションを改善。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=traceroute6&amp;sektion=8">traceroute6(8)</a> によって <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=setsockopt&amp;sektion=2">setsockopt(2)</a> にわたされる不正な引数長を修正。
<!-- ^ 20030121 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=siop&amp;sektion=4">siop(4)</a> の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=malloc&amp;sektion=9">malloc(9)</a> の後に bzero() を実行。<br>
    <a href="stable.html"><font color="#00b000">[安定版への適用]</font></a>
<li>BIND 9 の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rndc&amp;sektion=8">rndc(8)</a> の共有秘密鍵が存在しない場合に、/etc/rc はそれを生成するように。
<li>BIND 9 の構成ファイルを追加。
<li>BIND 9 の DNSSEC プログラムをスキップ。
<li>BIND 9.2.2rc1 を導入開始 (OpenBSD ローカルな変更ドキュメントは <a href="http://www.openbsd.org/cgi-bin/cvsweb/src/usr.sbin/bind/README.OpenBSD?rev=1.1&amp;content-type=text/x-cvsweb-markup">README.OpenBSD</a>)。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> のテーブルコード中のいくつかのばかげたミスを修正。
<li>/var/empty に <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chroot&amp;sektion=2">chroot(2)</a> するプログラム用に、/var/empty/dev/log を生成。
<li>テーブル生成フラグが事実上削除されたものであった場合に、そのフラグを <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> が変更していないように見えるので、その DIOCRSETTFLAGS の実装中のタイポを修正。
<li>止むを得ない ENOBUFS の際の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslog&amp;sektion=3">syslog(3)</a> の /dev/log への再接続を停止し、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chroot&amp;sektion=2">chroot(2)</a> したプロセスに損傷を与えないように。<br>
    <a href="stable.html"><font color="#00b000">[Applied to stable]</font></a> <!-- XXX 3.2-stable -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chroot&amp;sektion=2">chroot(2)</a> されるデーモンである <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=portmap&amp;sektion=8">portmap(8)</a>、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rstatd&amp;sektion=8">rstatd(8)</a> および <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rusersd&amp;sektion=8">rusersd(8)</a> が LOG_NDELAY 付きで <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=openlog&amp;sektion=3">openlog(3)</a> を使用するよう変更。
<li>pthread 下の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sigaltstack&amp;sektion=2">sigaltstack(2)</a> を実装。
<li>(CVS のヒストリを含む) スレッドの資源を lib/libc_r から lib/pthread にコピーし、libc_r を Attic に移動。
<li>テーブルを含むルールのために、-vvs[rn] オプションで <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> はより多くの情報を表示するように。
<!-- ^ 20030120 -->
<li><font color="#e00000"><strong>セキュリティのための修正: <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&amp;sektion=1">cvs(1)</a> の二重のメモリ解放が、攻撃者に対して cvs を実行するユーザの権限でのコードの実行を許可してしまいます。これは、異なるユーザとして、そのユーザに代わって cvs コマンドを実行する場合にのみ問題となるものです。これは、ほとんどの場合において、cvs が pserver クライアント/サーバ接続による方法を使用するよう構成されている場合に存在し得る問題である、ということを意味します。</strong></font><br>
    <a href="errata.html#cvs">ソースコードパッチはこちら。</a><br>
    <a href="stable.html"><font color="#00b000">[安定版への適用]</font></a>
<li>不正な ioctl に対する健全性の検査を <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gif&amp;sektion=4">gif(4)</a> に追加。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=perl&amp;sektion=1">perl(1)</a> の構築を、libc_r -> pthread に移行した行に変更。
<li>a.out のライブラリ依存のハンドリングに対する大がかりな改善。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=select&amp;sektion=2">select(2)</a> のスレッド解除ポイントを標準的なものに。
<li>ある種のロック関連の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=raidctl&amp;sektion=8">raidctl(8)</a> のパニックを修正。
<!-- ^ 20030119 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=unifdef&amp;sektion=1">unifdef(1)</a> の更新。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> の -k オプションの処理の際の NULL 被参照を修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> のパーサ中の host() の大がかりなクリーンアップ。
<li>/dev/pf をオープンするのに不十分な権限で <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a>を実行する場合に、-n オプションがテーブルコマンドの文法チェッカとして動作するように。
<!-- ^ 20030118 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の NAT のランダムなソースポート割り当てが失敗しないように。実際にはそうするためにルールが 'static-port' を問い合わせなければならない。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> で 'static-port' キーワードを有効化。
<li>ELF 実行形式の改竄からのより良い保護のために <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ld&amp;sektion=1">ld(1)</a> を変更 (詳細は <a href="http://www.openbsd.org/cgi-bin/cvsweb/src/gnu/usr.bin/binutils/bfd/elf.c?rev=1.13&amp;content-type=text/x-cvsweb-markup">checkin のコメント</a>を参照)。
<li>新しい出力フォーマットオプション '-f' を <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ncheck_ffs&amp;sektion=8">ncheck_ffs(8)</a> に追加。
<li>ディレクトリに set[ug]id ビットがセットされていても OpenBSD では意味を持たないので、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ncheck_ffs&amp;sektion=8">ncheck_ffs(8)</a> はもはやこれをレポートしないように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> のパーサに欠落していた YYERROR を修正。
<!-- ^ 20030117 -->
<li>引き出されたトラックの演奏についてうるさく問い合わせる <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cd&amp;sektion=4">cd(4)</a> ドライブを取り扱うように。
<li><a href="http://www.yourvote.com/pci/">自由に利用可能な PCI ベンダおよびデバイスのリスト</a>がもはや利用可能ではないことについての<a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/dev/pci/pcidevs.diff?r1=1.586&amp;r2=1.587&amp;f=h">残念で悲しい注意事項</a>。
<li>現実に応じて、より多くの業を <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=protocols&amp;sektion=5">protocols(5)</a> に導入。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pciide&amp;sektion=4">pciide(4)</a> に対する、より多くの改善とデバイスの追加。
<!-- ^ 20030116 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp&amp;sektion=1">sftp(1)</a> の初期化されていない変数を含むインデックスを使用する代わりに、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=glob&amp;sektion=3">glob(3)</a> が見つけた最初のパスを明示的に使用するように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=whois&amp;sektion=1">whois(1)</a> に対する小さな修正。
<li>シェアードライブラリを生成する ports にとって便利なように、多数の X のライブラリで PIC アーカイブを生成するように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nfsstat&amp;sektion=1">nfsstat(1)</a> は、もはやサポートされていない <a href="http://docs.freebsd.org/44doc/papers/nqnfs.html">NQNFS</a> プロトコル用の情報を表示しないように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nfsstat&amp;sektion=1">nfsstat(1)</a> のファイルシステム ID 参照およびマイナーなバッファオーバーランを修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のテーブル生成時のいくつかのマイナーなバグを修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> は、'-T load' オプションを以前のように認識するように。
<li>PFR_FLAG_DUMMY を使用する場合の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のテーブルコード内のメモリリークを修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dhclient&amp;sektion=8">dhclient(8)</a> の利便性のため、起動時に <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc&amp;sektion=8">rc(8)</a> がインストールした初期の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のルールベースからの外行きの ping を許容。
<!-- ^ 20030115 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> の IP アドレス解析コードすべてを一ヶ所に。
<li>libc_r および libnpthread を除去し、libpthread を追加。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=md5&amp;sektion=1">md5(1)</a> のリードエラーをチェックし、レポートするように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp&amp;sektion=1">sftp(1)</a> で、レギュラーファイルではないファイルのアップロード/ダウンロードを行わないように。
<li>/etc/weekly は、(デフォルトでは) /tmp ではなく /var/tmp を使用してビルドされるように。
<!-- ^ 20030114 -->
<li>size_t のオーバーフローを防止するため、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=malloc&amp;sektion=3">malloc(3)</a> に特別の健全性チェックを追加。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のテーブルコードで、より良い入力チェックとエラーハンドリングを行うように。
<!-- ^ 20030113 -->
<li>-i オプション付きの <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vmstat&amp;sektion=8">vmstat(8)</a> で、kvm ではなく <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&amp;sektion=3">sysctl(3)</a> を使用するよう、変換を開始。
<li>NVIDIA nForce をサポートするための作業を開始。
<!-- ^ 20030112 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> はテーブルの取り扱い時に CIDR 形式の IPv4 アドレスをサポート。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rusers&amp;sektion=1">rusers(1)</a> に対する、いくつかのコマンドラインの修正と微調整。
<li>-P オプション付きの <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rm&amp;sektion=1">rm(1)</a> が多重リンクのファイルを上書きしてしまわないように。
<!-- ^ 20030111 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> のテーブルに対する、無効にされたアドレスの加減算のハンドリングを修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> で、接続しようと試みた最後のアドレス用に <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=socket&amp;sektion=2">socket(2)</a> のエラーだけを表示するように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rcp&amp;sektion=1">rcp(1)</a> ならびに <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scp&amp;sektion=1">scp(1)</a> で、書き込みエラーの後の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftruncate&amp;sektion=2">ftruncate(2)</a> で、ファイルの穴全体を満たしてしまわないように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp&amp;sektion=1">sftp(1)</a> クライアントに進捗状況の表示を追加。
<!-- ^ 20030110 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fetch&amp;sektion=9&amp;release=OpenBSD+3.2">fetch(9)</a> および <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=store&amp;sektion=9&amp;release=OpenBSD+3.2">store(9)</a> をカーネルから除去し、それらの呼び出しを、その派生の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=copy&amp;sektion=9">copy(9)</a> で置換。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> で、種々の strl* の戻り値のチェック。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> のキューの統計表示の最初のサポート (-vsq オプション)。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&amp;sektion=8">isakmpd(8)</a> で、'Default-Phase-1-Configuration' -&gt; 'Default-phase-1-configuration'、'Default-Phase-2-Suites' -&gt; 'Default-phase-2-suites' の変更。
<li>新しい <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;sektion=5">pf.conf(5)</a> のテーブル操作用シンタクス、および、これに関連して新しい -Tl オプションの <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> への追加。
<li>カーネル内の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のテーブルの有効化/無効化のサポートを追加。
<!-- ^ 20030109 -->
<li>ike-mode-cfg 応答機能として動作する場合の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&amp;sektion=8">isakmpd(8)</a> の SET/ACK を有効化。<br>
    <a href="stable.html"><font color="#00b000">[Applied to stable]</font></a> <!-- XXX 3.2-stable -->
<li>バッチモードの <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp&amp;sektion=1">sftp(1)</a> への改善と修正。
<!-- ^ 20020108 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=csh&amp;sektion=1">csh(1)</a> 用の巨大な <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=strlcpy&amp;sektion=3">strlcpy/strlcat(3)</a> の改造。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compress&amp;sektion=1">compress(1)</a> で、入力をオープンできない場合の既存の出力ファイルの消失を修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&amp;sektion=1">gcc(1)</a> の attribute(sentinel) の改善。
<li>-p でポートを指定可能、再帰的 IP 参照、INICHOST (-i) の netsol 化、などの <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=whois&amp;sektion=1">whois(1)</a> の改善。
<!-- ^ <li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&amp;sektion=1">gcc(1)</a> のスタック保護コードで、long int をサポートしないプロセッサ上でのこれの使用の回避を追加。 --> <!-- しかし、残念ながら、20030112 にどうしても元に戻されてしまった -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> がその機能を代行しているため、カーネルから古い altq のパケット分類コードを除去。
<!-- ^ 20030107 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> の文字列パーサは、新しいデーモン用のユーザ名に便利なように、アンダースコアから始まる文字列の取り扱いが可能に。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8">authpf(8)</a> は、自身の前身が失敗した後はクリーンアップを行うように。
<li>回り込みによる ID の衝突を防止するため、s[eh]mmni が (やや新しい <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&amp;sektion=8">sysctl(8)</a> インターフェイス経由で) 0xffff より大きな値にセットされることを許容しないように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のテーブルは、オンデマンドで出現/消滅するように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sudoers&amp;sektion=5">sudoers(5)</a> のパーサの、直前に改行がない EOF のハンドリングを修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sftp&amp;sektion=1">sftp(1)</a> で、-p で引っ張ってきたファイルのパーミッションに常に u+w を追加しないように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl.conf&amp;sektion=5">sysctl.conf(5)</a> でセットされた値は、sh 用にクォートされている場合にスペースを含むことが可能に。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=shmctl&amp;sektion=2">shmctl(2)</a> は、削除用にマークされたセグメント上で実行可能に。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compress&amp;sektion=1">compress(1)</a> で、ミスによって 'may not mix -o, -c or -t' の警告で失敗しないようにし、圧縮時に stdin で窒息しないように。
<li>それぞれのファイルの与えられた行にポイントを移動する +number オプションを <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mg&amp;sektion=1">mg(1)</a> に追加。
<li>NAT プール関連のいくつかの {dup,reply,route}-to 問題を修正。
<!-- ^ 20030106 -->
<li>新しいグループ _lkm が生成され、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=modstat&amp;sektion=8">modstat(8)</a> は kmem ではなく _lkm への setgid としてインストールされるように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pstat&amp;sektion=8">pstat(8)</a> は -v オプションで <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kvm_openfiles&amp;sektion=3">kvm_openfiles(3)</a> だけを実行するようになり、残りは <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&amp;sektion=3">sysctl(3)</a> を使用して取得するように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cp&amp;sektion=1">cp(1)</a> はパーミッションを後でセットするため、-R は書き込みアクセス権のないディレクトリへのコピーも動いてしまっていた。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dlsym&amp;sektion=3">dlsym(3)</a> の null 被参照を修正。
<!-- ^ 20030105 -->
<li>VAX のような非 IEEE システム上の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ps&amp;sektion=1">ps(1)</a> で稀に発生していたゼロによる除算エラーを回避。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bktr&amp;sektion=4">bktr(4)</a> からエンディアンに関係する部分を除去し、macppc 上でも有効化。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=whois&amp;sektion=1">whois(1)</a> の解放済の null ポインタへのアクセスを試みないよう確実に。
<li>'no-route' の実装を、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> ルールのアドレスのフラグからアドレスの型に変更。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のステップをスキップするための計算を、'no-route' キーワードに対して忠実に行うように。
<li>特定バージョンのライブラリを強制的にリンクするための <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ld&amp;sektion=1">ld(1)</a> のコードを除去。<br>
    <a href="stable.html"><font color="#00b000">[Applied to stable]</font></a> <!-- XXX 3.2-stable -->
<li>ポーランド語およびトルコ語配列キーボードのコンソールサポートを追加。
<!-- ^ 20030104 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のテーブルのユーザランドのサポートを <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> および <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8">authpf(8)</a> に追加。
<li>現在は使用されなくなった <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=screenblank&amp;sektion=0&amp;manpath=OpenBSD+3.2&amp;arch=sparc">screenblank</a> への参照を /etc/rc から除去。
<li>64 ビットのビッグエンディアンのターゲットの場合の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dig&amp;sektion=1">dig(1)</a> の時間表示を修正。
<li>宛先インターフェイスではなく、送信元インターフェイスが LEARNING 状態にある場合は、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bridge&amp;sektion=4">bridge(4)</a> のルーティングを更新。
<!-- ^ 20030103 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&amp;sektion=1">ftp(1)</a> は、失敗した cd コマンドの検出をよりうまく行うように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslog&amp;sektion=3">syslog(3)</a> が '%%m' を正しく解析するように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=at&amp;sektion=1">at(1)</a> の null 被参照を修正。
<li>ルーティングを行うための <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のルールに方向を要求。
<li>(route|reply)-to を結合し、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のルールで解釈される際に、状態テーブルの挿入が一度限り行われるよう確実に。
<!-- ^ 20030102 -->
<li>(システムの著作権表示の) 注意書きの年を 2003 に。
<li>sendmail 8.12.7 に更新。
<li>pass/block ルールだけではなく、すべての <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のルールの型を <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&amp;sektion=8">tcpdump(8)</a> で表示可能に。
<li>単一の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ioctl&amp;sektion=2">ioctl(2)</a> 呼び出しで、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のテーブルのコードが、重複テーブルおよび/または重複アドレスを取り扱えるように。
<!-- ^ 20030101 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のルールアクション (scrub または no-scrub) をスキップするステップを除去。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の scrub ルールの統計を正しく更新するように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の scrub ルールをフィルタルールと分離したルールセットに。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xsystrace&amp;sektion=1">xsystrace(1)</a> のポリシーの示唆を実装。
<li>amiga および sun3 プラットフォームのサポートを停止。
<!-- ^ 20021231 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&amp;sektion=3">sysctl(3)</a> 経由でルートのエントリをリストする際に、バッファオーバーランが発生しないように。
<li>EXCEPT ルールの失敗の原因となっていた、libwrap 中の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=strtok_r&amp;sektion=3">strtok_r(3)</a> の破損を修復。
<li>欠落していた <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=exit&amp;sektion=3">exit(3)</a> を <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> に追加。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=execvp&amp;sektion=3">exec[vl]p(3)</a> が検索するパスのひとつに現れる、希望の実行可能モデュール名を含むディレクトリの大文字・小文字を正しく無視。
<li>デフォルトの <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の状態テーブルのサイズを 10000 エントリ分に設定。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;sektion=5">pf.conf(5)</a> で、キーワード 'ipv6-icmp-type' を 'icmp6-type' に変更し、'proto ipv6-icmp' の代わりとして 'icmp6' を許容。
<li>以前 cdefs.h を修正したのと同様の、Kerberos IV の krb.h の C++ コンパイラの問題を修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&amp;sektion=1">make(1)</a> のコマンドラインの解析中の null 被参照を回避。
<li>コマンドラインオプション -c 付きで起動された <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd&amp;sektion=8">spamd(8)</a> への接続用のメモリを割り当て。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cd&amp;sektion=4">cd(4)</a> は、他の SCSI デバイスより低い頻度で再試行するようにし、バスからの 'not ready' ステータスを無視しないように。
<li>SCSI デバイスがレディになるのを待つ (scsi_test_unit_ready()) のに、再試行回数のパラメータを追加。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=semop&amp;sektion=2">semop(2)</a> が <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tsleep&amp;sektion=9">tsleep(9)</a> を実行する必要がある場合、非常に低い優先度で実行するように。
<li>セマフォのアンドゥ用構造体がただちに利用可能にならなくても、それが割り当て可能になるのを待つようにし、それを待つ間に自身のプロセスに別のものが割り当てられていないことをチェック。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nc&amp;sektion=1">nc(1)</a> の SOCKS 接続のリターンコードを正しくチェック。
<li>より多くのファイアワイヤの修正。複数デバイスの同時サポートも進行中。
<li>インストール元としての NFS への期限切れの参照をインストールノートから除去。
<!-- ^ 20021230 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wi&amp;sektion=4">wi(4)</a> の HOSTAP_FLAG_BITS を修正。
<li>'pfctl -a name -s[rn]' がすべてのルールかアンカー 'name' 上のすべてのルールセットの nat を表示するように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8">authpf(8)</a> で、'$user_id' マクロをユーザ名に設定。
<li>一対のセマフォカウンタの欠けていた更新を実施。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> でアドレスの効率的なテーブルをサポートするためのカーネル部分を追加 (現時点では、カーネルのルーティングテーブルと同様の基数テーブルとして実装)。
<!-- ^ 20021229 -->
<li>ある種の C++ コンパイラが落ちる原因となる &lt;sys/cdefs.h&gt; の外側のゼミコロンを除去。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nc&amp;sektion=1">nc(1)</a> の、おもしろいほど間違っていた <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=calloc&amp;sektion=3">calloc(3)</a> のサイズを修正。
<!-- ^ 20021228 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の scrub ルールの log キーワードを許容。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の ioctl のハンドリングに対するいくつかの修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> がステートフルな接続をルーティングする場合に、正しいプールアドレスを使用するように。
<li>カーネルの <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の binat-anchor ルール適合能力を修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のクラッシュの原因となっていた、足りない初期化を追加。
<!-- ^ 20021227 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc&amp;sektion=8">rc(8)</a>、rc.conf および root の crontab に <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd&amp;sektion=8">spamd(8)</a> のサポートを追加。
<li>カーネルの <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のルーティングのチェックをより偏執狂的に行うように。
<!-- ^ 20021226 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd&amp;sektion=8">spamd(8)</a> の接続タイムアウトを中断しないように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> に対する -R および -N フラグに注意を払うように。
<li>スタック保護機能に関するインライン関数の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&amp;sektion=1">gcc(1)</a> のハンドリングを微調整。
<!-- ^ 20021225 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd&amp;sektion=8">spamd(8)</a> 用の新しい _spamd ユーザおよびグループ。
<li>CBQ ルール用の 'control' キーワードの <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> の表示を修正。
<!-- ^ 20021224 -->
<li>ビッグエンディアンマシン用に libc/md/md5c.c を再コンパイルするように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pppd&amp;sektion=8">pppd(8)</a> の null 被参照を回避。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfsync&amp;sektion=4">pfsync(4)</a> 中の一対の特別な <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ntohs&amp;sektion=3">ntohs(3)</a> 呼び出しを除去。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=atactl&amp;sektion=8">atactl(8)</a> のクリーンアップ。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=siop&amp;sektion=4">siop(4)</a> のデバイス割り当てのバグを修正。<br>
    <a href="stable.html"><font color="#00b000">[安定版への適用]</font></a>
<!-- ^ 20021223 -->
<li>Perl の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=Safe&amp;sektion=0">Safe(3p)</a> モジュールを 2.09 に更新し、<a href="http://archive.develooper.com/perl5-porters@perl.org/msg87643.html">セキュリティホール</a>を修正。<br>
    <a href="stable.html"><font color="#00b000">[安定版への適用]</font></a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=newsyslog&amp;sektion=8">newsyslog(8)</a> のエラーメッセージが行番号を含むように。
<li>呼び出し元がセッションリーダである場合や、セッションリーダにできない場合に、'chroot -U' が <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=setlogin&amp;sektion=2">setlogin(2)</a> するように。
<li>undef の場合と同様に null に定義された $SHELL を <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chroot&amp;sektion=8">chroot(8)</a> がチェックするように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslogd&amp;sektion=8">syslogd(8)</a> の正しいソケットの受信バッファ長を増加。
<li>nat プールを使用する binat ルールの <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> による表示を修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8">authpf(8)</a> のルールは、主ルールベースの最後にではなく、そのアンカールール中で管理されるように。authpf の活性化には新しい *anchor ルールが必要。
<!-- ^ 20021222 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=msgget&amp;sektion=2">msgget(2)</a> から返されたキュー識別子が 0 以上であることを確実に。
<li>プロキシポートを持たない <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の rdr ルールを正確に表示。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> の欠落していた初期化を修正。
<!-- ^ 20021221 -->
<li>スパマーによるメールサーバの不正利用を防止するため、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の機能を使用する <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd&amp;sektion=8">spamd(8)</a> を追加。
<li>構造体を割り当てる代わりに bcopy() を使用していることによる、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfsync&amp;sektion=4">pfsync(4)</a> の Alpha 固有のクラッシュを修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mailwrapper&amp;sektion=8">mailwrapper(8)</a> の free() 後の使用を修正。
<li>新しいカーネル <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pool&amp;sektion=9">pool(9)</a> フラグの PR_DEBUG を追加。これを使用すると、pool メモリは M_DEBUG を使用して <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=malloc&amp;sektion=9">malloc(9)</a> される。
<!-- ^ 20021220 -->
<li>新しいカーネル内 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=malloc&amp;sektion=9">malloc(9)</a> に M_DEBUG を追加。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=whois&amp;sektion=1">whois(1)</a> で CORENIC の取り扱いのサポート。
<li>データサイズ、スタックサイズをそれぞれ表示するため、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ps&amp;sektion=1">ps(1)</a> に dsiz および ssiz キーワードを追加。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=awk&amp;sektion=1">awk(1)</a> を '<a href="http://cm.bell-labs.com/cm/cs/who/bwk/">one true awk</a>' バージョン 20021213 (13 日の金曜日) に更新。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=whois&amp;sektion=1">whois(1)</a> に -6 および -c のレジストリショートカットを追加し、'!' で始まるものの VNIC の取り扱いがうまく動くように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp-proxy&amp;sektion=8">ftp-proxy(8)</a> の、より良いレゾルバのエラーチェックおよび少しの修正と多数のメッセージのクリーンアップ。
<li>GNU <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=as&amp;sektion=1">as(1)</a> で、'--keep-locals' の短縮形としての '-k' の使用を中止。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のスキップステップ計算をを O(n 乗) から O(n) に最適化。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> が '{binat,nat,rdr}' を評価しないバグを修正。
<!-- ^ 20021219 -->
<li>ルールに対する -vsr オプションと同様、(-vsn 付きの) <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> オプションで変換の統計情報の表示を許容。
<li>アンカールールからの <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のルールをロギングする場合、アンカールールの中のルール番号ではなく、アンカールール番号を表示するように (できれば近い将来、両方を表示するように)。
<li>状態テーブルエントリ表示が、既にないルールを表示しようとしないよう確実に。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の DIOCCHANGE* チケットを上書きして異なる型のルールに変更してしまうのを防止。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の rdr アンカールールにおいて、単一の相手先ポートをサポート。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> {binat,nat,rdr} アンカーの解析で、実際にサポートされているものに適合するように。
<!-- ^ 20021218 -->
<li>/LTQ を含む場合、常に PRIQ および HFSC スケジューラを使用するようコンパイル。
<li>SysV の共有メモリおよびセマフォの制限を <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&amp;sektion=8">sysctl(8)</a> 経由で構成可能に。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=whois&amp;sektion=1">whois(1)</a> は、その問い合わせリストのひとつが見つからなかった場合にも、最終的にエラーメッセージを出力しないように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> に PRIQ スケジューラのサポートを追加。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=su&amp;sektion=1">su(1)</a> がセッションのリーダである場合に、(setlogin の man ページに注意書きがあるように) <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=setlogin&amp;sektion=2">setlogin(2)</a> だけを呼び出すように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compress&amp;sektion=1">compress(1)</a> が、より <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gzip&amp;sektion=1">gzip(1)</a> のように動くように。-r (再帰) オプションを追加し、また、展開時には既存のファイルを切り詰めるように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のルール比較がユーザランドで行われるようになり、使用されなくなった pf_compare* 関数をカーネルから除去。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> DIOCCHANGE* ioctl がチケットを要求するようになり、競合を回避。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の nat、binat および rdr の構造体、および pool を pf_rule に統合。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wsconsctl&amp;sektion=8">wsconsctl(8)</a> の変数 display.focus の符合問題を修正し、-1 に対するテストが意味を持つように。
<!-- ^ 20021217 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&amp;sektion=1">gcc(1)</a> のスタック保護をどのようにして自動的に検出するのかを <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=imake&amp;sektion=1">imake(1)</a> に指導。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> は他のキュータイプをサポートするように。ただし、CBQ に対しては root キューの生成を試みるのみ。
<li>いくつかの特殊事情により、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ppt&amp;sektion=6">ppt(6)</a> で復号化をサポート。
<li>Linux エミュレーションの *stat64() が再び動作するように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=altq&amp;sektion=9">altq(9)</a> のディシプリン HFSC、PRIQ および RIO を <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> ベースに変換し (CDNR および RED も追加)、他のキューイングディシプリンを除去。
<!-- ^ 20021216 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=iostat&amp;sektion=8">iostat(8)</a>、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systat&amp;sektion=1">systat(1)</a> および <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vmstat&amp;sektion=8">vmstat(8)</a> は、デバイスがデタッチされた場合に、自動的にディスクの統計情報を更新するように。
<li>空の /var/log/failedlogin をインストールすることにより、ログイン失敗の記録をデフォルトで有効化 (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=login&amp;sektion=1">login(1)</a> を参照)。
<li>64 ビットアーキテクチャにおいて、新しいインライン関数 &lt;ctype.h&gt; のいくつかの問題を修正。
<!-- ^ 20021215 -->
<li>マルチラインの CDDB の応答に対して <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cdio&amp;sektion=1">cdio(1)</a> が適正に応答するように。
<!-- ^ 20021214 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=rule">pf(rule)</a> に指定すべき、二番目の「優先度」のキューを付加し、現状では低遅延 ToS パケットに対して使用。<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> のような ToS を良く知るプログラムに対して効果絶大。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=nc&amp;sektion=1">nc(1)</a> の挙動を以前のものに戻し、リード/ライトの両方のディスクリプタがクローズされることを要求せず、リードディスクリプタのクローズだけで exit するように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scp&amp;sektion=1">scp(1)</a> に対する体裁上の修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の scrub のルールに、いくらかの自由な順序を許容。
<!-- ^ 20021213 -->
<li>多数の firewire の修正。SCSI-over-FireWire のサポートを追加。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の NAT プールの鍵の最初のバイトを 4 回比較する代わりに、すべてのバイトを比較するように。
<li>DESTDIR を使用した 'make build' の作業中に停止するリンクの問題を修正。
<!-- ^ 20021212 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=trpt&amp;sektion=8">trpt(8)</a> から setgid(kmem) を除去。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pstat&amp;sektion=8">pstat(8)</a> は <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kvm_read&amp;sektion=3">kvm_read(3)</a> の代わりに <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&amp;sektion=3">sysctl(3)</a> を使用して tty のリストを取得するように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systrace&amp;sektion=1">systrace(1)</a> のロギングが無変換呼び出しでも動くよう修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ld&amp;sektion=1">ld(1)</a> で <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=close&amp;sektion=2">close(2)</a> の errno が破壊されないよう修正。
<li>libc 中のものとの一貫性のため、&lt;ctype.h&gt; をマクロから関数に変換。
<li>符合バグを回避するため、XDR.x_handy を int から u_int に変更。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ar&amp;sektion=1">ar(1)</a> が、GNU や Solaris のそれの該当部分とより同じように動くようにし、d、m、q および r の動作の際にアーカイブを要求しないように。
<li>カーネルの PF_KEY v2 のコードの mbuf 関連のパニックを修正。
<li>/sbin をより ANSI 準拠に。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8">httpd(8)</a> のマクロ FIX_PRECISION 中の潜在的な (侵入には利用できない) バッファオーバーランを修正。
<li>欠けていた <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=snprintf&amp;sektion=3">snprintf(3)</a> のエラーチェックを <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&amp;sektion=8">config(8)</a> に追加。
<!-- ^ 20021211 -->
<li>NFS 経由で root パーティションをマウントする際に、ルートファイルシステムの mtime ではなく atime で <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=inittodr&amp;sektion=9">inittodr(9)</a> を呼び出し。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ppp&amp;sektion=4">ppp(4)</a> と衝突しないようにするため、いくつかの (デバッグ専用の) <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tun&amp;sektion=4">tun(4)</a> の ioctl をリナンバ。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=user&amp;sektion=8">user(8)</a> の失敗時に、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pw_abort&amp;sektion=3">pw_abort(3)</a> を呼び出すことによって、適正に確実にクリーンアップを行うように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bridge&amp;sektion=4">bridge(4)</a> で、不必要な STP の処理を回避するため、まずインターフェイスが実行状態かどうかをチェック。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=login_getcapstr&amp;sektion=3">login_getcapstr(3)</a> が情報を破棄する前に、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> に与えた $SHELL の値が、ユーザの実際のシェルと同一であるかどうかをチェック。
<li>libc のスタック保護用コード中の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bzero&amp;sektion=3">bzero(3)</a> が使用する構造体のアドレスを取ることを憶えておくように。<!-- "バグ修正" は恐しく役に立たないチェックインのコメントである。 -Andre -->
<li>SO_REUSEADDR が期待どおりに動作するよう、Linux エミュレーション下の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=setsockopt&amp;sektion=2">setsockopt(2)</a> をハック。
<!-- ^ 20021210 -->
<li>多くの GNU プログラムに見られるプライベートバージョンの <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getopt_long&amp;sektion=3">getopt_long(3)</a> の代わりに libc のものを使用。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> が外行きフレームに適用されたものを実際に取得するよう、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bridge&amp;sektion=4">bridge(4)</a> のタイポを修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> の文字列関数へのさらなる偏執狂的改修。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bridge&amp;sektion=4">bridge(4)</a> の STP パスコストの設定を許容。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systrace&amp;sektion=1">systrace(1)</a> のフィルタに正規表現のサポートを追加。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systrace&amp;sektion=1">systrace(1)</a> で、エイリアスへの 'permit' の使用を許容しないように。
<!-- ^ 20021209 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のルールはほぼどのような順序でも可能に。繰り返しオプションはチェックされ不許可に。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uniq&amp;sektion=1">uniq(1)</a> で、'-' を stdin や stdout として正しく取り扱うように。
<li<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a>> で、strncpy -&gt; strlcpy の変更。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gzip&amp;sektion=1">gzip(1)</a> のロングオプションのほとんどを <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compress&amp;sektion=1">compress(1)</a> が受け入れるように。いくつかのクリーンアップも同時に実施。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getopt_long&amp;sektion=3">getopt_long(3)</a> に対する継続的な互換性の調整。
<!-- ^ 20021208 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のキューオプションはどのような順序も可能に。また、'scheduler' キーワードはもはや不使用。
<li>ルールをより減少。<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の 'fromto' 部はオプション化され、デフォルトは 'all' に。たとえば、'block' == 'block all' == 'block from any to any'。 <!-- r1.244 のもうひとつのコメントされなかった機能 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のアンカールールがパラメータをサポート。'anchor name proto tcp from any to any port smtp' が動くように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=telnetd&amp;sektion=8">telnetd(8)</a> から '-a otp' フラグのサポートを除去。代わりに <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=login.conf&amp;sektion=5">login.conf(5)</a> を使用。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=su&amp;sektion=1">su(1)</a> の -a フラグが再び使用可能に。
<li>'pfctl -s' は、ルール中で出てきた順にアドレスを表示するように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=telnet&amp;sektion=1">telnet(1)</a> がターミナルに出力する際に SIGPIPE を受信した場合、それがユーザの SIGQUIT であるかのように仮定。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> は、1500 ではなく、実際のインターフェイスの MTU を使用するように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> の文字列の鍵ハッシュをネットワークのバイト順に変換。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=open&amp;sektion=2">open(2)</a> からの正しくないエラーの戻り値を読み出す、Xau のバグを修正。
<!-- ^ 20021207 -->
<li>すべてのゲームは、より劣る方法を使用する代わりに、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=srandomdev&amp;sektion=3">srandomdev(3)</a> で RNG をセットアップするように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&amp;sektion=8">isakmpd(8)</a> が Default-Phase-1-Configuration からの変換を設定するように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=srandomdev&amp;sektion=3">srandomdev(3)</a> が /dev/arandom をオープンできない場合に、sysctl を使用するよう、後退するように。
<li>libc の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getopt_long&amp;sektion=3">getopt_long(3)</a> の GNU 互換性向上。
<li>'pfctl -v' からの出力が <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> の有効な入力として使用可能に。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&amp;sektion=8">isakmpd(8)</a> の、セクションおよびタグの比較をケースインセンシティブ (大文字/小文字の違いを無視) で行うように。
<!-- ^ 20021206 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のルールとして NULL 命令を許容。なので、たとえば、'block all' が正当なものに。 <!-- そう、これは、アンカールールとして紹介された r1.237 のコメントされていない効果。 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> に、主ルールセット中の 'anchor' ルールから呼び出される named ルールセットのサポートを追加。
<li>カーネルメモリ割り当てのデバッグはどこでも使用可能に。もし、デバッグ用プールが初期化されていなければ、何も行われないだけ。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getopt_long&amp;sektion=3">getopt_long(3)</a> の修正。
<li>'pfctl -v' で、ルール番号はもはや出力されないように。これが必要な場合には '-v -v' を使用。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scp&amp;sektion=1">scp(1)</a> が、奇数ブロックサイズのシステムをより良く扱えるように。
<!-- ^ 20021205 -->
<li>不要な altq デバイスをカーネルから除去。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ping6&amp;sektion=8">ping6(8)</a> で、memset に正しいサイズをわたすように。
<li>スパニングツリー実行中の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bridge&amp;sektion=4">bridge(4)</a> の挙動を改善。フォワード/ブロックの状態が変化した場合には動的な MAC キャッシュをフラッシュするようにし、また、フォワード状態にある間だけパケットをフォワードするように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&amp;sektion=8">isakmpd(8)</a> で、NULL の EXT_ADDRESS_SRC による ACQUIRE リクエストを受理するように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> で、一貫性のあるネットマスクの適用。
<!-- ^ 20021204 -->
<li>X ライブラリのメジャー番号を更新。
<li>インストーラスクリプトの継続的なクリーンアップと縮小化。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=arp&amp;sektion=8">arp(8)</a> は、アドレスに関係するインターフェイス名を表示するように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mixerctl&amp;sektion=1">mixerctl(1)</a> の大がかりなクリーンアップ。
<li>NetBSD から GNU タイプの <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getopt_long&amp;sektion=3">getopt_long(3)</a> を導入。
<li>使用するアドレスファミリを選択するためのコマンドラインオプション -4 と -6 とを <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&amp;sektion=8">isakmpd(8)</a> に追加。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfsync&amp;sektion=4">pfsync(4)</a> のより良い MTU の設定。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=raid&amp;sektion=4">raid(4)</a> に欠けていた初期化機能を修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> が行儀よく動き、その終了後はソケットをシャットダウンするように。
<!-- ^ 20021203 -->
<li>propolice の導入にともない、すべての (システム) ライブラリのメジャー番号を更新。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ld&amp;sektion=1">ld(1)</a> で、文字列を単に参照する代わりにコピーを作成するように。いくつかの ports のリンク時の問題を修復。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のパスおよびブロックルールがどのような順序で指定されていても、その最後のオプションを許容。
<li>altq のルール中で、(キューのルールと同様に) バンド幅修飾子をオプション化。副作用として、altq のルールは、インターフェイスのバンド幅に関するパーセンテージである "bandwidth xx%" が指定可能に。
<li>標準に準拠するため、レガシーな関数の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ecvt&amp;sektion=3">ecvt(3)</a>、fcvt(3) および gcvt(3) を実装。
<li>スタック攻撃防御機能 <a href="http://www.trl.ibm.com/projects/security/ssp">propolice</a> を <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&amp;sektion=1">gcc(1)</a> に追加。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=unifdef&amp;sektion=1">unifdef(1)</a> を更新。
<li>bfd に basename() の戻り値を記録する前に、そのコピーを取るようにすることで、多くの ports が対処しなければならなかった "NEEDED crtend.o" 問題を修正。
    <a href="stable.html"><font color="#00b000">[安定版への適用]</font></a> <!-- XXX 3.2-stable -->
<!-- ^ 20021202 -->
<li>root が非標準の config パスから起動された場合、X サーバは権限を落とさないように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の ioctl コードの修正と微調整。
<!-- ^ 20021201 -->
<!-- ^ 20021130 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&amp;sektion=8">tcpdump(8)</a> に <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfsync&amp;sektion=4">pfsync(4)</a> に関する情報を提供。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfsync&amp;sektion=4">pfsync(4)</a> に新しい仮想デバイスを追加し、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の状態テーブルに変更を提示。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の NULL 被参照を除去。
<li>いくつかの altq のうるさい printf() を #ifdef ALTQ_DEBUG でラップ。
<!-- ^ 20021129 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=file&amp;sektion=1">file(1)</a> にパス名の出力を抑止する新オプション -b を追加。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の altq ルールで、インキュールールと同様、qlimit の指定を許容。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のソースハッシュの NAT プール用で、MD5 の代わりにカスタムハッシュ関数 (if_bridge.c のそれがベース) を使用。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&amp;sektion=8">tcpdump(8)</a> は不正な icmp6 のオプション長をチェック。
<!-- ^ 20021128 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=realloc&amp;sektion=3">realloc(3)</a> の page_dir の更新の修正。また、realloc と同様、MALLOC_OPTIONS=J が正しく動くように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&amp;sektion=1">ksh(1)</a> が 'sh' モードで呼び出された場合の 'fc -e' が動くように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> に与えられた '@' 文字を含むユーザ名を許容。因みに、最後の '@' の後にはホスト名が続く。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の altq ルールの表示を微調整。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=daemon&amp;sektion=3">daemon(3)</a> が <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&amp;sektion=8">isakmpd(8)</a> の必要とするディスクリプタまでクローズしようとするのを禁止。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> は tbrsize スペックを正しく読み出すように。
<li>ソケットのタイムアウトの計算におけるアンダーフローおよびラップアラウンドを修正。
<li>IPv6 が Linux エミュレーションモードでも動くように。ただし、IPv4 マップドアドレスを除く。
<!-- ^ 20021127 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のキュールール中のバンド幅ステートメントをオプション化。
<li>翻訳がキューの後に行われるので、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;sektion=5">pf.conf(5)</a> の並びを変更。
<li>より多くの ioctl について、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kdump&amp;sektion=1">kdump(1)</a> は知っているのっで、より多くのインクルードファイルを解析するように。
<li>DIOCCHANGEADDR に正しい構造体をわたすように。
<!-- ^ 20021126 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=altq&amp;sektion=9">altq(9)</a> のフラッシュとリセットが正しく行われるよう、'pfctl -Fq' を修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftpd&amp;sektion=8">ftpd(8)</a> で setuid() -&gt; seteuid() への変更。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のルール中のアドレスファミリのハンドリングを微調整。
<li>LINK1 がセットされた <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lo&amp;sektion=4">lo(4)</a> 用に <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> はアドレスを正しく取得するように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> で、バンド幅を処理する場合に、1 KB は 1024 バイトではなく 1000 バイトとして使用。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lynx&amp;sektion=1">lynx(1)</a> の、URL に CRLF を付与してしまうバグを修正。<br>
    <a href="stable.html"><font color="#00b000">[安定版への適用]</font></a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=identd&amp;sektion=8">identd(8)</a> の snprintf のエラーに対する、欠けていたチェックを追加。
<li>splhigh() による arc4_getbyte() の保護。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=talkd&amp;sektion=8">talkd(8)</a> のいくつかのクリーンアップ。
<!-- ^ 20021125 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=malloc&amp;sektion=3">malloc(3)</a> の統計ダンプが有効化される場合に <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=atexit&amp;sektion=3">atexit(3)</a> が失敗すれば警告を出力するように。
<li>新しい <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;sektion=5">pf.conf(5)</a> のオプション、正規化、翻訳、キュー、フィルタの並びを強制。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> の TAILQ を正しくコピー。
<!-- ^ 20021124 -->
<li>libc の syslog のコードの潜在的なメモリ解放後のアクセス (access-after-free) を除去。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc&amp;sektion=1">gcc(1)</a> に対する OpenBSD 固有の変更についてのドキュメント、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc-local&amp;sektion=1">gcc-local(1)</a> man ページを新設。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=altqd&amp;sektion=8&amp;release=OpenBSD+3.2">altqd(8)</a> とその仲間を除去。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> の altq ルールのエラーチェックをより良く。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> のパーサの潜在的な NULL 被参照を修正し、いくつかの一般的なクリーンアップを実施。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8">authpf(8)</a> および <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> が -n オプションで実行されている場合に、ioctl の発行を確実に行わないように。
<!-- ^ 20021123 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> に 'NAT pool' を実装し、複数のアドレスに対する (nat、rdr、route-to、dup-to および reply-to) を用いたリダイレクションを許容。
<li>ELF ローダに対する改善。
<li>BSD 認証で、偏執狂的にいくつか snprintf を使用し、同時にいくつかの特別な初期化も実施。
<li>新しい例題ディレクトリ /usr/share/pf を追加し、pf+altq がいかにクールかを見せるため、キュールールベース /usr/share/pf/queue1 を追加。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8">authpf(8)</a> の非会話型セッションの受理を禁止。
<li>'pfctl -v' は altq および、子キュー割り当てを含む、キューの行を表示するように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のブロックルールの戻り型 (icmp-unreach または RST) の待ち行列に適合。
<li>int に代えて quad_t を使用し、2GB 以上のメモリを搭載したマシンにおける rlimit のサイズの問題を修正。
<!-- ^ 20021122 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=telnetd&amp;sektion=8">telnetd(8)</a> のいくつかの <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=strncpy&amp;sektion=3">strncpy(3)</a> の長さを修正。
<li>それぞれのログインプログラムが setuid(root) の代わりに setgid にできるよう、_tokenadm と _radius グループを追加。
<li>_shadow グループを追加し、それに適合するよう、/etc/spwd.db のグループとモードを変更。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=atoll&amp;sektion=3">atoll(3)</a> と <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=strerror&amp;sektion=3">strerror_r(3)</a> とを libc に追加。
<li>単純な多重のカードのロードバランシングを <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=crypto&amp;sektion=9">crypto(9)</a> に追加し、単純化したドライバ登録 API を追加。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&amp;sektion=8">isakmpd(8)</a> で、いくつかの int を unsigned int に変更。
<li>DNS 探索を無効化するため、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslogd&amp;sektion=8">syslogd(8)</a> に新しい -n オプション。
<!-- ^ 20021121 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=routed&amp;sektion=8">routed(8)</a> の er、Makefile のフォーマット文字列のバグを修正。
<li>同時にふたつのジョブが設定された場合の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=at&amp;sektion=1">at(1)</a> の不具合を修正。<br>
    <a href="stable.html"><font color="#00b000">[Applied to stable]</font></a> <!-- XXX 3.2-stable -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xterm&amp;sektion=1">xterm(1)</a> の初期化前使用 (use-before-init) を修正。
<!-- ^ 20021120 -->
<li>PCI のデバイス ID にマッチする、単純なテーブル探索メカニズム [dev/pci/pci.c:pci_matchbyid()] を生成し、いくつかのドライバにそれを使用させるように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vi&amp;sektion=1">vi(1)</a> のカタログ更新: ロシア語の修正、ポーランド語およびウクライナ語の追加。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> で、ICMP の型およびコードを名前で読み出す際のひとつ違い (off-by-one) を修正。
<!-- ^ 20021119 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=altq&amp;sektion=9">altq(9)</a> と <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の統合。いくつかの行わなければならない残作業あり。
<li>SIG{INT,QUIT,TERM} を無視するよう設定されている場合に、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> で、SIG{INT,QUIT,TERM} ハンドラを上書きしないように。これは <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rsh&amp;sektion=1">rsh(1)</a> の挙動を反映。
<!-- ^ 20021118 -->
<!-- ^ 20021117 -->
<li>S/Key ファイルを持たないユーザに対する、見せかけのチャレンジを確実に <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=skey&amp;sektion=1">skey(1)</a> が発行するように。
<!-- ^ 20021116 -->
<li>pthread ライブラリを有効化。ただし、libnpthreads としてインストールされるので、autoconf スクリプトはそれを認識しないので、-pthread と同様に -lpthread の指定が必要。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftpd&amp;sektion=8">ftpd(8)</a> で、いったん login したユーザのユーザ ID の変更を禁止し、ログインユーザとしての要素をより明確に。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&amp;sektion=8">isakmpd(8)</a> に 'Default-Phase-1-Configuration' を追加。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> での RSA1 鍵ファイルのロードをより注意深く。
<!-- ^ 20021115 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&amp;sektion=8">isakmpd(8)</a> の、多値継続行のハンドリングを修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ld.so&amp;sektion=1">ld.so(1)</a> のシンボル探索失敗メッセージの改善。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> は、DNS エントリを含むブート時ルールベースをロード可能なので、/etc/rc でロードされる初期ルールベースからの DNS クエリを許容。
<!-- ^ 20021114 -->
<li><font color="#e00000"><strong>セキュリティのための修正: <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=named&amp;sektion=8">named(8)</a> には、攻撃者に named の権限でのコード実行を許してしまうバッファオーバーフローが存在しています。因みに OpenBSD では、このバグの効力が緩和される chroot された環境で、非 root ユーザとして named は実行されています。</strong></font><br>
    <a href="errata.html#named">ソースコードパッチはこちら。</a><br>
    <a href="stable.html"><font color="#00b000">[安定版への適用]</font></a>
<li>正しくチェックせずに単に ncurses ライブラリ群を期待する自動構成スクリプトを満足させるため、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=curses&amp;sektion=3">curses(3)</a> ライブラリ群から ncurses ライブラリ群へのリンクを生成。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の scrub ルールは、他のルールのように同一ルール拡張に従うように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;sektion=5">pf.conf(5)</a> に '$if' ラベルマクロを追加し、拡張リスト中にインターフェイスを持つことが可能に。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> で、欠落していたいくつかのポインタ初期化を追加。
<!-- ^ 20021113 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=crypto&amp;sektion=4">crypto(4)</a> に NULL 変換を追加。sysctl kern.cryptodevallowsoft=1 で有効化。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systrace&amp;sektion=1">systrace(1)</a> の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=execve&amp;sektion=2">execve(2)</a> のファイル名決定の修正。
<li>カーネル IPsec コードによる短かい IP ヘッダのチェック。<br>
    <a href="stable.html"><font color="#00b000">[Applied to stable]</font></a> <!-- XXX 3.2-stable -->
<!-- ^ 20021112 -->
<!-- ^ 20021111 -->
<!-- ^ 20021110 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systrace&amp;sektion=1">systrace(1)</a> は、不正なシステムコール番号をチェック。
<!-- ^ 20021109 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=su&amp;sektion=1">su(1)</a> の login エミュレーションモードが、より <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=login&amp;sektion=1">login(1)</a> に似た動作をするように。
<li>カーネルのファイルディスクリプタのコードで起こり得る参照カウントのリークを回避。
<li>libc_r の、まだ存在していないファイルディスクリプタテーブルの不正な操作を除去。
<!-- ^ 20021108 -->
<li>specfs および fifofs 用に vnodeops の単純な継承を実装。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&amp;sektion=1">ftp(1)</a> が HTTP のリダイレクトをフォロー可能に。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> プロセスでエラーが発生した場合の終了ステータスのチェックを <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=scp&amp;sektion=1">scp(1)</a> が正しく反映するように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ioctl&amp;sektion=2">ioctl(2)</a> ハンドラのいくつかの不正なポインタを修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=makewhatis&amp;sektion=8">makewhatis(8)</a> の、存在しないディレクトリに対する余計なメッセージを除去。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keysign&amp;sektion=8">ssh-keysign(8)</a> に対して、HostbasedAuthentication スイッチを使用しないようにし、代わりに <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh_config&amp;sektion=5">ssh_config(5)</a> に新オプション EnableSSHKeysign を追加。
 <!-- XXX が、しかし、ssh_config の man ページには追加されていない -->
<li>named グループが存在するかどうか、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=groupdel&amp;sektion=8">groupdel(8)</a> チェックを行うように。
<li>Samba に対応するため、ユーザ名の最後の文字として '$' を許容。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8">sshd(8)</a> の -e オプション (stderr へのログ) を動くように。
<li>最小のファイルローテーションサイズを、512K バイトの代わりに 512 バイトに。
<li>NULL 暗号化によるパケットもまたテスト済なので、ESP パケットのペイロードの長さチェックを再構成。<br>
    <a href="stable.html"><font color="#00b000">[安定版への適用]</font></a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=altqstat&amp;sektion=1">altqstat(1)</a> をクラッシュさせるための、存在しないサーバの単純な指定を許容しないように。
<!-- ^ 20021107 -->
<li>-lpthread を使用したスタティックリンクの問題を解決。(-static -pthread は、まだ壊れている。)
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&amp;sektion=8">isakmpd(8)</a> のメモリリーク一式を修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mount&amp;sektion=8">mount(8)</a> の新しいバグを修正し、コマンドラインの引数の取り扱いをより一貫性を持つように。
<li>SVR4 のエミュレーションの下での <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ioctl&amp;sektion=2">ioctl(2)</a> が参照するファイルへの参照カウントを正しく保持。
    <!-- 3.2-stable に適用済 -->
<!-- ^ 20021106 -->
<li>ECN を有効化した TCP セッションを、非 ECN にフォールバックすることでブロックする、壊れたファイアウォールを、簡潔にハンドリング。<br>
    <a href="stable.html"><font color="#00b000">[安定版への適用]</font></a> <!-- XXX 3.2 -->
<li>いくつかの libc に対するスレッドセーフな修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> の u_int より大きな size_t を正しく扱うためのキャストを追加。
<li>2GB 以上のファイルの情報を表示してしまう <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gzip&amp;sektion=1">gzip(1)</a> のいくつかの問題を修正。
<!-- ^ 20021105 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> は、CIDR の強い表記を処理可能に (たとえば、10/8 を 10.0.0.0/8 の代わりに使用可能に)。
<li>3.2-STABLE ブランチを生成。<a href="errata.html#smrsh">smrsh</a>、<a href="errata.html#pfpridge">pfbridge</a> および <a href="errata.html#kadmind">kadmind</a> の各 errata 修正を適用済。<br>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh&amp;sektion=1">ssh(1)</a> でファイル名をチェックする際に、ユーザのホームディレクトリのための <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=realpath&amp;sektion=3">realpath(3)</a> が失敗しないように。これは、AFS を使用している場合に、本格的に発生。
<!-- ^ 20021104 -->
<!-- ^ 20021103 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> での動的アドレスの比較の際に、より良い動作をするように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の AF のマクロにおいて、AF_INET がセットされていない限り、全アドレス (128 ビットすべて) を処理するように。
<!-- ^ 20021102 -->
<!-- ^ 20021101 -->
<li>man ページが我々の好みの方法でインストールされているので、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=perl&amp;sektion=1">perl(1)</a> の MakeMaker を修正。
<li>IPv6 のメモリリークを修正 (ip6_output.c)。
<!-- ^ 20021031 -->
<li>プロセスが完全に初期化されるまで、それらがプロセスリストには追加されないように。
<li>setresuid() 等の用語で示される、いくつかの 4.3BSD エミュレーション関数を実装。
<li>FreeBSD、HP-UX および Linux エミュレーションで setresuid() 等を呼び出す際に、新しい同名の呼び出しを使用。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=setresuid&amp;sektion=2">[gs]etres[gu]id(2)</a> を実装。これにより、libc および libc_r のマイナーバージョンを更新。
<li>スレッドにおけるシグナルとファイルディスクリプタのハンドリングを多数修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のインターフェイス拡張を修正。
<!-- ^ 20021030 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&amp;sektion=8">tcpdump(8)</a> の GRE の出力をより良く。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chroot&amp;sektion=8">chroot(8)</a> に、パスワードデータベースからの uid、gid およびグループベクトルをセットするための、新しい -U オプションを追加。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;sektion=5">pf.conf(5)</a> に、同意を大合唱するための 'set require-order [yes|no]' オプションを追加。
<!-- ^ 20021029 -->
<li>キャラクタデバイスの正当なシークを完全に停止させていた <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&amp;sektion=1">dd(1)</a> の偽のテストを除去。
<li>クロスサイトスクリプティングバグおよびふたつの「ひとつ違い (off-by-one)」が修正された mod_ssl 2.2.18 をマージ。<br>
    <a href="stable.html"><font color="#00b000">[安定版への適用]</font></a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systrace&amp;sektion=1">systrace(1)</a> の引数解析コードに、足りなかった break ステートメントを追加。
<!-- ^ 20021028 -->
<li>Linux エミュレーション時に getdents64() のサポートを追加。
<li>Perl 5.8.0 のマージ。
<li>アーキテクチャの ALIGNBYTES の値に依存する代わりに、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pool_init&amp;sektion=9">pool_init(9)</a> にわたされるアライメントまで、pool の要素のサイズを切り上げるように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wi&amp;sektion=4">wi(4)</a> は、Prism および Symbol カード用に、ソフトウェアによる pointless-but-common WEP 暗号化を可能に。これは、弱い IV の回避をカードが行わない (または、ハードウェアの製造業者以上に BSD を信頼する) 場合に便利で、より良い無線暗号プロトコルのためのフレームワークとして提供。
<li>サイト固有の tar ボールが、常に標準ファイルを上書きするよう、インストーラは最後に siteXX.{tgz,tar.gz} ファイルをアンパックするように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> から、error-prone および robustness-principle-defying 'flags X' (これは 'flags X/Y' とは相反する) シンタクスを除去。
<li>libcrypto で、32 ビット中心なのをやや少な目に。
<!-- ^ 20021027 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=route6d&amp;sektion=8">route6d(8)</a> および <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rtsold&amp;sektion=8">rtsold(8)</a> は、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=select&amp;sektion=2">select(2)</a> の代わりに <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=poll&amp;sektion=2">poll(2)</a> を使用するように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=route6d&amp;sektion=8">route6d(8)</a> で、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=atoi&amp;sektion=3">atoi(3)</a> を <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=strtoul&amp;sektion=3">strtoul(3)</a> に変更。
<!-- ^ 20021026 -->
<li>NULL は現在では 0L ではなく 0 として定義されており、ポインタのサイズも同じなので、多数のヘッダファイルを変更。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chroot&amp;sektion=2">chroot(2)</a> の呼び出し後に、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chroot&amp;sektion=8">chroot(8)</a> に uid、gid およびグループベクトルを設定する機能を追加。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8">authpf(8)</a> にいくつかの偏執狂的な付加物を追加。
<li>ルールの比較時に、同様に <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> のテストルールのラベルも行うように。
<li>%lu の代わりに %ul を使用していたわずかな実体を修正。
<!-- ^ 20021025 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ping6&amp;sektion=8">ping6(8)</a> で、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=select&amp;sektion=2">select(2)</a> の代わりに <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=poll&amp;sektion=2">poll(2)</a> を使用。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=traceroute6&amp;sektion=8">traceroute6(8)</a> および <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ping6&amp;sektion=8">ping6(8)</a> の引数チェックをより神経質に。
<!-- ^ 20021024 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8">httpd(8)</a> で、一式の <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmpnam&amp;sektion=3">tmpnam(3)</a> を <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mkstemp&amp;sektion=3">mkstemp(3)</a> に変更。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=traceroute6&amp;sektion=8">traceroute6(8)</a> で、多数の int -&gt; u_long への変換。
<!-- ^ 20021023 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wi&amp;sektion=4">wi(4)</a> で、ひとつ違い (off-by-one) エラーを修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> の printf のフォーマット文字列のタイポを修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> の -v の出力で、改変されたネットワーク番号として、本物ではないネットマスクが表示されるため、すぐに扱うべきネットマスクを適用するように。
<!-- ^ 20021022 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の ioctl() コードの一式のタイポを修正。
<li>libc_r の NULL 被参照を修正。
<li>新しいプロセス用にカーネルのスタック空間が割り当てできなかった場合のユーザプロセスのカウントが正しいことを確実に。
<li>システム中のプロセスの総数のカウントを正確に。
<li><font color="#e00000"><strong>セキュリティのための修正: <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kadmind&amp;sektion=8">kadmind(8)</a> デーモンには、リモートからのクラッシュや権限奪取につながるバッファオーバーフローが発生する危険性があります。</strong></font><br>
    <a href="errata.html#kadmin">ソースコードパッチはこちら。</a><br>
    <a href="stable.html"><font color="#00b000">[安定版への適用]</font></a>
<!-- ^ 20021021 -->
<li>21145 チップの潜在的なサポートを <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dc&amp;sektion=4">dc(4)</a> に追加。
<!-- ^ 20021020 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xconsole&amp;sektion=1">xconsole(1)</a> は、すべてを #ifdef で行う代わりに、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=openpty&amp;sektion=3">openpty(3)</a> を使用して仮想ターミナルを取得するように。
<li>可変引数のセンチネルが確実にポインタの幅となるよう、XFree のこの時点で、より多くの NULL -&gt; (void *)NULL 化。
<!-- ^ 20021019 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pax&amp;sektion=1">pax(1)</a> は @LongLink に忠実になり、次のボリュームのプロンプトで止まるための新しいオプションが追加。
<!-- ^ 20021018 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wi&amp;sektion=4">wi(4)</a> の境界チェックの修正とメディアのサポートの改善。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=route&amp;sektion=8">route(8)</a> が -prefixlen 32 (IPv6 の場合は 128) のネットワークをホストルートとして正確に解釈するように。
<li>uvm_tree_sanity() チェックの #ifdef DEBUG を有効化。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=route&amp;sektion=8">route(8)</a> の引数解析ルーチンにおける潜在的なヌルポインタ参照を修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ch&amp;sektion=4">ch(4)</a> の CHIO* ioctl をリナンバリング。古い定義は OCHIO* にリネームされ、バイナリレベルの後方互換性は原形のままの post-3.3 までは残る。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kdump&amp;sektion=1">kdump(1)</a> が AUDIO_* ioctl をプリントできるようにし、わずかな欠落したシステムコールの定義を追加。
<li>ビッグエンディアンのアーキテクチャで <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fxp&amp;sektion=4">fxp(4)</a> をサポート。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> は (正しい) プロトコル番号で指定されるプロトコルを許容。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pflogd&amp;sektion=8">pflogd(8)</a> に欠けていた free() を追加。
<!-- ^ 20021017 -->
<li>手動で、および自動的に構成される IPv6 アドレスのプレフィクスを同様の方法で仮定するように。
<li>主に POSIX 的な理由から <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isfdtype&amp;sektion=3">isfdtype(3)</a> を実装。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pax&amp;sektion=1">pax(1)</a> の時刻をハンドリングするコードを <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=date&amp;sektion=1">date(1)</a> のそれに同期させて元にどおりに。4 桁の年号を解析可能に。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=MAKEDEV&amp;sektion=8">MAKEDEV(8)</a> のマシン依存部を独立ファイルに分離する準備を開始。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&amp;sektion=1">ksh</a>.kshrc の label() および ilabel() の出力を stdout の代わりに /dev/tty に送るように。これにより、コマンドの出力ストリームが滅茶苦茶にならないように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systrace&amp;sektion=1">systrace(1)</a> はシステムコールレベルでの特権評価をサポート。
<li>不正に評価されたものとしてグループが断定される原因となる <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systrace&amp;sektion=1">systrace(1)</a> のタイポを修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=atactl&amp;sektion=8">atactl(8)</a> に与えられる値の範囲をチェック。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の binat のための、より良いマスクの比較。
<!-- ^ 20021016 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=login&amp;sektion=1">login(1)</a> から setuid ビットを除去。root ではない実効ユーザ ID で実行された場合、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=su&amp;sektion=1">su(1)</a> を新しい -L フラグ付きで呼び出す。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=login&amp;sektion=1">login(1)</a> のようなプログラムが動作できるようにするため、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=su&amp;sektion=1">su(1)</a> に '-L' フラグを追加。
<li>7 ビットロケール用に <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&amp;sektion=1">ksh(1)</a> で META キーを有効化。
<li>いくつかの varargs のリスト終端センチネルの NULL が確実のポインタの幅となるように。
<li>BSD 認証の難解な宙ぶらりんなポインタのバグを修正。
<li>ブラジルの夏時間のハンドリングを新しい現実のものと同期。<br>
    <a href="stable.html"><font color="#00b000">[安定版への適用]</font></a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=makewhatis&amp;sektion=8">makewhatis(8)</a> が Perl 5.6.x ではなく 5.8.x であるべきだと、ときどき文句を言うのを修正。
<!-- ^ 20021015 -->
<li>X サーバにおいて、その詳細が NDA の下でのみ有効となる、ある種の MTRR の構成が原因となる問題に関する作業。
<li>GCC 3.x の準備のためのカーネルの微調整とハック (kern/subr_prf.c)。
<li><font color="#e00000"><strong>メモリが少ない状況で、カーネルのメモリ割り当てシステム <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pool&amp;sektion=9">pool(9)</a> がシステムクラッシュつながるメモリ汚染の原因となることがあります。</strong></font><br>
    <a href="errata.html#pool">ソースコードパッチはこちら。</a><br>
    <a href="stable.html"><font color="#00b000">[安定版への適用]</font></a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> は、ひとつのルールでネットブロック全体の binat が可能に。
<!-- ^ 20021014 -->
<li>BSD 認証コードの潜在的な NULL ポインタ参照を除去。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftpd&amp;sektion=8">ftpd(8)</a> の printf の不正なフォーマット文字列を修正。ただし、これは最初に入力が清浄化される認証システムの一部分として導かれるだけなのでクリティカルなものではない。<br>
    <a href="stable.html"><font color="#00b000">[安定版への適用]</font></a> <!-- XXX 3.2 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=setitimer&amp;sektion=2">setitimer(2)</a> <a href="http://www.openbsd.org/errata31.html#kerntime">erratum</a> の関連で、システムコールパラメータのさらなる unsigned のチェックを実施。<br>
    <a href="stable.html"><font color="#00b000">[安定版への適用]</font></a>
<!-- ^ 20021013 -->
<li>i386 用に ELF の GNU フローティングポイントエミュレーションコードを用意。
<!-- ^ 20021012 -->
<li><a href="stable.html">安定版</a> を OpenSSH 3.5 に更新。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wi&amp;sektion=4">wi(4)</a> のいくつかのエンディアンの虫を捕え、鍵のゼロパッディングを追加。
<li>ALTQ CBQ が <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> API を扱えるように。古い API も現在でも使用可能。
<!-- ^ 20021011 -->
<li><font color="#e00000"><strong>信頼性のための修正: ネットワークブリッジにおいて、scrub を有効化した pf を実行する場合、システムクラッシュにつながる mbuf の汚染の原因となることがあります。</strong></font><br>
    <a href="errata.html#pfbridge">ソースコードパッチはこちら。</a><br>
    <a href="stable.html"><font color="#00b000">[安定版への適用]</font></a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mbuf_tags&amp;sektion=9">m_tag_copy_chain()</a> のバグを修正。
<!-- ^ 20021010 -->
<li>IPv6 のうるさい近隣発見を静かに。sysctl の net.inet6.icmp6.nd6_debug を使用して、再びうるさくすることも可。
<!-- ^ 20021009 -->
<li><font color="#e00000"><strong>セキュリティのための修正: 攻撃者は、sendmail 限定シェル <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smrsh&amp;sektion=8">smrsh(8)</a> による制限をバイパスすることが可能であり、これにより、彼自身のアカウントの権限で任意のコマンドを実行することができてしまいます。</strong></font><br>
    <a href="errata.html#smrsh">ソースコードパッチはこちら。</a><br>
    <a href="stable.html"><font color="#00b000">[安定版への適用]</font></a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systrace&amp;sektion=1">systrace(1)</a> の文法の述語部分を作成。
<!-- ^ 20021008 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=altq&amp;sektion=9">altq(9)</a> および <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> の機能の融合のための作業を開始。本当です。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=talkd&amp;sektion=8">talkd(8)</a> に htons() が欠けていたのでこれを追加。
<li>pmdb で、ブレークポイントフィールドをセットしようとする際に発生していたクラッシュを修正。
<li>SA_SIGINFO サポートの準備のため、libc_r に SA_RESETHAND サポートを追加。
<li>Apache 1.3.27 および mod_ssl 2.8.11 をマージ。
<li>ブロックルールにデフォルトの反応をセットするための新しいブロックオプション。
<li>ルールベースのさらなる減少。"block return ..." は、TCP の RST、UDP のための ICMP、静かなブロック、などなどを正しく処理。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> は、ブロックルールの反応で返される icmpv6 をサポート。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> に、route-to のように働き、状態ありの接続のリプライパケットに適用される、新しい reply-to ルールオプションを追加。
<li>srm.conf が存在していない状況でも <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8">httpd(8)</a> は再び動作するように。
<li>未知のスキャンコードに対して X サーバは文句を言わないように。
<!-- ^ 20021007 -->
<li>呼び出し元にそれを要求する代わりに、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=uvm&amp;sektion=9">uvm</a>_pglistalloc の結果のリストを関数内で初期化するように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslog&amp;sektion=3">syslog(3)</a> および <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslog_r&amp;sektion=3">syslog_r(3)</a> は、新しい __syslog__ フォーマット属性を認識するように。
<li>デフォルトの <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8">httpd(8)</a> の構成ファイルで、php3 ではなく php4 を使用するように。
<!-- ^ 20021006 -->
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a> で、「右から左へ」の代わりに「左から右へ」のリストを拡張。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> が IP TOS フィールドをフィルタリング可能に。
<!-- ^ 20021005 -->
<li>3 個以上の CBQ インターフェイスで見られた ALTQ CBQ のリストハンドリングの問題を修正。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&amp;sektion=8&amp;release=OpenBSD+3.2">smtpd(8)</a> はビルドされないように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=locate.updatedb&amp;sektion=8">locate.updatedb(8)</a> によって呼び出される <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sort&amp;sektion=1">sort(1)</a> に、デフォルトで -H オプションを追加。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=window&amp;sektion=1">window(1)</a> は、標準の引数を仮定するように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a> でのルーティングの際、ルールが適用されるインターフェイスではなく、通常のルーティングコードによって決定される、外に出てゆくためのインターフェイスを使用するように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8">httpd(8)</a> のデフォルトのエラーページにおける、クロスサイトスクリプティングによる脆弱性を修正 (<a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2002-0840">CAN-2002-0840</a>)。これは特定の (そして OpenBSD のデフォルトではない) 条件下でのみ適用される事項。
    <a href="stable.html"><font color="#00b000">[安定版への適用]</font></a>
<!-- ^ 20021004 -->
<li>カーネル内の IP の処理の際、インターフェイスアドレスルーティングテーブルの操作で、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=splsoftnet&amp;sektion=9">splsoftnet(9)</a> からの割り込みを防止。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wi&amp;sektion=4">wi(4)</a> が範囲外の TX 鍵を確実に受け付けないように。
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ami&amp;sektion=4">ami(4)</a> が構成済みの I2O デバイスの検出を止めるように。
<li>3.2 -&gt; 3.2-current。
<!-- ^ 20021003 -->
</ul>
<p>

このリストは、そのほとんどが機種に依存しない変更点について記載したものです。特定の
機種に依存する変更点のリストについては、その機種のページをチェックしてみてください。
もし、そちらにリストされた変更点がない場合は、(1) 変更点がドキュメント化されていな
い &nbsp; か、(2) こちらの方に記載されている &nbsp; かのいずれかでしょう。<br><br>

<hr>
<p>
<h3>
他のリリースの変更点については、こちらをご覧ください。</a><br>
<a href="../plus20.html">2.0</a>、
<a href="../plus21.html">2.1</a>、
<a href="../plus22.html">2.2</a>、
<a href="../plus23.html">2.3</a>、
<a href="../plus24.html">2.4</a>、
<a href="../plus25.html">2.5</a>、
<a href="../plus26.html">2.6</a>、
<a href="../plus27.html">2.7</a>、
<a href="../plus28.html">2.8</a>、
<a href="plus29.html">2.9</a>、
<a href="plus30.html">3.0</a>、
<a href="plus31.html">3.1</a>、
<a href="plus32.html">3.2</a>、
<a href="plus.html">current</a>。
<br>
</h3>

<hr>
<a href="index.html"><img height=24 width=24 src="../back.gif" border=0 alt="OpenBSD"></a> 
<a href="mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
Originally [OpenBSD: plus33.html,v 1.7 ]
<br>
$Translation: plus33.html,v 1.10 2003/09/24 04:31:39 toshi Exp $
<br>
$OpenBSD: plus33.html,v 1.9 2003/09/26 13:08:22 horacio Exp $
</small>

</body>
</html>
